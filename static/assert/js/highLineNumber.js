const TABLE_NAME="hljs-ln",LINE_NAME="hljs-ln-line",CODE_BLOCK_NAME="hljs-ln-code",NUMBERS_BLOCK_NAME="hljs-ln-numbers",NUMBER_LINE_NAME="hljs-ln-n",DATA_ATTR_NAME="data-line-number",BREAK_LINE_REGEXP=/\r\n|\r|\n/g;function isHljsLnCodeDescendant(e){for(var t=e;t;){if(t.className&&-1!==t.className.indexOf("hljs-ln-code"))return!0;t=t.parentNode}return!1}function getHljsLnTable(e){let t=e;for(;"TABLE"!==t.nodeName;)t=t.parentNode;return t}function edgeGetSelectedCodeLines(e){for(var t=e.toString(),n=e.anchorNode;"TD"!==n.nodeName;)n=n.parentNode;for(var r=e.focusNode;"TD"!==r.nodeName;)r=r.parentNode;var i=parseInt(n.dataset.lineNumber),o=parseInt(r.dataset.lineNumber);if(i!=o){var a=n.textContent,l=r.textContent;if(i>o){var s=i;i=o,o=s,s=a,a=l,l=s}for(;0!==t.indexOf(a);)a=a.slice(1);for(;-1===t.lastIndexOf(l);)l=l.slice(0,-1);for(var d=a,u=getHljsLnTable(n),c=i+1;c<o;++c){var N=format('.{0}[{1}="{2}"]',[CODE_BLOCK_NAME,DATA_ATTR_NAME,c]);d+="\n"+u.querySelector(N).textContent}return d+="\n"+l}return t}function addStyles(){var e=document.createElement("style");e.type="text/css",e.innerHTML=format(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[TABLE_NAME,NUMBER_LINE_NAME,DATA_ATTR_NAME]),document.getElementsByTagName("head")[0].appendChild(e)}window.hljs&&addStyles(),document.addEventListener("copy",(function(e){var t,n=window.getSelection();isHljsLnCodeDescendant(n.anchorNode)&&(t=-1!==window.navigator.userAgent.indexOf("Edge")?edgeGetSelectedCodeLines(n):n.toString(),e.clipboardData.setData("text/plain",t),e.preventDefault())}));export function initLineNumbersOnLoad(e){"interactive"===document.readyState||"complete"===document.readyState?documentReady(e):window.addEventListener("DOMContentLoaded",(function(){documentReady(e)}))}function documentReady(e){try{var t=document.querySelectorAll("code.hljs,code.nohighlight");for(var n in t)t.hasOwnProperty(n)&&(isPluginDisabledForBlock(t[n])||lineNumbersBlock(t[n],e))}catch(e){}}function isPluginDisabledForBlock(e){return e.classList.contains("nohljsln")}export function lineNumbersBlock(e,t){"object"==typeof e&&async((function(){e.innerHTML=lineNumbersInternal(e,t)}))}export function lineNumbersValue(e,t){if("string"==typeof e){var n=document.createElement("code");return n.innerHTML=e,lineNumbersInternal(n,t)}}function lineNumbersInternal(e,t){var n=mapOptions(e,t);return duplicateMultilineNodes(e),addLineNumbersBlockFor(e.innerHTML,n)}function addLineNumbersBlockFor(e,t){var n=getLines(e);if(""===n[n.length-1].trim()&&n.pop(),n.length>1||t.singleLine){for(var r="",i=0,o=n.length;i<o;i++)r+=format('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[LINE_NAME,NUMBERS_BLOCK_NAME,NUMBER_LINE_NAME,DATA_ATTR_NAME,CODE_BLOCK_NAME,i+t.startFrom,n[i].length>0?n[i]:" "]);return format('<table class="{0}">{1}</table>',[TABLE_NAME,r])}return e}function mapOptions(e,t){return{singleLine:getSingleLineOption(t=t||{}),startFrom:getStartFromOption(e,t)}}function getSingleLineOption(e){return!!e.singleLine&&e.singleLine}function getStartFromOption(e,t){var n=1;isFinite(t.startFrom)&&(n=t.startFrom);var r=getAttribute(e,"data-ln-start-from");return null!==r&&(n=toNumber(r,1)),n}function duplicateMultilineNodes(e){var t=e.childNodes;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];getLinesCount(r.textContent)>0&&(r.childNodes.length>0?duplicateMultilineNodes(r):duplicateMultilineNode(r.parentNode))}}function duplicateMultilineNode(e){var t=e.className;if(/hljs-/.test(t)){for(var n=getLines(e.innerHTML),r=0,i="";r<n.length;r++){i+=format('<span class="{0}">{1}</span>\n',[t,n[r].length>0?n[r]:" "])}e.innerHTML=i.trim()}}function getLines(e){return 0===e.length?[]:e.split(BREAK_LINE_REGEXP)}function getLinesCount(e){return(e.trim().match(BREAK_LINE_REGEXP)||[]).length}function async(e){window.setTimeout(e,0)}function format(e,t){return e.replace(/\{(\d+)\}/g,(function(e,n){return void 0!==t[n]?t[n]:e}))}function getAttribute(e,t){return e.hasAttribute(t)?e.getAttribute(t):null}function toNumber(e,t){if(!e)return t;var n=Number(e);return isFinite(n)?n:t}