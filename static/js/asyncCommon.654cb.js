/*! For license information please see asyncCommon.654cb.js.LICENSE.txt */
(self.webpackChunkrunmy=self.webpackChunkrunmy||[]).push([["asyncCommon"],{"./node_modules/@antv/algorithm/lib/adjacent-matrix.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,e||(i[s][a]=1))})),i};e.default=n},"./node_modules/@antv/algorithm/lib/asyncIndex.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(e,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),e.default=void 0,Object.defineProperty(e,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(e,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(e,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(e,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),e.detectDirectedCycleAsync=void 0,Object.defineProperty(e,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(e,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(e,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(e,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(e,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(e,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(e,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(e,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(e,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(e,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(e,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(e,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(e,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n("./node_modules/@antv/algorithm/lib/workers/index.js"),i=r.detectCycleAsync;e.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};e.default=o},"./node_modules/@antv/algorithm/lib/bfs.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/structs/queue.js"))&&r.__esModule?r:{default:r},o=n("./node_modules/@antv/algorithm/lib/util.js");var a=function(t,e,n,r){void 0===r&&(r=!0);var a=function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n),s=new i.default,l=t.edges,u=void 0===l?[]:l;s.enqueue(e);for(var c="",h=function(){var t=s.dequeue();a.enter({current:t,previous:c}),(0,o.getNeighbors)(t,u,r?"target":void 0).forEach((function(e){a.allowTraversal({previous:c,current:t,next:e})&&s.enqueue(e)})),a.leave({current:t,previous:c}),c=t};!s.isEmpty();)h()};e.default=a},"./node_modules/@antv/algorithm/lib/connected-component.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e?o(t):i(t)},e.detectStrongConnectComponents=e.detectConnectedComponents=void 0;var r=n("./node_modules/@antv/algorithm/lib/util.js"),i=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,o=void 0===i?[]:i,a=[],s={},l=[],u=function t(e){l.push(e),s[e.id]=!0;for(var i=(0,r.getNeighbors)(e.id,o),a=function(e){var r=i[e];if(!s[r]){var o=n.filter((function(t){return t.id===r}));o.length>0&&t(o[0])}},u=0;u<i.length;++u)a(u)},c=0;c<n.length;c++){var h=n[c];if(!s[h.id]){u(h);for(var d=[];l.length>0;)d.push(l.pop());a.push(d)}}return a};e.detectConnectedComponents=i;var o=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,o=void 0===i?[]:i,a=[],s={},l={},u={},c=[],h=0,d=function t(e){l[e.id]=h,u[e.id]=h,h+=1,a.push(e),s[e.id]=!0;for(var i=(0,r.getNeighbors)(e.id,o,"target").filter((function(t){return n.map((function(t){return t.id})).indexOf(t)>-1})),d=function(r){var o=i[r];if(l[o]||0===l[o])s[o]&&(u[e.id]=Math.min(u[e.id],l[o]));else{var a=n.filter((function(t){return t.id===o}));a.length>0&&t(a[0]),u[e.id]=Math.min(u[e.id],u[o])}},f=0;f<i.length;f++)d(f);if(u[e.id]===l[e.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===e)break}p.length>0&&c.push(p)}},f=0,p=n;f<p.length;f++){var g=p[f];l[g.id]||0===l[g.id]||d(g)}return c};e.detectStrongConnectComponents=o},"./node_modules/@antv/algorithm/lib/constants/time.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.secondReg=e.dateReg=void 0;e.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;e.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},"./node_modules/@antv/algorithm/lib/degree.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOutDegree=e.getInDegree=e.default=void 0;var n=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e},r=n;e.default=r;e.getInDegree=function(t,e){return n(t)[e]?n(t)[e].inDegree:0};e.getOutDegree=function(t,e){return n(t)[e]?n(t)[e].outDegree:0}},"./node_modules/@antv/algorithm/lib/detect-cycle.js":function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.detectAllUndirectedCycle=e.detectAllDirectedCycle=e.detectAllCycles=e.default=void 0;var i,o=(i=n("./node_modules/@antv/algorithm/lib/dfs.js"))&&i.__esModule?i:{default:i},a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}i.default=t,n&&n.set(t,i);return i}(n("./node_modules/@antv/algorithm/lib/connected-component.js")),s=n("./node_modules/@antv/algorithm/lib/util.js");function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}var u=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var o=[],l=0,u=(0,a.default)(t,!1);l<u.length;l++){var c=u[l];if(c.length)for(var h=c[0],d=h.id,f=[h],p=((r={})[d]=h,r),g=((i={})[d]=new Set,i);f.length>0;)for(var m=f.pop(),v=m.id,y=(0,s.getNeighbors)(v,t.edges),b=function(r){var i,a=y[r],s=t.nodes.find((function(t){return t.id===a}));if(a===v)o.push(((i={})[a]=m,i));else if(a in g){if(!g[v].has(s)){for(var l=!0,u=[s,m],c=p[v];g[a].size&&!g[a].has(c)&&(u.push(c),c!==p[c.id]);)c=p[c.id];if(u.push(c),e&&n?(l=!1,u.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(l=!0)):e&&!n&&u.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(l=!1),l){for(var h={},d=1;d<u.length;d+=1)h[u[d-1].id]=u[d];u.length&&(h[u[u.length-1].id]=u[0]),o.push(h)}g[a].add(m)}}else p[a]=m,f.push(s),g[a]=new Set([m])},x=0;x<y.length;x+=1)b(x)}return o};e.detectAllUndirectedCycle=u;var c=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],l=[],u={},c={},h=function t(a,s,c){var h=!1;if(e&&!1===n&&e.indexOf(a.id)>-1)return h;r.push(a),i.add(a);for(var d=c[a.id],f=0;f<d.length;f+=1){if((m=u[d[f]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),l.push(p),h=!0}else i.has(m)||t(m,s,c)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(t){e.push(t)})),o[n.id].clear())}}(a);else for(f=0;f<d.length;f+=1){var m=u[d[f]];o[m.id].has(a)||o[m.id].add(a)}return r.pop(),h},d=t.nodes,f=void 0===d?[]:d,p=0;p<f.length;p+=1){var g=f[p],m=g.id;c[m]=p,u[p]=g}if(e&&n){var v=function(t){var n=e[t];c[f[t].id]=c[n],c[n]=0,u[0]=f.find((function(t){return t.id===n})),u[c[f[t].id]]=f[t]};for(p=0;p<e.length;p++)v(p)}for(var y=function(r){for(var i,o,a=1/0,u=0;u<r.length;u+=1)for(var h=r[u],d=0;d<h.length;d++){var f=c[h[d].id];f<a&&(a=f,o=u)}var p=r[o],g=[];for(u=0;u<p.length;u+=1){var m=p[u];g[m.id]=[];for(var v=0,y=(0,s.getNeighbors)(m.id,t.edges,"target").filter((function(t){return p.map((function(t){return t.id})).indexOf(t)>-1}));v<y.length;v++){var b=y[v];b!==m.id||!1===n&&e.indexOf(m.id)>-1?g[m.id].push(c[b]):l.push(((i={})[m.id]=m,i))}}return{component:p,adjList:g,minIdx:a}},b=0;b<f.length;){var x=f.filter((function(t){return c[t.id]>=b})),_=(0,a.detectStrongConnectComponents)({nodes:x,edges:t.edges}).filter((function(t){return t.length>1}));if(0===_.length)break;var w=y(_),S=w.minIdx,M=w.adjList,k=w.component;if(!(k.length>1))break;k.forEach((function(t){o[t.id]=new Set}));var E=u[S];if(e&&n&&-1===e.indexOf(E.id))return l;h(E,E,M),b=S+1}return l};e.detectAllDirectedCycle=c;e.detectAllCycles=function(t,e,n,r){return void 0===r&&(r=!0),e?c(t,n,r):u(t,n,r)};var h=function(t){var e=null,n=t.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach((function(t){i[t.id]=t}));for(var l={enter:function(t){var n=t.current,o=t.previous;if(a[n]){e={};for(var s=n,l=o;l!==n;)e[s]=l,s=l,l=r[l];e[s]=l}else a[n]=n,delete i[n],r[n]=o},leave:function(t){var e=t.current;s[e]=e,delete a[e]},allowTraversal:function(t){var n=t.next;return!e&&!s[n]}};Object.keys(i).length;){var u=Object.keys(i)[0];(0,o.default)(t,u,l)}return e};e.default=h},"./node_modules/@antv/algorithm/lib/dfs.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){i(t,e,"",function(t){void 0===t&&(t={});var e=t,n=function(){},r=(i={},function(t){var e=t.next;return!i[e]&&(i[e]=!0,!0)});var i;return e.allowTraversal=t.allowTraversal||r,e.enter=t.enter||n,e.leave=t.leave||n,e}(n))};var r=n("./node_modules/@antv/algorithm/lib/util.js");function i(t,e,n,o){o.enter({current:e,previous:n});var a=t.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(e,s,"target").forEach((function(r){o.allowTraversal({previous:n,current:e,next:r})&&i(t,r,e,o)})),o.leave({current:e,previous:n})}},"./node_modules/@antv/algorithm/lib/dijkstra.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("./node_modules/tslib/tslib.es6.mjs"),i=n("./node_modules/@antv/util/esm/index.js"),o=n("./node_modules/@antv/algorithm/lib/util.js"),a=function(t,e,n,r){var i=t.nodes,a=void 0===i?[]:i,l=t.edges,u=void 0===l?[]:l,c=[],h={},d={},f={};a.forEach((function(t,n){var r=t.id;c.push(r),d[r]=1/0,r===e&&(d[r]=0)}));for(var p=a.length,g=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(d,a,h),i=e.id;if(h[i]=!0,d[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,u):(0,o.getEdgesByNodeId)(i,u)).forEach((function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;d[a]>d[e.id]+s?(d[a]=d[e.id]+s,f[a]=[e.id]):d[a]===d[e.id]+s&&f[a].push(e.id)}))},m=0;m<p;m++)g();f[e]=[e];var v={};for(var y in d)d[y]!==1/0&&s(e,y,f,v);var b={};for(var y in v)b[y]=v[y][0];return{length:d,path:b,allPath:v}};function s(t,e,n,o){if(t===e)return[t];if(o[e])return o[e];for(var a=[],l=0,u=n[e];l<u.length;l++){var c=s(t,u[l],n,o);if(!c)return;for(var h=0,d=c;h<d.length;h++){var f=d[h];(0,i.isArray)(f)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],f,!0),[e],!1)):a.push([f,e])}}return o[e]=a,o[e]}e.default=a},"./node_modules/@antv/algorithm/lib/find-path.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findShortestPath=e.findAllPath=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/dijkstra.js"))&&r.__esModule?r:{default:r},o=n("./node_modules/@antv/algorithm/lib/util.js");e.findShortestPath=function(t,e,n,r,o){var a=(0,i.default)(t,e,r,o),s=a.length,l=a.path,u=a.allPath;return{length:s[n],path:l[n],allPath:u[n]}};e.findAllPath=function(t,e,n,r){var i;if(e===n)return[[e]];var a=t.edges,s=void 0===a?[]:a,l=[e],u=((i={})[e]=!0,i),c=[],h=[],d=r?(0,o.getNeighbors)(e,s,"target"):(0,o.getNeighbors)(e,s);for(c.push(d);l.length>0&&c.length>0;){var f=c[c.length-1];if(f.length){var p=f.shift();if(p&&(l.push(p),u[p]=!0,d=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),c.push(d.filter((function(t){return!u[t]})))),l[l.length-1]===n){var g=l.map((function(t){return t}));h.push(g);m=l.pop();u[m]=!1,c.pop()}}else{var m=l.pop();u[m]=!1,c.pop()}}return h}},"./node_modules/@antv/algorithm/lib/floydWarshall.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/adjacent-matrix.js"))&&r.__esModule?r:{default:r};var o=function(t,e){for(var n=(0,i.default)(t,e),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var l=0;l<o;l+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][l]+r[l][s]&&(r[a][s]=r[a][l]+r[l][s]);return r};e.default=o},"./node_modules/@antv/algorithm/lib/gSpan/gSpan.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("./node_modules/@antv/util/esm/index.js"),i=n("./node_modules/@antv/algorithm/lib/gSpan/struct.js"),o=function(){function t(t,e,n,r,o){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),a=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new o(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=i.VACANT_GRAPH_ID),void 0===e&&(e=!1);var n=new i.Graph(t,!0,e);return this.dfsEdgeList.forEach((function(t){var e=t.fromNode,r=t.toNode,o=t.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,l=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(e,a),l!==i.VACANT_NODE_LABEL&&n.addNode(r,l),a!==i.VACANT_NODE_LABEL&&l!==a&&n.addEdge(void 0,e,r,s)})),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],r=n.fromNode,i=n.toNode;r<i&&(void 0===t||i===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach((function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)})),Object.keys(t).length},t}(),s=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),l=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,s=t.maxNodeNum,l=void 0===s?4:s,u=t.top,c=void 0===u?10:u,h=t.directed,d=void 0!==h&&h,f=t.verbose,p=void 0!==f&&f;this.graphs=e,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach((function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)})),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var l=o[s];if(!r.hasEdge(l)&&l.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&i[e.to].label<=i[n.to].label)return l}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,l=0;l<s;l++){var u=a[l],c=t.nodeMap[u.to];n<=c.label&&!r.hasNode(c)&&i.push(u)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,l=s.length,u=0;u<l;u++){var c=s[u],h=o[c.to].label;e.to===c.to||n>h||r.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&a<=h)&&i.push(c)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach((function(t){e[t.graphId]||(e[t.graphId]=!0)})),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach((function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose,1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(i.VACANT_GRAPH_ID,n),l=r.nodeMap,u=new a,c={};r.nodes.forEach((function(e){t.findForwardRootEdges(r,e).forEach((function(t){var n=l[t.to],i="".concat(e.label,"-").concat(t.label,"-").concat(n.label);c[i]||(c[i]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var o={graphId:r.id,edge:t,preNode:null};c[i].projected.push(o)}))}));var h=this.findMinLabel(c);if(h){u.dfsEdgeList.push(new o(0,1,h.nodeLabel1,h.edgeLabel,h.nodeLabel2));var d="".concat(h.nodeLabel1,"-").concat(h.edgeLabel,"-").concat(h.nodeLabel2);return function a(c){for(var h=u.buildRmpath(),d=u.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=u.dfsEdgeList[h[0]].toNode,p={},g=!1,m=0,v=n?-1:0,y=function(e){if(g)return"break";c.forEach((function(n){var i=new s(n),o=t.findBackwardEdge(r,i.edges[h[e]],i.edges[h[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),m=u.dfsEdgeList[h[e]].fromNode,g=!0)}))},b=h.length-1;b>v;b--){if("break"===y(b))break}if(g){var x=t.findMinLabel(p);u.dfsEdgeList.push(new o(f,m,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var _=u.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[_]===u.dfsEdgeList[_]&&a(p[x.edgeLabel].projected)}var w={};g=!1;var S=0;c.forEach((function(e){var n=new s(e),i=t.findForwardPureEdges(r,n.edges[h[0]],d,n);i.length>0&&(g=!0,S=f,i.forEach((function(t){var n="".concat(t.label,"-").concat(l[t.to].label);w[n]||(w[n]={projected:[],edgeLabel:t.label,nodeLabel2:l[t.to].label}),w[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}));var M=h.length,k=function(e){if(g)return"break";var n=h[e];c.forEach((function(e){var i=new s(e),o=t.findForwardRmpathEdges(r,i.edges[n],d,i);o.length>0&&(g=!0,S=u.dfsEdgeList[n].fromNode,o.forEach((function(t){var n="".concat(t.label,"-").concat(l[t.to].label);w[n]||(w[n]={projected:[],edgeLabel:t.label,nodeLabel2:l[t.to].label}),w[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}))};for(b=0;b<M;b++){if("break"===k(b))break}if(!g)return!0;var E=t.findMinLabel(w);u.dfsEdgeList.push(new o(S,f+1,i.VACANT_NODE_LABEL,E.edgeLabel,E.nodeLabel2));var A=u.dfsEdgeList.length-1;return e.dfsEdgeList[A]===u.dfsEdgeList[A]&&a(w["".concat(E.edgeLabel,"-").concat(E.nodeLabel2)].projected)}(c[d].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,l=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u={},c={};t.forEach((function(t){for(var i=e.graphs[t.graphId],o=i.nodeMap,h=new s(t),d=r.length-1;d>=0;d--){var f=e.findBackwardEdge(i,h.edges[r[d]],h.edges[r[0]],h);if(f){var p="".concat(e.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(f.label);c[p]||(c[p]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:f.label}),c[p].projected.push({graphId:t.graphId,edge:f,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(i,h.edges[r[0]],l,h).forEach((function(e){var n="".concat(a,"-").concat(e.label,"-").concat(o[e.to].label);u[n]||(u[n]={projected:[],fromNodeId:a,edgeLabel:e.label,nodeLabel2:o[e.to].label}),u[n].projected.push({graphId:t.graphId,edge:e,preNode:t})}));var g=function(n){e.findForwardRmpathEdges(i,h.edges[r[n]],l,h).forEach((function(i){var a="".concat(e.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);u[a]||(u[a]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),u[a].projected.push({graphId:t.graphId,edge:i,preNode:t})}))};for(d=0;d<r.length;d++)g(d)}})),Object.keys(c).forEach((function(t){var n=c[t],r=n.toNodeId,i=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),e.subGraphMining(c[t].projected),e.dfsCode.dfsEdgeList.pop()})),Object.keys(u).forEach((function(t){var n=u[t],r=n.fromNodeId,s=n.edgeLabel,l=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,l)),e.subGraphMining(u[t].projected),e.dfsCode.dfsEdgeList.pop()}))}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach((function(n){var r=t[n],l=r.nodeMap;r.nodes.forEach((function(t,r){var u=t.label,c="".concat(n,"-").concat(u);if(!a[c]){var h=i[u]||0;h++,i[u]=h}a[c]={graphKey:n,label:u},t.edges.forEach((function(t){var r=u,i=l[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var c=t.label,h="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var f=o[d]||0;f++,o[d]=f}s[h]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}})),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach((function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach((function(e){t.findForwardRootEdges(i,e).forEach((function(t){var i=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var s={graphId:r,edge:t,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(e){var r=n[e],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,l=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(0,1,a,s,l)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()}))}},t}(),u="cluster",c=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,o=t.nodeLabelProp,a=void 0===o?u:o,s=t.edgeLabelProp,c=void 0===s?u:s,h=function(t,e,n,r){var o={};return Object.keys(t).forEach((function(a,s){var l=t[a],u=new i.Graph(s,!0,e),c={};l.nodes.forEach((function(t,e){u.addNode(e,t[n]),c[t.id]=e})),l.edges.forEach((function(t,e){var n=c[t.source],i=c[t.target];u.addEdge(-1,n,i,t[r])})),u&&u.getNodeNum()&&(o[u.id]=u)})),o}(e,r,a,c),d=t.minSupport,f=t.maxNodeNum,p=t.minNodeNum,g=t.verbose,m=t.top,v=new l({graphs:h,minSupport:d,maxNodeNum:f,minNodeNum:p,top:m,verbose:g,directed:r});v.run();var y=function(t,e,n){var r=[];return t.forEach((function(t){var i={nodes:[],edges:[]};t.nodes.forEach((function(t){var n;i.nodes.push(((n={id:"".concat(t.id)})[e]=t.label,n))})),t.edges.forEach((function(t){var e;i.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[n]=t.label,e))})),r.push(i)})),r}(v.frequentSubgraphs,a,c);return y};e.default=c},"./node_modules/@antv/algorithm/lib/gSpan/struct.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VACANT_NODE_LABEL=e.VACANT_NODE_ID=e.VACANT_GRAPH_ID=e.VACANT_EDGE_LABEL=e.VACANT_EDGE_ID=e.Node=e.Graph=e.Edge=e.AUTO_EDGE_ID=void 0;e.VACANT_EDGE_ID=-1;e.VACANT_NODE_ID=-1;e.VACANT_EDGE_LABEL="-1";e.VACANT_NODE_LABEL="-1";e.VACANT_GRAPH_ID=-1;e.AUTO_EDGE_ID="-1";var n=function(t,e,n,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t,this.from=e,this.to=n,this.label=r};e.Edge=n;var r=function(){function t(t,e){void 0===t&&(t=-1),void 0===e&&(e="-1"),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}();e.Node=r;var i=function(){function t(t,e,n){void 0===t&&(t=-1),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new r(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,r,i){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[t])){var o=new n(t,e,r,i);if(this.edges.push(o),this.edgeMap[t]=o,this.nodeMap[e].addEdge(o),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(o),!this.directed){var a=new n(t,r,e,i);this.nodeMap[r].addEdge(a),this.edgeLabelMap[i].push(a)}}},t}();e.Graph=i},"./node_modules/@antv/algorithm/lib/gaddi.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("./node_modules/tslib/tslib.es6.mjs"),i=l(n("./node_modules/@antv/algorithm/lib/floydWarshall.js")),o=l(n("./node_modules/@antv/algorithm/lib/gSpan/gSpan.js")),a=l(n("./node_modules/@antv/algorithm/lib/dijkstra.js")),s=n("./node_modules/@antv/algorithm/lib/util.js");function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach((function(t,e){i.push(c(o,t,e,n,r))})),i},c=function(t,e,n,r,i){var o=[n],a=[],s={};return e.forEach((function(e,l){if(e<=i&&n!==l){o.push(l),a.push(t[l]);var u=t[l][r];s[u]?(s[u].count++,s[u].dists.push(e)):s[u]={count:1,dists:[e]}}})),Object.keys(s).forEach((function(t){s[t].dists=s[t].dists.sort((function(t,e){return t-e}))})),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},h=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var l=t[o],u=null===(a=e[l.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=e[l.end])||void 0===s?void 0:s.nodeIdxs;if(u&&c){var h=new Set(c),d=u.filter((function(t){return h.has(t)}));if(d&&d.length){for(var f={},p=d.length,g=0;g<p;g++){var m=i[d[g]];r[o].nodes.push(m),f[m.id]=!0}n.edges.forEach((function(t){f[t.source]&&f[t.target]&&r[o].edges.push(t)}))}}}})),r},d=function(t,e,n,r){var i,o,a={};t.nodes.forEach((function(t){a[t.id]=t}));var s=0;return!(null===(i=null==e?void 0:e.edges)||void 0===i?void 0:i.length)||(null===(o=null==e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach((function(t){var i=a[t.source][n],o=a[t.target][n],l=null==e?void 0:e.nodes[0][n],u=null==e?void 0:e.nodes[1][n],c=null==e?void 0:e.edges[0][r];t[r]===c&&(i===l&&o===u||i===u&&o===l)&&s++})),s)},f=function(t,e){var n={},r={};return t.forEach((function(t,i){n[t.id]={idx:i,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)})),{nodeMap:n,nodeLabelMap:r}},p=function(t,e,n){var r={},i={};return t.forEach((function(t,o){r["".concat(s.uniqueId)]={idx:o,edge:t};var a=t[e];i[a]||(i[a]=[]),i[a].push(t);var l=n[t.source];l&&(l.degree++,l.outDegree++);var u=n[t.target];u&&(u.degree++,u.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},g=function(t,e,n){var r=e.length,i={};return e.forEach((function(e,o){for(var a=n?0:o+1,s=t[o].id,l=a;l<r;l++)if(o!==l){var u=t[l].id,c=e[l];i["".concat(s,"-").concat(u)]=c,n||(i["".concat(u,"-").concat(s)]=c)}})),i},m=function(t,e,n,r,i,o,a,s,l,u,c){var f,p="".concat(e.id,"-").concat(n.id);if(u&&u[p])return u[p];var g=c?c[p]:void 0;if(!g){var m=((f={})[p]={start:r[e.id].idx,end:r[n.id].idx,distance:i},f);g=(c=h(m,o,t,c))[p]}return d(g,a,s,l)},v=function(t,e,n,r){var i,o,a,s=null===(i=t[e])||void 0===i?void 0:i.degree,l=null===(o=t[e])||void 0===o?void 0:o.inDegree,u=null===(a=t[e])||void 0===a?void 0:a.outDegree;return void 0===t[e]&&(s=1/0,l=1/0,u=1/0,r[e].forEach((function(t){var e=n[t.id].degree;s>e&&(s=e);var r=n[t.id].inDegree;l>r&&(l=r);var i=n[t.id].outDegree;u>i&&(u=i)})),t[e]={degree:s,inDegree:l,outDegree:u}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:u}},y=function(t,e,n,s,l,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),t&&t.nodes){var _=t.nodes.length;if(_){var w=(0,i.default)(t,n),S=(0,i.default)(e,n),M=g(t.nodes,w,n),k=g(e.nodes,S,n),E=f(t.nodes,y),A=E.nodeMap,T=E.nodeLabelMap,I=f(e.nodes,y),C=I.nodeMap,D=I.nodeLabelMap;p(t.edges,b,A);var N=p(e.edges,b,C).edgeLabelMap,O=[];null==S||S.forEach((function(t){O=O.concat(t)})),l||(l=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],O,!1),[2],!1))),s||(s=l);var L=u(t,w,y,s),P=u(e,S,y,s),R=function(t,e,n,r,i){var o=Math.ceil(n/e),a={},s=0;return r.forEach((function(t,r){for(var l=0,u=0,c=t.nodeIdxs,h=t.neighborNum-1;l<o;){for(var d=c[1+Math.floor(Math.random()*h)],f=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*e),!(++f>2*e)););if(f<2*e&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},l++,++s>=n))return a;if(++u>2*e)break}l<o&&(o=(o+(o-l))/(e-r-1))})),a}(0,_,Math.min(100,_*(_-1)/2),L,w),j=h(R,L,t),z={graphs:j,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},B=(0,o.default)(z).slice(0,10),F=B.length,G=[];B.forEach((function(t,e){G[e]={},Object.keys(j).forEach((function(n){var r=j[n],i=d(r,t,y,b);G[e][n]=i}))}));var V=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=Object.keys(n).sort((function(t,e){return n[t]-n[e]})),a=[];o.forEach((function(t,e){a[e%10]||(a[e%10]={graphs:[],totalCount:0,aveCount:0}),a[e%10].graphs.push(t),a[e%10].totalCount+=n[t]}));var s=0,l=[];a.forEach((function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,l.push(e);var r=0,i=t.length;t.graphs.forEach((function(e,i){var o=n[e];t.graphs.forEach((function(t,e){i!==e&&(r+=Math.abs(o-n[t]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var u=0;l.forEach((function(t,e){l.forEach((function(n,r){e!==r&&(u+=Math.abs(t-n))})),u/=l.length*(l.length-1)/2}));var c=u-s;r<c&&(r=c,i=e)},a=0;a<e;a++)o(a);return{structure:n[i],structureCountMap:t[i]}}(G,F,B),Z=V.structure,U=V.structureCountMap,H=e.nodes[0],W=[],Y=null===(x=e.nodes[0])||void 0===x?void 0:x[y],X=-1/0;e.nodes.forEach((function(t){var e=t[y],n=T[e];(null==n?void 0:n.length)>X&&(X=n.length,W=n,Y=e,H=t)}));var q={},K={},$={},J={},Q={},tt={};Object.keys(D).forEach((function(r,i){Q[r]=[],n&&(tt[r]=[]);var o=-1/0,a=D[r],s={};a.forEach((function(t){var e=k["".concat(H.id,"-").concat(t.id)];if(e&&Q[r].push(e),o<e&&(o=e),s["".concat(H.id,"-").concat(t.id)]={start:0,end:C[t.id].idx,distance:e},n){var i=k["".concat(t.id,"-").concat(H.id)];i&&tt[r].push(i)}})),Q[r]=Q[r].sort((function(t,e){return t-e})),n&&(tt[r]=tt[r].sort((function(t,e){return t-e}))),K=h(s,P,e,K);var l=[];if(Object.keys(s).forEach((function(t){if($[t])l.push($[t]);else{var e=K[t];$[t]=d(e,Z,y,b),l.push($[t])}})),l=l.sort((function(t,e){return e-t})),J["".concat(H.id,"-").concat(r)]=l,r!==Y)for(var u=function(e){var n=W[e],i=L[A[n.id].idx],o=i.nodeLabelCountMap[r],a=D[r].length;if(!o||o.count<a)return W.splice(e,1),"continue";for(var s=!1,u=0;u<a;u++)if(o.dists[u]>Q[r][u]){s=!0;break}if(s)return W.splice(e,1),"continue";var c={};i.neighbors.forEach((function(t){var e=M["".concat(n.id,"-").concat(t.id)];c["".concat(n.id,"-").concat(t.id)]={start:A[n.id].idx,end:A[t.id].idx,distance:e}})),j=h(c,L,t,j);var f=[];Object.keys(c).forEach((function(t){if(U[t])f.push(U[t]);else{var e=j[t];U[t]=d(e,Z,y,b),f.push(U[t])}})),f=f.sort((function(t,e){return e-t}));var p=!1;for(u=0;u<a;u++)if(f[u]<l[u]){p=!0;break}return p?(W.splice(e,1),"continue"):void 0},c=((null==W?void 0:W.length)||0)-1;c>=0;c--)u(c)}));var et=[];null==W||W.forEach((function(r){for(var i=A[r.id].idx,o=c(t.nodes,w[i],i,y,l).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<e.nodes.length)return void(a=!0);var u=o[s],h=u[y];if(D[h]&&D[h].length)if(Q[h]&&Q[h].length){var d="".concat(r.id,"-").concat(u.id),f=M[d],p=Q[h].length-1;if(f>Q[h][p])o.splice(s,1);else{if(n){var g="".concat(u.id,"-").concat(r.id),x=M[g];if(p=tt[h].length-1,x>tt[h][p]){o.splice(s,1);continue}}var _=U[d]?U[d]:m(t,r,u,A,f,L,Z,y,b,U,j),S="".concat(H.id,"-").concat(h);if(_<J[S][J[S].length-1])o.splice(s,1);else{var k=v(q,h,C,D),E=k.minPatternNodeLabelDegree;k.minPatternNodeLabelInDegree,k.minPatternNodeLabelOutDegree;A[u.id].degree<E&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||et.push({nodes:[r].concat(o)})}));var nt=(0,a.default)(e,H.id,!1).length,rt={};n?(Object.keys(nt).forEach((function(t){var e=C[t].node[y];rt[e]?rt[e].push(nt[t]):rt[e]=[nt[t]]})),Object.keys(rt).forEach((function(t){rt[t].sort((function(t,e){return t-e}))}))):rt=Q;for(var it=function(r){var i=et[r],o=i.nodes[0],s={},l={};i.nodes.forEach((function(t,e){l[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[y];s[n]?s[n]++:s[n]=1}));var u=[],c={};t.edges.forEach((function(t){l[t.source]&&l[t.target]&&(u.push(t),c[t[b]]?c[t[b]]++:c[t[b]]=1,l[t.source].degree++,l[t.target].degree++,l[t.source].outDegree++,l[t.target].inDegree++)}));for(var h=Object.keys(N).length,d=!1,f=0;f<h;f++){var p=Object.keys(N)[f];if(!c[p]||c[p]<N[p].length){d=!0;break}}if(d)return et.splice(r,1),"continue";var g=u.length;if(g<e.edges.length)return et.splice(r,1),"break";var m=!1,x=function(t){var e=u[t],r=e[b],i=N[r];if(!i||!i.length)return c[r]--,i&&c[r]<i.length?(m=!0,"break"):(u.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue");var o=l[e.source].node[y],a=l[e.target].node[y],s=!1;return i.forEach((function(t){var e=C[t.source].node,r=C[t.target].node;e[y]===o&&r[y]===a&&(s=!0),n||e[y]!==a||r[y]!==o||(s=!0)})),s?void 0:(c[r]--,i&&c[r]<i.length?(m=!0,"break"):(u.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue"))};for(f=g-1;f>=0;f--){if("break"===x(f))break}if(m)return et.splice(r,1),"continue";i.edges=u;var _=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(_).reverse().forEach((function(t){if(t!==i.nodes[0].id&&!m){if(_[t]===1/0){var e=l[t].node[y];if(s[e]--,s[e]<D[e].length)return void(m=!0);var n=i.nodes.indexOf(l[t].node);return i.nodes.splice(n,1),void(l[t]=void 0)}var r=A[t].node[y];if(!rt[r]||!rt[r].length||_[t]>rt[r][rt[r].length-1]){e=l[t].node[y];if(s[e]--,s[e]<D[e].length)return void(m=!0);n=i.nodes.indexOf(l[t].node);i.nodes.splice(n,1),l[t]=void 0}}})),m)return et.splice(r,1),"continue";for(var w=!0,S=0;w&&!m;){if(w=!1,n?l[o.id].degree<C[H.id].degree||l[o.id].inDegree<C[H.id].inDegree||l[o.id].outDegree<C[H.id].outDegree:l[o.id].degree<C[H.id].degree){m=!0;break}if(s[o[y]]<D[o[y]].length){m=!0;break}for(var M=i.nodes.length-1;M>=0;M--){var k=i.nodes[M],E=l[k.id].degree,T=l[k.id].inDegree,I=l[k.id].outDegree,O=k[y],L=v(q,O,C,D),P=L.minPatternNodeLabelDegree,R=L.minPatternNodeLabelInDegree,j=L.minPatternNodeLabelOutDegree;if(n?E<P||T<R||I<j:E<P){if(s[k[y]]--,s[k[y]]<D[k[y]].length){m=!0;break}i.nodes.splice(M,1),l[k.id]=void 0,w=!0}}if(m||!w&&0!==S)break;for(var z=(g=u.length)-1;z>=0;z--){var B=u[z];if(!l[B.source]||!l[B.target]){u.splice(z,1);var F=B[b];if(c[F]--,l[B.source]&&(l[B.source].degree--,l[B.source].outDegree--),l[B.target]&&(l[B.target].degree--,l[B.target].inDegree--),N[F]&&c[F]<N[F].length){m=!0;break}w=!0}}S++}return m||m||i.nodes.length<e.nodes.length||u.length<e.edges.length?(et.splice(r,1),"continue"):void 0},ot=et.length-1;ot>=0;ot--){if("break"===it(ot))break}var at=et.length,st=function(t){var e=et[t],n={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1}));for(var r=function(t){var e=et[t],r={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);r[e]?r[e]++:r[e]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(t){r[t]!==n[t]&&(i=!1)})),i&&et.splice(t,1)},i=at-1;i>t;i--)r(i);at=et.length};for(ot=0;ot<=at-1;ot++)st(ot);return et}}};e.default=y},"./node_modules/@antv/algorithm/lib/label-propagation.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/adjacent-matrix.js"))&&r.__esModule?r:{default:r},o=n("./node_modules/@antv/algorithm/lib/util.js");var a=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=t.nodes,s=void 0===a?[]:a,l=t.edges,u=void 0===l?[]:l,c={},h={};s.forEach((function(t,e){var n=(0,o.uniqueId)();t.clusterId=n,c[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}}));var d=(0,i.default)(t,e),f=[],p={};d.forEach((function(t,e){var n=0,r=s[e].id;p[r]={},t.forEach((function(t,e){if(t){n+=t;var i=s[e].id;p[r][i]=t}})),f.push(n)}));for(var g=0,m=function(){var t=!1;if(s.forEach((function(e){var n={};Object.keys(p[e.id]).forEach((function(t){var r=p[e.id][t],i=h[t].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)})),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var a=c[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var l=Math.floor(Math.random()*i.length),u=c[i[l]];u.nodes.push(e),e.clusterId=u.id}}})),!t)return"break";g++};g<r;){if("break"===m())break}Object.keys(c).forEach((function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]}));var v=[],y={};u.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=h[e].node.clusterId,a=h[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var l={source:o,target:a,weight:i,count:1};y[s]=l,v.push(l)}}));var b=[];return Object.keys(c).forEach((function(t){b.push(c[t])})),{clusters:b,clusterEdges:v}};e.default=a},"./node_modules/@antv/algorithm/lib/louvain.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("./node_modules/@antv/util/esm/index.js"),i=l(n("./node_modules/@antv/algorithm/lib/adjacent-matrix.js")),o=l(n("./node_modules/@antv/algorithm/lib/utils/vector.js")),a=n("./node_modules/@antv/algorithm/lib/utils/node-properties.js"),s=n("./node_modules/@antv/algorithm/lib/utils/data-preprocessing.js");function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var l=t[s].clusterId,u=0;u<i;u++){if(l===t[u].clusterId)a+=(e[s][u]||0)-(n[s]||0)*(n[u]||0)/o}return a*=1/o},c=function(t,e){void 0===t&&(t=[]);for(var n=t.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(e[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(u=new o.default(e[i])).squareEuclideanDistance(a)}var l=[];t.forEach((function(){l.push([])}));for(i=0;i<n;i++){var u=new o.default(e[i]);t[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var h=new o.default(e[c]);l[i][c]=u.squareEuclideanDistance(h),t[i].clusterInertial+=l[i][c]}else l[i][c]=0}var d=0,f=2*n*s;for(i=0;i<n;i++){var p=t[i].clusterId;for(c=0;c<n;c++){var g=t[c].clusterId;if(i!==c&&p===g)d+=t[i].clusterInertial*t[c].clusterInertial/Math.pow(f,2)-l[i][c]/f}}return Number(d.toFixed(4))},h=function(t,e,n,o,l,h,d,f,p){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===l&&(l=!1),void 0===h&&(h=void 0),void 0===d&&(d=[]),void 0===f&&(f=["id"]),void 0===p&&(p=1);var g=t.nodes,m=void 0===g?[]:g,v=t.edges,y=void 0===v?[]:v,b=[];if(l){m.forEach((function(t,e){t.properties=t.properties||{},t.originIndex=e}));var x=[];m.every((function(t){return t.hasOwnProperty("nodeType")}))&&(x=Array.from(new Set(m.map((function(t){return t.nodeType})))),m.forEach((function(t){t.properties.nodeType=x.findIndex((function(e){return e===t.nodeType}))})));var _=(0,a.getAllProperties)(m,h);b=(0,s.oneHot)(_,d,f)}var w=1,S={},M={};m.forEach((function(t,e){var n=String(w++);t.clusterId=n,S[n]={id:n,nodes:[t]},M[t.id]={node:t,idx:e}}));var k=(0,i.default)(t,e),E=[],A={},T=0;k.forEach((function(t,e){var n=0,r=m[e].id;A[r]={},t.forEach((function(t,e){if(t){n+=t;var i=m[e].id;A[r][i]=t,T+=t}})),E.push(n)})),T/=2;for(var I=1/0,C=1/0,D=0,N=[],O={};;){I=l&&m.every((function(t){return t.hasOwnProperty("properties")}))?u(m,k,E,T)+c(m,b)*p:u(m,k,E,T),0===D&&(C=I,N=m,O=S);var L=I>0&&I>C&&I-C<o;if(I>C&&(N=m.map((function(t){return{node:t,clusterId:t.clusterId}})),O=(0,r.clone)(S),C=I),L||D>100)break;D++,Object.keys(S).forEach((function(t){var e=0;y.forEach((function(r){var i=r.source,o=r.target,a=M[i].node.clusterId,s=M[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=r[n]||1)})),S[t].sumTot=e})),m.forEach((function(t,e){var r,i=S[t.clusterId],o=0,a=E[e]/(2*T),s=0,u=i.nodes;u.forEach((function(t){var n=M[t.id].idx;s+=k[e][n]||0}));var h=s-i.sumTot*a,d=u.filter((function(e){return e.id!==t.id})),f=[];d.forEach((function(t,e){f[e]=b[t.originIndex]}));var g=c(d,b)*p,m=A[t.id];if(Object.keys(m).forEach((function(n){var i=M[n].node.clusterId;if(i!==t.clusterId){var s=S[i],u=s.nodes;if(u&&u.length){var d=0;u.forEach((function(t){var n=M[t.id].idx;d+=k[e][n]||0}));var f=d-s.sumTot*a,m=u.concat([t]),v=[];m.forEach((function(t,e){v[e]=b[t.originIndex]}));var y=c(m,b)*p,x=f-h;l&&(x=f+y-(h+g)),x>o&&(o=x,r=s)}}})),o>0){r.nodes.push(t);var v=t.clusterId;t.clusterId=r.id;var x=i.nodes.indexOf(t);i.nodes.splice(x,1);var _=0,w=0;y.forEach((function(t){var e=t.source,i=t.target,o=M[e].node.clusterId,a=M[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(_+=t[n]||1),(o===v&&a!==v||a===v&&o!==v)&&(w+=t[n]||1)})),r.sumTot=_,i.sumTot=w}}))}var P={},R=0;Object.keys(O).forEach((function(t){var e=O[t];if(e.nodes&&e.nodes.length){var n=String(R+1);n!==t&&(e.id=n,e.nodes=e.nodes.map((function(t){return{id:t.id,clusterId:n}})),O[n]=e,P[t]=n,delete O[t],R++)}else delete O[t]})),N.forEach((function(t){var e=t.node,n=t.clusterId;e&&(e.clusterId=n,e.clusterId&&P[e.clusterId]&&(e.clusterId=P[e.clusterId]))}));var j=[],z={};y.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=M[e].node.clusterId,a=M[r].node.clusterId;if(o&&a){var s="".concat(o,"---").concat(a);if(z[s])z[s].weight+=i,z[s].count++;else{var l={source:o,target:a,weight:i,count:1};z[s]=l,j.push(l)}}}));var B=[];return Object.keys(O).forEach((function(t){B.push(O[t])})),{clusters:B,clusterEdges:j}};e.default=h},"./node_modules/@antv/algorithm/lib/mts.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("./node_modules/@antv/algorithm/lib/structs/union-find.js")),i=a(n("./node_modules/@antv/algorithm/lib/structs/binary-heap.js")),o=n("./node_modules/@antv/algorithm/lib/util.js");function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){var n=[],r=t.nodes,a=void 0===r?[]:r,s=t.edges,l=void 0===s?[]:s;if(0===a.length)return n;var u=a[0],c=new Set;c.add(u);var h=new i.default((function(t,n){return e?t.weight-n.weight:0}));for((0,o.getEdgesByNodeId)(u.id,l).forEach((function(t){h.insert(t)}));!h.isEmpty();){var d=h.delMin(),f=d.source,p=d.target;c.has(f)&&c.has(p)||(n.push(d),c.has(f)||(c.add(f),(0,o.getEdgesByNodeId)(f,l).forEach((function(t){h.insert(t)}))),c.has(p)||(c.add(p),(0,o.getEdgesByNodeId)(p,l).forEach((function(t){h.insert(t)}))))}return n},l=function(t,e){var n=[],i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a;if(0===o.length)return n;var l=s.map((function(t){return t}));e&&l.sort((function(t,e){return t.weight-e.weight}));for(var u=new r.default(o.map((function(t){return t.id})));l.length>0;){var c=l.shift(),h=c.source,d=c.target;u.connected(h,d)||(n.push(c),u.union(h,d))}return n},u=function(t,e,n){return n?{prim:s,kruskal:l}[n](t,e):l(t,e)};e.default=u},"./node_modules/@antv/algorithm/lib/pageRank.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/degree.js"))&&r.__esModule?r:{default:r},o=n("./node_modules/@antv/algorithm/lib/util.js");var a=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,a=1,s=0,l=1e3,u=t.nodes,c=void 0===u?[]:u,h=t.edges,d=void 0===h?[]:h,f=c.length,p={},g={},m=0;m<f;++m){p[y=(S=c[m]).id]=1/f,g[y]=1/f}for(var v=(0,i.default)(t);l>0&&a>e;){s=0;for(m=0;m<f;++m){var y=(S=c[m]).id;if(r=0,0===v[S.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var _=b[x],w=v[_].outDegree;w>0&&(r+=g[_]/w)}p[y]=n*r,s+=p[y]}}s=(1-s)/f,a=0;for(m=0;m<f;++m){var S;r=p[y=(S=c[m]).id]+s,a+=Math.abs(r-g[y]),g[y]=r}l-=1}return g};e.default=a},"./node_modules/@antv/algorithm/lib/structs/binary-heap.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){return t-e},r=function(){function t(t){void 0===t&&(t=n),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}();e.default=r},"./node_modules/@antv/algorithm/lib/structs/linked-list.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LinkedListNode=void 0;var n=function(t,e){return t===e},r=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}();e.LinkedListNode=r;var i=function(){function t(t){void 0===t&&(t=n),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new r(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new r(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}();e.default=i},"./node_modules/@antv/algorithm/lib/structs/queue.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/structs/linked-list.js"))&&r.__esModule?r:{default:r};var o=function(){function t(){this.linkedList=new i.default}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}();e.default=o},"./node_modules/@antv/algorithm/lib/structs/union-find.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}();e.default=n},"./node_modules/@antv/algorithm/lib/types.js":function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceType=void 0,e.DistanceType=n,function(t){t.EuclideanDistance="euclideanDistance"}(n||(e.DistanceType=n={}))},"./node_modules/@antv/algorithm/lib/util.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueId=e.getOutEdgesNodeId=e.getNeighbors=e.getEdgesByNodeId=void 0;e.getNeighbors=function(t,e,n){void 0===e&&(e=[]);var r=e.filter((function(e){return e.source===t||e.target===t}));if("target"===n){return r.filter((function(e){return e.source===t})).map((function(t){return t.target}))}if("source"===n){return r.filter((function(e){return e.target===t})).map((function(t){return t.source}))}return r.map((function(e){return e.source===t?e.target:e.source}))};e.getOutEdgesNodeId=function(t,e){return e.filter((function(e){return e.source===t}))};e.getEdgesByNodeId=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))};e.uniqueId=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)}},"./node_modules/@antv/algorithm/lib/utils/data-preprocessing.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneHot=e.getDistance=e.getAllKeyValueMap=e.default=void 0;var r,i=n("./node_modules/@antv/util/esm/index.js"),o=n("./node_modules/@antv/algorithm/lib/types.js"),a=(r=n("./node_modules/@antv/algorithm/lib/utils/vector.js"))&&r.__esModule?r:{default:r};var s=function(t,e,n){var r=[];(null==e?void 0:e.length)?r=e:(t.forEach((function(t){r=r.concat(Object.keys(t))})),r=(0,i.uniq)(r));var o={};return r.forEach((function(e){var r=[];t.forEach((function(t){void 0!==t[e]&&""!==t[e]&&r.push(t[e])})),r.length&&!(null==n?void 0:n.includes(e))&&(o[e]=(0,i.uniq)(r))})),o};e.getAllKeyValueMap=s;var l=function(t,e,n){var r=s(t,e,n),i=[];if(!Object.keys(r).length)return i;var o=Object.values(r).every((function(t){return t.every((function(t){return"number"==typeof t}))}));return t.forEach((function(t,e){var n=[];Object.keys(r).forEach((function(e){var i=t[e],a=r[e],s=a.findIndex((function(t){return i===t})),l=[];if(o)l.push(i);else for(var u=0;u<a.length;u++)u===s?l.push(1):l.push(0);n=n.concat(l)})),i[e]=n})),i};e.oneHot=l;var u=function(t,e,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;if(n===o.DistanceType.EuclideanDistance)i=new a.default(t).euclideanDistance(new a.default(e));return i};e.getDistance=u;var c={getAllKeyValueMap:s,oneHot:l,getDistance:u};e.default=c},"./node_modules/@antv/algorithm/lib/utils/node-properties.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyWeight=e.getAllSortProperties=e.getAllProperties=e.default=void 0;var r=n("./node_modules/@antv/algorithm/lib/constants/time.js"),i=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=100);var n={};t.forEach((function(t){t.properties&&Object.keys(t.properties).forEach((function(e){"id"===e||!"".concat(t.properties[e]).match(r.secondReg)&&!"".concat(t.properties[e]).match(r.dateReg)&&isNaN(Number(t.properties[e]))?n.hasOwnProperty(e)&&delete n[e]:n.hasOwnProperty(e)?n[e]+=1:n[e]=1}))}));var i=Object.keys(n).sort((function(t,e){return n[e]-n[t]}));return i.length<e?i:i.slice(0,e)};e.getAllSortProperties=i;var o=function(t,e){return e.map((function(e){return t.hasOwnProperty(e)?t[e]:0}))},a=function(t){for(var e=i(t),n=[],r=0;r<t.length;r++)n[r]=o(t[r].properties,e);return n};e.getPropertyWeight=a;var s=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach((function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])})),n};e.getAllProperties=s;var l={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};e.default=l},"./node_modules/@antv/algorithm/lib/utils/vector.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("./node_modules/@antv/util/esm/index.js"),i=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null==r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null==r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}},t.prototype.normalize=function(){var e=[],n=(0,r.clone)(this.arr);n.sort((function(t,e){return t-e}));var i=n[n.length-1],o=n[0];for(var a in this.arr)e[a]=(this.arr[a]-o)/(i-o);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null==n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},t}();e.default=i},"./node_modules/@antv/algorithm/lib/workers/algorithm.js":function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDI",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"depthFirstSearch",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"detectCycle",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"dijkstra",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"findAllPath",{enumerable:!0,get:function(){return h.findAllPath}}),Object.defineProperty(e,"findShortestPath",{enumerable:!0,get:function(){return h.findShortestPath}}),Object.defineProperty(e,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(e,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(e,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(e,"labelPropagation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"pageRank",{enumerable:!0,get:function(){return m.default}});var i=x(n("./node_modules/@antv/algorithm/lib/adjacent-matrix.js")),o=x(n("./node_modules/@antv/algorithm/lib/bfs.js")),a=x(n("./node_modules/@antv/algorithm/lib/connected-component.js")),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=b(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}i.default=t,n&&n.set(t,i);return i}(n("./node_modules/@antv/algorithm/lib/degree.js")),l=x(n("./node_modules/@antv/algorithm/lib/detect-cycle.js")),u=x(n("./node_modules/@antv/algorithm/lib/dfs.js")),c=x(n("./node_modules/@antv/algorithm/lib/dijkstra.js")),h=n("./node_modules/@antv/algorithm/lib/find-path.js"),d=x(n("./node_modules/@antv/algorithm/lib/floydWarshall.js")),f=x(n("./node_modules/@antv/algorithm/lib/label-propagation.js")),p=x(n("./node_modules/@antv/algorithm/lib/louvain.js")),g=x(n("./node_modules/@antv/algorithm/lib/mts.js")),m=x(n("./node_modules/@antv/algorithm/lib/pageRank.js")),v=x(n("./node_modules/@antv/algorithm/lib/gaddi.js")),y=n("./node_modules/@antv/algorithm/lib/util.js");function b(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(b=function(t){return t?n:e})(t)}function x(t){return t&&t.__esModule?t:{default:t}}},"./node_modules/@antv/algorithm/lib/workers/constant.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGE=e.ALGORITHM=void 0;e.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};e.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},"./node_modules/@antv/algorithm/lib/workers/createWorker.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n("./node_modules/@antv/algorithm/lib/workers/constant.js"),o=(r=n("./node_modules/@antv/algorithm/lib/workers/index.worker.js"))&&r.__esModule?r:{default:r};var a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,r){var a=new o.default;a.postMessage({_algorithmType:t,data:e}),a.onmessage=function(t){var e=t.data,o=e.data,s=e._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}}))}};e.default=a},"./node_modules/@antv/algorithm/lib/workers/index.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageRankAsync=e.minimumSpanningTreeAsync=e.louvainAsync=e.labelPropagationAsync=e.getOutDegreeAsync=e.getNeighborsAsync=e.getInDegreeAsync=e.getDegreeAsync=e.getAdjMatrixAsync=e.floydWarshallAsync=e.findShortestPathAsync=e.findAllPathAsync=e.dijkstraAsync=e.detectCycleAsync=e.detectAllUndirectedCycleAsync=e.detectAllDirectedCycleAsync=e.detectAllCyclesAsync=e.connectedComponentAsync=e.GADDIAsync=void 0;var r,i=(r=n("./node_modules/@antv/algorithm/lib/workers/createWorker.js"))&&r.__esModule?r:{default:r},o=n("./node_modules/@antv/algorithm/lib/workers/constant.js");e.getAdjMatrixAsync=function(t,e){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[t,e])};e.connectedComponentAsync=function(t,e){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[t,e])};e.getDegreeAsync=function(t){return(0,i.default)(o.ALGORITHM.getDegree)(t)};e.getInDegreeAsync=function(t,e){return(0,i.default)(o.ALGORITHM.getInDegree)(t,e)};e.getOutDegreeAsync=function(t,e){return(0,i.default)(o.ALGORITHM.getOutDegree)(t,e)};e.detectCycleAsync=function(t){return(0,i.default)(o.ALGORITHM.detectCycle)(t)};e.detectAllCyclesAsync=function(t){return(0,i.default)(o.ALGORITHM.detectAllCycles)(t)};e.detectAllDirectedCycleAsync=function(t){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(t)};e.detectAllUndirectedCycleAsync=function(t){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(t)};e.dijkstraAsync=function(t,e,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[t,e,n,r])};e.findAllPathAsync=function(t,e,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[t,e,n,r])};e.findShortestPathAsync=function(t,e,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[t,e,n,r,a])};e.floydWarshallAsync=function(t,e){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[t,e])};e.labelPropagationAsync=function(t,e,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(t,e,n,r)};e.louvainAsync=function(t,e,n,r){return(0,i.default)(o.ALGORITHM.louvain)(t,e,n,r)};e.minimumSpanningTreeAsync=function(t,e,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[t,e,n])};e.pageRankAsync=function(t,e,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[t,e,n])};e.getNeighborsAsync=function(t,e,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[t,e,n])};e.GADDIAsync=function(t,e,n,r,a,s,l){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===l&&(l="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[t,e,n,r,a,s,l])}},"./node_modules/@antv/algorithm/lib/workers/index.worker.js":function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}i.default=t,n&&n.set(t,i);return i}(n("./node_modules/@antv/algorithm/lib/workers/algorithm.js")),o=n("./node_modules/@antv/algorithm/lib/workers/constant.js");function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}var s="undefined"!=typeof self?self:{};s.onmessage=function(t){var e=t.data,n=e._algorithmType,r=e.data;if(n)if("function"!=typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};e.default=null},"./node_modules/@antv/g-webgpu/es/index.js":function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)}))}}n.r(e),n.d(e,{Kernel:function(){return Z},World:function(){return Et}});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=n("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(0,s.Z)(r.key),r)}}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var c=n("./node_modules/lodash/isTypedArray.js"),h=n.n(c),d=n("./node_modules/lodash/isNumber.js"),f=n.n(d),p=n("./node_modules/lodash/isArray.js"),g=n.n(p),m=n("./node_modules/@babel/runtime/regenerator/index.js"),v=n.n(m),y=1;function b(){return y++}var x;!function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.COPY_SRC=1]="COPY_SRC",t[t.COPY_DST=2]="COPY_DST",t[t.SAMPLED=4]="SAMPLED",t[t.STORAGE=8]="STORAGE",t[t.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}(x||(x={}));var _,w,S,M,k=function(){function t(){a(this,t),this.config=void 0}return u(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}();"undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);!function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"}(_||(_={})),function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"}(w||(w={})),function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"}(S||(S={})),function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"}(M||(M={}));function E(){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I,C,D,N,O,L,P,R,j,z,B,F,G,V,Z=function(){function t(e,n){a(this,t),this.engine=e,this.configService=n,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}var e,n,r;return u(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(T({canvas:e||E(),antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n=this;if("string"==typeof t){var r=f()(e)||h()(e)||g()(e);if(this.compiledBundle&&this.compiledBundle.context){var i=this.compiledBundle.context.defines.find((function(e){return e.name===t}));if(i)return i.value=e,this;var o=this.compiledBundle.context.uniforms.find((function(e){return e.name===t}));o&&(r?(o.data=e,o.isReferer=!1,o.storageClass===S.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(o.isReferer=!0,o.data=e))}}else Object.keys(t).forEach((function(e){n.setBinding(e,t[e])}));return this}},{key:"execute",value:(r=i(v().mark((function t(){var e,n,r=this,i=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(t){return t.isReferer})).forEach((function(t){var e=t.data,n=t.name;r.model.confirmInput(e.model,n)})),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getOutput",value:(n=i(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"compile",value:(e=i(v().mark((function t(){var e,n,r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=T({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?M.WGSL:M.GLSL450:M.GLSL100,r=this.compiledBundle.shaders[n],e.defines.filter((function(t){return t.runtime})).forEach((function(t){var e="".concat("__DefineValuePlaceholder__").concat(t.name);r=r.replace(e,"".concat(t.value))})),e.shader=r,e.uniforms.forEach((function(t){if(!t.data&&t.storageClass===S.StorageBuffer){var n=1;t.type===_.FloatArray?n=1:t.type===_.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}})),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),U=n("./node_modules/regl/dist/regl.js"),H=n.n(U),W=function(){function t(e,n){a(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,s=n.normalized,l=n.size,u=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:s||!1,divisor:u||0},l&&(this.attribute.size=l)}return u(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Y=(I={},(0,o.Z)(I,x.POINTS,"points"),(0,o.Z)(I,x.LINES,"lines"),(0,o.Z)(I,x.LINE_LOOP,"line loop"),(0,o.Z)(I,x.LINE_STRIP,"line strip"),(0,o.Z)(I,x.TRIANGLES,"triangles"),(0,o.Z)(I,x.TRIANGLE_FAN,"triangle fan"),(0,o.Z)(I,x.TRIANGLE_STRIP,"triangle strip"),I),X=(C={},(0,o.Z)(C,x.STATIC_DRAW,"static"),(0,o.Z)(C,x.DYNAMIC_DRAW,"dynamic"),(0,o.Z)(C,x.STREAM_DRAW,"stream"),C),q=(D={},(0,o.Z)(D,x.BYTE,"int8"),(0,o.Z)(D,x.UNSIGNED_INT,"int16"),(0,o.Z)(D,x.INT,"int32"),(0,o.Z)(D,x.UNSIGNED_BYTE,"uint8"),(0,o.Z)(D,x.UNSIGNED_SHORT,"uint16"),(0,o.Z)(D,x.UNSIGNED_INT,"uint32"),(0,o.Z)(D,x.FLOAT,"float"),D),K=(N={},(0,o.Z)(N,x.ALPHA,"alpha"),(0,o.Z)(N,x.LUMINANCE,"luminance"),(0,o.Z)(N,x.LUMINANCE_ALPHA,"luminance alpha"),(0,o.Z)(N,x.RGB,"rgb"),(0,o.Z)(N,x.RGBA,"rgba"),(0,o.Z)(N,x.RGBA4,"rgba4"),(0,o.Z)(N,x.RGB5_A1,"rgb5 a1"),(0,o.Z)(N,x.RGB565,"rgb565"),(0,o.Z)(N,x.DEPTH_COMPONENT,"depth"),(0,o.Z)(N,x.DEPTH_STENCIL,"depth stencil"),N),$=(O={},(0,o.Z)(O,x.DONT_CARE,"dont care"),(0,o.Z)(O,x.NICEST,"nice"),(0,o.Z)(O,x.FASTEST,"fast"),O),J=(L={},(0,o.Z)(L,x.NEAREST,"nearest"),(0,o.Z)(L,x.LINEAR,"linear"),(0,o.Z)(L,x.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,o.Z)(L,x.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,o.Z)(L,x.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,o.Z)(L,x.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),L),Q=(P={},(0,o.Z)(P,x.REPEAT,"repeat"),(0,o.Z)(P,x.CLAMP_TO_EDGE,"clamp"),(0,o.Z)(P,x.MIRRORED_REPEAT,"mirror"),P),tt=(R={},(0,o.Z)(R,x.NONE,"none"),(0,o.Z)(R,x.BROWSER_DEFAULT_WEBGL,"browser"),R),et=(j={},(0,o.Z)(j,x.NEVER,"never"),(0,o.Z)(j,x.ALWAYS,"always"),(0,o.Z)(j,x.LESS,"less"),(0,o.Z)(j,x.LEQUAL,"lequal"),(0,o.Z)(j,x.GREATER,"greater"),(0,o.Z)(j,x.GEQUAL,"gequal"),(0,o.Z)(j,x.EQUAL,"equal"),(0,o.Z)(j,x.NOTEQUAL,"notequal"),j),nt=(z={},(0,o.Z)(z,x.FUNC_ADD,"add"),(0,o.Z)(z,x.MIN_EXT,"min"),(0,o.Z)(z,x.MAX_EXT,"max"),(0,o.Z)(z,x.FUNC_SUBTRACT,"subtract"),(0,o.Z)(z,x.FUNC_REVERSE_SUBTRACT,"reverse subtract"),z),rt=(B={},(0,o.Z)(B,x.ZERO,"zero"),(0,o.Z)(B,x.ONE,"one"),(0,o.Z)(B,x.SRC_COLOR,"src color"),(0,o.Z)(B,x.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,o.Z)(B,x.SRC_ALPHA,"src alpha"),(0,o.Z)(B,x.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,o.Z)(B,x.DST_COLOR,"dst color"),(0,o.Z)(B,x.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,o.Z)(B,x.DST_ALPHA,"dst alpha"),(0,o.Z)(B,x.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,o.Z)(B,x.CONSTANT_COLOR,"constant color"),(0,o.Z)(B,x.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,o.Z)(B,x.CONSTANT_ALPHA,"constant alpha"),(0,o.Z)(B,x.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,o.Z)(B,x.SRC_ALPHA_SATURATE,"src alpha saturate"),B),it=(F={},(0,o.Z)(F,x.NEVER,"never"),(0,o.Z)(F,x.ALWAYS,"always"),(0,o.Z)(F,x.LESS,"less"),(0,o.Z)(F,x.LEQUAL,"lequal"),(0,o.Z)(F,x.GREATER,"greater"),(0,o.Z)(F,x.GEQUAL,"gequal"),(0,o.Z)(F,x.EQUAL,"equal"),(0,o.Z)(F,x.NOTEQUAL,"notequal"),F),ot=(G={},(0,o.Z)(G,x.ZERO,"zero"),(0,o.Z)(G,x.KEEP,"keep"),(0,o.Z)(G,x.REPLACE,"replace"),(0,o.Z)(G,x.INVERT,"invert"),(0,o.Z)(G,x.INCR,"increment"),(0,o.Z)(G,x.DECR,"decrement"),(0,o.Z)(G,x.INCR_WRAP,"increment wrap"),(0,o.Z)(G,x.DECR_WRAP,"decrement wrap"),G),at=(V={},(0,o.Z)(V,x.FRONT,"front"),(0,o.Z)(V,x.BACK,"back"),V),st=function(){function t(e,n){a(this,t),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=e.buffer({data:r,usage:X[i||x.STATIC_DRAW],type:q[o||x.UNSIGNED_BYTE]})}return u(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}();function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ut(t){return function(t){if(Array.isArray(t))return lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt=0,ft=function(){function t(e,n){var r=this;a(this,t),this.reGl=e,this.context=n,this.entity=b(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach((function(t){var e=t.name,n=t.type,o=t.data,a=t.isReferer,s=t.storageClass;if(s===S.StorageBuffer){if(a)r.textureCache[e]={data:void 0},i["".concat(e,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{r.textureCache[e]=r.calcDataTexture(e,n,o);var l=r.textureCache[e],u=l.textureWidth,c=l.isOutput;i["".concat(e,"Size")]=[u,u],c&&(r.outputTextureName=e,r.context.needPingpong&&(r.outputTextureName="".concat(e,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(e,n,o)))}i[e]=function(){return r.textureCache[e].texture}}else if(s===S.Uniform){if(o&&(Array.isArray(o)||h()(o))&&o.length>16)throw new Error("invalid data type ".concat(n));i[e]=function(){return t.data}}}));var o=this.getOuputDataTexture(),s=o.textureWidth,l=o.texelCount;i.u_OutputTextureSize=[s,s],i.u_OutputTexelCount=l,this.context.output.textureSize=[s,s];var u={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(u)}var e;return u(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){t.computeCommand()}))}},{key:"readData",value:(e=i(v().mark((function t(){var e,n,r,i,o,a,s,l,u=this;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){e=u.reGl.read()})),!e){t.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(l=0;l<e.length;l+=4)1===i?s.push(e[l]):2===i?s.push(e[l],e[l+1]):s.push(e[l],e[l+1],e[l+2]);else s=e;return t.abrupt("return",new a(s.slice(0,r)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var n=this.context.uniforms.find((function(e){return e.name===t}));if(n){var r=this.calcDataTexture(t,n.type,e),i=r.texture,o=r.data;this.textureCache[t].data=o,this.textureCache[t].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return ht(ht({},t),{},{id:dt++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===_.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),l=Math.ceil(Math.sqrt(s)),u=l*l;s<u&&i.push.apply(i,ut(new Array(4*(u-s)).fill(0)));var c=this.reGl.texture({width:l,height:l,data:i,type:"float"});return{id:dt++,data:i,originalDataLength:a,typedArrayConstructor:h()(n)?n.constructor:void 0,textureWidth:l,texture:c,texelCount:s,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),t}(),pt=function(){function t(e,n){a(this,t),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,s=n.count;this.elements=e.elements({data:r,usage:X[i||x.STATIC_DRAW],type:q[o||x.UNSIGNED_BYTE],count:s})}return u(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),gt=function(){function t(e,n){a(this,t),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,s=n.colors,l=(n.depth,n.stencil,{width:r,height:i});Array.isArray(s)&&(l.colors=s.map((function(t){return t.get()}))),o&&"boolean"!=typeof o&&(l.color=o.get()),this.framebuffer=e.framebuffer(l)}return u(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}(),mt=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),vt=n("./node_modules/lodash/isPlainObject.js"),yt=n.n(vt);function bt(t){var e={};return Object.keys(t).forEach((function(n){xt(n,t[n],e,"")})),e}function xt(t,e,n,r){null===e||"number"==typeof e||"boolean"==typeof e||Array.isArray(e)&&"number"==typeof e[0]||h()(e)||""===e||void 0!==e.resize?n["".concat(r&&r+".").concat(t)]=e:(yt()(e)&&Object.keys(e).forEach((function(i){xt(i,e[i],n,"".concat(r&&r+".").concat(t))})),Array.isArray(e)&&e.forEach((function(e,i){Object.keys(e).forEach((function(o){xt(o,e[o],n,"".concat(r&&r+".").concat(t,"[").concat(i,"]"))}))})))}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var St=function(){function t(e,n){a(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,i=n.fs,o=n.defines,s=n.attributes,l=n.uniforms,u=n.primitive,c=n.count,h=n.elements,d=n.depth,f=n.blend,p=n.stencil,g=n.cull,m=n.instances,v=n.scissor,y=n.viewport,b={};l&&(this.uniforms=bt(l),Object.keys(l).forEach((function(t){b[t]=e.prop(t)})));var _={};Object.keys(s).forEach((function(t){_[t]=s[t].get()}));var w=o&&this.generateDefines(o)||"",S={attributes:_,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(i),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:Y[void 0===u?x.TRIANGLES:u]};m&&(S.instances=m),c&&(S.count=c),h&&(S.elements=h.get()),v&&(S.scissor=v),y&&(S.viewport=y),this.initDepthDrawParams({depth:d},S),this.initBlendDrawParams({blend:f},S),this.initStencilDrawParams({stencil:p},S),this.initCullDrawParams({cull:g},S),this.drawCommand=e(S)}return u(t,[{key:"addUniforms",value:function(t){this.uniforms=wt(wt({},this.uniforms),bt(t))}},{key:"draw",value:function(t){var e=wt(wt({},this.uniforms),bt(t.uniforms||{})),n={};Object.keys(e).forEach((function(t){var r=(0,mt.Z)(e[t]);"boolean"===r||"number"===r||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:"string"===r||(n[t]=e[t].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:et[n.func||x.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;e.blend={enable:!!r,func:{srcRGB:rt[i&&i.srcRGB||x.SRC_ALPHA],srcAlpha:rt[i&&i.srcAlpha||x.SRC_ALPHA],dstRGB:rt[i&&i.dstRGB||x.ONE_MINUS_SRC_ALPHA],dstAlpha:rt[i&&i.dstAlpha||x.ONE_MINUS_SRC_ALPHA]},equation:{rgb:nt[o&&o.rgb||x.FUNC_ADD],alpha:nt[o&&o.alpha||x.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:x.ALWAYS,ref:0,mask:-1}:a,l=n.opFront,u=void 0===l?{fail:x.KEEP,zfail:x.KEEP,zpass:x.KEEP}:l,c=n.opBack,h=void 0===c?{fail:x.KEEP,zfail:x.KEEP,zpass:x.KEEP}:c;e.stencil={enable:!!r,mask:o,func:wt(wt({},s),{},{cmp:it[s.cmp]}),opFront:{fail:ot[u.fail],zfail:ot[u.zfail],zpass:ot[u.zpass]},opBack:{fail:ot[h.fail],zfail:ot[h.zfail],zpass:ot[h.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?x.BACK:i;e.cull={enable:!!r,face:at[o]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map((function(e){return"#define ".concat(e," ").concat(Number(t[e]))})).join("\n")}}]),t}(),Mt=function(){function t(e,n){a(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=void 0===i?x.UNSIGNED_BYTE:i,s=n.width,l=n.height,u=n.flipY,c=void 0!==u&&u,h=n.format,d=void 0===h?x.RGBA:h,f=n.mipmap,p=void 0!==f&&f,g=n.wrapS,m=void 0===g?x.CLAMP_TO_EDGE:g,v=n.wrapT,y=void 0===v?x.CLAMP_TO_EDGE:v,b=n.aniso,_=void 0===b?0:b,w=n.alignment,S=void 0===w?1:w,M=n.premultiplyAlpha,k=void 0!==M&&M,E=n.mag,A=void 0===E?x.NEAREST:E,T=n.min,I=void 0===T?x.NEAREST:T,C=n.colorSpace,D=void 0===C?x.BROWSER_DEFAULT_WEBGL:C;this.width=s,this.height=l;var N={width:s,height:l,type:q[o],format:K[d],wrapS:Q[m],wrapT:Q[y],mag:J[A],min:J[I],alignment:S,flipY:c,colorSpace:tt[D],premultiplyAlpha:k,aniso:_};r&&(N.data=r),"number"==typeof p?N.mipmap=$[p]:"boolean"==typeof p&&(N.mipmap=p),this.texture=e.texture(N)}return u(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),kt=function(){function t(){var e=this;a(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=i(v().mark((function t(n){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.uniforms){t.next=3;break}return t.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var t=i(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.uniforms[e]||void 0===n.uniforms[e].load){t.next=5;break}return t.next=3,n.uniforms[e].load();case 3:r=t.sent,n.uniforms[e]=r;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",new St(e.gl,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new W(e.gl,t)},this.createBuffer=function(t){return new st(e.gl,t)},this.createElements=function(t){return new pt(e.gl,t)},this.createTexture2D=function(t){return new Mt(e.gl,t)},this.createFramebuffer=function(t){return new gt(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=i(v().mark((function t(n){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ft(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,r=t.depth,i=t.stencil,o=t.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),e.gl.clear(s)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(x.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(x.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,r=t.y,i=t.width,o=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,r,i,o),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,r={x:t.x,y:t.y,width:t.width,height:t.height};return n&&(r.framebuffer=n.get()),e.gl.read(r)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}var e;return u(t,[{key:"init",value:(e=i(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise((function(t,n){H()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,r){!e&&r||n(e),t(r)}})}));case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}(),Et=function(){function t(){a(this,t),this.engine=void 0,this.configService=new k}return u(t,[{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setEngine",value:function(t){this.engine=t}},{key:"createEntity",value:function(){return b()}},{key:"createKernel",value:function(t){var e=new Z(this.engine,this.configService);return"string"==typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new t;return n.setConfig(e),n.setEngine(new kt),n}}]),t}()},"./node_modules/@antv/g6/es/index.js":function(t,e,n){"use strict";n.d(e,{F:function(){return Af},ZP:function(){return hb}});var r={};n.r(r),n.d(r,{GADDI:function(){return Jt},Stack:function(){return te},breadthFirstSearch:function(){return V},connectedComponent:function(){return H},cosineSimilarity:function(){return wt},default:function(){return ne},depthFirstSearch:function(){return $},detectAllCycles:function(){return tt},detectAllDirectedCycle:function(){return Q},detectAllUndirectedCycle:function(){return J},detectCycle:function(){return et},detectDirectedCycle:function(){return ee},dijkstra:function(){return nt},findAllPath:function(){return at},findShortestPath:function(){return ot},floydWarshall:function(){return st},getAdjMatrix:function(){return N},getDegree:function(){return Y},getInDegree:function(){return X},getNeighbors:function(){return B},getOutDegree:function(){return q},iLouvain:function(){return yt},kCore:function(){return bt},kMeans:function(){return _t},labelPropagation:function(){return lt},louvain:function(){return vt},minimumSpanningTree:function(){return Dt},nodesCosineSimilarity:function(){return St},pageRank:function(){return Nt}});var i={};n.r(i),n.d(i,{Line:function(){return Te},applyMatrix:function(){return de},compare:function(){return ae},distance:function(){return ge},floydWarshall:function(){return ve},fractionToLine:function(){return Ne},getAdjMatrix:function(){return ye},getBBoxBoundLine:function(){return Ie},getCircleCenterByPoints:function(){return pe},getCircleIntersectByPoint:function(){return ce},getDegree:function(){return Se},getEllipseIntersectByPoint:function(){return he},getLineIntersect:function(){return le},getPointsCenter:function(){return Oe},getRectIntersectByPoint:function(){return ue},intersectBBox:function(){return Ee},invertMatrix:function(){return fe},isPointInPolygon:function(){return ke},isPointsOverlap:function(){return Re},isPolygonsIntersect:function(){return Ae},itemIntersectByLine:function(){return De},lerp:function(){return Be},lerpArray:function(){return Fe},move:function(){return xe},pointLineDistance:function(){return ze},pointLineSquareDist:function(){return Pe},pointRectSquareDist:function(){return je},rotate:function(){return we},scale:function(){return _e},scaleMatrix:function(){return me},squareDist:function(){return Le},translate:function(){return be}});var o={};n.r(o),n.d(o,{cloneBesidesImg:function(){return yn},getAnimateCfgWithCallback:function(){return bn},getBBox:function(){return rn},getComboBBox:function(){return mn},getLabelPosition:function(){return an},getLetterWidth:function(){return hn},getLoopCfgs:function(){return on},getTextSize:function(){return dn},plainCombosToTrees:function(){return pn},reconstructTree:function(){return gn},shouldRefreshEdge:function(){return vn},traverseTree:function(){return un},traverseTreeUp:function(){return cn},truncateLabelByLength:function(){return fn}});var a={};n.r(a),n.d(a,{catmullRomToBezier:function(){return An},fillPath:function(){return qn},fillPathByDiff:function(){return Jn},formatPath:function(){return er},intersection:function(){return Wn},parsePathArray:function(){return Pn},parsePathString:function(){return En},pathToAbsolute:function(){return In},pathToCurve:function(){return On},rectPath:function(){return Gn}});var s={};n.r(s),n.d(s,{easeBack:function(){return xo},easeBackIn:function(){return yo},easeBackInOut:function(){return xo},easeBackOut:function(){return bo},easeBounce:function(){return go},easeBounceIn:function(){return po},easeBounceInOut:function(){return mo},easeBounceOut:function(){return go},easeCircle:function(){return no},easeCircleIn:function(){return to},easeCircleInOut:function(){return no},easeCircleOut:function(){return eo},easeCubic:function(){return Gi},easeCubicIn:function(){return Bi},easeCubicInOut:function(){return Gi},easeCubicOut:function(){return Fi},easeElastic:function(){return So},easeElasticIn:function(){return wo},easeElasticInOut:function(){return Mo},easeElasticOut:function(){return So},easeExp:function(){return Qi},easeExpIn:function(){return $i},easeExpInOut:function(){return Qi},easeExpOut:function(){return Ji},easeLinear:function(){return Pi},easePoly:function(){return Ui},easePolyIn:function(){return Vi},easePolyInOut:function(){return Ui},easePolyOut:function(){return Zi},easeQuad:function(){return zi},easeQuadIn:function(){return Ri},easeQuadInOut:function(){return zi},easeQuadOut:function(){return ji},easeSin:function(){return qi},easeSinIn:function(){return Yi},easeSinInOut:function(){return qi},easeSinOut:function(){return Xi}});var l={};n.r(l),n.d(l,{calculationItemsBBox:function(){return Qa},cloneEvent:function(){return Ka},formatPadding:function(){return qa},isNaN:function(){return Ja},isViewportChanged:function(){return $a},processParallelEdges:function(){return ts},uniqueId:function(){return Xa}});var u={};n.r(u),n.d(u,{getClosedSpline:function(){return Ks},getControlPoint:function(){return Ys},getSpline:function(){return Ws},getStarPath:function(){return nl},paddedHull:function(){return el},pathToPoints:function(){return qs},pointsToPolygon:function(){return Xs},roundedHull:function(){return tl}});var c={};n.r(c),n.d(c,{defaultSubjectColors:function(){return Rl}});var h={};n.r(h),n.d(h,{isForce:function(){return jl}});var d={};n.r(d),n.d(d,{Base:function(){return Ou},Circle:function(){return Pu},Ellipse:function(){return zu},Image:function(){return Gu},Line:function(){return Uu},Marker:function(){return Yu},Path:function(){return ic},Polygon:function(){return sc},Polyline:function(){return uc},Rect:function(){return hc},Text:function(){return fc}});var f={};n.r(f),n.d(f,{Base:function(){return Dc},Circle:function(){return Oc},Dom:function(){return Pc},Ellipse:function(){return jc},Image:function(){return Bc},Line:function(){return Gc},Marker:function(){return Hc},Path:function(){return Yc},Polygon:function(){return qc},Polyline:function(){return $c},Rect:function(){return Qc},Text:function(){return ih}});var p={};n.r(p),n.d(p,{getColorSetsBySubjectColors:function(){return Md},getColorsWithSubjectColor:function(){return Sd},mixColor:function(){return wd}});var g={};n.r(g),n.d(g,{arrayToTextureData:function(){return Vd},attributesToTextureData:function(){return Gd},buildTextureData:function(){return zd},buildTextureDataWithOneEdgeAttr:function(){return Bd},buildTextureDataWithTwoEdgeAttr:function(){return Fd},proccessToFunc:function(){return jd},radialLayout:function(){return Zd}});var m={};n.r(m),n.d(m,{gpuDetector:function(){return Ud}});var v={};n.r(v),n.d(v,{getBrowserName:function(){return Hd}});var y={};n.r(y),n.d(y,{assign:function(){return Qp},default:function(){return bg},defaultI18n:function(){return rg},format:function(){return vg},parse:function(){return yg},setGlobalDateI18n:function(){return og},setGlobalDateMasks:function(){return mg}});var b=n("./node_modules/tslib/tslib.es6.mjs"),x=n("./node_modules/@antv/util/esm/index.js"),_={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),(0,x.each)(n,(function(e,n){t.on(n,e)})),document.addEventListener("visibilitychange",(function(){e.keydown=!1}))},unbind:function(t){var e=this.events,n=t.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),(0,x.each)(e,(function(e,n){t.off(n,e)})),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},w=function(){function t(){}return t.registerBehavior=function(e,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(e));var r=(0,x.clone)(_);Object.assign(r,n);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var n=this.getEvents();this.events=null;var r={};n&&((0,x.each)(n,(function(t,n){r[n]=(0,x.wrapBehavior)(e,t)})),this.events=r)};i.prototype=r,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}(),S=w,M=S,k=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),E=k,A=n("./node_modules/gl-matrix/esm/mat3.js");function T(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return A.fromRotation(r,n),A.multiply(t,r,e)}function I(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return A.fromScaling(r,n),A.multiply(t,r,e)}function C(t,e,n){return A.multiply(t,n,e)}function D(t,e){for(var n,r,i,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,l=e.length;s<l;s++){var u=e[s];switch(u[0]){case"t":n=a,r=a,i=[u[1],u[2]],o=void 0,o=[0,0,0,0,0,0,0,0,0],A.fromTranslation(o,i),A.multiply(n,o,r);break;case"s":I(a,a,[u[1],u[2]]);break;case"r":T(a,a,u[1]);break;case"m":C(a,a,u[1])}}return a}var N=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,e||(i[s][a]=1))})),i},O=function(t,e){return t===e},L=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}(),P=function(){function t(t){void 0===t&&(t=O),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new L(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new L(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}(),R=P,j=function(){function t(){this.linkedList=new R}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),z=j,B=function(t,e,n){void 0===e&&(e=[]);var r=e.filter((function(e){return e.source===t||e.target===t}));if("target"===n){return r.filter((function(e){return e.source===t})).map((function(t){return t.target}))}if("source"===n){return r.filter((function(e){return e.target===t})).map((function(t){return t.source}))}return r.map((function(e){return e.source===t?e.target:e.source}))},F=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))},G=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};var V=function(t,e,n,r){void 0===r&&(r=!0);var i=function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n),o=new z,a=t.edges,s=void 0===a?[]:a;o.enqueue(e);for(var l="",u=function(){var t=o.dequeue();i.enter({current:t,previous:l}),B(t,s,r?"target":void 0).forEach((function(e){i.allowTraversal({previous:l,current:t,next:e})&&o.enqueue(e)})),i.leave({current:t,previous:l}),l=t};!o.isEmpty();)u()},Z=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s=[],l=function t(e){s.push(e),a[e.id]=!0;for(var r=B(e.id,i),o=function(e){var i=r[e];if(!a[i]){var o=n.filter((function(t){return t.id===i}));o.length>0&&t(o[0])}},l=0;l<r.length;++l)o(l)},u=0;u<n.length;u++){var c=n[u];if(!a[c.id]){l(c);for(var h=[];s.length>0;)h.push(s.pop());o.push(h)}}return o},U=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s={},l={},u=[],c=0,h=function t(e){s[e.id]=c,l[e.id]=c,c+=1,o.push(e),a[e.id]=!0;for(var r=B(e.id,i,"target").filter((function(t){return n.map((function(t){return t.id})).indexOf(t)>-1})),h=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(l[e.id]=Math.min(l[e.id],s[o]));else{var u=n.filter((function(t){return t.id===o}));u.length>0&&t(u[0]),l[e.id]=Math.min(l[e.id],l[o])}},d=0;d<r.length;d++)h(d);if(l[e.id]===s[e.id]){for(var f=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,f.push(p),p===e)break}f.length>0&&u.push(f)}},d=0,f=n;d<f.length;d++){var p=f[d];s[p.id]||0===s[p.id]||h(p)}return u};function H(t,e){return e?U(t):Z(t)}var W=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e},Y=W,X=function(t,e){return W(t)[e]?W(t)[e].inDegree:0},q=function(t,e){return W(t)[e]?W(t)[e].outDegree:0};function K(t,e,n,r){r.enter({current:e,previous:n});var i=t.edges;B(e,void 0===i?[]:i,"target").forEach((function(i){r.allowTraversal({previous:n,current:e,next:i})&&K(t,i,e,r)})),r.leave({current:e,previous:n})}function $(t,e,n){K(t,e,"",function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n))}var J=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=H(t,!1);a<s.length;a++){var l=s[a];if(l.length)for(var u=l[0],c=u.id,h=[u],d=((r={})[c]=u,r),f=((i={})[c]=new Set,i);h.length>0;)for(var p=h.pop(),g=p.id,m=B(g,t.edges),v=function(r){var i,a=m[r],s=t.nodes.find((function(t){return t.id===a}));if(a===g)o.push(((i={})[a]=p,i));else if(a in f){if(!f[g].has(s)){for(var l=!0,u=[s,p],c=d[g];f[a].size&&!f[a].has(c)&&(u.push(c),c!==d[c.id]);)c=d[c.id];if(u.push(c),e&&n?(l=!1,u.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(l=!0)):e&&!n&&u.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(l=!1),l){for(var v={},y=1;y<u.length;y+=1)v[u[y-1].id]=u[y];u.length&&(v[u[u.length-1].id]=u[0]),o.push(v)}f[a].add(p)}}else d[a]=p,h.push(s),f[a]=new Set([p])},y=0;y<m.length;y+=1)v(y)}return o},Q=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},l={},u=function t(l,u,c){var h=!1;if(e&&!1===n&&e.indexOf(l.id)>-1)return h;r.push(l),i.add(l);for(var d=c[l.id],f=0;f<d.length;f+=1){if((m=s[d[f]])===u){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),h=!0}else i.has(m)||t(m,u,c)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(t){e.push(t)})),o[n.id].clear())}}(l);else for(f=0;f<d.length;f+=1){var m=s[d[f]];o[m.id].has(l)||o[m.id].add(l)}return r.pop(),h},c=t.nodes,h=void 0===c?[]:c,d=0;d<h.length;d+=1){var f=h[d],p=f.id;l[p]=d,s[d]=f}if(e&&n){var g=function(t){var n=e[t];l[h[t].id]=l[n],l[n]=0,s[0]=h.find((function(t){return t.id===n})),s[l[h[t].id]]=h[t]};for(d=0;d<e.length;d++)g(d)}for(var m=function(r){for(var i,o,s=1/0,u=0;u<r.length;u+=1)for(var c=r[u],h=0;h<c.length;h++){var d=l[c[h].id];d<s&&(s=d,o=u)}var f=r[o],p=[];for(u=0;u<f.length;u+=1){var g=f[u];p[g.id]=[];for(var m=0,v=B(g.id,t.edges,"target").filter((function(t){return f.map((function(t){return t.id})).indexOf(t)>-1}));m<v.length;m++){var y=v[m];y!==g.id||!1===n&&e.indexOf(g.id)>-1?p[g.id].push(l[y]):a.push(((i={})[g.id]=g,i))}}return{component:f,adjList:p,minIdx:s}},v=0;v<h.length;){var y=h.filter((function(t){return l[t.id]>=v})),b=U({nodes:y,edges:t.edges}).filter((function(t){return t.length>1}));if(0===b.length)break;var x=m(b),_=x.minIdx,w=x.adjList,S=x.component;if(!(S.length>1))break;S.forEach((function(t){o[t.id]=new Set}));var M=s[_];if(e&&n&&-1===e.indexOf(M.id))return a;u(M,M,w),v=_+1}return a},tt=function(t,e,n,r){return void 0===r&&(r=!0),e?Q(t,n,r):J(t,n,r)},et=function(t){var e=null,n=t.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(t){i[t.id]=t}));for(var s={enter:function(t){var n=t.current,a=t.previous;if(o[n]){e={};for(var s=n,l=a;l!==n;)e[s]=l,s=l,l=r[l];e[s]=l}else o[n]=n,delete i[n],r[n]=a},leave:function(t){var e=t.current;a[e]=e,delete o[e]},allowTraversal:function(t){var n=t.next;return!e&&!a[n]}};Object.keys(i).length;){$(t,Object.keys(i)[0],s)}return e},nt=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,l=[],u={},c={},h={};o.forEach((function(t,n){var r=t.id;l.push(r),c[r]=1/0,r===e&&(c[r]=0)}));for(var d=o.length,f=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(c,o,u),i=e.id;if(u[i]=!0,c[i]===1/0)return"continue";var a=[];a=n?function(t,e){return e.filter((function(e){return e.source===t}))}(i,s):F(i,s),a.forEach((function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;c[a]>c[e.id]+s?(c[a]=c[e.id]+s,h[a]=[e.id]):c[a]===c[e.id]+s&&h[a].push(e.id)}))},p=0;p<d;p++)f();h[e]=[e];var g={};for(var m in c)c[m]!==1/0&&rt(e,m,h,g);var v={};for(var m in g)v[m]=g[m][0];return{length:c,path:v,allPath:g}};function rt(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,a=n[e];o<a.length;o++){var s=rt(t,a[o],n,r);if(!s)return;for(var l=0,u=s;l<u.length;l++){var c=u[l];(0,x.isArray)(c)?i.push((0,b.__spreadArray)((0,b.__spreadArray)([],c,!0),[e],!1)):i.push([c,e])}}return r[e]=i,r[e]}var it,ot=function(t,e,n,r,i){var o=nt(t,e,r,i),a=o.length,s=o.path,l=o.allPath;return{length:a[n],path:s[n],allPath:l[n]}},at=function(t,e,n,r){var i;if(e===n)return[[e]];var o=t.edges,a=void 0===o?[]:o,s=[e],l=((i={})[e]=!0,i),u=[],c=[],h=r?B(e,a,"target"):B(e,a);for(u.push(h);s.length>0&&u.length>0;){var d=u[u.length-1];if(d.length){var f=d.shift();if(f&&(s.push(f),l[f]=!0,h=r?B(f,a,"target"):B(f,a),u.push(h.filter((function(t){return!l[t]})))),s[s.length-1]===n){var p=s.map((function(t){return t}));c.push(p);g=s.pop();l[g]=!1,u.pop()}}else{var g=s.pop();l[g]=!1,u.pop()}}return c},st=function(t,e){for(var n=N(t,e),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},lt=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,l={},u={};o.forEach((function(t,e){var n=G();t.clusterId=n,l[n]={id:n,nodes:[t]},u[t.id]={node:t,idx:e}}));var c=N(t,e),h=[],d={};c.forEach((function(t,e){var n=0,r=o[e].id;d[r]={},t.forEach((function(t,e){if(t){n+=t;var i=o[e].id;d[r][i]=t}})),h.push(n)}));for(var f=0,p=function(){var t=!1;if(o.forEach((function(e){var n={};Object.keys(d[e.id]).forEach((function(t){var r=d[e.id][t],i=u[t].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)})),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var a=l[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var c=Math.floor(Math.random()*i.length),h=l[i[c]];h.nodes.push(e),e.clusterId=h.id}}})),!t)return"break";f++};f<r;){if("break"===p())break}Object.keys(l).forEach((function(t){var e=l[t];e.nodes&&e.nodes.length||delete l[t]}));var g=[],m={};s.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=u[e].node.clusterId,a=u[r].node.clusterId,s="".concat(o,"---").concat(a);if(m[s])m[s].weight+=i,m[s].count++;else{var l={source:o,target:a,weight:i,count:1};m[s]=l,g.push(l)}}));var v=[];return Object.keys(l).forEach((function(t){v.push(l[t])})),{clusters:v,clusterEdges:g}},ut=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null==r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null==r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}},t.prototype.normalize=function(){var e=[],n=(0,x.clone)(this.arr);n.sort((function(t,e){return t-e}));var r=n[n.length-1],i=n[0];for(var o in this.arr)e[o]=(this.arr[o]-i)/(r-i);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null==n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},t}(),ct=ut,ht=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach((function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])})),n};!function(t){t.EuclideanDistance="euclideanDistance"}(it||(it={}));var dt=function(t,e,n){var r=[];(null==e?void 0:e.length)?r=e:(t.forEach((function(t){r=r.concat(Object.keys(t))})),r=(0,x.uniq)(r));var i={};return r.forEach((function(e){var r=[];t.forEach((function(t){void 0!==t[e]&&""!==t[e]&&r.push(t[e])})),r.length&&!(null==n?void 0:n.includes(e))&&(i[e]=(0,x.uniq)(r))})),i},ft=function(t,e,n){var r=dt(t,e,n),i=[];if(!Object.keys(r).length)return i;var o=Object.values(r).every((function(t){return t.every((function(t){return"number"==typeof t}))}));return t.forEach((function(t,e){var n=[];Object.keys(r).forEach((function(e){var i=t[e],a=r[e],s=a.findIndex((function(t){return i===t})),l=[];if(o)l.push(i);else for(var u=0;u<a.length;u++)u===s?l.push(1):l.push(0);n=n.concat(l)})),i[e]=n})),i},pt=function(t,e,n,r){void 0===n&&(n=it.EuclideanDistance);var i=0;if(n===it.EuclideanDistance)i=new ct(t).euclideanDistance(new ct(e));return i},gt=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var l=t[s].clusterId,u=0;u<i;u++){if(l===t[u].clusterId)a+=(e[s][u]||0)-(n[s]||0)*(n[u]||0)/o}return a*=1/o},mt=function(t,e){void 0===t&&(t=[]);for(var n=t.length,r=new ct([]),i=0;i<n;i++)r=r.add(new ct(e[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(l=new ct(e[i])).squareEuclideanDistance(o)}var s=[];t.forEach((function(){s.push([])}));for(i=0;i<n;i++){var l=new ct(e[i]);t[i].clusterInertial=0;for(var u=0;u<n;u++)if(i!==u){var c=new ct(e[u]);s[i][u]=l.squareEuclideanDistance(c),t[i].clusterInertial+=s[i][u]}else s[i][u]=0}var h=0,d=2*n*a;for(i=0;i<n;i++){var f=t[i].clusterId;for(u=0;u<n;u++){var p=t[u].clusterId;if(i!==u&&f===p)h+=t[i].clusterInertial*t[u].clusterInertial/Math.pow(d,2)-s[i][u]/d}}return Number(h.toFixed(4))},vt=function(t,e,n,r,i,o,a,s,l){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===l&&(l=1);var u=t.nodes,c=void 0===u?[]:u,h=t.edges,d=void 0===h?[]:h,f=[];if(i){c.forEach((function(t,e){t.properties=t.properties||{},t.originIndex=e}));var p=[];c.every((function(t){return t.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(c.map((function(t){return t.nodeType})))),c.forEach((function(t){t.properties.nodeType=p.findIndex((function(e){return e===t.nodeType}))})));var g=ht(c,o);f=ft(g,a,s)}var m=1,v={},y={};c.forEach((function(t,e){var n=String(m++);t.clusterId=n,v[n]={id:n,nodes:[t]},y[t.id]={node:t,idx:e}}));var b=N(t,e),_=[],w={},S=0;b.forEach((function(t,e){var n=0,r=c[e].id;w[r]={},t.forEach((function(t,e){if(t){n+=t;var i=c[e].id;w[r][i]=t,S+=t}})),_.push(n)})),S/=2;for(var M=1/0,k=1/0,E=0,A=[],T={};;){M=i&&c.every((function(t){return t.hasOwnProperty("properties")}))?gt(c,b,_,S)+mt(c,f)*l:gt(c,b,_,S),0===E&&(k=M,A=c,T=v);var I=M>0&&M>k&&M-k<r;if(M>k&&(A=c.map((function(t){return{node:t,clusterId:t.clusterId}})),T=(0,x.clone)(v),k=M),I||E>100)break;E++,Object.keys(v).forEach((function(t){var e=0;d.forEach((function(r){var i=r.source,o=r.target,a=y[i].node.clusterId,s=y[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=r[n]||1)})),v[t].sumTot=e})),c.forEach((function(t,e){var r,o=v[t.clusterId],a=0,s=_[e]/(2*S),u=0,c=o.nodes;c.forEach((function(t){var n=y[t.id].idx;u+=b[e][n]||0}));var h=u-o.sumTot*s,p=c.filter((function(e){return e.id!==t.id})),g=[];p.forEach((function(t,e){g[e]=f[t.originIndex]}));var m=mt(p,f)*l,x=w[t.id];if(Object.keys(x).forEach((function(n){var o=y[n].node.clusterId;if(o!==t.clusterId){var u=v[o],c=u.nodes;if(c&&c.length){var d=0;c.forEach((function(t){var n=y[t.id].idx;d+=b[e][n]||0}));var p=d-u.sumTot*s,g=c.concat([t]),x=[];g.forEach((function(t,e){x[e]=f[t.originIndex]}));var _=mt(g,f)*l,w=p-h;i&&(w=p+_-(h+m)),w>a&&(a=w,r=u)}}})),a>0){r.nodes.push(t);var M=t.clusterId;t.clusterId=r.id;var k=o.nodes.indexOf(t);o.nodes.splice(k,1);var E=0,A=0;d.forEach((function(t){var e=t.source,i=t.target,o=y[e].node.clusterId,a=y[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(E+=t[n]||1),(o===M&&a!==M||a===M&&o!==M)&&(A+=t[n]||1)})),r.sumTot=E,o.sumTot=A}}))}var C={},D=0;Object.keys(T).forEach((function(t){var e=T[t];if(e.nodes&&e.nodes.length){var n=String(D+1);n!==t&&(e.id=n,e.nodes=e.nodes.map((function(t){return{id:t.id,clusterId:n}})),T[n]=e,C[t]=n,delete T[t],D++)}else delete T[t]})),A.forEach((function(t){var e=t.node,n=t.clusterId;e&&(e.clusterId=n,e.clusterId&&C[e.clusterId]&&(e.clusterId=C[e.clusterId]))}));var O=[],L={};d.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=y[e].node.clusterId,a=y[r].node.clusterId;if(o&&a){var s="".concat(o,"---").concat(a);if(L[s])L[s].weight+=i,L[s].count++;else{var l={source:o,target:a,weight:i,count:1};L[s]=l,O.push(l)}}}));var P=[];return Object.keys(T).forEach((function(t){P.push(T[t])})),{clusters:P,clusterEdges:O}},yt=function(t,e,n,r,i,o,a,s){return void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),vt(t,e,n,r,!0,i,o,a,s)},bt=function(t,e){var n;void 0===e&&(e=1);for(var r=(0,x.clone)(t),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,l=function(){var t=Y({nodes:o,edges:s}),r=Object.keys(t);r.sort((function(e,n){var r,i;return(null===(r=t[e])||void 0===r?void 0:r.degree)-(null===(i=t[n])||void 0===i?void 0:i.degree)}));var i=r[0];if(!o.length||(null===(n=t[i])||void 0===n?void 0:n.degree)>=e)return"break";var a=o.findIndex((function(t){return t.id===i}));o.splice(a,1),s=s.filter((function(t){return!(t.source===i||t.target===i)}))};;){if("break"===l())break}return{nodes:o,edges:s}},xt=function(t,e,n){var r=[];if(t===it.EuclideanDistance)r=e[n];else r=[];return r},_t=function(t,e,n,r,i,o){void 0===e&&(e=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=it.EuclideanDistance);var a=t.nodes,s=void 0===a?[]:a,l=t.edges,u=void 0===l?[]:l,c={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===it.EuclideanDistance&&!s.every((function(t){return t.hasOwnProperty(n)})))return c;var h=[],d=[];if(o===it.EuclideanDistance&&(h=ht(s,n),d=ft(h,r,i)),!d.length)return c;for(var f=(0,x.uniq)(d.map((function(t){return t.join("")}))),p=Math.min(e,s.length,f.length),g=0;g<s.length;g++)s[g].originIndex=g;var m=[],v=[],y=[];for(g=0;g<p;g++)if(0===g){var b=Math.floor(Math.random()*s.length);if(o===it.EuclideanDistance)m[g]=d[b];else m[g]=[];v.push(b),y[g]=[s[b]],s[b].clusterId=String(g)}else{for(var _=-1/0,w=0,S=function(t){if(!v.includes(t)){for(var e=0,n=0;n<m.length;n++){var r=0;if(o===it.EuclideanDistance)r=pt(d[s[t].originIndex],m[n],o);e+=r}var i=e/m.length;i>_&&!m.find((function(e){return(0,x.isEqual)(e,xt(o,d,s[t].originIndex))}))&&(_=i,w=t)}},M=0;M<s.length;M++)S(M);m[g]=xt(o,d,w),v.push(w),y[g]=[s[w]],s[w].clusterId=String(g)}for(var k=0;;){for(g=0;g<s.length;g++){var E=0,A=1/0;if(0!==k||!v.includes(g)){for(var T=0;T<m.length;T++){var I=0;if(o===it.EuclideanDistance)I=pt(d[g],m[T],o);I<A&&(A=I,E=T)}if(void 0!==s[g].clusterId)for(var C=y[Number(s[g].clusterId)].length-1;C>=0;C--)y[Number(s[g].clusterId)][C].id===s[g].id&&y[Number(s[g].clusterId)].splice(C,1);s[g].clusterId=String(E),y[E].push(s[g])}}var D=!1;for(g=0;g<y.length;g++){var N=y[g],O=new ct([]);for(T=0;T<N.length;T++)O=O.add(new ct(d[N[T].originIndex]));var L=O.avg(N.length);L.equal(new ct(m[g]))||(D=!0,m[g]=L.getArr())}if(k++,s.every((function(t){return void 0!==t.clusterId}))&&D||k>=1e3)break}var P=[],R={};return u.forEach((function(t){var e,n,r=t.source,i=t.target,o=null===(e=s.find((function(t){return t.id===r})))||void 0===e?void 0:e.clusterId,a=null===(n=s.find((function(t){return t.id===i})))||void 0===n?void 0:n.clusterId,l="".concat(o,"---").concat(a);if(R[l])R[l].count++;else{var u={source:o,target:a,count:1};R[l]=u,P.push(u)}})),{clusters:y,clusterEdges:P}},wt=function(t,e){var n=new ct(e),r=n.norm2(),i=new ct(t),o=i.norm2(),a=n.dot(i),s=r*o,l=s?a/s:0;return l},St=function(t,e,n,r,i){void 0===t&&(t=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=(0,x.clone)(t.filter((function(t){return t.id!==e.id}))),a=t.findIndex((function(t){return t.id===e.id})),s=ht(t,n),l=ft(s,r,i),u=l[a],c=[];return o.forEach((function(t,n){if(t.id!==e.id){var r=l[n],i=wt(r,u);c.push(i),t.cosineSimilarity=i}})),o.sort((function(t,e){return e.cosineSimilarity-t.cosineSimilarity})),{allCosineSimilarity:c,similarNodes:o}},Mt=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),kt=Mt,Et=function(t,e){return t-e},At=function(){function t(t){void 0===t&&(t=Et),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),Tt=At,It=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],l=new Set;l.add(s);var u=new Tt((function(t,n){return e?t.weight-n.weight:0}));for(F(s.id,a).forEach((function(t){u.insert(t)}));!u.isEmpty();){var c=u.delMin(),h=c.source,d=c.target;l.has(h)&&l.has(d)||(n.push(c),l.has(h)||(l.add(h),F(h,a).forEach((function(t){u.insert(t)}))),l.has(d)||(l.add(d),F(d,a).forEach((function(t){u.insert(t)}))))}return n},Ct=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(t){return t}));e&&s.sort((function(t,e){return t.weight-e.weight}));for(var l=new kt(i.map((function(t){return t.id})));s.length>0;){var u=s.shift(),c=u.source,h=u.target;l.connected(c,h)||(n.push(u),l.union(c,h))}return n},Dt=function(t,e,n){return n?{prim:It,kruskal:Ct}[n](t,e):Ct(t,e)},Nt=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.nodes,l=void 0===s?[]:s,u=t.edges,c=void 0===u?[]:u,h=l.length,d={},f={},p=0;p<h;++p){d[m=(_=l[p]).id]=1/h,f[m]=1/h}for(var g=Y(t);a>0&&i>e;){o=0;for(p=0;p<h;++p){var m=(_=l[p]).id;if(r=0,0===g[_.id].inDegree)d[m]=0;else{for(var v=B(m,c,"source"),y=0;y<v.length;++y){var b=v[y],x=g[b].outDegree;x>0&&(r+=f[b]/x)}d[m]=n*r,o+=d[m]}}o=(1-o)/h,i=0;for(p=0;p<h;++p){var _;r=d[m=(_=l[p]).id]+o,i+=Math.abs(r-f[m]),f[m]=r}a-=1}return f},Ot="-1",Lt=function(t,e,n,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t,this.from=e,this.to=n,this.label=r},Pt=function(){function t(t,e){void 0===t&&(t=-1),void 0===e&&(e=Ot),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),Rt=function(){function t(t,e,n){void 0===t&&(t=-1),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new Pt(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new Lt(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new Lt(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}(),jt=function(){function t(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||Ot,edgeLabel:r||"-1",nodeLabel2:i||Ot}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),zt=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new jt(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new Rt(t,!0,e);return this.dfsEdgeList.forEach((function(t){var e=t.fromNode,r=t.toNode,i=t.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==Ot&&n.addNode(e,o),s!==Ot&&n.addNode(r,s),o!==Ot&&s!==o&&n.addEdge(void 0,e,r,a)})),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],r=n.fromNode,i=n.toNode;r<i&&(void 0===t||i===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach((function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)})),Object.keys(t).length},t}(),Bt=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),Ft=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,a=t.maxNodeNum,s=void 0===a?4:a,l=t.top,u=void 0===l?10:l,c=t.directed,h=void 0!==c&&c,d=t.verbose,f=void 0!==d&&d;this.graphs=e,this.dfsCode=new zt,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=f,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach((function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)})),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var l=o[s];if(!r.hasEdge(l)&&l.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&i[e.to].label<=i[n.to].label)return l}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,l=0;l<s;l++){var u=a[l],c=t.nodeMap[u.to];n<=c.label&&!r.hasNode(c)&&i.push(u)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,l=s.length,u=0;u<l;u++){var c=s[u],h=o[c.to].label;e.to===c.to||n>h||r.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&a<=h)&&i.push(c)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach((function(t){e[t.graphId]||(e[t.graphId]=!0)})),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach((function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose,1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(-1,n),i=r.nodeMap,o=new zt,a={};r.nodes.forEach((function(e){t.findForwardRootEdges(r,e).forEach((function(t){var n=i[t.to],o="".concat(e.label,"-").concat(t.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var s={graphId:r.id,edge:t,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new jt(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var l="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var l=o.buildRmpath(),u=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[l[0]].toNode,h={},d=!1,f=0,p=n?-1:0,g=function(e){if(d)return"break";s.forEach((function(n){var i=new Bt(n),a=t.findBackwardEdge(r,i.edges[l[e]],i.edges[l[0]],i);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:r.id,edge:h,preNode:n}),f=o.dfsEdgeList[l[e]].fromNode,d=!0)}))},m=l.length-1;m>p;m--){if("break"===g(m))break}if(d){var v=t.findMinLabel(h);o.dfsEdgeList.push(new jt(c,f,Ot,v.edgeLabel,Ot));var y=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(h[v.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach((function(e){var n=new Bt(e),o=t.findForwardPureEdges(r,n.edges[l[0]],u,n);o.length>0&&(d=!0,x=c,o.forEach((function(t){var n="".concat(t.label,"-").concat(i[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}));var _=l.length,w=function(e){if(d)return"break";var n=l[e];s.forEach((function(e){var a=new Bt(e),s=t.findForwardRmpathEdges(r,a.edges[n],u,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(t){var n="".concat(t.label,"-").concat(i[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}))};for(m=0;m<_;m++){if("break"===w(m))break}if(!d)return!0;var S=t.findMinLabel(b);o.dfsEdgeList.push(new jt(x,c+1,Ot,S.edgeLabel,S.nodeLabel2));var M=o.dfsEdgeList.length-1;return e.dfsEdgeList[M]===o.dfsEdgeList[M]&&a(b["".concat(S.edgeLabel,"-").concat(S.nodeLabel2)].projected)}(a[l].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,x.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};t.forEach((function(t){for(var l=e.graphs[t.graphId],u=l.nodeMap,c=new Bt(t),h=r.length-1;h>=0;h--){var d=e.findBackwardEdge(l,c.edges[r[h]],c.edges[r[0]],c);if(d){var f="".concat(e.dfsCode.dfsEdgeList[r[h]].fromNode,"-").concat(d.label);s[f]||(s[f]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[h]].fromNode,edgeLabel:d.label}),s[f].projected.push({graphId:t.graphId,edge:d,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(l,c.edges[r[0]],o,c).forEach((function(e){var n="".concat(i,"-").concat(e.label,"-").concat(u[e.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:e.label,nodeLabel2:u[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})}));var p=function(n){e.findForwardRmpathEdges(l,c.edges[r[n]],o,c).forEach((function(i){var o="".concat(e.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(u[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:u[i.to].label}),a[o].projected.push({graphId:t.graphId,edge:i,preNode:t})}))};for(h=0;h<r.length;h++)p(h)}})),Object.keys(s).forEach((function(t){var n=s[t],r=n.toNodeId,o=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new jt(i,r,"-1",o,"-1")),e.subGraphMining(s[t].projected),e.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(t){var n=a[t],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new jt(r,i+1,Ot,o,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()}))}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach((function(n){var r=t[n],l=r.nodeMap;r.nodes.forEach((function(t,r){var u=t.label,c="".concat(n,"-").concat(u);if(!a[c]){var h=i[u]||0;h++,i[u]=h}a[c]={graphKey:n,label:u},t.edges.forEach((function(t){var r=u,i=l[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var c=t.label,h="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var f=o[d]||0;f++,o[d]=f}s[h]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}})),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach((function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach((function(e){t.findForwardRootEdges(i,e).forEach((function(t){var i=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var s={graphId:r,edge:t,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(e){var r=n[e],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new jt(0,1,o,a,s)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()}))}},t}(),Gt="cluster",Vt=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,i=t.nodeLabelProp,o=void 0===i?Gt:i,a=t.edgeLabelProp,s=void 0===a?Gt:a,l=function(t,e,n,r){var i={};return Object.keys(t).forEach((function(o,a){var s=t[o],l=new Rt(a,!0,e),u={};s.nodes.forEach((function(t,e){l.addNode(e,t[n]),u[t.id]=e})),s.edges.forEach((function(t,e){var n=u[t.source],i=u[t.target];l.addEdge(-1,n,i,t[r])})),l&&l.getNodeNum()&&(i[l.id]=l)})),i}(e,r,o,s),u=t.minSupport,c=t.maxNodeNum,h=t.minNodeNum,d=t.verbose,f=t.top,p=new Ft({graphs:l,minSupport:u,maxNodeNum:c,minNodeNum:h,top:f,verbose:d,directed:r});p.run();var g=function(t,e,n){var r=[];return t.forEach((function(t){var i={nodes:[],edges:[]};t.nodes.forEach((function(t){var n;i.nodes.push(((n={id:"".concat(t.id)})[e]=t.label,n))})),t.edges.forEach((function(t){var e;i.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[n]=t.label,e))})),r.push(i)})),r}(p.frequentSubgraphs,o,s);return g},Zt=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach((function(t,e){i.push(Ut(o,t,e,n,r))})),i},Ut=function(t,e,n,r,i){var o=[n],a=[],s={};return e.forEach((function(e,l){if(e<=i&&n!==l){o.push(l),a.push(t[l]);var u=t[l][r];s[u]?(s[u].count++,s[u].dists.push(e)):s[u]={count:1,dists:[e]}}})),Object.keys(s).forEach((function(t){s[t].dists=s[t].dists.sort((function(t,e){return t-e}))})),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},Ht=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var l=t[o],u=null===(a=e[l.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=e[l.end])||void 0===s?void 0:s.nodeIdxs;if(u&&c){var h=new Set(c),d=u.filter((function(t){return h.has(t)}));if(d&&d.length){for(var f={},p=d.length,g=0;g<p;g++){var m=i[d[g]];r[o].nodes.push(m),f[m.id]=!0}n.edges.forEach((function(t){f[t.source]&&f[t.target]&&r[o].edges.push(t)}))}}}})),r},Wt=function(t,e,n,r){var i,o,a={};t.nodes.forEach((function(t){a[t.id]=t}));var s=0;return!(null===(i=null==e?void 0:e.edges)||void 0===i?void 0:i.length)||(null===(o=null==e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach((function(t){var i=a[t.source][n],o=a[t.target][n],l=null==e?void 0:e.nodes[0][n],u=null==e?void 0:e.nodes[1][n],c=null==e?void 0:e.edges[0][r];t[r]===c&&(i===l&&o===u||i===u&&o===l)&&s++})),s)},Yt=function(t,e){var n={},r={};return t.forEach((function(t,i){n[t.id]={idx:i,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)})),{nodeMap:n,nodeLabelMap:r}},Xt=function(t,e,n){var r={},i={};return t.forEach((function(t,o){r["".concat(G)]={idx:o,edge:t};var a=t[e];i[a]||(i[a]=[]),i[a].push(t);var s=n[t.source];s&&(s.degree++,s.outDegree++);var l=n[t.target];l&&(l.degree++,l.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},qt=function(t,e,n){var r=e.length,i={};return e.forEach((function(e,o){for(var a=n?0:o+1,s=t[o].id,l=a;l<r;l++)if(o!==l){var u=t[l].id,c=e[l];i["".concat(s,"-").concat(u)]=c,n||(i["".concat(u,"-").concat(s)]=c)}})),i},Kt=function(t,e,n,r,i,o,a,s,l,u,c){var h,d="".concat(e.id,"-").concat(n.id);if(u&&u[d])return u[d];var f=c?c[d]:void 0;if(!f){var p=((h={})[d]={start:r[e.id].idx,end:r[n.id].idx,distance:i},h);f=(c=Ht(p,o,t,c))[d]}return Wt(f,a,s,l)},$t=function(t,e,n,r){var i,o,a,s=null===(i=t[e])||void 0===i?void 0:i.degree,l=null===(o=t[e])||void 0===o?void 0:o.inDegree,u=null===(a=t[e])||void 0===a?void 0:a.outDegree;return void 0===t[e]&&(s=1/0,l=1/0,u=1/0,r[e].forEach((function(t){var e=n[t.id].degree;s>e&&(s=e);var r=n[t.id].inDegree;l>r&&(l=r);var i=n[t.id].outDegree;u>i&&(u=i)})),t[e]={degree:s,inDegree:l,outDegree:u}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:u}},Jt=function(t,e,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),t&&t.nodes){var l=t.nodes.length;if(l){var u=st(t,n),c=st(e,n),h=qt(t.nodes,u,n),d=qt(e.nodes,c,n),f=Yt(t.nodes,o),p=f.nodeMap,g=f.nodeLabelMap,m=Yt(e.nodes,o),v=m.nodeMap,y=m.nodeLabelMap;Xt(t.edges,a,p);var x=Xt(e.edges,a,v).edgeLabelMap,_=[];null==c||c.forEach((function(t){_=_.concat(t)})),i||(i=Math.max.apply(Math,(0,b.__spreadArray)((0,b.__spreadArray)([],_,!1),[2],!1))),r||(r=i);var w=Zt(t,u,o,r),S=Zt(e,c,o,r),M=function(t,e,n,r,i){var o=Math.ceil(n/e),a={},s=0;return r.forEach((function(t,r){for(var l=0,u=0,c=t.nodeIdxs,h=t.neighborNum-1;l<o;){for(var d=c[1+Math.floor(Math.random()*h)],f=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*e),!(++f>2*e)););if(f<2*e&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},l++,++s>=n))return a;if(++u>2*e)break}l<o&&(o=(o+(o-l))/(e-r-1))})),a}(0,l,Math.min(100,l*(l-1)/2),w,u),k=Ht(M,w,t),E=Vt({graphs:k,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),A=E.length,T=[];E.forEach((function(t,e){T[e]={},Object.keys(k).forEach((function(n){var r=k[n],i=Wt(r,t,o,a);T[e][n]=i}))}));var I=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=Object.keys(n).sort((function(t,e){return n[t]-n[e]})),a=[];o.forEach((function(t,e){a[e%10]||(a[e%10]={graphs:[],totalCount:0,aveCount:0}),a[e%10].graphs.push(t),a[e%10].totalCount+=n[t]}));var s=0,l=[];a.forEach((function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,l.push(e);var r=0,i=t.length;t.graphs.forEach((function(e,i){var o=n[e];t.graphs.forEach((function(t,e){i!==e&&(r+=Math.abs(o-n[t]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var u=0;l.forEach((function(t,e){l.forEach((function(n,r){e!==r&&(u+=Math.abs(t-n))})),u/=l.length*(l.length-1)/2}));var c=u-s;r<c&&(r=c,i=e)},a=0;a<e;a++)o(a);return{structure:n[i],structureCountMap:t[i]}}(T,A,E),C=I.structure,D=I.structureCountMap,N=e.nodes[0],O=[],L=null===(s=e.nodes[0])||void 0===s?void 0:s[o],P=-1/0;e.nodes.forEach((function(t){var e=t[o],n=g[e];(null==n?void 0:n.length)>P&&(P=n.length,O=n,L=e,N=t)}));var R={},j={},z={},B={},F={},G={};Object.keys(y).forEach((function(r,i){F[r]=[],n&&(G[r]=[]);var s=-1/0,l=y[r],u={};l.forEach((function(t){var e=d["".concat(N.id,"-").concat(t.id)];if(e&&F[r].push(e),s<e&&(s=e),u["".concat(N.id,"-").concat(t.id)]={start:0,end:v[t.id].idx,distance:e},n){var i=d["".concat(t.id,"-").concat(N.id)];i&&G[r].push(i)}})),F[r]=F[r].sort((function(t,e){return t-e})),n&&(G[r]=G[r].sort((function(t,e){return t-e}))),j=Ht(u,S,e,j);var c=[];if(Object.keys(u).forEach((function(t){if(z[t])c.push(z[t]);else{var e=j[t];z[t]=Wt(e,C,o,a),c.push(z[t])}})),c=c.sort((function(t,e){return e-t})),B["".concat(N.id,"-").concat(r)]=c,r!==L)for(var f=function(e){var n=O[e],i=w[p[n.id].idx],s=i.nodeLabelCountMap[r],l=y[r].length;if(!s||s.count<l)return O.splice(e,1),"continue";for(var u=!1,d=0;d<l;d++)if(s.dists[d]>F[r][d]){u=!0;break}if(u)return O.splice(e,1),"continue";var f={};i.neighbors.forEach((function(t){var e=h["".concat(n.id,"-").concat(t.id)];f["".concat(n.id,"-").concat(t.id)]={start:p[n.id].idx,end:p[t.id].idx,distance:e}})),k=Ht(f,w,t,k);var g=[];Object.keys(f).forEach((function(t){if(D[t])g.push(D[t]);else{var e=k[t];D[t]=Wt(e,C,o,a),g.push(D[t])}})),g=g.sort((function(t,e){return e-t}));var m=!1;for(d=0;d<l;d++)if(g[d]<c[d]){m=!0;break}return m?(O.splice(e,1),"continue"):void 0},g=((null==O?void 0:O.length)||0)-1;g>=0;g--)f(g)}));var V=[];null==O||O.forEach((function(r){for(var s=p[r.id].idx,l=Ut(t.nodes,u[s],s,o,i).neighbors,c=!1,d=l.length-1;d>=0;d--){if(l.length+1<e.nodes.length)return void(c=!0);var f=l[d],g=f[o];if(y[g]&&y[g].length)if(F[g]&&F[g].length){var m="".concat(r.id,"-").concat(f.id),b=h[m],x=F[g].length-1;if(b>F[g][x])l.splice(d,1);else{if(n){var _="".concat(f.id,"-").concat(r.id),S=h[_];if(x=G[g].length-1,S>G[g][x]){l.splice(d,1);continue}}var M=D[m]?D[m]:Kt(t,r,f,p,b,w,C,o,a,D,k),E="".concat(N.id,"-").concat(g);if(M<B[E][B[E].length-1])l.splice(d,1);else{var A=$t(R,g,v,y),T=A.minPatternNodeLabelDegree;A.minPatternNodeLabelInDegree,A.minPatternNodeLabelOutDegree;p[f.id].degree<T&&l.splice(d,1)}}}else l.splice(d,1);else l.splice(d,1)}c||V.push({nodes:[r].concat(l)})}));var Z=nt(e,N.id,!1).length,U={};n?(Object.keys(Z).forEach((function(t){var e=v[t].node[o];U[e]?U[e].push(Z[t]):U[e]=[Z[t]]})),Object.keys(U).forEach((function(t){U[t].sort((function(t,e){return t-e}))}))):U=F;for(var H=function(r){var i=V[r],s=i.nodes[0],l={},u={};i.nodes.forEach((function(t,e){u[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[o];l[n]?l[n]++:l[n]=1}));var c=[],h={};t.edges.forEach((function(t){u[t.source]&&u[t.target]&&(c.push(t),h[t[a]]?h[t[a]]++:h[t[a]]=1,u[t.source].degree++,u[t.target].degree++,u[t.source].outDegree++,u[t.target].inDegree++)}));for(var d=Object.keys(x).length,f=!1,g=0;g<d;g++){var m=Object.keys(x)[g];if(!h[m]||h[m]<x[m].length){f=!0;break}}if(f)return V.splice(r,1),"continue";var b=c.length;if(b<e.edges.length)return V.splice(r,1),"break";var _=!1,w=function(t){var e=c[t],r=e[a],i=x[r];if(!i||!i.length)return h[r]--,i&&h[r]<i.length?(_=!0,"break"):(c.splice(t,1),u[e.source].degree--,u[e.target].degree--,u[e.source].outDegree--,u[e.target].inDegree--,"continue");var s=u[e.source].node[o],l=u[e.target].node[o],d=!1;return i.forEach((function(t){var e=v[t.source].node,r=v[t.target].node;e[o]===s&&r[o]===l&&(d=!0),n||e[o]!==l||r[o]!==s||(d=!0)})),d?void 0:(h[r]--,i&&h[r]<i.length?(_=!0,"break"):(c.splice(t,1),u[e.source].degree--,u[e.target].degree--,u[e.source].outDegree--,u[e.target].inDegree--,"continue"))};for(g=b-1;g>=0;g--){if("break"===w(g))break}if(_)return V.splice(r,1),"continue";i.edges=c;var S=nt(i,i.nodes[0].id,!1).length;if(Object.keys(S).reverse().forEach((function(t){if(t!==i.nodes[0].id&&!_){if(S[t]===1/0){var e=u[t].node[o];if(l[e]--,l[e]<y[e].length)return void(_=!0);var n=i.nodes.indexOf(u[t].node);return i.nodes.splice(n,1),void(u[t]=void 0)}var r=p[t].node[o];if(!U[r]||!U[r].length||S[t]>U[r][U[r].length-1]){e=u[t].node[o];if(l[e]--,l[e]<y[e].length)return void(_=!0);n=i.nodes.indexOf(u[t].node);i.nodes.splice(n,1),u[t]=void 0}}})),_)return V.splice(r,1),"continue";for(var M=!0,k=0;M&&!_;){if(M=!1,n?u[s.id].degree<v[N.id].degree||u[s.id].inDegree<v[N.id].inDegree||u[s.id].outDegree<v[N.id].outDegree:u[s.id].degree<v[N.id].degree){_=!0;break}if(l[s[o]]<y[s[o]].length){_=!0;break}for(var E=i.nodes.length-1;E>=0;E--){var A=i.nodes[E],T=u[A.id].degree,I=u[A.id].inDegree,C=u[A.id].outDegree,D=A[o],O=$t(R,D,v,y),L=O.minPatternNodeLabelDegree,P=O.minPatternNodeLabelInDegree,j=O.minPatternNodeLabelOutDegree;if(n?T<L||I<P||C<j:T<L){if(l[A[o]]--,l[A[o]]<y[A[o]].length){_=!0;break}i.nodes.splice(E,1),u[A.id]=void 0,M=!0}}if(_||!M&&0!==k)break;for(var z=(b=c.length)-1;z>=0;z--){var B=c[z];if(!u[B.source]||!u[B.target]){c.splice(z,1);var F=B[a];if(h[F]--,u[B.source]&&(u[B.source].degree--,u[B.source].outDegree--),u[B.target]&&(u[B.target].degree--,u[B.target].inDegree--),x[F]&&h[F]<x[F].length){_=!0;break}M=!0}}k++}return _||_||i.nodes.length<e.nodes.length||c.length<e.edges.length?(V.splice(r,1),"continue"):void 0},W=V.length-1;W>=0;W--){if("break"===H(W))break}var Y=V.length,X=function(t){var e=V[t],n={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1}));for(var r=function(t){var e=V[t],r={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);r[e]?r[e]++:r[e]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(t){r[t]!==n[t]&&(i=!1)})),i&&V.splice(t,1)},i=Y-1;i>t;i--)r(i);Y=V.length};for(W=0;W<=Y-1;W++)X(W);return V}}},Qt=function(){function t(t){void 0===t&&(t=10),this.linkedList=new R,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map((function(t){return t.value}))},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}(),te=Qt,ee=et,ne={getAdjMatrix:N,breadthFirstSearch:V,connectedComponent:H,getDegree:Y,getInDegree:X,getOutDegree:q,detectCycle:et,detectDirectedCycle:ee,detectAllCycles:tt,detectAllDirectedCycle:Q,detectAllUndirectedCycle:J,depthFirstSearch:$,dijkstra:nt,findAllPath:at,findShortestPath:ot,floydWarshall:st,labelPropagation:lt,louvain:vt,iLouvain:yt,kCore:bt,kMeans:_t,cosineSimilarity:wt,nodesCosineSimilarity:St,minimumSpanningTree:Dt,pageRank:Nt,getNeighbors:B,Stack:te,GADDI:Jt},re=n("./node_modules/gl-matrix/esm/vec3.js"),ie=n("./node_modules/gl-matrix/esm/vec2.js"),oe=D,ae=function(t){return function(e,n){return e[t]-n[t]}},se=function(t,e,n){return t>=e&&t<=n},le=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,l=r.x-n.x,u=r.y-n.y,c=a*u-s*l,h=1/c;if(c*c>1e-4*(a*a+s*s)*(l*l+u*u)){var d=(i*u-o*l)*h,f=(i*s-o*a)*h;return se(d,0,1)&&se(f,0,1)?{x:t.x+d*a,y:t.y+d*s}:null}return null},ue=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var l=null,u=1;u<a.length&&!(l=le(a[u-1],a[u],s,e));u++);return l},ce=function(t,e){var n=t.x,r=t.y,i=t.r,o=e.x-n,a=e.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},he=function(t,e){var n=t.rx,r=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=Math.atan2(s/r,a/n);return l<0&&(l+=2*Math.PI),{x:i+n*Math.cos(l),y:o+r*Math.sin(l)}},de=function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),re.transformMat3(r,r,e),{x:r[0],y:r[1]}},fe=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var r=A.invert([1,0,0,0,1,0,0,0,1],e);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,n];return re.transformMat3(i,i,r),{x:i[0],y:i[1]}},pe=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,l=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,u=i*o-r*a;return{x:-(a*s-i*l)/u,y:-(r*l-o*s)/u}},ge=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},me=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n},ve=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},ye=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];i[a][s]=1,e||(i[s][a]=1)})),i},be=function(t,e){t.translate(e.x,e.y)},xe=function(t,e,n,r){void 0===r&&(r={duration:500});var i=t.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),a=e.x-o.minX,s=e.y-o.minY;if(n){var l=a*i[0],u=s*i[4],c=0,h=0,d=0,f=0;t.animate((function(t){return i=oe(i,[["t",(d=l*t)-c,(f=u*t)-h]]),c=d,h=f,{matrix:i}}),r)}else{var p=oe(i,[["t",a,s]]);t.setMatrix(p)}},_e=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e;(0,x.isArray)(e)||(r=[e,e]),(0,x.isArray)(e)&&1===e.length&&(r=[e[0],e[0]]),n=oe(n,[["s",r[0],r[1]]]),t.setMatrix(n)},we=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=oe(n,[["r",e]]),t.setMatrix(n)},Se=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r};function Me(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}var ke=function(t,e,n){var r=!1,i=t.length;function o(t){return Math.abs(t)<1e-6?0:t<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=t[a],l=t[(a+1)%i];if(Me(s,l,[e,n]))return!0;o(s[1]-n)>0!=o(l[1]-n)>0&&o(e-(n-s[1])*(s[0]-l[0])/(s[1]-l[1])-s[0])<0&&(r=!r)}return r},Ee=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},Ae=function(t,e){var n=function(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e};if(t.length<2||e.length<2)return!1;var i=n(t),o=n(e);if(!Ee(i,o))return!1;var a=!1;if((0,x.each)(e,(function(e){if(ke(t,e[0],e[1]))return a=!0,!1})),a)return!0;if((0,x.each)(t,(function(t){if(ke(e,t[0],t[1]))return a=!0,!1})),a)return!0;var s=r(t),l=r(e),u=!1;return(0,x.each)(l,(function(t){if(function(t,e){var n=!1;return(0,x.each)(t,(function(t){if(le(t.from,t.to,e.from,e.to))return n=!0,!1})),n}(s,t))return u=!0,!1})),u},Te=function(){function t(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},t}(),Ie=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},Ce=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},De=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=Ie(r,n[a]),l=s[0],u=s[1],c=s[2],h=s[3];o[a]=le({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:l,y:u},{x:c,y:h}),o[a]&&(i+=1)}return[o,i]},Ne=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=Ie(r,n[a]),l=s[0],u=s[1],c=s[2],h=s[3],d=Ce(e,new Te(l,u,c,h));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,i=d<i?d:i)}return 0===o?-1:i},Oe=function(t){var e=0,n=0;if(t.length>0){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},Le=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},Pe=function(t,e){var n,r=e.x1,i=e.y1,o=e.x2-r,a=e.y2-i,s=t.x-r,l=t.y-i,u=s*o+l*a;n=u<=0||(u=(s=o-s)*o+(l=a-l)*a)<=0?0:u*u/(o*o+a*a);var c=s*s+l*l-n;return c<0&&(c=0),c},Re=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},je=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s},ze=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e.x,s=e.y,l=[i-n,o-r];if(ie.exactEquals(l,[0,0]))return NaN;var u=[-l[1],l[0]];ie.normalize(u,u);var c=[a-n,s-r];return Math.abs(ie.dot(c,u))},Be=function(t,e,n){return t+(e-t)*n},Fe=function(t,e,n){for(var r=Math.min(t.length,e.length),i=new Array(r),o=0;o<r;o++)i[o]=Be(t[o],e[o],n);return i},Ge="rgb(95, 149, 255)",Ve="rgb(0, 0, 0)",Ze="rgb(247, 250, 255)",Ue="rgb(239, 244, 255)",He="rgb(253, 253, 253)",We="rgb(250, 250, 250)",Ye="rgb(224, 224, 224)",Xe="rgb(234, 234, 234)",qe="#4572d9",Ke={version:"0.8.20",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ge,fill:Ue},size:20,color:Ge,linkPoints:{size:8,lineWidth:1,fill:Ze,stroke:Ge}},nodeStateStyles:{active:{fill:Ze,stroke:Ge,lineWidth:2,shadowColor:Ge,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:Ge,lineWidth:4,shadowColor:Ge,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:qe,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Ze,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:We,stroke:Ye,lineWidth:1}},edgeLabel:{style:{fill:Ve,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ye,lineAppendWidth:2},color:Ye},edgeStateStyles:{active:{stroke:Ge,lineWidth:1},selected:{stroke:Ge,lineWidth:2,shadowColor:Ge,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ge,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Xe,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:Ve,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:He,lineWidth:1,stroke:Ye,r:5,width:20,height:10},size:[20,5],color:Ye,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Ge,lineWidth:1,fill:Ze},selected:{stroke:Ge,lineWidth:2,fill:He,shadowColor:Ge,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:qe,lineWidth:2,fill:He,"text-shape":{fontWeight:500}},inactive:{stroke:Ye,fill:He,lineWidth:1},disable:{stroke:Xe,fill:We,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!=typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},$e={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Je=Math.PI,Qe=Math.sin,tn=Math.cos,en=Qe(Je/8),nn=tn(Je/8),rn=function(t,e){var n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=de(r,o),i=de(i,o)}var a=r.x,s=r.y,l=i.x,u=i.y;return{x:a,y:s,minX:a,minY:s,maxX:l,maxY:u,width:l-a,height:u-s}},on=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e.getKeyShape(),i=r.getBBox(),o=t.loopCfg||{},a=o.dist||2*Math.max(i.width,i.height),s=o.position||Ke.defaultLoopPosition,l=[(i.minX+i.maxX)/2+n[6],(i.minY+i.maxY)/2+n[7]],u=[t.startPoint.x,t.startPoint.y],c=[t.endPoint.x,t.endPoint.y],h=i.height/2,d=i.width/2,f=h,p=h,g=f*en,m=f*nn,v=p*en,y=p*nn,b=r.get("type"),x=Math.min(h/2,d/2),_=Math.min(h,d),w=(null==o?void 0:o.pointPadding)?Math.min(_,null==o?void 0:o.pointPadding):x;if(u[0]===c[0]&&u[1]===c[1]){switch(s){case"top":"circle"===b?(u=[l[0]-g,l[1]-m],c=[l[0]+v,l[1]-y]):(u=[l[0]-w,l[1]-h],c=[l[0]+w,l[1]-h]);break;case"top-right":f=h,p=d,"circle"===b?(u=[l[0]+(g=f*en),l[1]-(m=f*nn)],c=[l[0]+(y=p*nn),l[1]-(v=p*en)]):(u=[l[0]+d-w,l[1]-h],c=[l[0]+d,l[1]-h+w]);break;case"right":f=d,p=d,"circle"===b?(u=[l[0]+(m=f*nn),l[1]-(g=f*en)],c=[l[0]+(y=p*nn),l[1]+(v=p*en)]):(u=[l[0]+d,l[1]-w],c=[l[0]+d,l[1]+w]);break;case"bottom-right":f=d,p=h,"circle"===b?(u=[l[0]+(m=f*nn),l[1]+(g=f*en)],c=[l[0]+(v=p*en),l[1]+(y=p*nn)]):(u=[l[0]+d,l[1]+h-w],c=[l[0]+d-w,l[1]+h]);break;case"bottom":f=h,p=h,"circle"===b?(u=[l[0]+(g=f*en),l[1]+(m=f*nn)],c=[l[0]-(v=p*en),l[1]+(y=p*nn)]):(u=[l[0]-w,l[1]+h],c=[l[0]+w,l[1]+h]);break;case"bottom-left":f=h,p=d,"circle"===b?(u=[l[0]-(g=f*en),l[1]+(m=f*nn)],c=[l[0]-(y=p*nn),l[1]+(v=p*en)]):(u=[l[0]-d,l[1]+h-w],c=[l[0]-d+w,l[1]+h]);break;case"left":f=d,p=d,"circle"===b?(u=[l[0]-(m=f*nn),l[1]+(g=f*en)],c=[l[0]-(y=p*nn),l[1]-(v=p*en)]):(u=[l[0]-d,l[1]-w],c=[l[0]-d,l[1]+w]);break;case"top-left":f=d,p=h,"circle"===b?(u=[l[0]-(m=f*nn),l[1]-(g=f*en)],c=[l[0]-(v=p*en),l[1]-(y=p*nn)]):(u=[l[0]-d+w,l[1]-h],c=[l[0]-d,l[1]-h+w]);break;default:u=[l[0]-(g=(f=d)*en),l[1]-(m=f*nn)],c=[l[0]+(v=(p=d)*en),l[1]-(y=p*nn)]}if(!1===o.clockwise){var S=[u[0],u[1]];u=[c[0],c[1]],c=[S[0],S[1]]}}var M=[u[0]-l[0],u[1]-l[1]],k=(f+a)/f,E=(p+a)/p;!1===o.clockwise&&(k=(p+a)/p,E=(f+a)/f);var A=ie.scale([0,0],M,k),T=[l[0]+A[0],l[1]+A[1]],I=[c[0]-l[0],c[1]-l[1]],C=ie.scale([0,0],I,E),D=[l[0]+C[0],l[1]+C[1]];return t.startPoint={x:u[0],y:u[1]},t.endPoint={x:c[0],y:c[1]},t.controlPoints=[{x:T[0],y:T[1]},{x:D[0],y:D[1]}],t},an=function(t,e,n,r,i){var o=1e-4,a=[],s=null==t?void 0:t.getPoint(e);if(!s)return{x:0,y:0,angle:0};if(e<o)a=t.getStartTangent().reverse();else if(e>.9999)a=t.getEndTangent();else{var l=null==t?void 0:t.getPoint(e+o);a.push([s.x,s.y]),a.push([l.x,l.y])}var u=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(u<0&&(u+=2*Je),n&&(s.x+=tn(u)*n,s.y+=Qe(u)*n),r){var c=u-Je/2;u>.5*Je&&u<1.5*Je&&(c-=Je),s.x+=tn(c)*r,s.y+=Qe(c)*r}var h={x:s.x,y:s.y,angle:u};return i?(u>.5*Je&&u<1.5*Je&&(u-=Je),(0,b.__assign)({rotate:u},h)):h},sn=function t(e,n,r,i){if(!1===i(e,n,r))return!1;if(e&&e.children)for(var o=e.children.length-1;o>=0;o--)if(!t(e.children[o],e,o,i))return!1;return!0},ln=function t(e,n,r,i){if(e&&e.children)for(var o=e.children.length-1;o>=0;o--)if(!t(e.children[o],e,o,i))return;return!1!==i(e,n,r)},un=function(t,e){"function"==typeof e&&sn(t,null,-1,e)},cn=function(t,e){"function"==typeof e&&ln(t,null,-1,e)},hn=function(t,e){return e*($e[t]||1)},dn=function(t,e){var n=0,r=new RegExp("[一-龥]+");return t.split("").forEach((function(t){r.test(t)?n+=e:n+=hn(t,e)})),[n,e]},fn=function(t,e){return"number"!=typeof e||e<=0||e>=t.length?t:t.substring(0,e)+"..."},pn=function(t,e){var n=[],r={},i={};t.forEach((function(t){i[t.id]=t})),t.forEach((function(t,e){var o=(0,x.clone)(t);o.itemType="combo",o.children=void 0,(o.parentId===o.id||o.parentId&&!i[o.parentId])&&delete o.parentId;var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var l={id:a.parentId,children:[a]};r[a.parentId]=l,r[o.id]=o}}else if((0,x.isString)(t.parentId)){var u=r[t.parentId];if(u)u.children?u.children.push(o):u.children=[o],r[o.id]=o;else{var c={id:t.parentId,children:[o]};r[c.id]=c,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(e||[]).forEach((function(t){o[t.id]=t;var e=r[t.comboId];if(e){var n={id:t.id,comboId:t.comboId};e.children?e.children.push(n):e.children=[n],n.itemType="node",r[t.id]=n}}));var a=0;return n.forEach((function(t){t.depth=a+10,un(t,(function(t){var e,n=r[t.id].itemType;e="node"===n?r[t.comboId]:r[t.parentId],t.depth=e&&"node"===n?a+1:a+10,a<t.depth&&(a=t.depth);var i=o[t.id];return i&&(i.depth=t.depth),!0}))})),n},gn=function(t,e,n){var r,i,o=t,a={root:{children:t}},s=!1,l="root";(t||[]).forEach((function(t){if(!s)return t.id===e?(i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void un(t,(function(t){var r;return a[t.id]={children:(null==t?void 0:t.children)||[]},o=null===(r=a[t.parentId||t.comboId||"root"])||void 0===r?void 0:r.children,!t||!t.removed&&e!==t.id||!o||(l=t.parentId||t.comboId||"root",i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,s=!0,!1)}))}));var u=(o=null===(r=a[l])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(u>-1&&o.splice(u,1),s||(i={id:e,itemType:"node",comboId:n},a[e]={children:void 0}),e){var c=!1;if(n){var h=0;(t||[]).forEach((function(t){c||un(t,(function(t){return n!==t.id||(c=!0,t.children?t.children.push(i):t.children=[i],h=t.depth,"node"===i.itemType?i.depth=h+2:i.depth=h+1,!1)}))}))}else n&&c||"node"===i.itemType||t.push(i);var d=i.depth;un(i,(function(t){return"node"===t.itemType?d+=2:d+=1,t.depth=d,!0}))}return t},mn=function(t,e,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||0===t.length){var i=(null==n?void 0:n.getModel())||{},o=i.x,a=i.y,s=i.fixSize,l=i.collapsed,u=i.fixCollapseSize,c=l?u:s,h=(0,x.isArray)(c)?c:[c,c],d=h[0],f=h[1],p=[d/2,f/2];return{minX:o-p[0],minY:a-p[1],maxX:o+p[0],maxY:a+p[1],x:o,y:a,width:d,height:f}}return t.forEach((function(t){var n=e.findById(t.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,"circle"===(null==n?void 0:n.getKeyShape().get("type"))&&(r.width=Math.hypot(r.height,r.width),r.height=r.width),Object.keys(r).forEach((function(t){r[t]!==1/0&&r[t]!==-1/0||(r[t]=void 0)})),r},vn=function(t){var e=(0,x.isNumber)(t.x)||(0,x.isNumber)(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||(0,x.isNumber)(t.style.r)||(0,x.isNumber)(t.style.width)||(0,x.isNumber)(t.style.height)||(0,x.isNumber)(t.style.rx)||(0,x.isNumber)(t.style.ry)),e},yn=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];if("img"!==n||(0,x.isString)(r))if((0,x.isObject)(r)&&!(0,x.isArray)(r)){var i={};Object.keys(r).forEach((function(t){var e=r[t];("img"!==t||(0,x.isString)(e))&&(i[t]=(0,x.clone)(e))})),e[n]=i}else e[n]=(0,x.clone)(r)})),e},bn=function(t){var e,n=t.animateCfg,r=t.callback;if(n)if(e=(0,x.clone)(n),n.callback){var i=n.callback;e.callback=function(){r(),i()}}else e.callback=r;else e={duration:500,callback:r};return e},xn=function(t){if(!t)return!1;var e=t.nodes,n=t.edges,r=t.combos,i=void 0===r?[]:r;if(!e&&!n){var o=!0;return un(t,(function(t){return!!(0,x.isString)(t.id)||(o=!1,!1)})),o}var a=(e||[]).find((function(t){return!(0,x.isString)(t.id)}));if(a)return!1;var s=(e||[]).map((function(t){return t.id})),l=null==i?void 0:i.map((function(t){return t.id})),u=(0,b.__spreadArray)((0,b.__spreadArray)([],s,!0),l,!0),c=(n||[]).find((function(t){return!u.includes(t.source)||!u.includes(t.target)}));return!c},_n=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;(0,x.each)(t,(function(t){(0,x.each)(t,(function(e,n){(0,x.isString)(e)&&(t[n]={type:e})}))}))},t.prototype.setBehaviors=function(t){var e,n=this.graph,r=this.modes[t],i=[];(0,x.each)(r||[],(function(t){var r=S.getBehavior(t.type||t);r&&(e=new r(t))&&(e.bind(n),i.push(e))})),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return(0,x.each)(e,(function(e){t.indexOf(e)<0&&((0,x.isString)(e)&&(e={type:e}),t.push(e))})),t},t.filterBehaviors=function(t,e){var n=[];return t.forEach((function(t){var r="";r=(0,x.isString)(t)?t:t.type,e.indexOf(r)<0&&n.push(t)})),n},t.prototype.setMode=function(t){var e=this.modes,n=this.graph,r=t;e[r]&&(n.emit("beforemodechange",{mode:t}),(0,x.each)(this.currentBehaves,(function(t){t.delegate&&t.delegate.remove(),t.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,n,r){var i,o=this;if(i=(0,x.isArray)(e)?e:[e],(0,x.isArray)(n))return(0,x.each)(n,(function(e){o.modes[e]?o.modes[e]=r?t.mergeBehaviors(o.modes[e]||[],i):t.filterBehaviors(o.modes[e]||[],i):r&&(o.modes[e]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?t.mergeBehaviors(this.modes[a]||[],i):t.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},t.prototype.updateBehavior=function(t,e,n){(0,x.isString)(t)&&(t={type:t});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,e),r[a]=s,this}}else{if(!(r=this.currentBehaves)||!r.length)return this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===t.type)return s.updateCfg(e),this}}return this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}(),wn=_n,Sn="\t\n\v\f\r   ᠎             　\u2028\u2029",Mn=new RegExp("([a-z])["+Sn+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Sn+"]*,?["+Sn+"]*)+)","ig"),kn=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Sn+"]*,?["+Sn+"]*","ig"),En=function(t){if(!t)return null;if((0,x.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(Mn,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(kn,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=e[s]&&(n.push([i].concat(a.splice(0,e[s]))),e[s]););return t})),n},An=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},Tn=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),l=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,l,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},In=function(t){if(!(t=En(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],l++,r[0]=["M",i,o]);for(var u=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=void 0,h=void 0,d=l,f=t.length;d<f;d++){if(r.push(c=[]),(e=(h=t[d])[0])!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+i,c[7]=+h[7]+o;break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(h.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(An(n,u));break;case"O":r.pop(),(n=Tn(i,o,h[1],h[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(Tn(i,o,h[1],h[2],h[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+h[1]+i,s=+h[2]+o;break;default:for(p=1,g=h.length;p<g;p++)c[p]=+h[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(h.slice(1)),r.pop(),r=r.concat(An(n,u)),c=["R"].concat(h.slice(-2));else if("O"===e)r.pop(),(n=Tn(i,o,h[1],h[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(Tn(i,o,h[1],h[2],h[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var m=0,v=h.length;m<v;m++)c[m]=h[m];if("O"!==(e=e.toUpperCase()))switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},Cn=function(t,e,n,r){return[t,e,n,r,n,r]},Dn=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},Nn=function(t,e,n,r,i,o,a,s,l,u){n===r&&(n+=1);var c,h,d,f,p,g=120*Math.PI/180,m=Math.PI/180*(+i||0),v=[],y=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(u)h=u[0],d=u[1],f=u[2],p=u[3];else{t=(c=y(t,e,-m)).x,e=c.y,s=(c=y(s,l,-m)).x,l=c.y,t===s&&e===l&&(s+=1,l+=1);var b=(t-s)/2,x=(e-l)/2,_=b*b/(n*n)+x*x/(r*r);_>1&&(n*=_=Math.sqrt(_),r*=_);var w=n*n,S=r*r,M=(o===a?-1:1)*Math.sqrt(Math.abs((w*S-w*x*x-S*b*b)/(w*x*x+S*b*b)));f=M*n*x/r+(t+s)/2,p=M*-r*b/n+(e+l)/2,h=Math.asin(((e-p)/r).toFixed(9)),d=Math.asin(((l-p)/r).toFixed(9)),h=t<f?Math.PI-h:h,d=s<f?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),a&&h>d&&(h-=2*Math.PI),!a&&d>h&&(d-=2*Math.PI)}var k=d-h;if(Math.abs(k)>g){var E=d,A=s,T=l;d=h+g*(a&&d>h?1:-1),s=f+n*Math.cos(d),l=p+r*Math.sin(d),v=Nn(s,l,n,r,i,0,a,A,T,[d,E,f,p])}k=d-h;var I=Math.cos(h),C=Math.sin(h),D=Math.cos(d),N=Math.sin(d),O=Math.tan(k/4),L=4/3*n*O,P=4/3*r*O,R=[t,e],j=[t+L*C,e-P*I],z=[s+L*N,l-P*D],B=[s,l];if(j[0]=2*R[0]-j[0],j[1]=2*R[1]-j[1],u)return[j,z,B].concat(v);for(var F=[],G=0,V=(v=[j,z,B].concat(v).join().split(",")).length;G<V;G++)F[G]=G%2?y(v[G-1],v[G],m).y:y(v[G],v[G+1],m).x;return F},On=function(t,e){var n,r=In(t),i=e&&In(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",c="",h=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(Nn.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(Dn(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(Dn(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(Cn(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(Cn(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(Cn(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(Cn(e.x,e.y,e.X,e.Y))}return t},d=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(l[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},f=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(u=r[p][0]),"C"!==u&&(s[p]=u,p&&(c=s[p-1])),r[p]=h(r[p],o,c),"A"!==s[p]&&"C"===u&&(s[p]="C"),d(r,p),i&&(i[p]&&(u=i[p][0]),"C"!==u&&(l[p]=u,p&&(c=l[p-1])),i[p]=h(i[p],a,c),"A"!==l[p]&&"C"===u&&(l[p]="C"),d(i,p)),f(r,i,o,a,p),f(i,r,a,o,p);var g=r[p],m=i&&i[p],v=g.length,y=i&&m.length;o.x=g[v-2],o.y=g[v-1],o.bx=parseFloat(g[v-4])||o.x,o.by=parseFloat(g[v-3])||o.y,a.bx=i&&(parseFloat(m[y-4])||a.x),a.by=i&&(parseFloat(m[y-3])||a.y),a.x=i&&m[y-2],a.y=i&&m[y-1]}return i?[r,i]:r},Ln=/,?([a-z]),?/gi,Pn=function(t){return t.join(",").replace(Ln,"$1")},Rn=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},jn=function(t,e,n,r,i,o,a,s,l){null===l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=u*c[f]+u,g=Rn(p,t,n,i,a),m=Rn(p,e,r,o,s),v=g*g+m*m;d+=h[f]*Math.sqrt(v)}return u*d},zn=function(t,e,n,r,i,o,a,s){for(var l,u,c,h,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*a,c=3*n-3*t):(u=6*e-12*r+6*o,l=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;(h=-c/u)>0&&h<1&&d.push(h)}else{var g=u*u-4*c*l,m=Math.sqrt(g);if(!(g<0)){var v=(-u+m)/(2*l);v>0&&v<1&&d.push(v);var y=(-u-m)/(2*l);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,_=x;x--;)b=1-(h=d[x]),f[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*i+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*r+3*b*h*h*o+h*h*h*s;return f[0][_]=t,f[1][_]=e,f[0][_+1]=a,f[1][_+1]=s,f[0].length=f[1].length=_+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},Bn=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var l=(t-n)*(o-s)-(e-r)*(i-a);if(l){var u=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/l,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/l,h=+u.toFixed(2),d=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)||d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:u,y:c}}}},Fn=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},Gn=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=Pn,o},Vn=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:Gn(t,e,n,r),vb:[t,e,n,r].join(" ")}},Zn=function(t,e,n,r,i,o,a,s){(0,x.isArray)(t)||(t=[t,e,n,r,i,o,a,s]);var l=zn.apply(null,t);return Vn(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},Un=function(t,e,n,r,i,o,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),d=l*l,f=d*l,p=t+2*l*(n-t)+d*(i-2*n+t),g=e+2*l*(r-e)+d*(o-2*r+e),m=n+2*l*(i-n)+d*(a-2*i+n),v=r+2*l*(o-r)+d*(s-2*o+r);return{x:c*t+3*h*l*n+3*u*l*l*i+f*a,y:c*e+3*h*l*r+3*u*l*l*o+f*s,m:{x:p,y:g},n:{x:m,y:v},start:{x:u*t+l*n,y:u*e+l*r},end:{x:u*i+l*a,y:u*o+l*s},alpha:90-180*Math.atan2(p-m,g-v)/Math.PI}},Hn=function(t,e,n){if(!function(t,e){return t=Vn(t),e=Vn(e),Fn(e,t.x,t.y)||Fn(e,t.x2,t.y)||Fn(e,t.x,t.y2)||Fn(e,t.x2,t.y2)||Fn(t,e.x,e.y)||Fn(t,e.x2,e.y)||Fn(t,e.x,e.y2)||Fn(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(Zn(t),Zn(e)))return n?0:[];for(var r=~~(jn.apply(0,t)/8),i=~~(jn.apply(0,e)/8),o=[],a=[],s={},l=n?0:[],u=0;u<r+1;u++){var c=Un.apply(0,t.concat(u/r));o.push({x:c.x,y:c.y,t:u/r})}for(u=0;u<i+1;u++){c=Un.apply(0,e.concat(u/i));a.push({x:c.x,y:c.y,t:u/i})}for(u=0;u<r;u++)for(var h=0;h<i;h++){var d=o[u],f=o[u+1],p=a[h],g=a[h+1],m=Math.abs(f.x-d.x)<.001?"y":"x",v=Math.abs(g.x-p.x)<.001?"y":"x",y=Bn(d.x,d.y,f.x,f.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[m]-d[m])/(f[m]-d[m]))*(f.t-d.t),x=p.t+Math.abs((y[v]-p[v])/(g[v]-p[v]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?l+=1:l.push({x:y.x,y:y.y,t1:b,t2:x}))}}return l},Wn=function(t,e){return function(t,e,n){var r,i,o,a,s,l,u,c,h,d;t=On(t),e=On(e);for(var f=n?0:[],p=0,g=t.length;p<g;p++){var m=t[p];if("M"===m[0])r=s=m[1],i=l=m[2];else{"C"===m[0]?(h=[r,i].concat(m.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,s,l,s,l],r=s,i=l);for(var v=0,y=e.length;v<y;v++){var b=e[v];if("M"===b[0])o=u=b[1],a=c=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,u,c,u,c],o=u,a=c);var x=Hn(h,d,n);if(n)f+=x;else{for(var _=0,w=x.length;_<w;_++)x[_].segment1=p,x[_].segment2=v,x[_].bez1=h,x[_].bez2=d;f=f.concat(x)}}}}}return f}(t,e)};function Yn(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var Xn=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var l=Yn(o,a/(1-a*s));i.push(l.left),o=l.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},qn=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var l=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(Xn(t[i],t[i+1],r))}),[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},Kn=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,x.each)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function $n(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var Jn=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],l=0;l<=i;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=o;u++)s[0][u]={min:u};for(l=1;l<=i;l++)for(n=t[l-1],u=1;u<=o;u++){r=e[u-1],a=Kn(n,r)?0:1;var c=s[l-1][u].min+1,h=s[l][u-1].min+1,d=s[l-1][u-1].min+a;s[l][u]=$n(c,h,d)}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var l=1;l<=r;l++){var u=n[l][l].min;s=l;for(var c=a;c<=i;c++)n[l][c].min<u&&(u=n[l][c].min,s=c);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=i-(r=t.length);if(r<i)for(l=0;l<h;l++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function Qn(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=tr(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function tr(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var er=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=tr(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=Qn(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=Qn(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=Qn(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},nr=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();function rr(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var ir="undefined"!=typeof window&&void 0!==window.document;function or(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function ar(t){return t.cfg.visible&&t.cfg.capture}var sr=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,x.mix)(r,e),n}return(0,b.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(E),lr=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},ur=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},cr=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},hr=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},dr=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},fr=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},pr=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,gr=3,mr=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],vr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function yr(t){return t?xr(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new fr:"undefined"!=typeof navigator?xr(navigator.userAgent):"undefined"!=typeof process&&process.version?new cr(process.version.slice(1)):null}function br(t){return""!==t&&mr.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function xr(t){var e=br(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new dr;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<gr&&(i=lr(lr([],i,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(gr-i.length),!0)):i=[];var o=i.join("."),a=function(t){for(var e=0,n=vr.length;e<n;e++){var r=vr[e],i=r[0];if(r[1].exec(t))return i}return null}(t),s=pr.exec(t);return s&&s[1]?new hr(n,o,a,s[1]):new ur(n,o,a)}function _r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=e[0],f=e[1],p=e[2],g=e[3],m=e[4],v=e[5],y=e[6],b=e[7],x=e[8];return n[0]=d*r+f*a+p*u,n[1]=d*i+f*s+p*c,n[2]=d*o+f*l+p*h,n[3]=g*r+m*a+v*u,n[4]=g*i+m*s+v*c,n[5]=g*o+m*l+v*h,n[6]=y*r+b*a+x*u,n[7]=y*i+b*s+x*c,n[8]=y*o+b*l+x*h,n}function wr(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function Sr(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=c*a-s*u,d=-c*o+s*l,f=u*o-a*l,p=n*h+r*d+i*f;return p?(p=1/p,e[0]=h*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=f*p,e[7]=(-u*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null}var Mr=D,kr="matrix",Er=["zIndex","capture","visible","type"],Ar=["repeat"];function Tr(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}var Ir=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,x.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,b.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if((0,x.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(rr(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(kr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(kr)},e.prototype.setMatrix=function(t){this.attr(kr,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?_r(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?_r(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?wr(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Sr(e);if(n)return wr(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[(0,x.upperFirst)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,x.each)(e,(function(t,r){(0,x.isArray)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)(0,x.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return(0,x.each)(Er,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,l,u=t[0],c=t[1],h=t[2],d=void 0===h?"easeLinear":h,f=t[3],p=void 0===f?x.noop:f,g=t[4],m=void 0===g?0:g;(0,x.isFunction)(u)?(i=u,u={}):(0,x.isObject)(u)&&u.onFrame&&(i=u.onFrame,o=u.repeat),(0,x.isObject)(c)?(c=(l=c).duration,d=l.easing||"easeLinear",m=l.delay||0,o=l.repeat||o||!1,p=l.callback||x.noop,a=l.pauseCallback||x.noop,s=l.resumeCallback||x.noop):((0,x.isNumber)(p)&&(m=p,p=null),(0,x.isFunction)(d)?(p=d,d="easeLinear"):d=d||"easeLinear");var v=function(t,e){var n={},r=e.attr();return(0,x.each)(t,(function(t,e){-1!==Ar.indexOf(e)||(0,x.isEqual)(r[e],t)||(n[e]=t)})),n}(u,this),y={fromAttrs:Tr(v,this),toAttrs:v,duration:c,easing:d,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:m,startTime:n.getTime(),id:(0,x.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=function(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return(0,x.each)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&(0,x.each)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,x.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,x.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return(0,x.each)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&or(o,n))return"break";(0,x.isArray)(s)?(0,x.each)(s,(function(t){r.emitDelegateEvent(o,t,e)})):a.emitDelegateEvent(o,s,e)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=Mr(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=Mr(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=Mr(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=Mr(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=Mr(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(sr),Cr=Ir,Dr={},Nr="_INDEX";function Or(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Or(t,e)}))}}function Lr(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Lr(t,e)}))}}var Pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return i.length>0?(0,x.each)(i,(function(i){var o=i.getBBox(),a=o.minX,s=o.maxX,l=o.minY,u=o.maxY;a<t&&(t=a),s>e&&(e=s),l<n&&(n=l),u>r&&(r=u)})):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return i.length>0?(0,x.each)(i,(function(i){var o=i.getCanvasBBox(),a=o.minX,s=o.maxX,l=o.minY,u=o.maxY;a<t&&(t=a),s>e&&(e=s),l<n&&(n=l),u>r&&(r=u)})):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,x.each)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,x.isObject)(n)?r=n:r.type=n;var i=Dr[r.type];i||(i=(0,x.upperFirst)(r.type),Dr[r.type]=i);var o=new(this.getShapeBase()[i])(r);return this.add(o),o},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,x.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{};n=new(this.getGroupBase())(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!ar(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(ar(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),rr(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&Or(t,e),r&&Lr(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();(0,x.each)(t,(function(t,e){return t[Nr]=e,t})),t.sort(function(t){return function(e,n){var r=t(e,n);return 0===r?e[Nr]-n[Nr]:r}}((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,x.each)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,x.each)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Cr),Rr=Pr,jr=n("./node_modules/d3-timer/src/timer.js");function zr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Br(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fr(){}var Gr=.7,Vr=1/Gr,Zr="\\s*([+-]?\\d+)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wr=/^#([0-9a-f]{3,8})$/,Yr=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),Xr=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),qr=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${Ur}\\)$`),Kr=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Ur}\\)$`),$r=new RegExp(`^hsl\\(${Ur},${Hr},${Hr}\\)$`),Jr=new RegExp(`^hsla\\(${Ur},${Hr},${Hr},${Ur}\\)$`),Qr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ti(){return this.rgb().formatHex()}function ei(){return this.rgb().formatRgb()}function ni(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ri(e):3===n?new ai(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ii(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ii(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Yr.exec(t))?new ai(e[1],e[2],e[3],1):(e=Xr.exec(t))?new ai(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qr.exec(t))?ii(e[1],e[2],e[3],e[4]):(e=Kr.exec(t))?ii(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$r.exec(t))?di(e[1],e[2]/100,e[3]/100,1):(e=Jr.exec(t))?di(e[1],e[2]/100,e[3]/100,e[4]):Qr.hasOwnProperty(t)?ri(Qr[t]):"transparent"===t?new ai(NaN,NaN,NaN,0):null}function ri(t){return new ai(t>>16&255,t>>8&255,255&t,1)}function ii(t,e,n,r){return r<=0&&(t=e=n=NaN),new ai(t,e,n,r)}function oi(t,e,n,r){return 1===arguments.length?((i=t)instanceof Fr||(i=ni(i)),i?new ai((i=i.rgb()).r,i.g,i.b,i.opacity):new ai):new ai(t,e,n,null==r?1:r);var i}function ai(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function si(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}`}function li(){const t=ui(this.opacity);return`${1===t?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${1===t?")":`, ${t})`}`}function ui(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ci(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hi(t){return((t=ci(t))<16?"0":"")+t.toString(16)}function di(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,n,r)}function fi(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof Fr||(t=ni(t)),!t)return new pi;if(t instanceof pi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new pi(a,s,l,t.opacity)}function pi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function gi(t){return(t=(t||0)%360)<0?t+360:t}function mi(t){return Math.max(0,Math.min(1,t||0))}function vi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function yi(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}zr(Fr,ni,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ti,formatHex:ti,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return fi(this).formatHsl()},formatRgb:ei,toString:ei}),zr(ai,oi,Br(Fr,{brighter(t){return t=null==t?Vr:Math.pow(Vr,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Gr:Math.pow(Gr,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ai(ci(this.r),ci(this.g),ci(this.b),ui(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:si,formatHex:si,formatHex8:function(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}${hi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:li,toString:li})),zr(pi,(function(t,e,n,r){return 1===arguments.length?fi(t):new pi(t,e,n,null==r?1:r)}),Br(Fr,{brighter(t){return t=null==t?Vr:Math.pow(Vr,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Gr:Math.pow(Gr,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ai(vi(t>=240?t-240:t+120,i,r),vi(t,i,r),vi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pi(gi(this.h),mi(this.s),mi(this.l),ui(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ui(this.opacity);return`${1===t?"hsl(":"hsla("}${gi(this.h)}, ${100*mi(this.s)}%, ${100*mi(this.l)}%${1===t?")":`, ${t})`}`}}));var bi=t=>()=>t;function xi(t,e){return function(n){return t+n*e}}function _i(t){return 1==(t=+t)?wi:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):bi(isNaN(e)?n:e)}}function wi(t,e){var n=e-t;return n?xi(t,n):bi(isNaN(t)?e:t)}var Si=function t(e){var n=_i(e);function r(t,e){var r=n((t=oi(t)).r,(e=oi(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=wi(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Mi(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=oi(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Mi((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return yi((n-r/e)*e,a,i,o,s)}})),Mi((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return yi((n-r/e)*e,i,o,a,s)}}));function ki(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Ei(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ai(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Li(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ti(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ii(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ci(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Li(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Di=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ni=new RegExp(Di.source,"g");function Oi(t,e){var n,r,i,o=Di.lastIndex=Ni.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Di.exec(t))&&(r=Ni.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ii(n,r)})),o=Ni.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Li(t,e){var n,r=typeof e;return null==e||"boolean"===r?bi(e):("number"===r?Ii:"string"===r?(n=ni(e))?(e=n,Si):Oi:e instanceof ni?Si:e instanceof Date?Ti:Ei(e)?ki:Array.isArray(e)?Ai:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ci:Ii)(t,e)}function Pi(t){return+t}function Ri(t){return t*t}function ji(t){return t*(2-t)}function zi(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Bi(t){return t*t*t}function Fi(t){return--t*t*t+1}function Gi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Vi=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Zi=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Ui=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Hi=Math.PI,Wi=Hi/2;function Yi(t){return 1==+t?1:1-Math.cos(t*Wi)}function Xi(t){return Math.sin(t*Wi)}function qi(t){return(1-Math.cos(Hi*t))/2}function Ki(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function $i(t){return Ki(1-+t)}function Ji(t){return 1-Ki(t)}function Qi(t){return((t*=2)<=1?Ki(1-t):2-Ki(t-1))/2}function to(t){return 1-Math.sqrt(1-t*t)}function eo(t){return Math.sqrt(1- --t*t)}function no(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ro=4/11,io=6/11,oo=8/11,ao=3/4,so=9/11,lo=10/11,uo=15/16,co=21/22,ho=63/64,fo=1/ro/ro;function po(t){return 1-go(1-t)}function go(t){return(t=+t)<ro?fo*t*t:t<oo?fo*(t-=io)*t+ao:t<lo?fo*(t-=so)*t+uo:fo*(t-=co)*t+ho}function mo(t){return((t*=2)<=1?1-go(1-t):go(t-1)+1)/2}var vo=1.70158,yo=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(vo),bo=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(vo),xo=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(vo),_o=2*Math.PI,wo=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=_o);function i(t){return e*Ki(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*_o)},i.period=function(n){return t(e,n)},i}(1,.3),So=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=_o);function i(t){return 1-e*Ki(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*_o)},i.period=function(n){return t(e,n)},i}(1,.3),Mo=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=_o);function i(t){return((t=2*t-1)<0?e*Ki(-t)*Math.sin((r-t)/n):2-e*Ki(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*_o)},i.period=function(n){return t(e,n)},i}(1,.3),ko={};var Eo=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},Ao=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},To=[1,0,0,0,1,0,0,0,1];function Io(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e._paused)return!1;var o,a=e.duration,l=e.easing,u=ko[(o=l).toLowerCase()]||s[o];if(n=n-i-e.delay,e.repeat)r=u(r=n%a/a);else{if(!((r=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=u(r)}if(e.onFrame){var c=e.onFrame(r);t.attr(c)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,l;for(var u in o)if(!(0,x.isEqual)(i[u],o[u]))if("path"===u){var c=o[u],h=i[u];c.length>h.length?(c=En(o[u]),h=En(i[u]),h=Jn(h,c),h=er(h,c),e.fromAttrs.path=h,e.toAttrs.path=c):e.pathFormatted||(c=En(o[u]),h=En(i[u]),h=er(h,c),e.fromAttrs.path=h,e.toAttrs.path=c,e.pathFormatted=!0),r[u]=[];for(var d=0;d<c.length;d++){for(var f=c[d],p=h[d],g=[],m=0;m<f.length;m++)(0,x.isNumber)(f[m])&&p&&(0,x.isNumber)(p[m])?(a=Li(p[m],f[m]),g.push(a(n))):g.push(f[m]);r[u].push(g)}}else if("matrix"===u){var v=(s=i[u]||To,(Ei(l=o[u]||To)?ki:Ai)(s,l))(n);r[u]=v}else Eo(u)&&Ao(o[u])?r[u]=o[u]:(0,x.isFunction)(o[u])||(a=Li(i[u],o[u]),r[u]=a(n));t.attr(r)}}(t,e,r);return!1}var Co=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=jr.HT((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],Io(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Do=Co,No=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Oo(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Lo(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&or(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Po=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,x.each)(No,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,x.each)(No,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new nr(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,l=n.timeStamp-this.mousedownTimeStamp,u=a.clientX-t.clientX,c=a.clientY-t.clientY;l>120||u*u+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,Oo(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Lo(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Oo(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Ro=Po,jo=yr(),zo=jo&&"firefox"===jo.name,Bo=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,b.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,x.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Ro({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Do(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");ir&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");ir&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(zo&&!(0,x.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,x.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Rr),Fo=Bo,Go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(Rr),Vo=Go,Zo=function(t){function e(e){return t.call(this,e)||this}return(0,b.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=wr(e,[t.minX,t.minY]),s=wr(e,[t.maxX,t.minY]),l=wr(e,[t.minX,t.maxY]),u=wr(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],l[0],u[0]),i=Math.max(a[0],s[0],l[0],u[0]),r=Math.min(a[1],s[1],l[1],u[1]),o=Math.max(a[1],s[1],l[1],u[1])}var c=this.attrs;if(c.shadowColor){var h=c.shadowBlur,d=void 0===h?0:h,f=c.shadowOffsetX,p=void 0===f?0:f,g=c.shadowOffsetY,m=void 0===g?0:g,v=n-d+p,y=i+d+p,b=r-d+m,x=o+d+m;n=Math.min(n,v),i=Math.max(i,y),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(Cr),Uo=new Map;function Ho(t,e){Uo.set(t,e)}function Wo(t){return Uo.get(t)}function Yo(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}function Xo(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function qo(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Ko(t,e){return Math.abs(t-e)<.001}function $o(t,e){var n=(0,x.min)(t),r=(0,x.min)(e);return{x:n,y:r,width:(0,x.max)(t)-n,height:(0,x.max)(e)-r}}function Jo(t){return(t+2*Math.PI)%(2*Math.PI)}var Qo={box:function(t,e,n,r){return $o([t,n],[e,r])},length:function(t,e,n,r){return qo(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);return a<0?qo(t,e,i,o):a>(n-t)*(n-t)+(r-e)*(r-e)?qo(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(ie.exactEquals(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];ie.normalize(s,s);var l=[i-t,o-e];return Math.abs(ie.dot(l,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function ta(t,e,n,r,i,o){var a,s=1/0,l=[n,r],u=20;o&&o>200&&(u=o/10);for(var c=1/u,h=c/10,d=0;d<=u;d++){var f=d*c,p=[i.apply(null,t.concat([f])),i.apply(null,e.concat([f]))];(y=qo(l[0],l[1],p[0],p[1]))<s&&(a=f,s=y)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(d=0;d<32&&!(h<1e-4);d++){var m=a-h,v=a+h,y=(p=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],qo(l[0],l[1],p[0],p[1]));if(m>=0&&y<s)a=m,s=y;else{var b=[i.apply(null,t.concat([v])),i.apply(null,e.concat([v]))],x=qo(l[0],l[1],b[0],b[1]);v<=1&&x<s?(a=v,s=x):h*=.5}}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}}function ea(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function na(t,e,n){var r=t+n-2*e;if(Ko(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function ra(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function ia(t,e,n,r,i,o,a){var s=ea(t,n,i,a),l=ea(e,r,o,a),u=Qo.pointAt(t,e,n,r,a),c=Qo.pointAt(n,r,i,o,a);return[[t,e,u.x,u.y,s,l],[s,l,c.x,c.y,i,o]]}function oa(t,e,n,r,i,o,a){if(0===a)return(qo(t,e,n,r)+qo(n,r,i,o)+qo(t,e,i,o))/2;var s=ia(t,e,n,r,i,o,.5),l=s[0],u=s[1];return l.push(a-1),u.push(a-1),oa.apply(null,l)+oa.apply(null,u)}var aa={box:function(t,e,n,r,i,o){var a=na(t,n,i)[0],s=na(e,r,o)[0],l=[t,i],u=[e,o];return void 0!==a&&l.push(ea(t,n,i,a)),void 0!==s&&u.push(ea(e,r,o,s)),$o(l,u)},length:function(t,e,n,r,i,o){return oa(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return ta([t,n,i],[e,r,o],a,s,ea)},pointDistance:function(t,e,n,r,i,o,a,s){var l=this.nearestPoint(t,e,n,r,i,o,a,s);return qo(l.x,l.y,a,s)},interpolationAt:ea,pointAt:function(t,e,n,r,i,o,a){return{x:ea(t,n,i,a),y:ea(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return ia(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=ra(t,n,i,a),l=ra(e,r,o,a);return Jo(Math.atan2(l,s))}};function sa(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function la(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function ua(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,u=3*e-3*t,c=[];if(Ko(s,0))Ko(l,0)||(i=-u/l)>=0&&i<=1&&c.push(i);else{var h=l*l-4*s*u;Ko(h,0)?c.push(-l/(2*s)):h>0&&(o=(-l-(a=Math.sqrt(h)))/(2*s),(i=(-l+a)/(2*s))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function ca(t,e,n,r,i,o,a,s,l){var u=sa(t,n,i,a,l),c=sa(e,r,o,s,l),h=Qo.pointAt(t,e,n,r,l),d=Qo.pointAt(n,r,i,o,l),f=Qo.pointAt(i,o,a,s,l),p=Qo.pointAt(h.x,h.y,d.x,d.y,l),g=Qo.pointAt(d.x,d.y,f.x,f.y,l);return[[t,e,h.x,h.y,p.x,p.y,u,c],[u,c,g.x,g.y,f.x,f.y,a,s]]}function ha(t,e,n,r,i,o,a,s,l){if(0===l)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=qo(t[i],e[i],t[(i+1)%r],e[(i+1)%r]);return n/2}([t,n,i,a],[e,r,o,s]);var u=ca(t,e,n,r,i,o,a,s,.5),c=u[0],h=u[1];return c.push(l-1),h.push(l-1),ha.apply(null,c)+ha.apply(null,h)}var da={extrema:ua,box:function(t,e,n,r,i,o,a,s){for(var l=[t,a],u=[e,s],c=ua(t,n,i,a),h=ua(e,r,o,s),d=0;d<c.length;d++)l.push(sa(t,n,i,a,c[d]));for(d=0;d<h.length;d++)u.push(sa(e,r,o,s,h[d]));return $o(l,u)},length:function(t,e,n,r,i,o,a,s){return ha(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,l,u,c){return ta([t,n,i,a],[e,r,o,s],l,u,sa,c)},pointDistance:function(t,e,n,r,i,o,a,s,l,u,c){var h=this.nearestPoint(t,e,n,r,i,o,a,s,l,u,c);return qo(h.x,h.y,l,u)},interpolationAt:sa,pointAt:function(t,e,n,r,i,o,a,s,l){return{x:sa(t,n,i,a,l),y:sa(e,r,o,s,l)}},divide:function(t,e,n,r,i,o,a,s,l){return ca(t,e,n,r,i,o,a,s,l)},tangentAngle:function(t,e,n,r,i,o,a,s,l){var u=la(t,n,i,a,l),c=la(e,r,o,s,l);return Jo(Math.atan2(c,u))}};function fa(t,e){var n=Math.abs(t);return e>0?n:-1*n}var pa=function(t,e,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:t,y:e};for(var l,u,c=i-t,h=o-e,d=Math.abs(c),f=Math.abs(h),p=a*a,g=s*s,m=Math.PI/4,v=0;v<4;v++){l=a*Math.cos(m),u=s*Math.sin(m);var y=(p-g)*Math.pow(Math.cos(m),3)/a,b=(g-p)*Math.pow(Math.sin(m),3)/s,x=l-y,_=u-b,w=d-y,S=f-b,M=Math.hypot(_,x),k=Math.hypot(S,w);m+=M*Math.asin((x*S-_*w)/(M*k))/Math.sqrt(p+g-l*l-u*u),m=Math.min(Math.PI/2,Math.max(0,m))}return{x:t+fa(l,c),y:e+fa(u,h)}};function ga(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function ma(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function va(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function ya(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var ba={box:function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),l=1/0,u=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var d=s+h;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(h=0;h<c.length;h++){var f=ga(t,0,n,r,i,c[h]);f<l&&(l=f),f>u&&(u=f)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,m=-1/0,v=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var y=p+h;o<a?o<y&&y<a&&v.push(y):a<y&&y<o&&v.push(y)}for(h=0;h<v.length;h++){var b=ma(0,e,n,r,i,v[h]);b<g&&(g=b),b>m&&(m=b)}return{x:l,y:g,width:u-l,height:m-g}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,l){var u=ya(s-t,l-e,-i),c=u[0],h=u[1],d=pa(0,0,n,r,c,h),f=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,d.x,d.y);f<o?d=va(n,r,o):f>a&&(d=va(n,r,a));var p=ya(d.x,d.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,o,a,s,l){var u=this.nearestPoint(t,e,n,r,s,l);return qo(u.x,u.y,s,l)},pointAt:function(t,e,n,r,i,o,a,s){var l=(a-o)*s+o;return{x:ga(t,0,n,r,i,l),y:ma(0,e,n,r,i,l)}},tangentAngle:function(t,e,n,r,i,o,a,s){var l=(a-o)*s+o,u=function(t,e,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}(0,0,n,r,i,0,0,l),c=function(t,e,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}(0,0,n,r,i,0,0,l);return Jo(Math.atan2(c,u))}};function xa(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=qo(r[0],r[1],i[0],i[1])}return e}var _a=function(t){return xa(t)};function wa(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Sa(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=wa(e,n.getCanvasBBox())),r&&(e=wa(e,r.getCanvasBBox())),e}var Ma=null;function ka(){if(!Ma){var t=document.createElement("canvas");t.width=1,t.height=1,Ma=t.getContext("2d")}return Ma}function Ea(t,e,n){var r=1;if((0,x.isString)(t)&&(r=t.split("\n").length),r>1){var i=function(t,e){return e?e-t:.14*t}(e,n);return e*r+i*(r-1)}return e}function Aa(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}var Ta=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Ia=/[^\s\,]+/gi;var Ca=function(t){var e=t||[];return(0,x.isArray)(e)?e:(0,x.isString)(e)?(e=e.match(Ta),(0,x.each)(e,(function(t,n){if((t=t.match(Ia))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}(0,x.each)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};var Da=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var s,l,u,c=function(t,e,n,r){var i,o,a,s,l,u,c,h=[],d=!!r;if(d){a=r[0],s=r[1];for(var f=0,p=t.length;f<p;f+=1){var g=t[f];a=ie.min([0,0],a,g),s=ie.max([0,0],s,g)}}f=0;for(var m=t.length;f<m;f+=1)if(g=t[f],0!==f||n)if(f!==m-1||n){i=t[[f?f-1:m-1,f-1][n?0:1]],o=t[n?(f+1)%m:f+1];var v=[0,0];v=ie.sub(v,o,i),v=ie.scale(v,v,e);var y=ie.distance(g,i),b=ie.distance(g,o),x=y+b;0!==x&&(y/=x,b/=x);var _=ie.scale([0,0],v,-y),w=ie.scale([0,0],v,b);u=ie.add([0,0],g,_),l=ie.add([0,0],g,w),l=ie.min([0,0],l,ie.max([0,0],o,g)),l=ie.max([0,0],l,ie.min([0,0],o,g)),_=ie.sub([0,0],l,g),_=ie.scale([0,0],_,-y/b),u=ie.add([0,0],g,_),u=ie.min([0,0],u,ie.max([0,0],i,g)),u=ie.max([0,0],u,ie.min([0,0],i,g)),w=ie.sub([0,0],g,u),w=ie.scale([0,0],w,b/y),l=ie.add([0,0],g,w),d&&(u=ie.max([0,0],u,a),u=ie.min([0,0],u,s),l=ie.max([0,0],l,a),l=ie.min([0,0],l,s)),h.push(c),h.push(u),c=l}else u=g,h.push(c),h.push(u);else c=g;return n&&h.push(h.shift()),h}(i,.4,r,n),h=i.length,d=[];for(o=0;o<h-1;o+=1)s=c[2*o],l=c[2*o+1],u=i[o+1],d.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return r&&(s=c[h],l=c[h+1],u=i[0],d.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),d};var Na="\t\n\v\f\r   ᠎             　\u2028\u2029",Oa=new RegExp("([a-z])["+Na+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Na+"]*,?["+Na+"]*)+)","ig"),La=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Na+"]*,?["+Na+"]*","ig");function Pa(t){if(!t)return null;if((0,x.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(Oa,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(La,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}var Ra=/[a-z]/;function ja(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function za(t){var e=Pa(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(Ra.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,l=0,u=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],u=s=+h[2],c++,o[0]=["M",a,s]);r=c;for(var d=e.length;r<d;r++){var f=e[r],p=o[r-1],g=[],m=(i=f[0]).toUpperCase();if(i!==m)switch(g[0]=m,m){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,u=+f[2]+s,g[1]=l,g[2]=u;break;default:for(var v=1,y=f.length;v<y;v++)g[v]=+f[v]+(v%2?a:s)}else g=e[r];switch(m){case"Z":a=+l,s=+u;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=ja([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,_=ja([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",_[0],_[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}Math.PI;function Ba(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Fa(t,e){return Ba(t)*Ba(e)?(t[0]*e[0]+t[1]*e[1])/(Ba(t)*Ba(e)):1}function Ga(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Fa(t,e))}function Va(t,e){return t[0]===e[0]&&t[1]===e[1]}function Za(t,e){var n=e[1],r=e[2],i=(0,x.mod)((0,x.toRadian)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,d=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,f=h*h/(n*n)+d*d/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(d*d)+r*r*(h*h),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*d/r:0,v=n?g*-r*h/n:0,y=(s+u)/2+Math.cos(i)*m-Math.sin(i)*v,b=(l+c)/2+Math.sin(i)*m+Math.cos(i)*v,_=[(h-m)/n,(d-v)/r],w=[(-1*h-m)/n,(-1*d-v)/r],S=Ga([1,0],_),M=Ga(_,w);return Fa(_,w)<=-1&&(M=Math.PI),Fa(_,w)>=1&&(M=0),0===a&&M>0&&(M-=2*Math.PI),1===a&&M<0&&(M+=2*Math.PI),{cx:y,cy:b,rx:Va(t,[u,c])?0:n,ry:Va(t,[u,c])?0:r,startAngle:S,endAngle:S+M,xRotation:i,arcFlag:o,sweepFlag:a}}function Ua(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Ha(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=Ca(t)).length,s=0;s<a;s++){var l=t[s];r=t[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null};switch(u){case"M":i=[l[1],l[2]],o=s;break;case"A":var h=Za(n,l);c.arcParams=h}if("Z"===u)n=i,r=t[o+1];else{var d=l.length;n=[l[d-2],l[d-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),c.currentPoint=n,e[o]&&Va(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var f=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=f;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var g=[l[1],l[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===u){g=Ua((y=e[s-1]).currentPoint,p);"Q"===y.command?(c.command="Q",c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var m=[l[1],l[2]],v=[l[3],l[4]];c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[m[0]-v[0],m[1]-v[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[v[0]-m[0],v[1]-m[1]])}else if("S"===u){var y;m=Ua((y=e[s-1]).currentPoint,p),v=[l[1],l[2]];"C"===y.command?(c.command="C",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]):(c.command="SQ",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]])}else if("A"===u){var b=.001,x=c.arcParams||{},_=x.cx,w=void 0===_?0:_,S=x.cy,M=void 0===S?0:S,k=x.rx,E=void 0===k?0:k,A=x.ry,T=void 0===A?0:A,I=x.sweepFlag,C=void 0===I?0:I,D=x.startAngle,N=void 0===D?0:D,O=x.endAngle,L=void 0===O?0:O;0===C&&(b*=-1);var P=E*Math.cos(N-b)+w,R=T*Math.sin(N-b)+M;c.startTangent=[P-i[0],R-i[1]];var j=E*Math.cos(N+L+b)+w,z=T*Math.sin(N+L-b)+M;c.endTangent=[p[0]-j,p[1]-z]}e.push(c)}return e}function Wa(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||(0,x.isNumberEqual)(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}Ho("rect",Yo),Ho("image",Yo),Ho("circle",Xo),Ho("marker",Xo),Ho("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=$o(n,r),s=a.x,l=a.y,u={minX:s,minY:l,maxX:s+a.width,maxY:l+a.height};return{x:(u=Sa(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}})),Ho("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return $o(n,r)})),Ho("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Aa(e));var l,u=function(t,e){var n=ka(),r=0;if((0,x.isNil)(t)||""===t)return r;if(n.save(),n.font=e,(0,x.isString)(t)&&t.includes("\n")){var i=t.split("\n");(0,x.each)(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}(i,s);if(u){var c=e.textAlign,h=e.textBaseline,d=Ea(i,o,a),f={x:n,y:r-d};c&&("end"===c||"right"===c?f.x-=u:"center"===c&&(f.x-=u/2)),h&&("top"===h?f.y+=d:"middle"===h&&(f.y+=d/2)),l={x:f.x,y:f.y,width:u,height:d}}else l={x:n,y:r,width:0,height:0};return l})),Ho("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,l=g.prePoint,u=void 0;switch(g.command){case"Q":u=aa.box(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":u=da.box(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=g.arcParams;u=ba.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}u&&(g.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var h=(0,x.min)(n),d=(0,x.min)(r),f=(0,x.max)(n),p=(0,x.max)(r);if(0===i.length)return{x:h,y:d,width:f-h,height:p-d};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===h?h-=Wa(g,e).xExtra:a[0]===f&&(f+=Wa(g,e).xExtra),a[1]===d?d-=Wa(g,e).yExtra:a[1]===p&&(p+=Wa(g,e).yExtra)}return{x:h,y:d,width:f-h,height:p-d}}(t.get("segments")||Ha(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=Sa(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),Ho("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Sa(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),Ho("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var Ya=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,b.__extends)(e,t),e}(nr),Xa=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},qa=function(t){if((0,x.isArray)(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if((0,x.isNumber)(t))return[t,t,t,t];if((0,x.isString)(t)){var e=parseInt(t,10);return[e,e,e,e]}return[0,0,0,0]},Ka=function(t){var e=new Ya(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},$a=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},Ja=function(t){return Number.isNaN(Number(t))},Qa=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY;s<e&&(e=s),l<r&&(r=l),u>n&&(n=u),c>i&&(i=c)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r,maxX:n,maxY:i}},ts=function(t,e,n,r,i){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=t.length,a=2*e,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],l={},u=[],c={},h=0;h<o;h++){var d=t[h],f=d.source,p=d.target,g="".concat(f,"-").concat(p);if(!u[h]){l[g]||(l[g]=[]),u[h]=!0,l[g].push(d);for(var m=0;m<o;m++)if(h!==m){var v=t[m],y=v.source,b=v.target;u[m]||(f===b&&p===y?(l[g].push(v),u[m]=!0,c["".concat(y,"|").concat(b,"|").concat(l[g].length-1)]=!0):f===y&&p===b&&(l[g].push(v),u[m]=!0))}}}for(var x in l)for(var _=l[x],w=_.length,S=0;S<w;S++){var M=_[S];if(M.source!==M.target)if(1===w&&r&&M.source!==M.target)M.type=r;else{M.type=n;var k=(S%2==0?1:-1)*(c["".concat(M.source,"|").concat(M.target,"|").concat(S)]?-1:1);M.curveOffset=w%2==1?k*Math.ceil(S/2)*a:k*(Math.floor(S/2)*a+e)}else i&&(M.type=i),M.loopCfg={position:s[S%8],dist:20*Math.floor(S/8)+50}}return t},es=n("./node_modules/@antv/matrix-util/lib/ext.js"),ns=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),r=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(r-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(t,e){var n,r=this.graph,i=r.get("group"),o=r.getNodes();if(o.length>r.get("optimizeThreshold")){var a=1/0,s=1/0,l=-1/0,u=-1/0;o.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;a>n&&(a=n),s>r&&(s=r),l<n&&(l=n),u<r&&(u=r)}));var c=i.getMatrix()||[1,0,0,0,1,0,0,0,1],h=de({x:a,y:s},c),d=h.x,f=h.y,p=de({x:l,y:u},c),g=p.x,m=p.y;n={minX:d,maxX:g,minY:f,maxY:m,width:g-d,height:m-f,x:d,y:f}}else n=i.getCanvasBBox();if(0!==n.width&&0!==n.height){var v=this.getViewCenter(),y=n.x+n.width/2,b=n.y+n.height/2;r.translate(v.x-y,v.y-b,t,e)}},t.prototype.animatedFitView=function(t,e,n,r,i,o,a,s){var l=this.graph;n=n||{duration:500,easing:"easeCubic"};var u=r.x+i.x-o.x-r.minX,c=r.y+i.y-o.y-r.minY;if(!Ja(u)&&!Ja(c)){var h=(0,es.vs)([1,0,0,0,1,0,0,0,1],[["t",u,c]]);if(s){var d=l.get("minZoom"),f=l.get("maxZoom"),p=a;d&&a<d?p=d:f&&a>f&&(p=f);var g=(0,es.vs)(h,[["t",-i.x,-i.y],["s",p,p],["t",i.x,i.y]]),m=bn({animateCfg:n,callback:function(){t.setMatrix(g),l.emit("viewportchange",{action:"translate",matrix:h}),l.emit("viewportchange",{action:"zoom",matrix:g})}});t.stopAnimate(),t.setMatrix(e),t.animate((function(t){return{matrix:Fe(e,g,t)}}),m)}else{var v=bn({animateCfg:n,callback:function(){l.emit("viewportchange",{action:"translate",matrix:h})}});t.animate((function(t){return{matrix:Fe(e,h,t)}}),v)}}},t.prototype.fitView=function(t,e){var n,r=this.graph,i=this.getFormatPadding(),o=r.get("width"),a=r.get("height"),s=r.get("group"),l=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var u=r.getNodes();if(u.length>r.get("optimizeThreshold")){var c=1/0,h=1/0,d=-1/0,f=-1/0;u.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;c>n&&(c=n),h>r&&(h=r),d<n&&(d=n),f<r&&(f=r)})),n={minX:c,maxX:d,minY:h,maxY:f,width:d-c,height:f-h,x:c,y:h}}else n=s.getCanvasBBox();if(0!==n.width&&0!==n.height){var p=this.getViewCenter(),g={x:n.x+n.width/2,y:n.y+n.height/2},m=(o-i[1]-i[3])/n.width,v=(a-i[0]-i[2])/n.height,y=m;if(m>v&&(y=v),t)this.animatedFitView(s,l,e,n,p,g,y,!0);else{var b=p.x-g.x,x=p.y-g.y;if(Ja(b)||Ja(x))return;r.translate(b,x),r.zoom(y,p)}}},t.prototype.fitViewByRules=function(t,e,n){var r,i=t.onlyOutOfViewPort,o=void 0!==i&&i,a=t.direction,s=void 0===a?"both":a,l=t.ratioRule,u=void 0===l?"min":l,c=this.graph,h=this.getFormatPadding(),d=c.get("width"),f=c.get("height"),p=c.get("group"),g=p.getMatrix()||[1,0,0,0,1,0,0,0,1];p.resetMatrix();var m=c.getNodes();if(m.length>c.get("optimizeThreshold")){var v=1/0,y=1/0,b=-1/0,x=-1/0;m.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;v>n&&(v=n),y>r&&(y=r),b<n&&(b=n),x<r&&(x=r)})),r={minX:v,maxX:b,minY:y,maxY:x,width:b-v,height:x-y,x:v,y:y}}else r=p.getCanvasBBox();if(0!==r.width&&0!==r.height){var _,w=this.getViewCenter(),S={x:r.x+r.width/2,y:r.y+r.height/2},M=(d-h[1]-h[3])/r.width,k=(f-h[0]-h[2])/r.height;if(_="x"===s?M:"y"===s?k:"max"===u?Math.max(M,k):Math.min(M,k),o&&(_=_<1?_:1),e)this.animatedFitView(p,g,n,r,w,S,_,!0);else{var E=c.getZoom()*_,A=c.get("minZoom");E<A&&(E=A),c.translate(w.x-S.x,w.y-S.y),c.zoomTo(E,w)}}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return qa(t)},t.prototype.focusPoint=function(t,e,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)*a[0],l=(o.y-t.y)*a[4],u=0,c=0,h=0,d=0;this.graph.get("canvas").animate((function(t){h=s*t,d=l*t,r.graph.translate(h-u,d-c),u=h,c=d}),(0,b.__assign)({},n))}else this.graph.translate((o.x-t.x)*a[0],(o.y-t.y)*a[4])},t.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),fe({x:t,y:e},n)},t.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(n.x,n.y)},t.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(t,e),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},t.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),de({x:t,y:e},n)},t.prototype.focus=function(t,e,n){if((0,x.isString)(t)&&(t=this.graph.findById(t)),t){var r=0,i=0;if(t.getType&&"edge"===t.getType()){var o=t.getSource().get("group").getMatrix(),a=t.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=t.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},e,n)}},t.prototype.focusItems=function(t,e,n,r){if(t.length){var i=this.graph,o=this.getFormatPadding(),a=i.get("width"),s=i.get("height"),l=i.get("group"),u=l.getMatrix()||[1,0,0,0,1,0,0,0,1];l.resetMatrix();for(var c={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},h=0,d=t;h<d.length;h++){var f=d[h].getBBox();f.minX<c.minX&&(c.minX=f.minX),f.minY<c.minY&&(c.minY=f.minY),f.maxX>c.maxX&&(c.maxX=f.maxX),f.maxY>c.maxY&&(c.maxY=f.maxY)}if(c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,0!==c.width&&0!==c.height){var p=this.getViewCenter(),g={x:c.x+c.width/2,y:c.y+c.height/2},m=(a-o[1]-o[3])/c.width,v=(s-o[0]-o[2])/c.height,y=m;m>v&&(y=v),n?this.animatedFitView(l,u,r,c,p,g,y,e):(i.translate(p.x-g.x,p.y-g.y),e&&i.zoom(y,p))}}},t.prototype.changeSize=function(t,e){var n=this.graph;if(!(0,x.isNumber)(t)||!(0,x.isNumber)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach((function(t){t.get("gridContainer")&&t.positionInit()}))},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}(),rs=ns;function is(t){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(t)}function os(t){if("string"!=typeof t)return t;var e=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},n=e(t);if("string"!=typeof n)return n;for(var r=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some((function(t){return r(a)===t}))},l=null,u=0,c="";u<i.length;){var h=i[u],d=s('"',"'");if(d||h.trim()){var f="\\"===i[u-1],p=s("}"),g=s("]"),m=s(","),v=r(o);if(d)if(r(a)!==h||f)c+=h;else{a.pop();var y=e(c);v.push(y),l=y,c=""}else if(g&&","===h)c&&(v.push(e(c)),c="");else if(p&&":"===h)a.push(","),c&&(v.push(c),c="");else if(m&&","===h)c&&(v.push(e(c)),c=""),a.pop();else if("}"===h&&(p||m)){c&&(v.push(e(c)),c=""),m&&a.pop();for(var b={},x=1;x<v.length;x+=2)b[v[x-1]]=v[x];o.pop(),o.length&&r(o).push(b),a.pop(),l=b}else"]"===h&&g?(c&&(v.push(e(c)),c=""),o.pop(),o.length&&r(o).push(v),a.pop(),l=v):"{"===h?(o.push([]),a.push("}")):"["===h?(o.push([]),a.push("]")):'"'===h?a.push('"'):"'"===h?a.push("'"):c+=h;u+=1}else u+=1}return l||c}var as=function(t){return t.split("-").reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}))};function ss(t,e){var n={},r=t.getAttributeNames&&t.getAttributeNames()||[],i=t.children&&Array.from(t.children).map((function(t){return ss(t,e)})),o={},a=t.tagName?t.tagName.toLowerCase():"group";return"text"===a&&(n.text=t.innerText),o.type=a,"img"===a&&(o.type="image"),Array.from(r).forEach((function(e){var r=as(e),i=t.getAttribute(e);try{if("style"===r||"attrs"===r){var a=os(i);n=(0,b.__assign)((0,b.__assign)({},n),a)}else o[r]=os(i)}catch(t){if("style"===r)throw t;o[r]=i}})),o.attrs=n,e&&e.style&&o.name&&"object"===is(e.style[o.name])&&(o.attrs=(0,b.__assign)((0,b.__assign)({},o.attrs),e.style[o.name])),e&&e.style&&o.keyshape&&(o.attrs=(0,b.__assign)((0,b.__assign)({},o.attrs),e.style)),i.length&&(o.children=i),o}function ls(t,e){var n;void 0===e&&(e={x:0,y:0});var r=(0,b.__assign)({x:0,y:0,width:0,height:0},e);if(null===(n=t.children)||void 0===n?void 0:n.length){var i=t.attrs,o=void 0===i?{}:i,a=o.marginTop,s=(0,b.__assign)({},e);a&&(s.y+=a);for(var l=0;l<t.children.length;l++){t.children[l].attrs.key="".concat(o.key||"root"," -").concat(l," ");var u=ls(t.children[l],s);if(u.bbox){var c=u.bbox;"inline"===u.attrs.next?s.x+=u.bbox.width:s.y+=u.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return t.bbox=function(t,e,n){var r,i,o=t.attrs,a=void 0===o?{}:o,s={x:e.x||0,y:e.y||0,width:n.width||0,height:n.height||0};switch(t.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=dn(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,t.attrs=(0,b.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,r),t.attrs=(0,b.__assign)((0,b.__assign)({},t.attrs),t.bbox),t}function us(t,e){var n,r,i,o,a=(t||{}).type,s=((null==e?void 0:e.attrs)||{}).key;if(s&&t&&(t.attrs.key=s),!t&&e)return{action:"delete",val:e,type:a,key:s};if(t&&!e)return{action:"add",val:t,type:a};if(!t&&!e)return{action:"same",type:a};var l=[];if((null===(n=t.children)||void 0===n?void 0:n.length)>0||(null===(r=e.children)||void 0===r?void 0:r.length)>0)for(var u=Math.max(null===(i=t.children)||void 0===i?void 0:i.length,null===(o=e.children)||void 0===o?void 0:o.length),c=e.children||[],h=t.children||[],d=0;d<u;d+=1)l.push(us(h[d],c[d]));var f=Object.keys(e.attrs),p=Object.keys(t.attrs);return e.type!==t.type?{action:"restructure",nowTarget:t,formerTarget:e,key:s,children:l}:f.filter((function(t){return"children"!==t})).some((function(n){return t.attrs[n]!==e.attrs[n]||!p.includes(n)}))?{action:"change",val:t,children:l,type:a,key:s}:{action:"same",children:l,type:a,key:s}}function cs(t){var e={},n=function(e){var n=function(t){return function(e){for(var n=t.length,r=[],i=0,o="";i<n;)if("{"===t[i]&&"{"===t[i+1])r.push(o),o="",i+=2;else if("}"===t[i]&&"}"===t[i+1]){if(r.length){var a=r.pop();o=(0,x.get)(e,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=t[i],i+=1;return r.push(o),r.map((function(t,e){return r[e-1]&&r[e-1].endsWith("=")?'"{'.concat(t,'}"'):t})).join("")}}("function"==typeof t?t(e):t)(e),r=document.createElement("div");r.innerHTML=n;var i=ls(ss(r.children[0],e));return r.remove(),i};return{draw:function(t,r){var i=n(t),o=r;return function t(e){var n=e.attrs,i=void 0===n?{}:n,a=e.bbox,s=e.type,l=e.children,u=(0,b.__rest)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var c=r.addShape(e.type,(0,b.__assign)({attrs:i,origin:{bbox:a,type:s,children:l}},u));e.keyshape&&(o=c)}e.children&&e.children.forEach((function(e){return t(e)}))}(i),e[t.id]=[i],o},update:function(t,r){e[t.id]||(e[t.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(t),s=us(a,e[t.id].pop()),l=function t(e){var n;"group"!==e.type&&i.addShape(e.type,{attrs:e.attrs}),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))},u=function t(e){var n,r=o.find((function(t){return t.attrs.key===e.attrs.key}));r&&i.removeChild(r),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))};!function t(e){var n=e.key;if("group"!==e.type){var i=o.find((function(t){return t.attrs.key===n}));switch(e.action){case"change":if(i){var a=e.val.keyshape?r.getOriginStyle():{};i.attr((0,b.__assign)((0,b.__assign)({},a),e.val.attrs))}break;case"add":l(e.val);break;case"delete":u(e.val);break;case"restructure":u(e.formerTarget),l(e.nowTarget)}}e.children&&e.children.forEach((function(e){return t(e)}))}(s),e[t.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var hs={};function ds(t){return hs[t]||(hs[t]=(0,x.upperFirst)(t)),hs[t]}var fs={defaultShapeType:"defaultType",className:null,getShape:function(t){var e=this;return e[t]||e[e.defaultShapeType]||e["simple-circle"]},draw:function(t,e,n){var r=this.getShape(t);n.shapeMap={};var i=r.draw(e,n);return r.afterDraw&&r.afterDraw(e,n,i),i},baseUpdate:function(t,e,n,r){var i,o,a=this.getShape(t);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,e,r),null===(o=a.update)||void 0===o||o.call(a,e,n,r)),a.afterUpdate&&a.afterUpdate(e,n)},setState:function(t,e,n,r){this.getShape(t).setState(e,n,r)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},ps={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},gs=function(){function t(){}return t.registerFactory=function(e,n){var r=ds(e),i=fs,o=(0,b.__assign)((0,b.__assign)({},i),n);return t[r]=o,o.className=r,o},t.getFactory=function(e){return t[ds(e)]},t.registerNode=function(e,n,r){var i,o=t.Node;if("string"==typeof n||"function"==typeof n){var a=cs(n);i=(0,b.__assign)((0,b.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=cs(n.jsx);i=(0,b.__assign)((0,b.__assign)((0,b.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):ps;i=(0,b.__assign)((0,b.__assign)({},s),n)}return i.type=e,i.itemType="node",o[e]=i,i},t.registerEdge=function(e,n,r){var i=t.Edge,o=r?i.getShape(r):ps,a=(0,b.__assign)((0,b.__assign)({},o),n);return a.type=e,a.itemType="edge",i[e]=a,a},t.registerCombo=function(e,n,r){var i=t.Combo,o=r?i.getShape(r):ps,a=(0,b.__assign)((0,b.__assign)({},o),n);return a.type=e,a.itemType="combo",i[e]=a,a},t}(),ms=gs;gs.registerFactory("node",{defaultShapeType:"circle"}),gs.registerFactory("edge",{defaultShapeType:"line"}),gs.registerFactory("combo",{defaultShapeType:"circle"});var vs="bboxCache",ys="bboxCanvasCache",bs=function(){function t(t){this._cfg={},this.destroyed=!1,this.optimize=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),r=n.id,i=this.get("type");void 0===r?r=Xa(i):"string"!=typeof r&&(r=String(r)),this.get("model").id=r,this.set("id",r);var o=t.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var l=s[a].options;if(l&&l.stateStyles){var u=this.get("styles")||n.stateStyles;u=(0,x.deepMix)({},l.stateStyles,u),this.set("styles",u)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=rn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=rn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.drawInner=function(){var t=this,e=t.get("shapeFactory"),n=t.get("group"),r=t.get("model");n.clear();var i=r.visible;if(void 0===i||i||t.changeVisibility(i),e){t.updatePosition(r);var o=t.getShapeCfg(r),a=o.type,s=e.draw(a,o,n);s&&(t.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(e,a)}},t.prototype.setOriginStyle=function(){var t=this.get("group"),e=t.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle(),s=function(t){var n=e[t],s=n.get("name"),l=n.attr();if(s&&s!==i){var u=a[s];o[s]||(o[s]={}),u?Object.keys(l).forEach((function(t){var e=l[t];e!==u[t]&&(o[s][t]=e)})):o[s]="image"!==n.get("type")?(0,x.clone)(l):r.getShapeStyleByName(s)}else{var c=n.attr(),h={};Object.keys(a).forEach((function(t){var e=a[t];t!==i&&(0,x.isPlainObject)(e)||(h[t]=e)})),Object.keys(c).forEach((function(t){var e=c[t];h[t]!==e&&(i?o[i][t]=e:o[t]=e)}))}};for(u=0;u<e.length;u++)s(u);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var l={},u=0;u<e.length;u++){var c=e[u],h=c.get("type"),d=c.get("name");if(d&&d!==i)l[d]="image"!==h?(0,x.clone)(c.attr()):r.getShapeStyleByName(d),"text"===h&&l[d]&&(delete l[d].x,delete l[d].y,delete l[d].matrix);else{var f=r.getShapeStyleByName();if(delete f.path,delete f.matrix,i)if(d)l[i]=f;else{var p=Xa("shape");c.set("name",p),t.shapeMap[p]=c,l[p]="image"!==h?(0,x.clone)(c.attr()):r.getShapeStyleByName(d)}else Object.assign(l,f)}}r.set("originStyle",l)}},t.prototype.restoreStates=function(t,e){var n=this,r=n.get("states");(0,x.each)(r,(function(r){t.setState(e,r,!0,n)}))},t.prototype.init=function(){var t=ms.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){(0,x.isPlainObject)(t)?this._cfg=(0,b.__assign)((0,b.__assign)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set(vs,null),this.set(ys,null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e,n=this.get("group");if(e=t?n.shapeMap[t]||n.find((function(e){return e.get("name")===t})):this.getKeyShape()){var r={};return(0,x.each)(e.attr(),(function(t,e){("img"!==e||(0,x.isString)(t))&&(r[e]=t)})),r}return{}},t.prototype.getShapeCfg=function(t,e){var n=this.get("styles");if(n){var r=t;return r.style=(0,b.__assign)((0,b.__assign)({},n),t.style),r}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?((0,x.each)(t.getStates(),(function(n){e=Object.assign(e,t.getStateStyle(n))})),e):this.get("originStyle")},t.prototype.setState=function(t,e){var n=this.get("states"),r=this.get("shapeFactory"),i=t,o=t;(0,x.isString)(e)&&(i="".concat(t,":").concat(e),o="".concat(t,":"));var a=n;if((0,x.isBoolean)(e)){var s=n.indexOf(o);if(e){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if((0,x.isString)(e)){var l=n.filter((function(t){return t.includes(o)}));l.length>0&&this.clearStates(l),(a=a.filter((function(t){return!t.includes(o)}))).push(i),this.set("states",a)}if(r){var u=this.get("model").type;r.setState(u,t,e,this)}},t.prototype.clearStates=function(t){var e=this,n=e.getStates(),r=e.get("shapeFactory"),i=e.get("model").type;t||(t=n),(0,x.isString)(t)&&(t=[t]);var o=n.filter((function(e){return-1===t.indexOf(e)}));e.set("states",o),t.forEach((function(t){r.setState(i,t,!1,e)}))},t.prototype.setOptimize=function(t){this.optimize=t},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},t.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.getUpdateType=function(t){},t.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model");if("move"===e)this.updatePosition(t);else{var r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var a=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,x.mix)(a,s),delete t.stateStyles}Object.assign(n,t),o.x===t.x&&o.y===t.y||this.updatePosition(t),this.updateShape(e)}this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(e.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,t);e.baseUpdate(r,i,this,t),"move"!==t&&this.setOriginStyle()}else this.draw();this.restoreStates(e,r)},t.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,r=isNaN(+t.y)?+e.y:+t.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;e.x=n,e.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),be(i,{x:n,y:r}),this.clearCache(),!0)},t.prototype.getBBox=function(){var t=this.get(vs);return t||(t=this.calculateBBox(),this.set(vs,t)),t},t.prototype.getCanvasBBox=function(){var t=this.get(ys);return t||(t=this.calculateCanvasBBox(),this.set(ys,t)),t},t.prototype.toFront=function(){this.get("group").toFront()},t.prototype.toBack=function(){this.get("group").toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),xs=bs,_s={source:"start",target:"end"},ws="Node",Ss="Point",Ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var n=_s[t]+Ss,r=t+ws,i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),(0,x.isPlainObject)(e)?(this.set(n,e),this.set(r,null)):e&&(e.addEdge(this),this.set(r,e),this.set(n,null))},e.prototype.getLinkPoint=function(t,e,n){var r=_s[t]+Ss,i=t+ws,o=this.get(r);if(!o){var a=this.get(i),s=t+"Anchor",l=this.getPrePoint(t,n),u=e[s];(0,x.isNil)(u)||(o=a.getLinkPointByAnchor(u)),o=o||a.getLinkPoint(l),(0,x.isNil)(o.index)||this.set("".concat(t,"AnchorIndex"),o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var n="source"===t?"target":"source";return this.getEndPoint(n)},e.prototype.getEndPoint=function(t){var e=t+ws,n=_s[t]+Ss,r=this.get(e);return r&&!r.destroyed?r.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=t.type;return r.getControlPoints(i,{startPoint:e,endPoint:n})},e.prototype.getEndCenter=function(t){var e=t+ws,n=_s[t]+Ss,r=this.get(e);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e,n){var r=this,i=r.get("linkCenter"),o=(null==n?void 0:n.includes("move"))?e:t.prototype.getShapeCfg.call(this,e);if(i)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var a=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",e,a),o.endPoint=r.getLinkPoint("target",e,a)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("source".concat(ws)),n=this.get("target".concat(ws));return e?delete t["source".concat(ws)]:t.source=this.get("start".concat(Ss)),n?delete t["target".concat(ws)]:t.target=this.get("end".concat(Ss)),(0,x.isString)(t.source)||(0,x.isPlainObject)(t.source)||(t.source=t.source.getID()),(0,x.isString)(t.target)||(0,x.isPlainObject)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("source"),a=this.get("target");if(o&&!o.destroyed&&a&&!a.destroyed){var s=this.get("styles");if(t.stateStyles){var l=t.stateStyles;(0,x.mix)(s,l),delete t.stateStyles}Object.assign(n,t),this.updateShape(e),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var e=this.get("source".concat(ws)),n=this.get("target".concat(ws));e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(xs),ks=Ms,Es="anchorPointsCache",As=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=ge(t[0],e),o=0;o<t.length;o++){var a=t[o],s=ge(a,e);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("target")===t}))},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("source")===t}))},e.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if("target"===t){return n.filter((function(t){return t.getSource()===e})).map((function(t){return t.getTarget()}))}if("source"===t){return n.filter((function(t){return t.getTarget()===e})).map((function(t){return t.getSource()}))}return n.map((function(t){return t.getSource()===e?t.getTarget():t.getSource()}))},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(e=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(e=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=ce({x:e,y:n,r:o.width/2},t);break;case"ellipse":a=he({x:e,y:n,rx:o.width/2,ry:o.height/2},t);break;default:a=ue(o,t)}var l=a;return s.length&&(l||(l=t),l=this.getNearestPoint(s,l)),l||(l={x:e,y:n}),l},e.prototype.getAnchorPoints=function(){var t=this.get(Es);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=e.getAnchorPoints(o,i)||[];(0,x.each)(a,(function(e,r){var i={x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height,anchorIndex:r};t.push(i)})),this.set(Es,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set(Es,null)},e.prototype.getUpdateType=function(t){var e,n,r,i,o;if(t){var a=!(0,x.isNil)(t.x),s=!(0,x.isNil)(t.y),l=Object.keys(t);return 1===l.length&&(a||s)||2===l.length&&a&&s?"move":(0,x.isNumber)(t.x)||(0,x.isNumber)(t.y)||t.type||t.anchorPoints||t.size||(null==t?void 0:t.style)&&((null===(e=null==t?void 0:t.style)||void 0===e?void 0:e.r)||(null===(n=null==t?void 0:t.style)||void 0===n?void 0:n.width)||(null===(r=null==t?void 0:t.style)||void 0===r?void 0:r.height)||(null===(i=null==t?void 0:t.style)||void 0===i?void 0:i.rx)||(null===(o=null==t?void 0:t.style)||void 0===o?void 0:o.ry))?"bbox|label":l.includes("label")||l.includes("labelCfg")?"style|label":"style"}},e.prototype.setState=function(e,n){var r=this;this.optimize?t.prototype.setState.call(this,e,n):this.runWithBBoxAffected((function(){return t.prototype.setState.call(r,e,n)}))},e.prototype.clearStates=function(e){var n=this;this.optimize?t.prototype.clearStates.call(this,e):this.runWithBBoxAffected((function(){return t.prototype.clearStates.call(n,e)}))},e.prototype.runWithBBoxAffected=function(t){var e=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),r={};Object.keys(this.getKeyShape().attr()).forEach((function(t){e.includes(t)&&(r[t]=n[t])})),t();for(var i=this.getKeyShape().attr(),o=0;o<e.length;o++){var a=e[o];if(i[a]!==r[a]){this.clearCache(),this.getEdges().forEach((function(t){return t.refresh()}));break}}},e}(xs),Ts=As,Is="bboxCache",Cs="bboxCanvasCache",Ds="sizeCache",Ns="anchorPointsCache",Os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var r=t,i=(0,x.isNumber)(t.size)?[t.size,t.size]:t.size,o=(0,x.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,a=i||o||Ke.defaultCombo.size,s={r:(Math.max(n.width,n.height)||Math.max(a[0],a[1]))/2,width:n.width||a[0],height:n.height||a[1]};r.style=(0,b.__assign)((0,b.__assign)((0,b.__assign)({},e),t.style),s);var l=t.padding||Ke.defaultCombo.padding;return(0,x.isNumber)(l)?(s.r+=l,s.width+=2*l,s.height+=2*l):(s.r=s.r+Math.max.apply(Math,l),s.width+=l[1]+l[3]||2*l[1],s.height+=l[0]+l[2]||2*l[0]),this.set(Ds,s),r}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),n=this.get(Is)||{},r=n.x,i=n.x,o=this.get(Ds),a=rn(t,e);if(a.centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2,o)o.width=Math.max(o.width,a.width),o.height=Math.max(o.height,a.height),this.set(Ds,o),"circle"===t.get("type")?(a.width=2*o.r,a.height=2*o.r):(a.width=o.width,a.height=o.height),a.minX=a.centerX-a.width/2,a.minY=a.centerY-a.height/2,a.maxX=a.centerX+a.width/2,a.maxY=a.centerY+a.height/2;else a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a.centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2;return a.x=a.minX,a.y=a.minY,a.x===r&&a.y===i||this.set(Ns,null),a}},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){return this.set(Cs,null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set(Is,null),this.set(Cs,null),this.set(Ns,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),this.set(Ds,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Ts),Ls=Os,Ps="node",Rs="edge",js="vedge",zs="combo",Bs="Mapper",Fs="stateStyles",Gs=function(){function t(t){var e=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,x.throttle)((function(t){var n=e.graph;if(n&&!n.get("destroyed")){var r=e.edgeToBeUpdateMap;if(r){var i=Object.values(r);i.length&&(i.forEach((function(t){var e=t.edge;if(e&&!e.destroyed){var n=e.getSource(),r=e.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&e.refresh(t.updateType)}})),e.edgeToBeUpdateMap={})}}}),16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var n=this.graph,r=t===js?Rs:t,i=n.get("".concat(r,"Group"))||n.get("group"),o=(0,x.upperFirst)(r),a=null,s=n.get(r+(0,x.upperFirst)(Fs))||{},l=n.get("default"+o);e[Fs]&&(s=e[Fs]),l&&(0,x.each)(l,(function(t,n){(0,x.isObject)(t)&&!(0,x.isArray)(t)?e[n]=(0,x.deepMix)({},t,e[n]):(0,x.isArray)(t)?e[n]=e[n]||(0,x.clone)(l[n]):e[n]=e[n]||l[n]}));var u=n.get(r+Bs);if(u){var c=u(e);c[Fs]&&(s=c[Fs],delete c[Fs]),(0,x.each)(c,(function(t,n){(0,x.isObject)(t)&&!(0,x.isArray)(t)?e[n]=(0,x.deepMix)({},e[n],t):e[n]=c[n]||e[n]}))}if(n.emit("beforeadditem",{type:t,model:e}),t===Rs||t===js){var h=void 0,d=void 0;if(h=e.source,d=e.target,h&&(0,x.isString)(h)&&(h=n.findById(h)),d&&(0,x.isString)(d)&&(d=n.findById(d)),!h||!d)return;h.getType&&"combo"===h.getType()&&(e.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0),a=new ks({model:e,source:h,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(t===Ps)a=new Ts({model:e,styles:s,group:i.addGroup()});else if(t===zs){var f=e.children,p=mn(f,n),g=void 0,m=void 0;if(isNaN(p.x)?isNaN(e.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(e.y)&&(m=100*Math.random()):m=p.y,isNaN(e.x)||isNaN(e.y))e.x=g,e.y=m;else{var v=e.x-g,y=e.y-m;this.updateComboSucceeds(e.id,v,y,f)}var b=i.addGroup();b.setZIndex(e.depth),a=new Ls({model:e,styles:s,animate:n.get("animate"),bbox:e.collapsed?mn([],n):p,group:b}),e.collapsed||"circle"!==a.getKeyShape().get("type")||(p.width=Math.hypot(p.height,p.width),p.height=p.width,a.set("bbox",p),a.refresh());var _=a.getModel();(f||[]).forEach((function(t){var e=n.findById(t.id);a.addChild(e),t.depth=_.depth+2}))}if(a)return a.setOptimize(n.getNodes().length>n.get("optimizeThreshold")),n.get("".concat(t,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:e}),a},t.prototype.updateItem=function(t,e){var n,r,i=this,o=this.graph;if((0,x.isString)(t)&&(t=o.findById(t)),t&&!t.destroyed){var a="";t.getType&&(a=t.getType());var s=o.get(a+Bs),l=t.getModel(),u=l.x,c=l.y,h=t.getUpdateType(e);if(s){var d=s((0,x.deepMix)({},l,e)),f=(0,x.deepMix)({},l,d,e);d[Fs]&&(t.set("styles",f[Fs]),delete f[Fs]),(0,x.each)(f,(function(t,n){e[n]=t}))}else(0,x.each)(e,(function(t,n){l[n]&&(0,x.isObject)(t)&&!(0,x.isArray)(t)&&(e[n]=(0,b.__assign)((0,b.__assign)({},l[n]),e[n]))}));if(o.emit("beforeupdateitem",{item:t,cfg:e}),a===Rs){if(e.source){var p=e.source;(0,x.isString)(p)&&(p=o.findById(p)),t.setSource(p)}if(e.target){var g=e.target;(0,x.isString)(g)&&(g=o.findById(g)),t.setTarget(g)}t.update(e)}else if(a===Ps){t.update(e,h);var m=t.getEdges();"move"===h?(0,x.each)(m,(function(t){i.edgeToBeUpdateMap[t.getID()]={edge:t,updateType:h},i.throttleRefresh()})):(null==h?void 0:h.includes("bbox"))&&(0,x.each)(m,(function(t){t.refresh(h)}))}else if(a===zs){if(t.update(e,h),!isNaN(e.x)||!isNaN(e.y)){var v=e.x-u||0,y=e.y-c||0;this.updateComboSucceeds(l.id,v,y)}var _=t.getEdges();if(((null==h?void 0:h.includes("bbox"))||"move"===h)&&a===zs){var w=t.get("shapeFactory"),S=l.type||"circle";(void 0===l.animate||void 0===e.animate?null===(r=null===(n=w[S])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:l.animate||e.animate)?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(0,x.each)(_,(function(t){t&&!t.destroyed&&t.refresh()}))}}),201):(0,x.each)(_,(function(t){t.refresh()}))}}t.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e,n){var r,i,o=this,a=this.graph;if((0,x.isString)(t)&&(t=a.findById(t)),t&&!t.destroyed){var s=t.getModel(),l=mn(e,a,t),u=l.x,c=l.y;t.set("bbox",l);var h=u,d=c;n?(h=isNaN(s.x)?u:s.x,d=isNaN(s.y)?c:s.y):(h=isNaN(u)?s.x:u,d=isNaN(c)?s.y:c),t.update({x:h,y:d});var f=t.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=f[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(t.getShapeCfg(s),o.updateComboEdges(t))}}),201):this.updateComboEdges(t)}},t.prototype.updateComboEdges=function(t){for(var e,n,r=t.getEdges()||[],i=0;i<r.length;i++){var o=r[i];(null==o?void 0:o.destroyed)||(null===(e=null==o?void 0:o.getSource())||void 0===e?void 0:e.destroyed)||(null===(n=null==o?void 0:o.getTarget())||void 0===n?void 0:n.destroyed)||o.refresh()}},t.prototype.collapseCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;(0,x.isString)(t)&&(t=n.findById(t));var r=t.getChildren();r.nodes.forEach((function(t){n.hideItem(t,e)})),r.combos.forEach((function(t){n.hideItem(t,e)}))},t.prototype.updateComboSucceeds=function(t,e,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(e||n){var a=r;if(!(null==a?void 0:a.length)){var s=o.get("comboTrees");null==s||s.forEach((function(e){un(e,(function(e){return e.id!==t||(a=e.children,!1)}))}))}null==a||a.forEach((function(t){var r=o.findById(t.id);if(r){var a=r.getModel();i.updateItem(t.id,{x:(a.x||0)+e,y:(a.y||0)+n})}}))}},t.prototype.expandCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;(0,x.isString)(t)&&(t=n.findById(t));var r=t.getChildren(),i=new Set;r.nodes.forEach((function(t){n.showItem(t,e),t.getEdges().forEach((function(t){return i.add(t)}))})),r.combos.forEach((function(t){t.getModel().collapsed?t.show():n.showItem(t,e),t.getEdges().forEach((function(t){return i.add(t)}))})),i.forEach((function(t){return t.refresh()}))},t.prototype.removeItem=function(t){var e=this,n=this.graph;if((0,x.isString)(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=(0,x.clone)(t.getModel()),i="";t.getType&&(i=t.getType()),n.emit("beforeremoveitem",{item:r,type:i});var o=n.get("".concat(i,"s")),a=o.indexOf(t);if(a>-1&&o.splice(a,1),i===Rs){var s=n.get("v".concat(i,"s")),l=s.indexOf(t);l>-1&&s.splice(l,1)}var u=t.get("id");delete n.get("itemMap")[u];var c=n.get("comboTrees"),h=t.get("id");if(i===Ps){var d=t.getModel().comboId;if(c&&d){var f=c,p=!1;c.forEach((function(t){p||un(t,(function(t){if(t.id===h&&f){var e=f.indexOf(t);return f.splice(e,1),p=!0,!1}return f=t.children,!0}))}))}for(var g=(b=t.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);d&&n.updateCombo(d)}else if(i===zs){var m,v=t.getModel().parentId,y=!1;(c||[]).forEach((function(t){y||un(t,(function(t){return t.id!==h||(m=t,y=!0,!1)}))})),m.removed=!0,m&&m.children&&m.children.forEach((function(t){e.removeItem(t.id)}));var b;for(g=(b=t.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);v&&n.updateCombo(v)}t.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},t.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;(0,x.isString)(n)&&(i="".concat(e,":").concat(n)),t.hasState(i)===n&&n||(0,x.isString)(n)&&t.hasState(i)||(r.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},t.prototype.priorityState=function(t,e){var n=this.graph,r=t;(0,x.isString)(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},t.prototype.clearItemStates=function(t,e){var n=this.graph;(0,x.isString)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;(0,x.isString)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var n=this,r=this.graph;(t||[]).forEach((function(t){cn(t,(function(t){var r;return e.forEach((function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,r=e)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var n=this,r=this.graph;if((0,x.isString)(t)&&(t=r.findById(t)),t){if(r.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&t.getType()===Ps){var i=t.getEdges();(0,x.each)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}else if(t.getType&&t.getType()===zs){var o=r.get("comboTrees"),a=t.get("id"),s=[],l=!1;(o||[]).forEach((function(t){l||t.children&&0!==t.children.length&&un(t,(function(t){return t.id!==a||(s=t.children,l=!0,!1)}))})),s&&(!e||e&&!t.getModel().collapsed)&&s.forEach((function(t){var i=r.findById(t.id);n.changeItemVisibility(i,e)}));i=t.getEdges();(0,x.each)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}return r.emit("afteritemvisibilitychange",{item:t,visible:e}),t}},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),Vs=Gs,Zs=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.updateState=function(t,e,n){var r=this.graph.get("states"),i=e;(0,x.isString)(n)&&(i="".concat(e,":").concat(n)),r[i]||(r[i]=[]),n?r[i].push(t):r[i]=r[i].filter((function(e){return e!==t})),this.graph.set("states",r),this.graph.emit("graphstatechange",{states:r})},t.prototype.updateStates=function(t,e,n){var r=this.graph.get("states");((0,x.isString)(e)?[e]:e).forEach((function(e){var i=e;r[i]||(r[i]=[]),(0,x.isString)(n)&&(i="".concat(e,":").concat(n)),n?r[i].push(t):r[i]=r[i].filter((function(e){return e!==t}))})),this.graph.set("states",r),this.graph.emit("graphstatechange",{states:e})},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),Us=Zs,Hs=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){if("\\"===t.charAt(0))return t.slice(1);var r=e[n];return 0===r&&(r="0"),r||""})):t},Ws=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,a=i.y;e.push(o),e.push(a)}var s=Da(e);return s.unshift(["M",t[0].x,t[0].y]),s},Ys=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];ie.normalize(o,[e.x-t.x,e.y-t.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},Xs=function(t,e){var n=t.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=t[i];r+=Hs(0===i?"M{x} {y}":"L{x} {y}",o)}return e&&(r+="Z"),r},qs=function(t){var e=[];return t.forEach((function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e},Ks=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(r),t.unshift(i),t.push(e),t.push(n);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,l=t[a-1].y,u=t[a].x,c=t[a].y,h=t[a+1].x,d=t[a+1].y,f=u+(h-s)/6,p=c+(d-l)/6,g=h-((a!==t.length-2?t[a+2].x:h)-u)/6,m=d-((a!==t.length-2?t[a+2].y:d)-c)/6;o.push(["C",f,p,g,m,h,d])}return o.unshift(["M",r.x,r.y]),o},$s=function(t,e){return ie.scale([0,0],ie.normalize([0,0],t),e)},Js=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},Qs=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function tl(t,e){if(!t||t.length<1)return"";if(1===t.length)return function(t){var n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e];return"M ".concat(n," A ").concat(e,",").concat(e,",0,0,0,").concat(r," A ").concat(e,",").concat(e,",0,0,0,").concat(n)}(t);if(2===t.length)return function(t){var n=ie.scale([0,0],Js(t[0],t[1]),e),r=ie.scale([0,0],n,-1),i=ie.add([0,0],t[0],n),o=ie.add([0,0],t[1],n),a=ie.add([0,0],t[1],r),s=ie.add([0,0],t[0],r);return"M ".concat(i," L ").concat(o," A ").concat([e,e,"0,0,0",a].join(",")," L ").concat(s," A ").concat([e,e,"0,0,0",i].join(","))}(t);for(var n=new Array(t.length),r=0;r<n.length;++r){var i=0===r?t[t.length-1]:t[r-1],o=t[r],a=ie.scale([0,0],Js(i,o),e);n[r]=[ie.add([0,0],i,a),ie.add([0,0],o,a)]}var s="A ".concat([e,e,"0,0,0,"].join(","));return(n=n.map((function(t,e){var r="";return 0===e&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+t[0]," L ").concat(t[1])}))).join(" ")}function el(t,e){var n,r,i,o=t.length;if(!t||o<1)return"";if(1===o)return r=[(n=t)[0][0],n[0][1]-e],i=[n[0][0],n[0][1]+e],"M ".concat(r," A ").concat([e,e,"0,0,0",i].join(",")," A ").concat([e,e,"0,0,0",r].join(","));if(2===o)return function(t){var n=Qs(t[0],t[1]),r=$s(n,e),i=ie.add([0,0],t[0],ie.scale([0,0],r,-1)),o=ie.add([0,0],t[1],r),a=1.2*e,s=$s(ie.normalize([0,0],n),a),l=ie.scale([0,0],s,-1),u=ie.add([0,0],i,l),c=ie.add([0,0],o,l),h=ie.add([0,0],i,s);return"M ".concat(i," C ").concat([u,c,o].join(",")," S ").concat([h,i].join(",")," Z")}(t);for(var a=t.map((function(e,n){var r=t[(n+1)%o];return{p:e,v:ie.normalize([0,0],Qs(e,r))}})),s=0;s<a.length;++s){var l=s>0?s-1:o-1,u=ie.normalize([0,0],ie.add([0,0],a[l].v,ie.scale([0,0],a[s].v,-1)));a[s].p=ie.add([0,0],a[s].p,ie.scale([0,0],u,e))}return a.map((function(t){var e=t.p;return{x:e[0],y:e[1]}}))}var nl=function(t,e){for(var n=[],r=0;r<5;r++){var i=Math.cos((18+72*r)/180*Math.PI)*t,o=Math.sin((18+72*r)/180*Math.PI)*t,a=Math.cos((54+72*r)/180*Math.PI)*e,s=Math.sin((54+72*r)/180*Math.PI)*e;0===r?n.push(["M",i,-o]):n.push(["L",i,-o]),n.push(["L",a,-s])}return n.push(["Z"]),n},rl=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},il=function(t){var e=t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}}));e.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x}));for(var n={},r=e.length-1;r>=0;r--){var i=e[r],o=i.x,a=i.y;n["".concat(o,"-").concat(a)]&&e.splice(r,1),n["".concat(o,"-").concat(a)]=!0}if(1===e.length)return e;var s=[];for(r=0;r<e.length;r++){for(;s.length>=2&&rl(s[s.length-2],s[s.length-1],e[r])<=0;)s.pop();s.push(e[r])}var l=[];for(r=e.length-1;r>=0;r--){for(;l.length>=2&&rl(l[l.length-2],l[l.length-1],e[r])<=0;)l.pop();l.push(e[r])}return l.pop(),s.pop(),s.concat(l)},ol={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function al(t,e,n){var r=!1,i=function(t,n){return e.cells[t+n*e.width]},o=function(t,e){var r=0;return i(t-1,e-1)>=n&&(r+=1),i(t,e-1)>n&&(r+=2),i(t-1,e)>n&&(r+=4),i(t,e)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,l=r,u=0;u<e.width*e.height;u++){if(i=s,a=l,t.findIndex((function(t){return t.x===s&&t.y===l}))>-1){if(t[0].x===s&&t[0].y===l)return!0}else t.push({x:s,y:l});switch(o(s,l)){case-1:return!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:l--;break;case 9:1===i&&(0===a?l-=1:l+=1);break;case 10:case 8:case 11:l++;break;default:return!0}}};this.march=function(){for(var t=0;t<e.width&&!r;t+=1)for(var s=0;s<e.height&&!r;s+=1)i(t,s)>n&&15!==o(t,s)&&(r=a(t,s));return r}}var sl=function(t,e){var n=Number.POSITIVE_INFINITY,r=null;return t.forEach((function(t){var i=Ne(t,e);i>=0&&i<n&&(r=t,n=i)})),r};function ll(t,e,n,r,i){var o=function(t,e,n){var r=null,i=Number.POSITIVE_INFINITY;return e.forEach((function(e){var o={x:t.getModel().x,y:t.getModel().y},a={x:e.getModel().x,y:e.getModel().y},s=Le(o,a),l=new Te(o.x,o.y,a.x,a.y),u=n.reduce((function(t,e){return Ne(e,l)>0?t+1:t}),0);s*Math.pow(u+1,2)<i&&(r=e,i=s*Math.pow(u+1,2))})),r}(t,n,e);if(null===o)return[];var a=function(t,e,n,r){var i=[],o=[];o.push(t);for(var a=!0,s=0,l=function(t,e){var n=!1;return e.forEach((function(e){n||(Re(t,{x:e.x1,y:e.y1})||Re(t,{x:e.x2,y:e.y2}))&&(n=!0)})),n},u=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(ke(o,t.x,t.y))return!0}return!1};a&&s<n;){a=!1;for(var c=function(){var t=o.pop(),n=sl(e,t);if(n){var c=De(n,t),h=c[0];if(2===c[1]){var d=function(s){for(var c=r,d=hl(n,c,h,s),f=l(d,o)||l(d,i),p=u(d,e);!f&&p&&c>=1;)d=hl(n,c/=1.5,h,s),f=l(d,o)||l(d,i),p=u(d,e);!d||f||s&&p||(o.push(new Te(t.x1,t.y1,d.x,d.y)),o.push(new Te(d.x,d.y,t.x2,t.y2)),a=!0)};d(!0),a||d(!1)}}a||i.push(t),s+=1};!a&&o.length;)c()}for(;o.length;)i.push(o.pop());return i}(new Te(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y),e,r,i),s=function(t){for(var n=[];t.length>0;){var r=t.pop();if(0===t.length){n.push(r);break}var i=t.pop(),o=new Te(r.x1,r.y1,i.x2,i.y2);sl(e,o)?(n.push(r),t.push(i)):t.push(o)}return n}(a);return s}var ul=function(t,e,n){var r=Object.assign(ol,n),i=Oe(t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}})));t=t.sort((function(t,e){return Le({x:t.getModel().x,y:t.getModel().y},i)-Le({x:e.getModel().x,y:e.getModel().y},i)}));var o=[],a=[];t.forEach((function(t){ll(t,e,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(t){a.push(t)})),o.push(t)}));for(var s,l,u,c,h,d=function(t,e,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach((function(t){i.push(t.getBBox())})),e.forEach((function(t){i.push(t.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(t,a,r.nodeR0),f=(s=d.width,l=d.height,u=r.pixelGroupSize,c=Math.ceil(s/u),h=Math.ceil(l/u),{cells:new Float32Array(Math.max(0,c*h)).fill(0),width:c,height:h}),p=[],g=[],m=0;m<r.maxMarchingIterations;m++)if(cl(t,e,a,d,f,r),g=[],new al(p=[],f,r.threshold).march()){var v=p.map((function(t){return{x:Math.round(t.x*r.pixelGroupSize+d.minX),y:Math.round(t.y*r.pixelGroupSize+d.minY)}}));if(v){var y=v.length;if(r.skip>1)for(y=Math.floor(v.length/r.skip);y<3&&r.skip>1;)r.skip-=1,y=Math.floor(v.length/r.skip);for(var b=0,x=0;x<y;x+=1,b+=r.skip)g.push({x:v[b].x,y:v[b].y})}if(g&&function(){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=g.map((function(t){return[t.x,t.y]}));if(!ke(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return g;if(r.threshold*=.9,m<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&e.length>0))break;r.nonMemberInfluenceFactor*=.8}}return g};function cl(t,e,n,r,i,o){function a(t,e){var n=Math.floor((t-e)/o.pixelGroupSize);return n<0?0:n}function s(t,e){return t*o.pixelGroupSize+e}var l=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),u=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(t,e){return[Math.min(a(t.minX,e+r.minX),i.width),Math.min(a(t.minY,e+r.minY),i.height),Math.min(a(t.maxX,-e+r.minX),i.width),Math.min(a(t.maxY,-e+r.minY),i.height)]},h=function(t,e){for(var n=t.getBBox(),a=c(n,o.nodeR1),l=a[0],u=a[1],h=a[2],d=a[3],f=u;f<d;f+=1)for(var p=l;p<h;p+=1)if(!(e<0&&i[p+f*i.width]<=0)){var g=s(p,r.minX),m=s(f,r.minY),v=je({x:g,y:m},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(v<Math.pow(o.nodeR1,2)){var y=Math.sqrt(v)-o.nodeR1;i.cells[p+f*i.width]+=e*y*y}}};o.nodeInfluenceFactor&&t.forEach((function(t){h(t,o.nodeInfluenceFactor/l)})),o.edgeInfluenceFactor&&n.forEach((function(t){!function(t,e){for(var n=t.getBBox(),a=c(n,o.edgeR1),l=a[0],u=a[1],h=a[2],d=a[3],f=u;f<d;f+=1)for(var p=l;p<h;p+=1)if(!(e<0&&i.cells[p+f*i.width]<=0)){var g=s(p,r.minX),m=s(f,r.minY),v=Pe({x:g,y:m},t);if(v<Math.pow(o.edgeR1,2)){var y=Math.sqrt(v)-o.edgeR1;i.cells[p+f*i.width]+=e*y*y}}}(t,o.edgeInfluenceFactor/u)})),o.negativeNodeInfluenceFactor&&e.forEach((function(t){h(t,o.negativeNodeInfluenceFactor/l)}))}function hl(t,e,n,r){var i=t.getBBox(),o=n[0],a=n[1],s=n[2],l=n[3],u={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},c=i.height*i.width;function h(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(a)return o?r?u.topLeft:u.bottomRight:s?r?u.bottomLeft:u.topRight:h(a,l)<.5*c?a.y>l.y?r?u.topLeft:u.bottomRight:r?u.topRight:u.bottomLeft:a.y<l.y?r?u.bottomLeft:u.topRight:r?u.bottomRight:u.topLeft;if(l){if(o)return r?u.topRight:u.bottomLeft;if(s)return r?u.bottomRight:u.topLeft}return h(o,s)<.5*c?o.x>s.x?r?u.topLeft:u.bottomRight:r?u.bottomLeft:u.topRight:o.x<s.x?r?u.topRight:u.bottomLeft:r?u.bottomRight:u.topLeft}var dl=function(){function t(t,e){this.cfg=(0,x.deepMix)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(e){return(0,x.isString)(e)?t.findById(e):e})),this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,x.isString)(e)?t.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(this.type="round-convex")},t.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case"round-convex":r=Pa(i=tl((n=il(t)).map((function(t){return[t.x,t.y]})),this.padding));break;case"smooth-convex":2===(n=il(t)).length?r=Pa(i=tl(n.map((function(t){return[t.x,t.y]})),this.padding)):n.length>2&&(i=el(n.map((function(t){return[t.x,t.y]})),this.padding),r=Ks(i));break;case"bubble":r=(n=ul(t,e,this.cfg.bubbleCfg)).length>=2&&Ks(n)}return r},t.prototype.render=function(){this.group.addShape("path",{attrs:(0,b.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},t.prototype.addMember=function(t){if(t){(0,x.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){(0,x.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){(0,x.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){(0,x.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map((function(t){return(0,x.isString)(t)?n.graph.findById(t):t}))),e&&(this.nonMembers=e.map((function(t){return(0,x.isString)(t)?n.graph.findById(t):t}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr((0,b.__assign)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=(0,x.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map((function(t){return(0,x.isString)(t)?e.graph.findById(t):t}))),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,x.isString)(t)?e.graph.findById(t):t}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,n,r=this,i=(e=(0,x.isString)(t)?this.graph.findById(t):t).getKeyShape();if("path"===e.get("type"))n=qs(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(t){var e=r.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]})),Ae(n,qs(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),fl=dl,pl=D,gl=function(t){function e(e){var n=t.call(this)||this;return n.sortCombos=(0,x.debounce)((function(){var t=n.get("comboSorted");if(n&&!n.destroyed&&!t){n.set("comboSorted",!0);var e=[],r={};(n.get("comboTrees")||[]).forEach((function(t){un(t,(function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],r[t.id]=t.depth,!0}))})),(n.getEdges().concat(n.get("vedges"))||[]).forEach((function(t){var n=t.getModel(),i=r[n.source]||0,o=r[n.target]||0,a=Math.max(i,o);e[a]?e[a].push(n.id):e[a]=[n.id]})),e.forEach((function(t){if(t&&t.length)for(var e=t.length-1;e>=0;e--){var r=n.findById(t[e]);r&&r.toFront()}}))}}),500,!1),n.cfg=(0,x.deepMix)(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new te(n.cfg.maxStep),n.redoStack=new te(n.cfg.maxStep)),n}return(0,b.__extends)(e,t),e.prototype.init=function(){this.initCanvas();var t=new rs(this),e=new wn(this),n=new Vs(this),r=new Us(this);this.set({viewController:t,modeController:e,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var e=(t.get("el")||{}).id,n=void 0===e?"g6":e,r=t.addGroup({id:"".concat(n,"-root"),className:Ke.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:Ke.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:Ke.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:Ke.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:Ke.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,e){return(0,x.isPlainObject)(t)?this.cfg=(0,b.__assign)((0,b.__assign)({},this.cfg),t):this.cfg[t]=e,"enabledStack"!==t||!e||this.undoStack||this.redoStack||(this.undoStack=new te(this.cfg.maxStep),this.redoStack=new te(this.cfg.maxStep)),this},e.prototype.get=function(t){var e;return null===(e=this.cfg)||void 0===e?void 0:e[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){(0,x.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},e.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var n,r=this.get("".concat(t,"s"));return(0,x.each)(r,(function(t,r){if(e(t,r))return n=t})),n},e.prototype.findAll=function(t,e){var n=[];return(0,x.each)(this.get("".concat(t,"s")),(function(t,r){e(t,r)&&n.push(t)})),n},e.prototype.findAllByState=function(t,e,n){return n?this.findAll(t,(function(t){return t.hasState(e)&&n(t)})):this.findAll(t,(function(t){return t.hasState(e)}))},e.prototype.translate=function(t,e,n,r){var i=this,o=this.get("group"),a=(0,x.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=bn({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});xe(o,{x:o.getCanvasBBox().x+t,y:o.getCanvasBBox().y+e},n,s||{duration:500,easing:"easeCubic"})}else a=pl(a,[["t",t,e]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},e.prototype.moveTo=function(t,e,n,r){var i=this.get("group");xe(i,{x:t,y:e},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},e.prototype.fitView=function(t,e,n,r){t&&this.set("fitViewPadding",t);var i=this.get("viewController");e?i.fitViewByRules(e,n,r):i.fitView(n,r),this.autoPaint()},e.prototype.fitCenter=function(t,e){this.get("viewController").fitCenter(t,e),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.prototype.updateBehavior=function(t,e,n){return this.get("modeController").updateBehavior(t,e,n),this},e.prototype.zoom=function(t,e,n,r){var i=this,o=this.get("group"),a=(0,x.clone)(o.getMatrix())||[1,0,0,0,1,0,0,0,1],s=this.get("minZoom"),l=this.get("maxZoom"),u=this.getZoom()||1,c=u*t,h=t,d=!1;if(s&&c<s?(h=s/u,d=!0):l&&c>l&&(h=l/u,d=!0),a=pl(a,e?[["t",-e.x,-e.y],["s",h,h],["t",e.x,e.y]]:[["s",h,h]]),n){var f=(0,x.clone)(o.getMatrix());f||(f=[1,0,0,0,1,0,0,0,1]);var p=f[0],g=p*h,m=bn({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate((function(t){if(1===t)f=a;else{var n=Be(p,g,t)/f[0];f=pl(f,e?[["t",-e.x,-e.y],["s",n,n],["t",e.x,e.y]]:[["s",n,n]])}return{matrix:f}}),m)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!d},e.prototype.zoomTo=function(t,e,n,r){var i=t/this.getZoom();return this.zoom(i,e,n,r)},e.prototype.focusItem=function(t,e,n){var r=this.get("viewController"),i=!1;e?i=!0:void 0===e&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(t,i,o),this.autoPaint()},e.prototype.focusItems=function(t,e,n,r){this.get("viewController").focusItems(t,e,n,r)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if((0,x.isString)(t)&&(n=this.findById(t)),!n&&(0,x.isString)(t));else if(n){var r="";if(n.getType&&(r=n.getType()),e&&this.get("enabledStack")){var i=(0,b.__assign)((0,b.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push((0,b.__assign)((0,b.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var l=gn(this.get("comboTrees"));this.set("comboTrees",l)}}},e.prototype.innerAddItem=function(t,e,n){if(!function(t,e){if("node"===t||"combo"===t){if(e.id&&!(0,x.isString)(e.id))return!1}else if(!("edge"!==t||e.source&&e.target))return!1;return!0}(t,e))return!1;if(!e.id||!this.findById(e.id)){var r,i=this.get("comboTrees")||[];if("combo"===t){var o=this.get("itemMap"),a=!1;if(i.forEach((function(i){a||cn(i,(function(i){if(e.parentId===i.id){a=!0;var s=(0,b.__assign)({id:e.id,depth:i.depth+2},e);i.children?i.children.push(s):i.children=[s],e.depth=s.depth,r=n.addItem(t,e)}var l=o[i.id];return a&&l&&l.getType&&"combo"===l.getType()&&n.updateCombo(l,i.children),!0}))})),!a){var s=(0,b.__assign)({id:e.id,depth:0},e);e.depth=s.depth,i.push(s),r=n.addItem(t,e)}this.set("comboTrees",i),e.collapsed&&(this.collapseCombo(r,!1),this.updateCombo(r))}else if("node"===t&&(0,x.isString)(e.comboId)&&i){var l;(l=this.findById(e.comboId))&&l.getType&&l.getType(),r=n.addItem(t,e);var u=this.get("itemMap"),c=!1,h=!1;i.forEach((function(t){h||c||cn(t,(function(t){if(t.id===e.id)return h=!0,!1;if(e.comboId===t.id&&!h){c=!0;var r=(0,x.clone)(e);r.itemType="node",t.children?t.children.push(r):t.children=[r],r.depth=t.depth+1}return c&&u[t.id].getType&&"combo"===u[t.id].getType()&&n.updateCombo(u[t.id],t.children),!0}))}))}else r=n.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId)(l=this.findById(e.comboId||e.parentId))&&l.getType&&"combo"===l.getType()&&l.addChild(r);return r}},e.prototype.addItem=function(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController"),a=this.innerAddItem(t,e,o);if(!1===a||!0===a)return a;var s=this.get("combos");if(s&&s.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var l=(0,b.__assign)((0,b.__assign)({},a.getModel()),{itemType:t}),u={};switch(t){case"node":u.nodes=[l];break;case"edge":u.edges=[l];break;case"combo":u.combos=[l]}this.pushStack("add",{before:{},after:u})}return a},e.prototype.addItems=function(t,e,n){void 0===t&&(t=[]),void 0===e&&(e=!0),void 0===n&&(n=!0);var r=this.get("comboSorted");this.set("comboSorted",r&&!n);for(var i=this.get("itemController"),o=[],a=0;a<t.length;a++){"edge"!==(s=t[a]).type&&"vedge"!==s.type?o.push(this.innerAddItem(s.type,s.model,i)):o.push(void 0)}for(a=0;a<t.length;a++){var s;"edge"!==(s=t[a]).type&&"vedge"!==s.type||(o[a]=this.innerAddItem(s.type,s.model,i))}if(n){var l=this.get("combos");l&&l.length>0&&this.sortCombos()}if(this.autoPaint(),e&&this.get("enabledStack")){var u={nodes:[],edges:[],combos:[]};for(a=0;a<t.length;a++){var c=t[a].type,h=o[a];if(h&&!0!==h){var d=(0,b.__assign)((0,b.__assign)({},h.getModel()),{itemType:c});switch(c){case"node":u.nodes.push(d);break;case"edge":u.edges.push(d);break;case"combo":u.combos.push(d)}}}this.pushStack("addItems",{before:{},after:u})}return o},e.prototype.add=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(t,e,n,r)},e.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=(0,x.isString)(t)?this.findById(t):t;var a,s=n&&this.get("enabledStack");s&&(a=(0,x.clone)(i.getModel()));var l="";i.getType&&(l=i.getType());var u=(0,b.__spreadArray)([],i.getStates(),!0);if("combo"===l&&(0,x.each)(u,(function(t){return r.setItemState(i,t,!1)})),o.updateItem(i,e),"combo"===l&&(0,x.each)(u,(function(t){return r.setItemState(i,t,!0)})),s){var c={nodes:[],edges:[],combos:[]},h={nodes:[],edges:[],combos:[]},d=(0,b.__assign)({id:a.id},e);switch(l){case"node":c.nodes.push(a),h.nodes.push(d);break;case"edge":c.edges.push(a),h.edges.push(d);break;case"combo":c.combos.push(a),h.combos.push(d)}this.pushStack("update",{before:c,after:h})}},e.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},e.prototype.setItemState=function(t,e,n){(0,x.isString)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n),this.get("stateController").updateState(t,e,n)},e.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},e.prototype.data=function(t){xn(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i,a=e.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),t.addItems(r.map((function(t){return{type:"node",model:t}})),!1,!1),0!==(null==s?void 0:s.length)){var l=pn(s,r);this.set("comboTrees",l),t.addCombos(s)}t.addItems(o.map((function(t){return{type:"edge",model:t}})),!1,!1);var u=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var c=t.get("layoutController");if(c){if(c.layout(h),this.destroyed)return}else h();function h(){(t.get("comboTrees")||[]).forEach((function(e){cn(e,(function(e){var n=t.findById(e.id);return"combo"===n.getType()&&e.collapsed&&(t.collapseCombo(e.id,!1),t.updateCombo(n)),!0}))})),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",u),setTimeout((function(){var e;null===(e=t.getCombos())||void 0===e||e.forEach((function(t){t.set("animate",!0)}))}),0)}this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():e.nodes&&e.edges&&e.nodes.length<e.edges.length?this.getNodes().forEach((function(t){t.toFront()})):this.getEdges().forEach((function(t){t.toBack()})))},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,n){var r,i=this,o=this.get("itemMap");(0,x.each)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===t){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(t,n,!1);r&&e["".concat(t,"s")].push(r)}))},e.prototype.changeData=function(t,e){var n,r=this;void 0===e&&(e=!0);var i=this,o=t||i.get("data");if(!xn(o))return this;this.emit("beforechangedata"),e&&this.get("enabledStack")&&this.pushStack("changedata",{before:i.save(),after:o}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(t){return i.clearItemStates(t)})),this.getEdges().map((function(t){return i.clearItemStates(t)}));var a=this.get("canvas"),s=a.get("localRefresh");a.set("localRefresh",!1),i.get("data")||(i.data(o),i.render());var l=this.get("itemMap"),u={nodes:[],edges:[]},c=o.combos;if(c){var h=pn(c,o.nodes);this.set("comboTrees",h)}else this.set("comboTrees",[]);this.diffItems("node",u,o.nodes),(0,x.each)(l,(function(t,e){l[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete l[e],t.destroy()):u.nodes.indexOf(t)<0&&(delete l[e],i.remove(t,!1)))}));for(var d=this.getCombos(),f=d.length-1;f>=0;f--)d[f].destroyed&&d.splice(f,1);c&&(i.addCombos(c),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",u,o.edges),(0,x.each)(l,(function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&u.edges.indexOf(t)<0&&(delete l[e],i.remove(t,!1))})),(this.get("comboTrees")||[]).forEach((function(t){cn(t,(function(t){return"combo"===r.findById(t.id).getType()&&t.collapsed&&r.collapseCombo(t.id,!1),!0}))})),this.set({nodes:u.nodes,edges:u.edges});var p=this.get("layoutController");return p&&(p.changeData((function(){setTimeout((function(){var t;null===(t=i.getCombos())||void 0===t||t.forEach((function(t){t.set("animate",!0)}))}),0)})),i.get("animate")&&!p.getLayoutType()?(i.positionsAnimate(),null===(n=i.getCombos())||void 0===n||n.forEach((function(t){return t.set("animate",!0)}))):i.autoPaint()),setTimeout((function(){a.set("localRefresh",s)}),16),this.set("data",o),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},e.prototype.createCombo=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.get("itemController");this.set("comboSorted",!1);var o,a="";if(t){if((0,x.isString)(t))a=t,o={id:t};else{if(!(a=t.id))return;o=t}var s=n&&this.get("enabledStack"),l={nodes:[],combos:[]};s&&e.forEach((function(t){var e=r.findById(t),n=e.getType();if("node"===n||"combo"===n){var i=e.getModel();l["".concat(n,"s")].push({id:t,parentId:"node"===n?i.comboId:i.parentId})}}));var u=this.get("comboTrees"),c=new Set(e),h=new Map;u&&(u.forEach((function(t){cn(t,(function(t,e,n){if(c.has(t.id)){if(e){var o=r.findById(e.id),a=r.findById(t.id);e.children.splice(n,1),o.removeChild(a),i.updateCombo(o,e.children)}"combo"===t.itemType&&h.set(t.id,t)}return!0}))})),u=u.filter((function(t){return!c.has(t.id)})),this.set("comboTrees",u));var d={nodes:[],combos:[]},f=e.map((function(t){var e=r.findById(t),n=e.getModel(),i="";e.getType&&(i=e.getType());var o=h.get(t)||{id:e.getID(),itemType:i};return"combo"===i?(o.parentId=a,n.parentId=a):"node"===i&&(o.comboId=a,n.comboId=a),s&&d["".concat(i,"s")].push({id:n.id,parentId:a}),o}));o.children=f,this.addItem("combo",o,!1),this.set("comboSorted",!1),u&&(u.forEach((function(t){un(t,(function(t){return t.id!==a||(t.itemType="combo",t.children=f,!1)}))})),this.sortCombos()),s&&(d.combos.push(o),this.pushStack("createCombo",{before:l,after:d}));var p=this.findById(a);!p.getModel().parentId&&p.getChildren().combos.length&&this.updateComboTree(p,void 0,!1),setTimeout((function(){p.set("animate",!0)}),0)}},e.prototype.uncombo=function(t,e){var n,r,i=this;void 0===e&&(e=!0);var o=t;if((0,x.isString)(t)&&(o=this.findById(t)),o&&(!o.getType||"combo"===o.getType())){var a=o.getModel(),s=o.getModel().parentId,l=this.get("comboTrees");l||(l=[]);var u,c=this.get("itemMap"),h=o.get("id"),d=[],f=this.get("combos"),p=this.findById(s),g=e&&this.get("enabledStack"),m={};if(g&&((m=(0,x.clone)(a)).children=[]),l.forEach((function(t){u||cn(t,(function(t){var e;if(t.id===h){u=t;var n=o.getEdges().map((function(t){return t.getID()}));n.forEach((function(t){i.removeItem(t,!1)}));var r=f.indexOf(o);f.splice(r,1),delete c[h];var a=(0,x.clone)(o.getModel());o.destroy(),i.emit("afterremoveitem",{item:a,type:"combo"})}return!s||!u||t.id!==s||(p.removeCombo(o),-1!==(r=(d=t.children).indexOf(u))&&d.splice(r,1),null===(e=u.children)||void 0===e||e.forEach((function(t){var e=i.findById(t.id),n=e.getModel();e.getType&&"combo"===e.getType()?(t.parentId=s,delete t.comboId,n.parentId=s,delete n.comboId):e.getType&&"node"===e.getType()&&(t.comboId=s,n.comboId=s),p.addChild(e),d.push(t)})),i.updateCombo(p),!1)}))})),!s&&u){var v=l.indexOf(u);l.splice(v,1),null===(n=u.children)||void 0===n||n.forEach((function(t){t.parentId=void 0;var e=i.findById(t.id).getModel();delete e.parentId,delete e.comboId,"node"!==t.itemType&&l.push(t)}))}if(g){var y={nodes:[],combos:[]},b={nodes:[],combos:[]};null===(r=u.children)||void 0===r||r.forEach((function(t){var e=i.findById(t.id).getType();"node"!==e&&"combo"!==e||(y["".concat(e,"s")].push({id:t.id,parentId:h}),b["".concat(e,"s")].push({id:t.id,parentId:s}))})),y.combos.push(m),this.pushStack("uncombo",{before:y,after:b})}}},e.prototype.updateCombos=function(t){var e=this;void 0===t&&(t=!1);var n=this,r=this.get("comboTrees"),i=n.get("itemController"),o=n.get("itemMap");(r||[]).forEach((function(n){cn(n,(function(n){var r;if(!n)return!0;var a=o[n.id];if("combo"===(null===(r=null==a?void 0:a.getType)||void 0===r?void 0:r.call(a))){var s=(0,b.__spreadArray)([],a.getStates(),!0);(0,x.each)(s,(function(t){return e.setItemState(a,t,!1)})),i.updateCombo(a,n.children,t),(0,x.each)(s,(function(t){return e.setItemState(a,t,!0)}))}return!0}))})),n.sortCombos()},e.prototype.updateCombo=function(t){var e,n=this,r=t;if((0,x.isString)(t)&&(r=this.findById(t)),r&&(!r.getType||"combo"===r.getType())){e=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(t){cn(t,(function(t){if(!t)return!0;var r=a[t.id];if(e===t.id&&r&&r.getType&&"combo"===r.getType()){var i=(0,b.__spreadArray)([],r.getStates(),!0);(0,x.each)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!1)})),o.updateCombo(r,t.children),(0,x.each)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!0)})),e&&(e=t.parentId)}return!0}))}))}},e.prototype.updateComboTree=function(t,e,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=(0,x.isString)(t)?this.findById(t):t).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),e&&"combo"===s){var l,u=this.get("comboTrees"),c=!0;if((u||[]).forEach((function(t){l||un(t,(function(t){if(!l)return t.id===r.getID()&&(l=t),!0}))})),un(l,(function(t){return t.id!==e||(c=!1,!1)})),!c)return}if(n&&this.get("enabledStack")){var h={},d={};"combo"===s?(h.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:e}]):"node"===s&&(h.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:e}]),this.pushStack("updateComboTree",{before:h,after:d})}if(o.parentId||o.comboId){var f=this.findById(o.parentId||o.comboId);f&&f.removeChild(r)}("combo"===s?o.parentId=e:"node"===s&&(o.comboId=e),e)&&((i=this.findById(e))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var p=gn(this.get("comboTrees"),o.id,e);this.set("comboTrees",p),this.updateCombos()},e.prototype.save=function(){var t=[],e=[],n=[];return(0,x.each)(this.get("nodes"),(function(e){t.push(e.getModel())})),(0,x.each)(this.get("edges"),(function(t){e.push(t.getModel())})),(0,x.each)(this.get("combos"),(function(t){n.push(t.getModel())})),{nodes:t,edges:e,combos:n}},e.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),r=t.get("edges");(0,x.each)(e,(function(t){t.refresh()})),(0,x.each)(n,(function(t){t.refresh()})),(0,x.each)(r,(function(t){t.refresh()}))}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,x.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren()},e.prototype.positionsAnimate=function(t){var e=this;e.emit("beforeanimate");var n=e.get("animateCfg"),r=n.onFrame,i=t?e.getNodes().concat(e.getCombos()):e.getNodes(),o=i.map((function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}}));e.stopAnimate();var a=e.get("canvas");e.animating=!0,setTimeout((function(){a.animate((function(n){(0,x.each)(o,(function(t){var i=e.findById(t.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(null==o&&(s&&(o={x:s[6],y:s[7]}),i.set("originAttrs",o||0)),r){var l=r(i,n,t,o||{x:0,y:0});i.set("model",Object.assign(a,l))}else o?(a.x=o.x+(t.x-o.x)*n,a.y=o.y+(t.y-o.y)*n):(a.x=t.x,a.y=t.y)}})),e.refreshPositions(t)}),{duration:n.duration,easing:n.easing,callback:function(){(0,x.each)(i,(function(t){t.set("originAttrs",null)})),n.callback&&n.callback(),e.emit("afteranimate"),e.animating=!1}})}),0)},e.prototype.refreshPositions=function(t){var e=this;e.emit("beforegraphrefreshposition");var n,r=e.get("nodes"),i=e.get("edges"),o=e.get("vedges"),a=e.get("combos"),s={},l=function(t){(0,x.each)(t,(function(t){n=t.getModel();var e=t.get("originAttrs");if(!e||n.x!==e.x||n.y!==e.y){var r=t.updatePosition({x:n.x,y:n.y});s[n.id]=r,n.comboId&&(s[n.comboId]=s[n.comboId]||r),n.parentId&&(s[n.parentId]=s[n.parentId]||r)}}))};l(a),l(r),a&&0!==a.length&&(t?(l(a),e.updateCombos()):e.updateCombos()),(0,x.each)(i,(function(t){var e=t.getSource().getModel(),n=t.getTarget();if(!(0,x.isPlainObject)(n)){var r=n.getModel();(s[e.id]||s[r.id]||t.getModel().isComboEdge)&&t.refresh()}})),(0,x.each)(o,(function(t){t.refresh()})),e.emit("aftergraphrefreshposition"),e.autoPaint()},e.prototype.stopAnimate=function(){var t=this.get("canvas").cfg.timeline;t&&t.stopAllAnimations()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(t){var e;return void 0===t&&(t=!1),null===(e=this.get("canvas"))||void 0===e||e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,e,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=!0);var o=this.get("layoutController");if((0,x.isString)(t)&&(t={type:t}),e){var a=n;a||(a="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),a=this.getPointByCanvas(a.x,a.y);var s=["force","gForce","fruchterman","force2"];s.includes(t.type)||!t.type&&s.includes(null==o?void 0:o.layoutType)?t.center=[a.x,a.y]:this.once("afterlayout",(function(t){var n=i.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];a.x=a.x*n[0]+n[6],a.y=a.y*n[0]+n[7];var r=i.getGroup().getCanvasBBox(),o=r.minX,s=r.maxX,l=r.minY,u={x:(o+s)/2,y:(l+r.maxY)/2};"begin"===e&&(u.x=o,u.y=l),i.translate(a.x-u.x,a.y-u.y)}))}var l=(0,b.__assign)({},this.get("layout")),u={};Object.assign(u,l,t),t.pipes&&!t.type?delete u.type:!t.pipes&&u.type&&delete u.pipes,this.set("layout",u),o&&(o.isLayoutTypeSame(u)&&u.gpuEnabled===l.gpuEnabled?o.updateLayoutCfg(u):o.changeLayout(u),r&&this.get("enabledStack")&&this.pushStack("layout",{before:l,after:u}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");null==t||t.destroyLayout()},e.prototype.layout=function(){var t,e=this.get("layoutController"),n=this.get("layout");n&&e&&(n.workerEnabled?e.layout():(null===(t=e.layoutMethods)||void 0===t?void 0:t.length)?e.relayout(!0):e.layout())},e.prototype.collapseCombo=function(t,e){var n=this;if(void 0===e&&(e=!0),!this.destroyed&&((0,x.isString)(t)&&(t=this.findById(t)),t)){this.emit("beforecollapseexpandcombo",{action:"collapse",item:t});var r=t.getModel();this.get("itemController").collapseCombo(t,e),r.collapsed=!0;var i=this.getEdges().concat(this.get("vedges")),o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(t){s||un(t,(function(t){if(s&&t.depth<=r.depth)return!1;if(r.id===t.id&&(s=!0),s){var e=n.findById(t.id);e&&e.getType&&"combo"===e.getType()&&(o=(o=o.concat(e.getNodes())).concat(e.getCombos()))}return!0}))}));var l={};i.forEach((function(t){var e=t.getModel(),i=e.isVEdge,a=e.size,s=void 0===a?1:a;if(!t.isVisible()||i){var u,c=t.getSource(),h=t.getTarget(),d=null;if(c.getModel().id===r.id||o.includes(c)&&!o.includes(h)?(d=h,u=!1):(h.getModel().id===r.id||!o.includes(c)&&o.includes(h))&&(d=c,u=!0),d){if(i)return void n.removeItem(t,!1);for(var f=d.getModel();!d.isVisible();){var p=f.parentId,g=f.comboId,m=p||g;if(!(d=n.findById(m))||!m)return;f=d.getModel()}var v=f.id,y=u?{source:v,target:r.id,size:s,isVEdge:!0}:{source:r.id,target:v,size:s,isVEdge:!0},b="".concat(y.source,"-").concat(y.target);if(l[b])return void(l[b].size+=s);l[b]=y}}})),this.addItems(Object.values(l).map((function(t){return{type:"vedge",model:t}})),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}},e.prototype.expandCombo=function(t,e){var n=this;if(void 0===e&&(e=!0),(0,x.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType())){this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel();this.get("itemController").expandCombo(t,e),r.collapsed=!1;var i=this.getEdges().concat(this.get("vedges")),o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(t){s||un(t,(function(t){if(s&&t.depth<=r.depth)return!1;if(r.id===t.id&&(s=!0),s){var e=n.findById(t.id);e&&e.getType&&"combo"===e.getType()&&(o=(o=o.concat(e.getNodes())).concat(e.getCombos()))}return!0}))}));var l={};i.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var e,i=t.getSource(),a=t.getTarget(),s=i.get("id"),u=a.get("id"),c=null;if(s===r.id||o.includes(i)&&!o.includes(a)?(c=a,e=!1):u===r.id||!o.includes(i)&&o.includes(a)?(c=i,e=!0):o.includes(i)&&o.includes(a)&&i.isVisible()&&a.isVisible()&&t.show(),c){var h=t.getModel(),d=h.isVEdge,f=h.size,p=void 0===f?1:f;if(d)return void n.removeItem(t,!1);for(var g=c.getModel();!c.isVisible();){var m=g.parentId,v=g.comboId,y=m||v;if(!(c=n.findById(y))||!y)return;g=c.getModel()}for(var b=g.id,x=e?a:i,_=x.getModel();!x.isVisible();){var w=_.parentId,S=_.comboId,M=w||S;if(!(x=n.findById(M))||!M)return;if(_.comboId===r.id||_.parentId===r.id)break;_=x.getModel()}var k=_.id;if(b){var E=e?{source:b,target:k,isVEdge:!0,size:p}:{source:k,target:b,isVEdge:!0,size:p},A="".concat(E.source,"-").concat(E.target);if(l[A])return void(l[A].size+=p);l[A]=E}}}})),this.addItems(Object.values(l).map((function(t){return{type:"vedge",model:t}})),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})}},e.prototype.collapseExpandCombo=function(t,e){if(void 0===e&&(e=!0),(0,x.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType())){for(var n=t.getModel(),r=this.findById(n.parentId);r;){var i=r.getModel();if(i.collapsed)return void(r=void 0);r=this.findById(i.parentId)}n.collapsed?this.expandCombo(t,e):this.collapseCombo(t,e),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,e){var n=t;return(0,x.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var r=t;(0,x.isString)(t)&&(r=this.findById(t));var i=this.get("degrees");i&&!n||(i=Y(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(e){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,e,n){if(void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=e?(0,x.clone)(e):{before:{},after:(0,x.clone)(this.save())};"redo"===n?this.redoStack.push({action:t,data:r}):this.undoStack.push({action:t,data:r}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})}},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=N(this.save(),e),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&t||(n=N(this.save(),e),this.set("adjMatrix",n)),r&&t||(r=st(this.save(),e),this.set("shortestPathMatrix",r)),r},e.prototype.on=function(e,n,r){return t.prototype.on.call(this,e,n,r)},e.prototype.destroy=function(){var t,e,n,r,i;this.emit("beforedestroy"),this.clear(),this.clearStack(),null===(t=this.get("itemController"))||void 0===t||t.destroy(),null===(e=this.get("modeController"))||void 0===e||e.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null,this.emit("afterdestroy")},e.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e&&!e.get("destroyed")||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),n[t.id])return n[t.id];var r=e.addGroup({id:"".concat(t.id,"-container")}),i=new fl(this,(0,b.__assign)((0,b.__assign)({},t),{group:r}));return n[i.id]=i,i}},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e,n;n=(0,x.isString)(t)?this.getHullById(t):t,null===(e=this.get("hullMap"))||void 0===e||delete e[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();t&&Object.keys(t).length&&(Object.keys(t).forEach((function(e){t[e].destroy()})),this.set("hullMap",{}))},e}(E),ml=gl;function vl(t){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(t)}var yl=D,bl="-shape",xl="-label",_l=["startArrow","endArrow"],wl={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Sl={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:wl,combo:wl},Ml="-label-bg",kl={options:{labelCfg:{style:{fontFamily:Ke.windowFontFamily}},descriptionCfg:{style:{fontFamily:Ke.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return"move"===e||(null==e?void 0:e.includes("bbox"))?t:(0,x.deepMix)({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);if(n.set("className",this.itemType+bl),e.shapeMap[this.itemType+bl]=n,t.label){var r=this.drawLabel(t,e);r.set("className",this.itemType+xl),e.shapeMap[this.itemType+xl]=r}return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg||{},r=this.getLabelStyle(t,n,e),i=r.rotate;delete r.rotate;var o=e.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":default:s=yl(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=yl(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=yl(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]])}else s=yl(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var l=this.drawLabelBg(t,e,o),u=this.itemType+Ml;l.set("classname",u),e.shapeMap[u]=l,o.toFront()}return o},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=(0,x.mix)({},r,t.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=e.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return e.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){var r=this.getLabelStyleByPosition(t,e,n),i="".concat(this.itemType,"Label"),o=Ke[i]?Ke[i].style:null;return(0,b.__assign)((0,b.__assign)((0,b.__assign)({},o),r),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var r,i=e.getContainer(),o=e.getKeyShape(),a=(0,x.mix)({},o.attr(),t.style),s=function(t){var e,n=a[t];if((0,x.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[t])||i.find((function(e){return e.get("name")===t}));null==s||s.attr(n)}else o.attr(((e={})[t]=n,e))};for(var l in a)s(l)},updateLabel:function(t,e,n){var r,i,o=e.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,l=this.itemType+xl,u=o.shapeMap[l]||o.find((function(t){return t.get("className")===l})),c=this.itemType+Ml,h=o.shapeMap[c]||o.find((function(t){return t.get("className")===c}));if(u&&void 0===t.label&&(o.removeChild(u),delete o.shapeMap[l],h&&(o.removeChild(h),delete o.shapeMap[c])),t.label||""===t.label)if(u){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=(0,x.deepMix)(s,t.labelCfg));var d=this.getLabelStyleByPosition(t,s,o),f=null===(r=t.labelCfg)||void 0===r?void 0:r.style,p=(0,b.__assign)((0,b.__assign)({},d),f),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(i=u.getMatrix())||void 0===i?void 0:i[4])&&u.resetMatrix(),u.attr(p);else{var m=[1,0,0,0,1,0,0,0,1];m=yl(m,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=m,u.attr(p)}if(h)if(p.background){var v=this.getLabelBgStyleByPosition(u,s);h.attr(v)}else o.removeChild(h);else p.background&&((h=this.drawLabelBg(t,o,u)).set("classname",c),o.shapeMap[c]=h,u.toFront())}else{var y=this.drawLabel(t,o);y.set("className",l),o.shapeMap[l]=y}},afterUpdate:function(t,e){},setState:function(t,e,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),l=(0,x.isBoolean)(e)?t:"".concat(t,":").concat(e),u=this.getStateStyle(l,n),c=n.getStateStyle(l);if(c||u){var h=(0,x.mix)({},c||u),d=n.getContainer(),f={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(f.r=1,f.width=1,f.height=1),e){var p=function(t){var e,n=h[t];if((0,x.isPlainObject)(n)&&!_l.includes(t)){var r=(null===(o=d.shapeMap)||void 0===o?void 0:o[t])||d.find((function(e){return e.get("name")===t}));null==r||r.attr(n)}else a.attr(((e={})[t]=n,e))};for(var g in h)p(g)}else{var m=yn(n.getCurrentStatesStyle()),v=n.getModel(),y=(0,x.mix)({},v.style,yn(n.getOriginStyle())),b=a.get("name"),_=a.attr(),w={};Object.keys(_).forEach((function(t){if("img"!==t){var e=_[t];e&&"object"===vl(e)?w[t]=(0,x.clone)(e):w[t]=e}}));var S={},M=function(t){var e=h[t];if((0,x.isPlainObject)(e)&&!_l.includes(t)){var n=d.shapeMap[t]||d.find((function(e){return e.get("name")===t}));if(n){var r=yn(n.attr());(0,x.each)(e,(function(e,i){if(t===b&&w[i]&&!f[i]){delete w[i];var o=y[t][i]||Sl[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var l=y[t][i]||Sl[s][i];n.attr(i,l)}})),S[t]=r}}else if(w[t]&&!f[t]){delete w[t];var i=y[t]||(y[b]?y[b][t]:void 0)||Sl[s][t];a.attr(t,i)}};for(var k in h)M(k);for(var g in b?S[b]=w:(0,x.mix)(S,w),m)if(!f[g]){var E=m[g];(0,x.isPlainObject)(E)&&!_l.includes(g)||(b?((0,x.mix)(y[b],((i={})[g]=E,i)),delete y[g]):(0,x.mix)(y,((r={})[g]=E,r)),delete m[g])}var A={};(0,x.deepMix)(A,y,S,m);var T=!1,I=function(t){var e,n,r=A[t];if((0,x.isPlainObject)(r)&&!_l.includes(t)){var i=d.shapeMap[t]||d.find((function(e){return e.get("name")===t}));i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),t===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),T=!0),i.attr(r))}else if(!T){var o=r||Sl[s][t];"combo"===s?b||a.attr(((e={})[t]=o,e)):a.attr(((n={})[t]=o,n))}};for(var C in A)I(C)}}}},getStateStyle:function(t,e){var n=e.getModel(),r=e.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,l=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===r?(0,x.clone)(l):(0,x.mix)({},s,l)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e,n;return(null==t?void 0:t.anchorPoints)||(null===(e=this.getCustomConfig(t))||void 0===e?void 0:e.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},El={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ke.nodeLabel.offset,getSize:function(t){var e,n=(null===(e=this.mergeStyle)||void 0===e?void 0:e.size)||t.size||this.getOptions({}).size||Ke.defaultNode.size;return(0,x.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,x.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.maxLength,r=t.label;n&&(r=fn(r,n));var i=e.position||this.labelPosition;if("center"===i)return{x:0,y:0,text:r,textBaseline:"middle",textAlign:"center"};var o=e.offset;(0,x.isNil)(o)&&(o=this.offset);var a,s=this.getSize(t);switch(i){case"top":a={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":a={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":a={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:a={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"}}return a.text=r,a},getLabelBgStyleByPosition:function(t,e){var n;if(!t)return{};var r=null===(n=e.style)||void 0===n?void 0:n.background;if(!r)return{};var i=t.getBBox(),o=qa(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return(0,b.__assign)((0,b.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t),i=e.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return e.shapeMap["node-shape"]=i,i},updateLinkPoints:function(t,e){var n,r=(this.mergeStyle||this.getOptions(t)).linkPoints,i=e.shapeMap["link-point-left"]||e.find((function(t){return"link-point-left"===t.get("className")})),o=e.shapeMap["link-point-right"]||e.find((function(t){return"link-point-right"===t.get("className")})),a=e.shapeMap["link-point-top"]||e.find((function(t){return"link-point-top"===t.get("className")})),s=e.shapeMap["link-point-bottom"]||e.find((function(t){return"link-point-bottom"===t.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var l=(0,x.mix)({},n,t.linkPoints),u=l.fill,c=l.stroke,h=l.lineWidth,d=l.size/2;d||(d=l.r);var f=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=f.left,g=f.right,m=f.top,v=f.bottom,y=this.getSize(t),_=y[0],w=y[1],S={r:d,fill:u,stroke:c,lineWidth:h};if(i)p||void 0===p?i.attr((0,b.__assign)((0,b.__assign)({},S),{x:-_/2,y:0})):(i.remove(),delete e.shapeMap["link-point-left"]);else if(p){var M="link-point-left";e.shapeMap[M]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},S),{x:-_/2,y:0}),className:M,name:M,isAnchorPoint:!0})}if(o)g||void 0===g||(o.remove(),delete e.shapeMap["link-point-right"]),o.attr((0,b.__assign)((0,b.__assign)({},S),{x:_/2,y:0}));else if(g){var k="link-point-right";e.shapeMap[k]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},S),{x:_/2,y:0}),className:k,name:k,isAnchorPoint:!0})}if(a)m||void 0===m||(a.remove(),delete e.shapeMap["link-point-top"]),a.attr((0,b.__assign)((0,b.__assign)({},S),{x:0,y:-w/2}));else if(m){var E="link-point-top";e.shapeMap[E]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},S),{x:0,y:-w/2}),className:E,name:E,isAnchorPoint:!0})}if(s)v||void 0===v?s.attr((0,b.__assign)((0,b.__assign)({},S),{x:0,y:w/2})):(s.remove(),delete e.shapeMap["link-point-bottom"]);else if(v){var A="link-point-bottom";e.shapeMap[A]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},S),{x:0,y:w/2}),className:A,name:A,isAnchorPoint:!0})}},updateShape:function(t,e,n,r,i){e.get("keyShape").attr((0,b.__assign)({},n)),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,r=e.getContainer(),i=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},a=o.show,s=o.text,l=r.shapeMap["".concat(this.type,"-icon")]||r.find((function(t){return t.get("name")==="".concat(n.type,"-icon")}));if(l)if(a||void 0===a){var u=(0,x.mix)({},l.attr(),i),c=u.width,h=void 0===c?20:c,d=u.height,f=void 0===d?20:d;("iconfont"===u.fontFamily||u.hasOwnProperty("text"))&&(h=0,f=0),l.attr((0,b.__assign)((0,b.__assign)({},u),{x:-h/2,y:-f/2}))}else l.remove(),delete r.shapeMap["".concat(this.type,"-icon")];else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{h=i.width,f=i.height;r.shapeMap[p]=r.addShape("image",{attrs:(0,b.__assign)((0,b.__assign)({},i),{x:-h/2,y:-f/2}),className:p,name:p})}var g=r.shapeMap["node-label"]||r.find((function(t){return"node-label"===t.get("name")}));g&&g.toFront()}}},Al=(0,b.__assign)((0,b.__assign)({},kl),El);ms.registerNode("single-node",Al);var Tl="edge-shape";var Il={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ke.defaultEdge.size,style:{x:0,y:0,stroke:Ke.defaultEdge.style.stroke,lineAppendWidth:Ke.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ke.edgeLabel.style.fill,fontSize:Ke.edgeLabel.style.fontSize,fontFamily:Ke.windowFontFamily}},stateStyles:(0,b.__assign)({},Ke.edgeStateStyles)},getPath:function(t){var e=[];return(0,x.each)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=(0,x.mix)({},e,n,t.style),i=t.size||Ke.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,s=this.getControlPoints(t),l=[o];s&&(l=l.concat(s)),l.push(a);var u=this.getPath(l);return(0,x.mix)({},Ke.defaultEdge.style,{stroke:Ke.defaultEdge.color,lineWidth:i,path:u},r)},updateShapeStyle:function(t,e,n){var r,i=e.getContainer(),o=(null===(r=e.getKeyShape)||void 0===r?void 0:r.call(e))||i.shapeMap["edge-shape"],a=t.size,s=(t=this.getPathPoints(t)).startPoint,l=t.endPoint,u=this.getControlPoints(t),c=[s];u&&(c=c.concat(u)),c.push(l);var h=o.attr(),d=t.style||{};void 0===d.stroke&&(d.stroke=t.color);var f=t.sourceNode,p=t.targetNode,g={radius:d.radius};u||(g={source:f,target:p,offset:d.offset,radius:d.radius});var m=this.getPath(c,g),v={};"move"===n?v={path:m}:(h.endArrow&&!1===d.endArrow&&(t.style.endArrow={path:""}),h.startArrow&&!1===d.startArrow&&(t.style.startArrow={path:""}),void 0===(v=(0,b.__assign)({},t.style)).lineWidth&&(v.lineWdith=((0,x.isNumber)(a)?a:null==a?void 0:a[0])||h.lineWidth),void 0===v.path&&(v.path=m),void 0===v.stroke&&(v.stroke=h.stroke||t.color)),o&&o.attr(v)},getLabelStyleByPosition:function(t,e,n){var r,i=e.position||this.labelPosition,o={},a=null==n?void 0:n.shapeMap[Tl];r="start"===i?0:"end"===i?1:.5;var s,l=e.refX||this.refX,u=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+l,o.y=t.startPoint.y+u,o.text=t.label,o;s=(0,x.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var c=an(a,r,l,u,s);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(i,c.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),r=e.style&&e.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=(0,b.__assign)((0,b.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,x.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate)&&(s.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("path",{className:Tl,name:Tl,attrs:n});return e.shapeMap[Tl]=r,r},drawLabel:function(t,e){var n=this.options.labelCfg,r=(0,x.deepMix)({},n,t.labelCfg),i=this.getLabelStyle(t,r,e),o=i.rotate;delete i.rotate;var a=e.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0,draggable:!0});if(e.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(t,e,a,i,o),l=this.itemType+Ml;s.set("classname",l),e.shapeMap[l]=s,a.toFront()}return a},drawLabelBg:function(t,e,n,r,i){var o=this.options.labelCfg,a=(0,x.deepMix)({},o,t.labelCfg),s=this.getLabelBgStyleByPosition(n,a),l=e.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return e.shapeMap["text-bg-shape"]=l,l}},Cl=(0,b.__assign)((0,b.__assign)({},kl),Il);ms.registerEdge("single-edge",Cl),ms.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ms.registerEdge("spline",{getPath:function(t){return Ws(t)}},"single-edge"),ms.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,r=t.startPoint,i=t.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=pe(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=e.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=e.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=e.y<n.y?0:1:this.clockwise=e.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)==(i.x-r.x)/(i.y-r.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),(0,x.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},l=Math.atan2(s.y,s.x);n={x:t.curveOffset*Math.cos(-Math.PI/2+l)+o,y:t.curveOffset*Math.sin(-Math.PI/2+l)+a},e=pe(r,n,i)}var u=ge(r,e);return[{x:u,y:u}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),ms.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,r=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,x.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),(0,x.isArray)(t.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[Ys(n,r,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),ms.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,x.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,x.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,r=t.endPoint;e=[Ys(n,r,t.curvePosition[0],t.curveOffset[0]),Ys(n,r,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),ms.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),(0,x.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,x.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),(0,x.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.y-e.y,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x,y:e.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),ms.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),(0,x.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,x.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),(0,x.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.x-e.x,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x+r*this.curvePosition[0]+i[0],y:e.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),ms.registerEdge("loop",{getPathPoints:function(t){return on(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Dl={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ke.comboLabel.refX,refY:Ke.comboLabel.refY,options:{style:{stroke:Ke.defaultCombo.style.stroke,fill:Ke.defaultCombo.style.fill,lineWidth:Ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ke.comboLabel.style.fill,fontSize:Ke.comboLabel.style.fontSize,fontFamily:Ke.windowFontFamily}},stateStyles:(0,b.__assign)({},Ke.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(t){var e=(0,x.clone)(t.size||this.options.size||Ke.defaultCombo.size);return(0,x.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),(0,x.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;(0,x.isArray)(i)&&(i=Math.max.apply(Math,i));var o=e.refX,a=e.refY;(0,x.isNil)(o)&&(o=this.refX),(0,x.isNil)(a)&&(a=this.refY);var s,l=this.getSize(t),u=(Math.max(r.r,l[0]/2)||l[0]/2)+i;switch(n){case"top":s={x:0,y:-u-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:u+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-u+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=t.label,s},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateCollapsedIcon:function(t,e,n){var r=t.collapsed,i=t.collapsedSubstituteIcon,o=void 0===i?{}:i,a=Object.assign({},this.options.collapsedSubstituteIcon,o),s=a.show,l=a.img,u=a.width,c=a.height,h=e.getContainer(),d=h.find((function(t){return"combo-collapsed-substitute-icon"===t.get("name")})),f=d&&!d.destroyed,p=e.get("keyShape");if(r&&s){if(f)d.show();else{var g={width:u||2*n.r||n.width,height:c||2*n.r||n.height};d=h.addShape("image",{attrs:(0,b.__assign)({img:l,x:-g.width/2,y:-g.height/2},g),name:"combo-collapsed-substitute-icon",draggable:!0})}p.hide()}else f&&(d.hide(),p.show())},updateShape:function(t,e,n){var r=this,i=e.get("keyShape");e.get("animate")&&(void 0===t.animate?this.options.animate:t.animate)&&i.animate?(t.collapsed||this.updateCollapsedIcon(t,e,n),i.animate(n,{duration:200,easing:"easeLinear",callback:function(){t.collapsed&&r.updateCollapsedIcon(t,e,n)}})):(i.attr((0,b.__assign)({},n)),this.updateCollapsedIcon(t,e,n)),this.updateLabel(t,e)}},Nl=(0,b.__assign)((0,b.__assign)({},kl),Dl);ms.registerCombo("single-combo",Nl),ms.registerCombo("circle",{options:{size:[Ke.defaultCombo.size[0],Ke.defaultCombo.size[0]],padding:Math.max.apply(Math,Ke.defaultCombo.padding),animate:!0,style:{stroke:Ke.defaultCombo.style.stroke,fill:Ke.defaultCombo.style.fill,lineWidth:Ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ke.comboLabel.style.fill,fontSize:Ke.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,b.__assign)({},Ke.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;(0,x.isArray)(n)&&(n=Math.max.apply(Math,n));var r,i={stroke:t.color},o=(0,x.mix)({},e,i,t.style),a=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;if(a)r=(0,x.isNumber)(a)?a/2:a[0]/2;else{var s=this.getSize(t);r=!(0,x.isNumber)(o.r)||isNaN(o.r)?s[0]/2||Ke.defaultCombo.style.r:Math.max(o.r,s[0]/2)||s[0]/2}o.r=r+n;var l=(0,b.__assign)({x:0,y:0},o);return t.style?t.style.r=r:t.style={r:r},l},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;(0,x.isArray)(r)&&(r=Math.max.apply(Math,r));var i,o=(0,x.clone)(t.style),a=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;i=a?(0,x.isNumber)(a)?a/2:a[0]/2:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var s=e.get("sizeCache");s&&(s.r=o.r);var l={stroke:t.color},u=e.get("keyShape"),c=(0,x.mix)({},u.attr(),l,o);t.style?t.style.r=i:t.style={r:i},this.updateShape(t,e,c,!0)}},"single-combo"),ms.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ke.defaultCombo.style.stroke,fill:Ke.defaultCombo.style.fill,lineWidth:Ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ke.comboLabel.style.fill,fontSize:Ke.comboLabel.style.fontSize,fontFamily:Ke.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,b.__assign)({},Ke.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;(0,x.isNumber)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;(0,x.isNil)(o)&&(o=this.refX),(0,x.isNil)(a)&&(a=this.refY);var s,l=-r.width/2-i[3],u=r.width/2+i[1],c=-r.height/2-i[0],h=r.height/2+i[2];switch(n){case"top":s={x:l+o,y:c+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:h+a,textBaseline:"top",textAlign:"center"};break;case"left":s={x:l+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;case"top-center":s={x:0,y:c+a,textBaseline:"top",textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;(0,x.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:t.color},a=(0,x.mix)({},e,o,t.style),s=this.getSize(t),l=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;l?(0,x.isNumber)(l)?(r=l,i=l):(r=l[0],i=l[1]):(r=!(0,x.isNumber)(a.width)||isNaN(a.width)?s[0]||Ke.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!(0,x.isNumber)(a.height)||isNaN(a.height)?s[1]||Ke.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var u=-r/2-n[3],c=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var h=(0,b.__assign)({x:u,y:c},a);return t.style?(t.style.width=r,t.style.height=i):t.style={width:r,height:i},h},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;(0,x.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=(0,x.clone)(t.style),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;s?(0,x.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var l=e.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var u={stroke:t.color},c=e.get("keyShape"),h=(0,x.mix)({},c.attr(),u,a);t.style?(t.style.width=i,t.style.height=o):t.style={width:i,height:o},this.updateShape(t,e,h,!1)}},"single-combo"),ms.registerNode("simple-circle",{options:{size:Ke.defaultNode.size,style:{x:0,y:0,stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize,fontFamily:Ke.windowFontFamily}},stateStyles:(0,b.__assign)({},Ke.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var n=this.getShapeStyle(t),r="".concat(this.type,"-keyShape"),i=e.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return e.shapeMap[r]=i,i},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.deepMix)({},e,n),i=this.getSize(t)[0]/2;return(0,b.__assign)({x:0,y:0,r:i},r)},update:function(t,e,n){var r=this.getSize(t),i={stroke:t.color,r:r[0]/2},o=e.get("keyShape"),a=(0,x.deepMix)({},o.attr(),i,t.style);this.updateShape(t,e,a,!0,n)}},"single-node"),ms.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize,fontFamily:Ke.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,b.__assign)({},Ke.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return(0,b.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e,n){e.getContainer();var r=(this.mergeStyle||this.getOptions(t)).style,i=this.getSize(t),o=e.get("keyShape");t.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=(0,x.mix)({},r,o.attr(),a);s=(0,x.mix)(s,t.style),this.updateShape(t,e,s,!1,n)}},"single-node"),ms.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Ke.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);delete r.fill;var i=e.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;e.setClip({type:"circle",attrs:(0,b.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var l=n.width,u=n.height,c=i-l/2,h=o-u/2;e.setClip({type:"rect",attrs:(0,b.__assign)({x:c,y:h,width:l,height:u},a)})}else if("ellipse"===r){var d=n.rx,f=n.ry;e.setClip({type:"ellipse",attrs:(0,b.__assign)({x:i,y:o,rx:d,ry:f},a)})}else if("polygon"===r){var p=n.points;e.setClip({type:"polygon",attrs:(0,b.__assign)({points:p},a)})}else if("path"===r){var g=n.path;e.setClip({type:"path",attrs:(0,b.__assign)({path:g},a)})}}},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,r=e.img,i=this.getSize(t),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),(0,b.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(t,e){var n=e.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find((function(t){return t.get("className")===r}))||e.getKeyShape(),o=this.getShapeStyle(t);i&&!i.destroyed&&i.attr(o)}},"single-node");var Ol={triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+e,",-").concat(t/2," L ").concat(r+e,",").concat(t/2," Z")},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+e,",-").concat(t/2,"\n        L ").concat(r+2*e/3,",0 L ").concat(r+e,",").concat(t/2," Z")},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),"M ".concat(2*e,", 0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*t,",0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*-t,",0")},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-t/2," \n        L ").concat(r+e,",").concat(-t/2," \n        L ").concat(r+e,",").concat(t/2," \n        L ").concat(r,",").concat(t/2," Z")},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+e/2,",").concat(-t/2," \n        L ").concat(r+e,",0 \n        L ").concat(r+e/2,",").concat(t/2," Z")},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+e+i;return"M ".concat(a,",0 L ").concat(a+e,",-").concat(t/2," L ").concat(a+e,",").concat(t/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},Ll={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e+i],["L",t+r,e+i],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+n],["Z"]]}},Pl=ms,Rl=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],jl=function(t){return"force"===t||"g6force"===t||"gForce"===t||"force2"===t},zl=D,Bl=(0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)({},l),o),u),i),c),h),{transform:zl,mat3:A}),Fl=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},t.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map((function(t){return(null==t?void 0:t.type)||""})):null},t.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t),n=Array.isArray(this.layoutType),r=Array.isArray(e);return n&&r?this.layoutType.every((function(t,n){return t===e[n]})):!Array.isArray(e)&&!Array.isArray(this.layoutType)&&(null==t?void 0:t.type)===this.layoutType},t.prototype.refreshLayout=function(){var t=this,e=t.graph,n=t.layoutType,r=t.layoutCfg;if(e){var i=(void 0===r?{}:r).animate,o=void 0===i&&("force"===n||"force2"===n),a=jl(n)&&(i||o);e.get("animate")&&!a?e.positionsAnimate("comboCombined"===n):e.refreshPositions("comboCombined"===n)}},t.prototype.changeLayout=function(t){var e=t.disableTriggerLayout,n=(0,b.__rest)(t,["disableTriggerLayout"]);this.layoutCfg=n,this.layoutType=n.type||this.layoutType,e||this.layout()},t.prototype.changeData=function(t){this.layout(t)},t.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods,e=[];return null==t||t.forEach((function(t){var n,r=null===(n=t.getType)||void 0===n?void 0:n.call(t);r&&e.push(r),t.destroy()})),this.layoutMethods=[],e},t.prototype.destroyLayout=function(){this.destoryLayoutMethods();var t=this.graph;t&&!t.get("destroyed")&&t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},t.prototype.setDataFromGraph=function(){for(var t,e=[],n=[],r=[],i=[],o=[],a=[],s=[],l=this.graph.getNodes(),u=this.graph.getEdges(),c=this.graph.getCombos(),h=l.length,d=0;d<h;d++){var f=l[d];if(f&&!f.destroyed){var p=f.getModel();f.isVisible()?e.push(p):n.push(p)}}var g=u.length;for(d=0;d<g;d++){var m=u[d];if(m&&!m.destroyed){p=m.getModel();m.isVisible()?p.isComboEdge?o.push(p):r.push(p):i.push(p)}}var v=c.length;for(d=0;d<v;d++){var y=c[d];if(!y.destroyed){p=y.getModel();y.isVisible()?a.push(p):s.push(p)}}return{nodes:e,hiddenNodes:n,edges:r,hiddenEdges:i,combos:a,hiddenCombos:s,comboEdges:o,vedges:null===(t=this.graph.get("vedges"))||void 0===t?void 0:t.map((function(t){return t.getModel()}))}},t.prototype.relayout=function(t){var e=this,n=this,r=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(r&&!r.get("destroyed")){var a=Promise.resolve();if(t){this.data=this.setDataFromGraph();var s=this.data.nodes;if(!s)return!1;a=this.initPositions(o.center,s)}r.emit("beforelayout"),null==i||i.forEach((function(t,n){var r=o[n]||o;a=a.then((function(){var t,a=e.execLayoutMethod(r,n);return n===i.length-1&&(null===(t=o.onAllLayoutEnd)||void 0===t||t.call(o)),a}))}))}},t.prototype.filterLayoutData=function(t,e){var n,r,i=t.nodes,o=t.edges,a=(0,b.__rest)(t,["nodes","edges"]);if(!i)return t;n=(0,x.isFunction)(null==e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0};var s=i.filter(n);if((0,x.isFunction)(null==e?void 0:e.edgesFilter))r=e.edgesFilter;else{var l=s.reduce((function(t,e){return t[e.id]=!0,t}),{});r=function(t){return l[t.source]&&l[t.target]}}return(0,b.__assign)({nodes:s,edges:o.filter(r)},a)},t.prototype.getLayoutBBox=function(t){var e=this.graph,n=(0,x.groupBy)(e.getNodes(),(function(t){return t.getModel().layoutOrder})),r=Object.values(n).map((function(t){var e=Qa(t);return e.size=[e.width,e.height],e}));return{groupNodes:Object.values((0,x.groupBy)(t,"layoutOrder")),layoutNodes:r}},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!Ja(t[0].x)){for(var e=[0,0],n=t.length,r=0;r<n;r++){var i=t[r];e[0]+=i.x,e[1]+=i.y}e[0]/=t.length,e[1]/=t.length;for(r=0;r<n;r++){(i=t[r]).x-=e[0],i.y-=e[1]}}},t.prototype.initPositions=function(t,e){var n;return(0,b.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,b.__generator)(this,(function(a){return r=this.graph,(null==e?void 0:e.length)?(i=e.filter((function(t){return Ja(t.x)||Ja(t.y)})),(o=i?i.length:0)?[2,null===(n=this.initWithPreset)||void 0===n?void 0:n.call(this,(function(){}),(function(){var e=.85*r.get("width"),n=.85*r.get("height"),a=Math.ceil(Math.sqrt(o)*(e/n)),s=e/(a-1),l=n/(Math.ceil(o/a)-1);isFinite(s)&&s||(s=0),isFinite(l)&&s||(l=0);for(var u=t[0]-e/2,c=t[1]-n/2,h=0;h<o;h++){var d=i[h];Ja(+d.x)&&(!1,d.x=h%a*s+u),Ja(+d.y)&&(!1,d.y=Math.floor(h/a)*l+c)}}))]:[2]):[2,Promise.resolve()]}))}))},t.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},t}(),Gl=Fl,Vl=function(t){this.graph=t,this.destroyed=!1,this.initEvents()},Zl=Vl,Ul=Pl.registerNode,Hl=Pl.registerEdge,Wl=Pl.registerCombo,Yl=M.registerBehavior,Xl=Ke,ql=(Pl.registerNode,Pl.registerEdge,Pl.registerCombo,M.registerBehavior,n("./node_modules/@antv/algorithm/lib/asyncIndex.js"));function Kl(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function $l(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function Jl(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Ql(t,e){return t[0]===e[0]&&t[1]===e[1]}var tu=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,eu=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,nu=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,ru=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function iu(t,e){var n=t.match(ru);(0,x.each)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function ou(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,x.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,i,o=tu.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],l=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:l.minX,y:l.minY},i={x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:l.maxX,y:l.minY},i={x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},i={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},i={x:l.maxX,y:l.minY});var u=Math.tan(a),c=u*u,h=(i.x-r.x+u*(i.y-r.y))/(c+1)+r.x,d=u*(i.x-r.x+u*(i.y-r.y))/(c+1)+r.y,f=t.createLinearGradient(r.x,r.y,h,d);return iu(s,f),f}(t,e,n);if("r"===n[0])return function(t,e,n){var r=eu.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var l=s.match(ru);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,d=Math.sqrt(c*c+h*h)/2,f=t.createRadialGradient(u.minX+c*i,u.minY+h*o,0,u.minX+c/2,u.minY+h/2,a*d);return iu(s,f),f}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=nu.exec(n),a=o[1],s=o[2];function l(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function au(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function su(t,e){return au(t)*au(e)?(t[0]*e[0]+t[1]*e[1])/(au(t)*au(e)):1}function lu(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(su(t,e))}function uu(t,e){var n=e[1],r=e[2],i=(0,x.mod)((0,x.toRadian)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,d=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,f=h*h/(n*n)+d*d/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(d*d)+r*r*(h*h),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*d/r:0,v=n?g*-r*h/n:0,y=(s+u)/2+Math.cos(i)*m-Math.sin(i)*v,b=(l+c)/2+Math.sin(i)*m+Math.cos(i)*v,_=[(h-m)/n,(d-v)/r],w=[(-1*h-m)/n,(-1*d-v)/r],S=lu([1,0],_),M=lu(_,w);return su(_,w)<=-1&&(M=Math.PI),su(_,w)>=1&&(M=0),0===a&&M>0&&(M-=2*Math.PI),1===a&&M<0&&(M+=2*Math.PI),{cx:y,cy:b,rx:Ql(t,[u,c])?0:n,ry:Ql(t,[u,c])?0:r,startAngle:S,endAngle:S+M,xRotation:i,arcFlag:o,sweepFlag:a}}var cu=Math.sin,hu=Math.cos,du=Math.atan2,fu=Math.PI;function pu(t,e,n,r,i,o,a){var s=e.stroke,l=e.lineWidth,u=du(r-o,n-i),c=new ic({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*hu(fu/6)+","+10*cu(fu/6)+" L0,0 L"+10*hu(fu/6)+",-"+10*cu(fu/6),stroke:s,lineWidth:l}});c.translate(i,o),c.rotateAtPoint(i,o,u),t.set(a?"startArrowShape":"endArrowShape",c)}function gu(t,e,n,r,i,o,a){var s=e.startArrow,l=e.endArrow,u=e.stroke,c=e.lineWidth,h=a?s:l,d=h.d,f=h.fill,p=h.stroke,g=h.lineWidth,m=(0,b.__rest)(h,["d","fill","stroke","lineWidth"]),v=du(r-o,n-i);d&&(i-=hu(v)*d,o-=cu(v)*d);var y=new ic({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:(0,b.__assign)((0,b.__assign)({},m),{stroke:p||u,lineWidth:g||c,fill:f})});y.translate(i,o),y.rotateAtPoint(i,o,v),t.set(a?"startArrowShape":"endArrowShape",y)}function mu(t,e,n,r,i){var o=du(r-e,n-t);return{dx:hu(o)*i,dy:cu(o)*i}}function vu(t,e,n,r,i,o){"object"==typeof e.startArrow?gu(t,e,n,r,i,o,!0):e.startArrow?pu(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function yu(t,e,n,r,i,o){"object"==typeof e.endArrow?gu(t,e,n,r,i,o,!1):e.endArrow?pu(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var bu={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function xu(t,e){var n=e.attr();for(var r in n){var i=n[r],o=bu[r]?bu[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?(0,x.isArray)(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=ou(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function _u(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function wu(t,e,n){var r=t.get("refreshElements");(0,x.each)(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?ku(e,n):Su(e,n)}function Su(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&ku(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&Su(r.cfg.children,e);else{var i=Eu(r,e);r.cfg.refresh=i,i&&r.isGroup()&&Su(r.cfg.children,e)}}}function Mu(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Mu(n.cfg.children)}}function ku(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.visible&&(r.cfg.refresh=!0,r.isGroup()&&ku(r.get("children"),e))}}function Eu(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&Jl(n,e)}function Au(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<i.length;c++){var h=i[c],d=h[0];if(0===c&&o&&o.d)u=mu((f=t.getStartTangent())[0][0],f[0][1],f[1][0],f[1][1],o.d);else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){if("Z"===i[c+1][0])u=mu((f=t.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1],a.d)}else if(c===i.length-1&&a&&a.d){var f;if("Z"!==i[0])u=mu((f=t.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1],a.d)}var p=u.dx,g=u.dy;switch(d){case"M":e.moveTo(h[1]-p,h[2]-g),l=[h[1],h[2]];break;case"L":e.lineTo(h[1]-p,h[2]-g);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-p,h[4]-g);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-p,h[6]-g);break;case"A":var m=void 0;r?(m=r[c])||(m=uu(s,h),r[c]=m):m=uu(s,h);var v=m.cx,y=m.cy,b=m.rx,x=m.ry,_=m.startAngle,w=m.endAngle,S=m.xRotation,M=m.sweepFlag;if(e.ellipse)e.ellipse(v,y,b,x,S,_,w,1-M);else{var k=b>x?b:x,E=b>x?1:b/x,A=b>x?x/b:1;e.translate(v,y),e.rotate(S),e.scale(E,A),e.arc(0,0,k,_,w,1-M),e.scale(1/E,1/A),e.rotate(-S),e.translate(-v,-y)}break;case"Z":e.closePath()}if("Z"===d)s=l;else{var T=h.length;s=[h[T-2],h[T-1]]}}}}function Tu(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Iu(t){var e,n,r;if(t.destroyed)e=t._cacheCanvasBBox;else{var i=t.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=t.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,e=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?e=i:s&&(e=a)}return e}var Cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.onCanvasChange=function(t){Tu(this,t)},e.prototype.getShapeBase=function(){return d},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),xu(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];(0,x.each)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=(0,x.min)(e),o=(0,x.max)(e),a=(0,x.min)(n),s=(0,x.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var l=this.cfg.canvas;if(l){var u=l.getViewRange();this.set("isInView",Jl(r,u))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),xu(t,this),this._applyClip(t,this.getClip()),_u(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Vo),Du=Cu,Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return d},e.prototype.getGroupBase=function(){return Du},e.prototype.onCanvasChange=function(t){Tu(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Wo(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),xu(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Jl(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),xu(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Jl(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&((0,x.isNil)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&((0,x.isNil)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(Zo),Ou=Nu,Lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,l=o.r,u=i/2,c=Kl(a,s,t,e);return r&&n?c<=l+u:r?c<=l:!!n&&(c>=l-u&&c<=l+u)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Ou),Pu=Lu;function Ru(t,e,n,r){return t/(n*n)+e/(r*r)}var ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,l=o.y,u=o.rx,c=o.ry,h=(t-s)*(t-s),d=(e-l)*(e-l);return r&&n?Ru(h,d,u+a,c+a)<=1:r?Ru(h,d,u,c)<=1:!!n&&(Ru(h,d,u-a,c-a)>=1&&Ru(h,d,u+a,c+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,l=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Ou),zu=ju;function Bu(t){return t instanceof HTMLElement&&(0,x.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,x.isString)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Bu(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,l=e.swidth,u=e.sheight,c=e.img;(c instanceof Image||Bu(c))&&((0,x.isNil)(a)||(0,x.isNil)(s)||(0,x.isNil)(l)||(0,x.isNil)(u)?t.drawImage(c,n,r,i,o):t.drawImage(c,a,s,l,u,n,r,i,o))},e}(Ou),Gu=Fu;function Vu(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r),h=i/2;return o>=s-h&&o<=l+h&&a>=u-h&&a<=c+h&&Qo.pointToLine(t,e,n,r,o,a)<=i/2}var Zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&vu(this,t,r,i,e,n),a&&yu(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return Vu(o.x1,o.y1,o.x2,o.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(l=mu(n,r,i,o,e.startArrow.d)),s&&s.d&&(u=mu(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,r+l.dy),t.lineTo(i-u.dx,o-u.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Qo.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Qo.pointAt(n,r,i,o,t)},e}(Ou),Uu=Zu,Hu={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,x.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if((0,x.isFunction)(a))n=za(n=(t=a)(i,o,s));else{if(!(t=e.Symbols[a]))return null;n=t(i,o,s)}return n},e.prototype.createPath=function(t){Au(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=Hu,e}(Ou),Yu=Wu;function Xu(t,e,n){var r=ka();return t.createPath(r),r.isPointInPath(e,n)}var qu=1e-6;function Ku(t){return Math.abs(t)<qu?0:t<0?-1:1}function $u(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Ju(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if($u(a,s,[e,n]))return!0;Ku(a[1]-n)>0!=Ku(s[1]-n)>0&&Ku(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Qu(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<r||l>i)return!1;var u={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Kl(u.x,u.y,a,s)<=o/2}var tc=D;var ec=(0,b.__assign)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],u=l.currentPoint,c=l.params,h=l.prePoint,d=l.box;if(!d||$l(d.x-a,d.y-a,d.width+e,d.height+e,n,r)){switch(l.command){case"L":case"Z":o=Vu(h[0],h[1],u[0],u[1],e,n,r);break;case"Q":o=aa.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],n,r)<=e/2;break;case"C":o=da.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=e/2;break;case"A":var f=l.arcParams,p=f.cx,g=f.cy,m=f.rx,v=f.ry,y=f.startAngle,b=f.endAngle,x=f.xRotation,_=[n,r,1],w=m>v?m:v,S=tc(null,[["t",-p,-g],["r",-x],["s",1/(m>v?1:m/v),1/(m>v?v/m:1)]]);re.transformMat3(_,_,S),o=Qu(0,0,w,y,b,e,_[0],_[1])}if(o)break}}return o}},a);function nc(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=Ju(t[i],e,n))break}return r}var rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=za(t);var e=ec.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Ha(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&vu(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);r&&yu(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var l=this.getTotalLength();s=ec.isPointInStroke(o,i,t,e,l)}if(!s&&r)if(a)s=Xu(this,t,e);else{var u=this.attr("path"),c=ec.extractPolygons(u);s=nc(c.polygons,t,e)||nc(c.polylines,t,e)}return s},e.prototype.createPath=function(t){Au(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,x.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,x.each)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,x.isNil)(o)||(0,x.isNil)(n))return null;var a=o.length,s=i[n+1];return da.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",ec.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],s=this.get("curve");s&&((0,x.each)(s,(function(t,e){n=s[e+1],r=t.length,n&&(i+=da.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,x.each)(s,(function(l,u){n=s[u+1],r=l.length,n&&((t=[])[0]=o/i,e=da.length(l[r-2],l[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Ou),ic=rc;function oc(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(Vu(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var s=t[0],l=t[o-1];if(Vu(s[0],s[1],l[0],l[1],e,n,r))return!0}return!1}var ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=oc(o,i,t,e,!0)),!a&&r&&(a=Ju(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(Ou),sc=ac,lc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],l=n[o-1][0],u=n[o-1][1];r&&vu(this,t,n[1][0],n[1][1],a,s),i&&yu(this,t,n[o-2][0],n[o-2][1],l,u)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&oc(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],l=n[0][1],u=n[o-1][0],c=n[o-1][1];if(r&&r.d)s+=(a=mu(s,l,n[1][0],n[1][1],r.d)).dx,l+=a.dy;if(i&&i.d)u-=(a=mu(n[o-2][0],n[o-2][1],u,c,i.d)).dx,c-=a.dy;t.beginPath(),t.moveTo(s,l);for(var h=0;h<o-1;h++){var d=n[h];t.lineTo(d[0],d[1])}t.lineTo(u,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,x.isNil)(e)?(this.set("totalLength",_a(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,x.each)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Qo.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,x.each)(t,(function(a,s){t[s+1]&&((n=[])[0]=i/e,r=Qo.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ou),uc=lc;var cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,l=o.width,u=o.height,c=o.radius;if(c){var h=!1;return n&&(h=function(t,e,n,r,i,o,a,s){return Vu(t+i,e,t+n-i,e,o,a,s)||Vu(t+n,e+i,t+n,e+r-i,o,a,s)||Vu(t+n-i,e+r,t+i,e+r,o,a,s)||Vu(t,e+r-i,t,e+i,o,a,s)||Qu(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||Qu(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||Qu(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||Qu(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,l,u,c,i,t,e)),!h&&r&&(h=Xu(this,t,e)),h}var d=i/2;return r&&n?$l(a-d,s-d,l+d,u+d,t,e):r?$l(a,s,l,u,t,e):n?function(t,e,n,r,i,o,a){var s=i/2;return $l(t-s,e-s,n,i,o,a)||$l(t+n-s,e-s,i,r,o,a)||$l(t+s,e+r-s,n,i,o,a)||$l(t-s,e+s,i,r,o,a)}(a,s,l,u,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var s=function(t){var e=0,n=0,r=0,i=0;return(0,x.isArray)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}(a),l=s[0],u=s[1],c=s[2],h=s[3];t.moveTo(n+l,r),t.lineTo(n+i-u,r),0!==u&&t.arc(n+i-u,r+u,u,-Math.PI/2,0),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2),t.lineTo(n+h,r+o),0!==h&&t.arc(n+h,r+o-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(Ou),hc=cc,dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Aa(t)},e.prototype._setText=function(t){var e=null;(0,x.isString)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,l=1*i.fontSize,u=this._getSpaceingY(),c=Ea(i.text,i.fontSize,i.lineHeight);(0,x.each)(e,(function(e,i){r=s+i*(u+l)-c+l,"middle"===o&&(r+=c-l-(c-l)/2),"top"===o&&(r+=c-l),(0,x.isNil)(e)||(n?t.fillText(e,a,r):t.strokeText(e,a,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;(0,x.isNil)(a)||(e?t.fillText(a,r,i):t.strokeText(a,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&((0,x.isNil)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&((0,x.isNil)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Ou),fc=dc;function pc(t,e,n){var r,i,o=t.getTotalMatrix();if(o){var a=(r=[e,n,1],(i=o)?wr(Sr(i),r):r);return[a[0],a[1]]}return[e,n]}function gc(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!ar(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=pc(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function mc(t,e,n){if(!gc(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=mc(a,e,n);else if(gc(a,e,n)){var s=a,l=pc(a,e,n),u=l[0],c=l[1];s.isInShape(u,c)&&(r=a)}if(r)break}return r}var vc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return d},e.prototype.getGroupBase=function(){return Du},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?mc(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return(0,x.each)(t,(function(t){var o=Iu(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,x.min)(e),minY:(0,x.min)(n),maxX:(0,x.max)(r),maxY:(0,x.max)(i)}}(e),t&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&Jl(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n))));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,x.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),xu(t,this),_u(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),xu(t,this),wu(this,n,r),_u(t,n,r),t.restore()):e.length&&Mu(e),(0,x.each)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,x.requestAnimationFrame)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(Fo),yc=vc,bc={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},xc={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function _c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function wc(t){var e=bc[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=_c(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function Sc(t,e){var n=t.get("el"),r=(0,x.toArray)(n.children).sort(e),i=document.createDocumentFragment();r.forEach((function(t){i.appendChild(t)})),n.appendChild(i)}function Mc(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")&&n.setAttribute("transform","matrix("+r+")")}}function kc(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){wc(n),n.createPath(e);var i=e.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function Ec(t,e){e.forEach((function(e){e.draw(t)}))}function Ac(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=t.getParent(),o=i?i.getChildren():[n],a=t.get("el");if("remove"===e)if(t.get("isClipShape")){var s=a&&a.parentNode,l=s&&s.parentNode;s&&l&&l.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===e)a.setAttribute("visibility","visible");else if("hide"===e)a.setAttribute("visibility","hidden");else if("zIndex"===e)!function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var a=r[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)}(a,o.indexOf(t));else if("sort"===e){var u=t.get("children");u&&u.length&&Sc(t,(function(t,e){return u.indexOf(t)-u.indexOf(e)?1:0}))}else"clear"===e?a&&(a.innerHTML=""):"matrix"===e?Mc(t):"clip"===e?kc(t,r):"attr"===e||"add"===e&&t.draw(r)}}var Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.__extends)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=_c("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){Ac(this,t)},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),kc(this,t),this.createPath(t),e.length&&Ec(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,x.each)(e||n,(function(t,e){xc[e]&&r.setAttribute(xc[e],t)})),Mc(this)},e}(Vo),Ic=Tc,Cc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return Ic},e.prototype.onCanvasChange=function(t){Ac(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Wo(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,a=e.height,s=this.getHitLineWidth(),l=s/2,u=r-l,c=i-l;return{x:u,y:c,minX:u,minY:c,maxX:r+o+l,maxY:i+a+l,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||wc(this),kc(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,u=n.lineWidth,c=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&c.setAttribute(xc.fillOpacity,s)),this.canStroke&&u>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&c.setAttribute(xc.strokeOpacity,l),u&&c.setAttribute(xc.lineWidth,u))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(xc[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(xc[e],"url(#"+i+")")}else r.setAttribute(xc[e],n);else r.setAttribute(xc[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Mc(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(Zo),Dc=Cc,Nc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,x.each)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):xc[e]&&r.setAttribute(xc[e],t)}))},e}(Dc),Oc=Nc,Lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return(0,b.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if((0,x.each)(e||n,(function(t,e){xc[e]&&r.setAttribute(xc[e],t)})),"function"==typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},e}(Dc),Pc=Lc,Rc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,x.each)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):xc[e]&&r.setAttribute(xc[e],t)}))},e}(Dc),jc=Rc,zc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,x.each)(e||r,(function(t,e){"img"===e?n._setImage(r.img):xc[e]&&i.setAttribute(xc[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,x.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,x.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(Dc),Bc=zc,Fc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,x.each)(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var o=(0,x.isObject)(e)?t.addArrow(n,xc[i]):t.getDefaultArrow(n,xc[i]);r.setAttribute(xc[i],"url(#"+o+")")}else r.removeAttribute(xc[i]);else xc[i]&&r.setAttribute(xc[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Qo.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Qo.pointAt(n,r,i,o,t)},e}(Dc),Gc=Fc,Vc={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},Zc={get:function(t){return Vc[t]},register:function(t,e){Vc[t]=e},remove:function(t){delete Vc[t]},getAll:function(){return Vc}},Uc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,x.isArray)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,o=e.symbol||"circle";return(t=(0,x.isFunction)(o)?o:Zc.get(o))?t(n,r,i):null},e.symbolsFactory=Zc,e}(Dc),Hc=Uc,Wc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,x.each)(e||r,(function(e,o){if("path"===o&&(0,x.isArray)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var a=(0,x.isObject)(e)?t.addArrow(r,xc[o]):t.getDefaultArrow(r,xc[o]);i.setAttribute(xc[o],"url(#"+a+")")}else i.removeAttribute(xc[o]);else xc[o]&&i.setAttribute(xc[o],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(Dc),Yc=Wc,Xc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,x.each)(e||n,(function(t,e){"points"===e&&(0,x.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):xc[e]&&r.setAttribute(xc[e],t)}))},e}(Dc),qc=Xc,Kc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,x.each)(e||n,(function(t,e){"points"===e&&(0,x.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):xc[e]&&r.setAttribute(xc[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,x.isNil)(e)?(this.set("totalLength",_a(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,x.each)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Qo.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,x.each)(t,(function(a,s){t[s+1]&&((n=[])[0]=i/e,r=Qo.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Dc),$c=Kc;var Jc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,x.each)(e||r,(function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&xc[e]&&i.setAttribute(xc[e],t):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(t){var e=0,n=0,r=0,i=0;return(0,x.isArray)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}(o);return(0,x.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e}(Dc),Qc=Jc,th={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},eh={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},nh={left:"left",start:"left",center:"middle",right:"end",end:"end"},rh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return(0,b.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,x.each)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Mc(n):xc[e]&&i.setAttribute(xc[e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=yr();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",eh[n]||"alphabetic"):t.setAttribute("alignment-baseline",th[n]||"baseline"),t.setAttribute("text-anchor",nh[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),s=a.length-1,l="";(0,x.each)(a,(function(t,e){0===e?"alphabetic"===o?l+='<tspan x="'+r+'" dy="'+-s+'em">'+t+"</tspan>":"top"===o?l+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===o?l+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===o?l+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===o&&(l+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(Dc),ih=rh,oh=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ah=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,sh=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function lh(t){var e=t.match(sh);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),(0,x.each)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var uh=function(){function t(t){this.cfg={};var e=null,n=(0,x.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,i=oh.exec(t),o=(0,x.mod)((0,x.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),l=s*s,u=(r.x-n.x+s*(r.y-n.y))/(l+1)+n.x,c=s*(r.x-n.x+s*(r.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=lh(a)}(t,e=_c("linearGradient")):function(t,e){var n=ah.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=lh(a)}(t,e=_c("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),ch=uh,hh={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},dh={x:"-40%",y:"-40%",width:"200%",height:"200%"},fh=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=_c("filter");return(0,x.each)(dh,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=(0,x.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return(0,x.each)(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[hh[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),ph=fh,gh=function(){function t(t,e){this.cfg={};var n=_c("marker"),r=(0,x.uniqueId)("marker_");n.setAttribute("id",r);var i=_c("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,x.isArray)(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),mh=gh,vh=function(){function t(t){this.type="clip",this.cfg={};var e=_c("clipPath");this.el=e,this.id=(0,x.uniqueId)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),yh=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,bh=function(){function t(t){this.cfg={};var e=_c("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=_c("image");e.appendChild(n);var r=(0,x.uniqueId)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=yh.exec(t)[2];n.setAttribute("href",i);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),xh=function(){function t(t){var e=_c("defs"),n=(0,x.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new mh(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new ch(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new mh(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new ph(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new bh(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new vh(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),_h=xh,wh=function(t){function e(e){return t.call(this,(0,b.__assign)((0,b.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return(0,b.__extends)(e,t),e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return Ic},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!bc[r.tagName]){for(var i=r.parentNode;i&&!bc[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=_c("svg"),e=new _h(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&Sc(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?Mc(this):"clip"===t?kc(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();kc(this,t),e.length&&Ec(t,e)},e}(Fo),Sh=wh,Mh=n("./node_modules/color/index.js"),kh=n.n(Mh);function Eh(t){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(t)}var Ah=/^\s+/,Th=/\s+$/;function Ih(t,e){if(e=e||{},(t=t||"")instanceof Ih)return t;if(!(this instanceof Ih))return new Ih(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(Ah,"").replace(Th,"").toLowerCase();var e,n=!1;if(Wh[t])t=Wh[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=od.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=od.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=od.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=od.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=od.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=od.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=od.hex8.exec(t))return{r:$h(e[1]),g:$h(e[2]),b:$h(e[3]),a:ed(e[4]),format:n?"name":"hex8"};if(e=od.hex6.exec(t))return{r:$h(e[1]),g:$h(e[2]),b:$h(e[3]),format:n?"name":"hex"};if(e=od.hex4.exec(t))return{r:$h(e[1]+""+e[1]),g:$h(e[2]+""+e[2]),b:$h(e[3]+""+e[3]),a:ed(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=od.hex3.exec(t))return{r:$h(e[1]+""+e[1]),g:$h(e[2]+""+e[2]),b:$h(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==Eh(t)&&(ad(t.r)&&ad(t.g)&&ad(t.b)?(l=t.r,u=t.g,c=t.b,e={r:255*qh(l,255),g:255*qh(u,255),b:255*qh(c,255)},a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):ad(t.h)&&ad(t.s)&&ad(t.v)?(r=Qh(t.s),i=Qh(t.v),e=function(t,e,n){t=6*qh(t,360),e=qh(e,100),n=qh(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],h=[o,o,s,n,n,a][l];return{r:255*u,g:255*c,b:255*h}}(t.h,r,i),a=!0,s="hsv"):ad(t.h)&&ad(t.s)&&ad(t.l)&&(r=Qh(t.s),o=Qh(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=qh(t,360),e=qh(e,100),n=qh(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));var l,u,c;return n=Xh(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Ch(t,e,n){t=qh(t,255),e=qh(e,255),n=qh(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function Dh(t,e,n){t=qh(t,255),e=qh(e,255),n=qh(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function Nh(t,e,n,r){var i=[Jh(Math.round(t).toString(16)),Jh(Math.round(e).toString(16)),Jh(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Oh(t,e,n,r){return[Jh(td(r)),Jh(Math.round(t).toString(16)),Jh(Math.round(e).toString(16)),Jh(Math.round(n).toString(16))].join("")}function Lh(t,e){e=0===e?0:e||10;var n=Ih(t).toHsl();return n.s-=e/100,n.s=Kh(n.s),Ih(n)}function Ph(t,e){e=0===e?0:e||10;var n=Ih(t).toHsl();return n.s+=e/100,n.s=Kh(n.s),Ih(n)}function Rh(t){return Ih(t).desaturate(100)}function jh(t,e){e=0===e?0:e||10;var n=Ih(t).toHsl();return n.l+=e/100,n.l=Kh(n.l),Ih(n)}function zh(t,e){e=0===e?0:e||10;var n=Ih(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),Ih(n)}function Bh(t,e){e=0===e?0:e||10;var n=Ih(t).toHsl();return n.l-=e/100,n.l=Kh(n.l),Ih(n)}function Fh(t,e){var n=Ih(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ih(n)}function Gh(t){var e=Ih(t).toHsl();return e.h=(e.h+180)%360,Ih(e)}function Vh(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ih(t).toHsl(),r=[Ih(t)],i=360/e,o=1;o<e;o++)r.push(Ih({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Zh(t){var e=Ih(t).toHsl(),n=e.h;return[Ih(t),Ih({h:(n+72)%360,s:e.s,l:e.l}),Ih({h:(n+216)%360,s:e.s,l:e.l})]}function Uh(t,e,n){e=e||6,n=n||30;var r=Ih(t).toHsl(),i=360/n,o=[Ih(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Ih(r));return o}function Hh(t,e){e=e||6;for(var n=Ih(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(Ih({h:r,s:i,v:o})),o=(o+s)%1;return a}Ih.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=Xh(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Dh(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Dh(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=Ch(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Ch(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return Nh(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[Jh(Math.round(t).toString(16)),Jh(Math.round(e).toString(16)),Jh(Math.round(n).toString(16)),Jh(td(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*qh(this._r,255))+"%",g:Math.round(100*qh(this._g,255))+"%",b:Math.round(100*qh(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*qh(this._r,255))+"%, "+Math.round(100*qh(this._g,255))+"%, "+Math.round(100*qh(this._b,255))+"%)":"rgba("+Math.round(100*qh(this._r,255))+"%, "+Math.round(100*qh(this._g,255))+"%, "+Math.round(100*qh(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Yh[Nh(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+Oh(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=Ih(t);n="#"+Oh(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Ih(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(jh,arguments)},brighten:function(){return this._applyModification(zh,arguments)},darken:function(){return this._applyModification(Bh,arguments)},desaturate:function(){return this._applyModification(Lh,arguments)},saturate:function(){return this._applyModification(Ph,arguments)},greyscale:function(){return this._applyModification(Rh,arguments)},spin:function(){return this._applyModification(Fh,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Uh,arguments)},complement:function(){return this._applyCombination(Gh,arguments)},monochromatic:function(){return this._applyCombination(Hh,arguments)},splitcomplement:function(){return this._applyCombination(Zh,arguments)},triad:function(){return this._applyCombination(Vh,[3])},tetrad:function(){return this._applyCombination(Vh,[4])}},Ih.fromRatio=function(t,e){if("object"==Eh(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:Qh(t[r]));t=n}return Ih(t,e)},Ih.equals=function(t,e){return!(!t||!e)&&Ih(t).toRgbString()==Ih(e).toRgbString()},Ih.random=function(){return Ih.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Ih.mix=function(t,e,n){n=0===n?0:n||50;var r=Ih(t).toRgb(),i=Ih(e).toRgb(),o=n/100;return Ih({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},Ih.readability=function(t,e){var n=Ih(t),r=Ih(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Ih.isReadable=function(t,e,n){var r,i,o=Ih.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},Ih.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(r=Ih.readability(t,e[u]))>l&&(l=r,s=Ih(e[u]));return Ih.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,Ih.mostReadable(t,["#fff","#000"],n))};var Wh=Ih.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Yh=Ih.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(Wh);function Xh(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function qh(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Kh(t){return Math.min(1,Math.max(0,t))}function $h(t){return parseInt(t,16)}function Jh(t){return 1==t.length?"0"+t:""+t}function Qh(t){return t<=1&&(t=100*t+"%"),t}function td(t){return Math.round(255*parseFloat(t)).toString(16)}function ed(t){return $h(t)/255}var nd,rd,id,od=(rd="[\\s|\\(]+("+(nd="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+nd+")[,|\\s]+("+nd+")\\s*\\)?",id="[\\s|\\(]+("+nd+")[,|\\s]+("+nd+")[,|\\s]+("+nd+")[,|\\s]+("+nd+")\\s*\\)?",{CSS_UNIT:new RegExp(nd),rgb:new RegExp("rgb"+rd),rgba:new RegExp("rgba"+id),hsl:new RegExp("hsl"+rd),hsla:new RegExp("hsla"+id),hsv:new RegExp("hsv"+rd),hsva:new RegExp("hsva"+id),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ad(t){return!!od.CSS_UNIT.exec(t)}var sd=2,ld=.16,ud=.05,cd=.05,hd=.15,dd=5,fd=4,pd=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function gd(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-sd*e:Math.round(t.h)+sd*e:n?Math.round(t.h)+sd*e:Math.round(t.h)-sd*e)<0?r+=360:r>=360&&(r-=360),r}function md(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-ld*e:e===fd?t.s+ld:t.s+ud*e)>1&&(r=1),n&&e===dd&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function vd(t,e,n){var r;return(r=n?t.v+cd*e:t.v-hd*e)>1&&(r=1),Number(r.toFixed(2))}function yd(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Ih(t),i=dd;i>0;i-=1){var o=r.toHsv(),a=Ih({h:gd(o,i,!0),s:md(o,i,!0),v:vd(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=fd;s+=1){var l=r.toHsv(),u=Ih({h:gd(l,s),s:md(l,s),v:vd(l,s)}).toHexString();n.push(u)}return"dark"===e.theme?pd.map((function(t){var r=t.index,i=t.opacity;return Ih.mix(e.backgroundColor||"#141414",n[r],100*i).toHexString()})):n}var bd={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xd={},_d={};Object.keys(bd).forEach((function(t){xd[t]=yd(bd[t]),xd[t].primary=xd[t][5],_d[t]=yd(bd[t],{theme:"dark",backgroundColor:"#141414"}),_d[t].primary=_d[t][5]}));xd.red,xd.volcano,xd.gold,xd.orange,xd.yellow,xd.lime,xd.green,xd.cyan,xd.blue,xd.geekblue,xd.purple,xd.magenta,xd.grey;var wd=function(t,e,n){var r=kh()(t),i=kh()(e);return kh()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},Sd=function(t,e,n,r){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=wd(e,t,.05).rgb().toString(),i=wd(e,t,.1).rgb().toString(),o=wd(e,t,.2).rgb().toString(),a=wd(e,t,.4).rgb().toString(),s=wd(e,n,.02).rgb().toString(),l=wd(e,n,.05).rgb().toString(),u=wd(e,n,.1).rgb().toString(),c=wd(e,n,.2).rgb().toString(),h=wd(e,n,.3).rgb().toString(),d=yd(t,{theme:"default",backgroundColor:e}),f=kh()(t).hex().toLowerCase(),p=d.indexOf(f),g=t;return-1!==p&&(g=d[p+1]),{mainStroke:t,mainFill:i,activeStroke:t,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:t,selectedFill:e,highlightStroke:g,highlightFill:o,disableStroke:h,disableFill:l,edgeMainStroke:h,edgeActiveStroke:t,edgeInactiveStroke:c,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:h,comboMainFill:s,comboActiveStroke:t,comboActiveFill:r,comboInactiveStroke:h,comboInactiveFill:s,comboSelectedStroke:t,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:c,comboDisableFill:l}}(t,e,"rgb(150, 150, 150)"):function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var r=wd(e,t,.2).rgb().toString(),i=wd(e,t,.3).rgb().toString(),o=wd(e,t,.6).rgb().toString(),a=wd(e,t,.8).rgb().toString(),s=wd(e,n,.2).rgb().toString(),l=wd(e,n,.25).rgb().toString(),u=wd(e,n,.3).rgb().toString(),c=wd(e,n,.4).rgb().toString(),h=wd(e,n,.5).rgb().toString(),d=yd(t,{theme:"dark",backgroundColor:e}),f=kh()(t).hex().toLowerCase(),p=d.indexOf(f),g=t;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:t,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:t,selectedFill:r,highlightStroke:t,highlightFill:o,disableStroke:h,disableFill:l,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:c,comboMainFill:l,comboActiveStroke:t,comboActiveFill:s,comboInactiveStroke:c,comboInactiveFill:l,comboSelectedStroke:t,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:l,comboDisableStroke:c,comboDisableFill:s}}(t,e,"#777")},Md=function(t,e,n,r){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return t.forEach((function(t){i.push(Sd(t,e,n,r))})),i},kd="rgb(0, 0, 0)",Ed=Sd("rgb(95, 149, 255)","rgb(255, 255, 255)"),Ad={version:"0.8.20",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ed.mainStroke,fill:Ed.mainFill},size:20,color:Ed.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Ed.activeFill,stroke:Ed.activeStroke}},nodeStateStyles:{active:{fill:Ed.activeFill,stroke:Ed.activeStroke,lineWidth:2,shadowColor:Ed.mainStroke,shadowBlur:10},selected:{fill:Ed.selectedFill,stroke:Ed.selectedStroke,lineWidth:4,shadowColor:Ed.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Ed.highlightFill,stroke:Ed.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Ed.inactiveFill,stroke:Ed.inactiveStroke,lineWidth:1},disable:{fill:Ed.disableFill,stroke:Ed.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:kd,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ed.edgeMainStroke,lineAppendWidth:2},color:Ed.edgeMainStroke},edgeStateStyles:{active:{stroke:Ed.edgeActiveStroke,lineWidth:1},selected:{stroke:Ed.edgeSelectedStroke,lineWidth:2,shadowColor:Ed.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ed.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Ed.edgeInactiveStroke,lineWidth:1},disable:{stroke:Ed.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:kd,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Ed.comboMainFill,lineWidth:1,stroke:Ed.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Ed.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Ed.comboActiveStroke,lineWidth:1,fill:Ed.comboActiveFill},selected:{stroke:Ed.comboSelectedStroke,lineWidth:2,fill:Ed.comboSelectedFill,shadowColor:Ed.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ed.comboHighlightStroke,lineWidth:2,fill:Ed.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Ed.comboInactiveStroke,fill:Ed.comboInactiveFill,lineWidth:1},disable:{stroke:Ed.comboDisableStroke,fill:Ed.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function Td(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var Id=Bl.cloneEvent,Cd=Bl.isViewportChanged,Dd=function(t){function e(e){var n=t.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.mousedown=!1,n.preItem=null,n.destroy(),n.graph=e,n.destroyed=!1,n.initEvents(),n}return(0,b.__extends)(e,t),e.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,n=void 0===e?[]:e,r=t.get("canvas"),i=r.get("el"),o=(0,x.wrapBehavior)(this,"onCanvasEvents"),a=(0,x.wrapBehavior)(this,"onExtendEvents"),s=(0,x.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(Td(i,"wheel",s)),"undefined"!=typeof window&&(n.push(Td(window,"keydown",a)),n.push(Td(window,"keyup",a)),n.push(Td(window,"focus",a))),this.resetHandler&&t.off("afterchangedata",this.resetHandler),this.resetHandler=(0,x.wrapBehavior)(this,"resetStatus"),t.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this,r=this.graph,i=r.get("canvas"),o=t.target,a=t.type;switch(a){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout((function(){return n.mousedown=!1}));break;case"click":if(!this.mousedown)return}t.canvasX=t.x,t.canvasY=t.y;var s={x:t.canvasX,y:t.canvasY},l=r.get("group").getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Cd(l)&&(s=r.getPointByClient(t.clientX,t.clientY)),t.x=s.x,t.y=s.y,t.currentTarget=r,o===i)return"mousemove"!==a&&"mouseleave"!==a||this.handleMouseMove(t,"canvas"),t.target=i,t.item=null,r.emit(a,t),void r.emit("canvas:".concat(a),t);var u=e.getItemRoot(o);if(u){var c=u.get("item");if(!c.destroyed){var h=c.getType();if(t.target=o,t.item=c,t.canvasX===t.x&&t.canvasY===t.y){var d=r.getCanvasByPoint(t.x,t.y);t.canvasX=d.x,t.canvasY=d.y}t.name&&!t.name.includes(":")?(r.emit("".concat(h,":").concat(a),t),r.emit(a,t)):t.name&&r.emit(t.name,t),"dragstart"===a&&(this.dragging=!0),"dragend"===a&&(this.dragging=!1),"mousemove"===a&&this.handleMouseMove(t,h)}}else r.emit(a,t)},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,x.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,e){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=t.target===i?null:t.item;t=Id(t),r&&r!==o&&!r.destroyed&&(t.item=r,this.emitCustomEvent(r.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",t)),o&&r!==o&&(t.item=o,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=o},e.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit("".concat(t,":").concat(e),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this,e=t.graph,n=t.canvasHandler,r=t.extendEvents;e.get("canvas").off("*",n),(0,x.each)(r,(function(t){t.remove()})),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(Zl),Nd=Dd,Od=n("./node_modules/@antv/layout/lib/index.js"),Ld=n("./node_modules/@antv/hierarchy/build/hierarchy.js"),Pd=n.n(Ld),Rd=Bl.traverseTree,jd=function(t,e){return t?(0,x.isNumber)(t)?function(e){return t}:t:function(t){return e||1}},zd=function(t,e){var n=[],r=[],i={},o=0;for(o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var l=0;for(o=0;o<t.length;o++){var u=n.length,c=r[o],h=c.length;n[4*o+2]=u,n[4*o+3]=c.length,l=Math.max(l,c.length);for(var d=0;d<h;++d){var f=c[d];n.push(+f)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:l}},Bd=function(t,e,n){var r=[],i=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<e.length;a++){var l=e[a];i[o[l.source]].push(o[l.target]),i[o[l.source]].push(n(l)),i[o[l.target]].push(o[l.source]),i[o[l.target]].push(n(l))}var u=0;for(a=0;a<t.length;a++){var c=r.length,h=i[a],d=h.length;r[4*a+2]=c,r[4*a+3]=d/2,u=Math.max(u,d/2);for(var f=0;f<d;++f){var p=h[f];r.push(+p)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:u}},Fd=function(t,e,n,r){var i=[],o=[],a={},s=0;for(s=0;s<t.length;s++){var l=t[s];a[l.id]=s,i.push(l.x),i.push(l.y),i.push(0),i.push(0),o.push([])}for(s=0;s<e.length;s++){var u=e[s];o[a[u.source]].push(a[u.target]),o[a[u.source]].push(n(u)),o[a[u.source]].push(r(u)),o[a[u.source]].push(0),o[a[u.target]].push(a[u.source]),o[a[u.target]].push(n(u)),o[a[u.target]].push(r(u)),o[a[u.target]].push(0)}var c=0;for(s=0;s<t.length;s++){var h=i.length,d=o[s],f=d.length;i[4*s+2]=h+1048576*f/4,i[4*s+3]=0,c=Math.max(c,f/4);for(var p=0;p<f;++p){var g=d[p];i.push(+g)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:c}},Gd=function(t,e){var n=[],r=t.length,i={};return e.forEach((function(e){t.forEach((function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)for(;n.length%4!=0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},Vd=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach((function(t,i){if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(e)},Zd=function(t,e){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",i="y");var a=0;Rd(t,(function(t){return a++,t.x>r.x&&(r.x=t.x),t.x<n.x&&(n.x=t.x),t.y>r.y&&(r.y=t.y),t.y<n.y&&(n.y=t.y),!0}));var s=2*Math.PI/a,l=r[o]-n[o];return 0===l||Rd(t,(function(e){var r=(e[o]-n[o])/l*(2*Math.PI-s)+s,a=Math.abs("x"===i?e.x-t.x:e.y-t.y);return e.x=a*Math.cos(r),e.y=a*Math.sin(r),!0})),t},Ud=function t(){return"undefined"==typeof window||"undefined"==typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),t},addGetWebGLMessage:function(e){var n=void 0!==(e=e||{}).parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",i=t().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},Hd=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("firefox")>-1?"firefox":t.indexOf("safari")>-1?"safari":t.indexOf("opr")>-1?"opera":t.indexOf("chrome")>-1?"chrome":t.indexOf("trident")>-1?"ie 11":t.indexOf("ie")>-1?"ie":"unknown"},Wd=(0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)({},Bl),p),g),m),v),Yd=Wd.radialLayout,Xd=function(){function t(t){this.type=t.type,this.radial=t.radial,this.config=t}return t.prototype.init=function(t){var e=this;this.data=t,this.radial?this.layoutMethod=function(t){var n=Pd()[e.type](t,e.config);return Yd(n),n}:this.layoutMethod=function(t){return Pd()[e.type](t,e.config)}},t.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},t.prototype.layout=function(t){return this.init(t),this.execute()},t}();(0,Od.registerLayout)("grid",Od.GridLayout),(0,Od.registerLayout)("random",Od.RandomLayout),(0,Od.registerLayout)("force",Od.ForceLayout),(0,Od.registerLayout)("circular",Od.CircularLayout),(0,Od.registerLayout)("dagre",Od.DagreLayout),(0,Od.registerLayout)("dagreCompound",Od.DagreCompoundLayout),(0,Od.registerLayout)("radial",Od.RadialLayout),(0,Od.registerLayout)("concentric",Od.ConcentricLayout),(0,Od.registerLayout)("mds",Od.MDSLayout),(0,Od.registerLayout)("fruchterman",Od.FruchtermanLayout),(0,Od.registerLayout)("fruchterman-gpu",Od.FruchtermanGPULayout),(0,Od.registerLayout)("gForce",Od.GForceLayout),(0,Od.registerLayout)("force2",Od.Force2Layout),(0,Od.registerLayout)("gForce-gpu",Od.GForceGPULayout),(0,Od.registerLayout)("comboForce",Od.ComboForceLayout),(0,Od.registerLayout)("comboCombined",Od.ComboCombinedLayout),(0,Od.registerLayout)("forceAtlas2",Od.ForceAtlas2Layout);var qd=function(t,e){var n=t.toString(),r=new Blob(["importScripts('".concat(e,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))},Kd=function(t){void 0===t&&(t="https://unpkg.com/@antv/layout@0.3.23/dist/layout.min.js");var e=new qd((function(){var t="LAYOUT_RUN",e="LAYOUT_END",n="LAYOUT_ERROR",r="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("force2",layout.Force2Layout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(i){(function(e){var n=e.data.type;return n===t||n===r})(i)&&function(i){var o=this;switch(i.data.type){case t:var a,s=i.data,l=s.nodes,u=s.edges,c=s.layoutCfg,h=(m=void 0===c?{}:c).type;if(!(d=layout.getLayoutByName(h))){this.postMessage({type:n,message:"layout ".concat(h," not found")});break}m.onLayoutEnd=function(){o.postMessage({type:e,nodes:l}),null==a||a.destroy()},(a=new d(m)).init({nodes:l,edges:u}),a.execute();break;case r:var d,f=i.data,p=f.nodes,g=(u=f.edges,f.layoutCfg),m=void 0===g?{}:g,v=f.canvas;if(h=m.type,!(d=layout.getLayoutByName(h))){this.postMessage({type:n,message:"layout ".concat(h," not found")});break}if("gpu"!==h.split("-")[1]){this.postMessage({type:n,message:"layout ".concat(h," does not support GPU")});break}var y=new d(m);y.init({nodes:p,edges:u}),y.executeWithWorker(v,this)}}(i)}}),t);return e},$d="LAYOUT_RUN",Jd="LAYOUT_END",Qd="LAYOUT_TICK",tf="GPU_LAYOUT_RUN",ef="GPU_LAYOUT_END";function nf(t){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(t)}var rf,of,af,sf,lf=function(t){return setTimeout(t,16)},uf=function(t){return clearTimeout(t)},cf=function(t){return("undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||lf)(t)},hf=function(t){return("undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||uf)(t)},df=["fruchterman","gForce"],ff=["force","grid","circular"],pf=function(t){function e(e){var n=t.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,b.__extends)(e,t),e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker||("undefined"==typeof Worker?this.worker=null:this.worker=Kd(this.layoutCfg.workerScriptURL)),this.worker},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(hf(t.requestId),t.requestId=null),t.requestId2&&(hf(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){return(0,b.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,l,u,c,h,d;return(0,b.__generator)(this,(function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&vf(o)&&(o="".concat(o,"-gpu")),Bl.isForce(o)?(a=t.onTick,s=t.animate,l=void 0===s&&("force"===o||"force2"===o),h=function(){a&&a(),(s||l)&&n.refreshPositions()},t.tick=h):"comboForce"!==o&&"comboCombined"!==o||(t.comboTrees=n.get("comboTrees")),!1;try{u=new Od.Layouts[o](t),this.layoutMethods[e]&&this.layoutMethods[e].destroy(),this.layoutMethods[e]=u}catch(t){i()}return u.enableTick&&(c=t.onTick,h=function(){c&&c(),n.refreshPositions()},u.tick=h),function(t,e){var n;if(!(null===(n=null==t?void 0:t.nodes)||void 0===n?void 0:n.length))return;t.nodes.forEach((function(t){t.layoutOrder=e}))}(d=this.filterLayoutData(this.data,t),e),u.init(d),n.emit("beforesublayout",{type:o}),[4,u.execute()];case 1:return f.sent(),u.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},e.prototype.updateLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){return(0,b.__awaiter)(n,void 0,void 0,(function(){var n,i,o,a,s,l,u;return(0,b.__generator)(this,(function(c){switch(c.label){case 0:return n=this.graph,i=null==e?void 0:e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},Bl.isForce(i)&&(o=e.onTick,a=e.animate,s=void 0===a&&("force"===i||"force2"===i),l=function(){null==o||o(),(a||s)&&n.refreshPositions()},e.tick=l),u=this.filterLayoutData(this.data,e),t.init(u),t.updateCfg(e),n.emit("beforesublayout",{type:i}),[4,t.execute()];case 1:return c.sent(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),[2]}}))}))}))},e.prototype.layout=function(t){var e,n=this,r=this.graph;if(r&&!r.get("destroyed")){this.data=this.setDataFromGraph();var i=this.data,o=i.nodes,a=i.hiddenNodes;if(!o)return!1;var s=r.get("width"),l=r.get("height"),u={};Object.assign(u,{width:s,height:l,center:[s/2,l/2]},this.layoutCfg),this.layoutCfg=u;var c=u.type,h=!1;null===(e=this.layoutMethods)||void 0===e||e.forEach((function(t){var e;return h=!!(null===(e=t.nodes)||void 0===e?void 0:e.length)||h}));var d=this.destoryLayoutMethods();r.emit("beforelayout");var f=Promise.resolve();h&&c&&1===(null==d?void 0:d.length)&&d[0]===c?this.tweakInit():f=this.initPositions(u.center,o),this.initPositions(u.center,a).then(),this.isGPU=yf(u,c);var p=u.onLayoutEnd,g=u.layoutEndFormatted,m=u.adjust;if(g||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return(0,b.__awaiter)(n,void 0,void 0,(function(){return(0,b.__generator)(this,(function(t){switch(t.label){case 0:return p&&p(o),this.refreshLayout(),m&&u.pipes?[4,this.adjustPipesBox(this.data,m)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return r.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var v=!1;return u.type?(v=!0,f=f.then((function(){return(0,b.__awaiter)(n,void 0,void 0,(function(){return(0,b.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,t.sent()]}}))}))}))):u.pipes&&(v=!0,u.pipes.forEach((function(t,e){f=f.then((function(){return(0,b.__awaiter)(n,void 0,void 0,(function(){return(0,b.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.execLayoutMethod(t,e)];case 1:return[2,n.sent()]}}))}))}))}))),v?f.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),t&&t()})).catch((function(t){})):(r.refreshPositions(),null==t||t()),!1}},e.prototype.tweakInit=function(){var t=this.data,e=this.graph,n=t.nodes,r=t.edges;if(null==n?void 0:n.length){var i={};n.forEach((function(t){var e=t.x,n=t.y;isNaN(e)||isNaN(n)||(i[t.id]={x:e,y:n},t.mass=t.mass||2)})),r.forEach((function(t){var e=t.source,n=t.target,r=i[e],o=i[n];!r&&o?i[e]={x:o.x+80*(Math.random()-.5),y:o.y+80*(Math.random()-.5)}:!o&&r&&(i[n]={x:r.x+80*(Math.random()-.5),y:r.y+80*(Math.random()-.5)})}));var o=e.get("width"),a=e.get("height");n.forEach((function(t){var e=i[t.id]||{x:o/2+20*(Math.random()-.5),y:a/2+20*(Math.random()-.5)};t.x=e.x,t.y=e.y}))}},e.prototype.initWithPreset=function(t,e){var n=this;return new Promise((function(r,i){return(0,b.__awaiter)(n,void 0,void 0,(function(){var n,i,o,a,s,l,u;return(0,b.__generator)(this,(function(c){switch(c.label){case 0:return i=(n=this).layoutCfg,o=n.data,(null==(a=i.preset)?void 0:a.type)&&Od.Layouts[null==a?void 0:a.type]?(s=yf(a,a.type),l=s?"".concat(a.type,"-gpu"):a.type,u=new Od.Layouts[l](a),delete i.preset,u.init(o),[4,u.execute()]):(null==e||e(),r(),[2,!1]);case 1:return c.sent(),null==t||t(),r(),[2,!0]}}))}))}))},e.prototype.layoutWithWorker=function(t,e){var n=this,r=this.layoutCfg,i=this.graph,o=this.getWorker(),a=this.workerData;if(!o)return!1;a.requestId=null,a.requestId2=null,a.currentTick=null,a.currentTickData=null,i.emit("beforelayout");var s=Promise.resolve(),l=!1;if(r.type)l=!0,s=s.then((function(){return n.runWebworker(o,t,r)}));else if(r.pipes){l=!0;for(var u=function(e){s=s.then((function(){return n.runWebworker(o,t,e)}))},c=0,h=r.pipes;c<h.length;c++){u(h[c])}}return l&&s.then((function(){r.onAllLayoutEnd&&r.onAllLayoutEnd(),null==e||e()})).catch((function(t){})),!0},e.prototype.runWebworker=function(t,e,n){var r=this,i=this.isGPU,o=this.filterLayoutData(e,n),a=o.nodes,s=o.edges,l=document.createElement("canvas"),u=i&&"undefined"!=typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in l,c=function(t,e){var n={};if(t&&"object"===nf(t))return Object.keys(t).forEach((function(r){t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r])})),n;return t}(n,(function(t){return"function"!=typeof t}));if(u){var h=l.transferControlToOffscreen();c.type="".concat(c.type,"-gpu"),t.postMessage({type:tf,nodes:a,edges:s,layoutCfg:c,canvas:h},[h])}else t.postMessage({type:$d,nodes:a,edges:s,layoutCfg:c});return new Promise((function(e,i){t.onmessage=function(t){r.handleWorkerMessage(e,i,t,o,n)}}))},e.prototype.handleWorkerMessage=function(t,e,n,r,i){var o=this.graph,a=this.workerData,s=n.data,l=s.type,u=function(){i.onTick&&i.onTick()};switch(l){case Qd:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=cf((function(){mf(r,s),o.refreshPositions(),u(),s.currentTick===s.totalTicks?t():a.currentTick===s.totalTicks&&(a.requestId2=cf((function(){mf(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,u(),t()}))),a.requestId=null})));break;case Jd:null==a.currentTick&&(mf(r,s),t());break;case ef:null==a.currentTick&&(!function(t,e){for(var n=t.nodes,r=e.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],l=r[4*o+1];a.x=s,a.y=l}}(r,s),t());break;default:e()}},e.prototype.updateLayoutCfg=function(t){var e=this,n=this.graph,r=this.layoutMethods;if(n&&!n.get("destroyed")){var i=t.disableTriggerLayout,o=(0,b.__rest)(t,["disableTriggerLayout"]),a=(0,x.mix)({},this.layoutCfg,o);if(this.layoutCfg=a,!i)if(null==r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!o.workerEnabled||!this.layoutWithWorker(this.data,null)){n.emit("beforelayout");var s=Promise.resolve(),l=!1;1===(null==r?void 0:r.length)?(l=!0,s=s.then((function(){return(0,b.__awaiter)(e,void 0,void 0,(function(){return(0,b.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(r[0],a)];case 1:return[2,t.sent()]}}))}))}))):(null==r?void 0:r.length)&&(l=!0,r.forEach((function(t,n){var r=a.pipes[n];s=s.then((function(){return(0,b.__awaiter)(e,void 0,void 0,(function(){return(0,b.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(t,r)];case 1:return[2,e.sent()]}}))}))}))}))),l&&s.then((function(){a.onAllLayoutEnd&&a.onAllLayoutEnd()})).catch((function(t){}))}}else this.layout()}},e.prototype.adjustPipesBox=function(t,e){var n=this;return new Promise((function(r){var i=t.nodes;(null==i?void 0:i.length)||r(),ff.includes(e)||r();var o={center:n.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,l=a.layoutNodes,u=(0,x.clone)(l);o.onLayoutEnd=function(){null==l||l.forEach((function(t,e){var n,r,i,o=t.x-(null===(n=u[e])||void 0===n?void 0:n.x),a=t.y-(null===(r=u[e])||void 0===r?void 0:r.y);null===(i=s[e])||void 0===i||i.forEach((function(t){t.x+=o,t.y+=a}))})),r()},new Od.Layouts[e](o).layout({nodes:l})}))},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(Gl),gf=pf;function mf(t,e){for(var n=t.nodes,r=e.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}function vf(t){return df.includes(t)}function yf(t,e){var n=e;e&&"gpu"===e.split("-")[1]&&(n=e.split("-")[0],t.gpuEnabled=!0);var r=!1;return t.gpuEnabled&&(r=!0,Ud().webgl||(r=!1)),r&&!vf(n)&&(r=!1),r}function bf(t){rf||(rf=document.createElement("table"),of=document.createElement("tr"),af=/^\s*<(\w+|!)[^>]*>/,sf={tr:document.createElement("tbody"),tbody:rf,thead:rf,tfoot:rf,td:of,th:of,"*":document.createElement("div")});var e=af.test(t)&&RegExp.$1;e&&e in sf||(e="*");var n=sf[e];t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var xf=function t(e,n){var r;e.isGroup()&&n.isGroup()&&(null===(r=e.get("children"))||void 0===r||r.forEach((function(e,r){var i=n.get("children")[r];t(e,i)})));var i=e.get("type"),o=n.get("type");if("image"===i&&"image"===o){var a=e.get("clipShape");a&&n.setClip({type:a.get("type"),attrs:a.attr()})}},_f=D,wf=function(t){function e(e){var n=t.call(this,e)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,b.__extends)(e,t),e.prototype.initLayoutController=function(){var t=new gf(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new Nd(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if("string"==typeof t&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e,n=t.clientWidth,r=t.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))e=new Sh({container:t,width:i,height:o});else{var a={container:t,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s,window.devicePixelRatio=s),e=new yc(a)}this.set("canvas",e)},e.prototype.initPlugins=function(){var t=this;(0,x.each)(t.get("plugins"),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.prototype.downloadImageWatermark=function(t,e,n,r){return(0,b.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,b.__generator)(this,(function(s){switch(s.label){case 0:return i=t.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise((function(t){a.onload=function(){var i=e.createPattern(a,"repeat");e.rect(0,0,n,r),e.fillStyle=i,e.fill(),t("")}}))];case 1:return s.sent(),[2]}}))}))},e.prototype.asyncToDataUrl=function(t,e,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),l=this.get("canvas"),u=l.getRenderer(),c=o||l.get("el"),h="";t||(t="image/png"),setTimeout((function(){return(0,b.__awaiter)(a,void 0,void 0,(function(){var o,a,l,d,f,p,g,m,v,y;return(0,b.__generator)(this,(function(b){switch(b.label){case 0:return"svg"!==u?[3,1]:(o=c.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,l.documentElement),d=(new XMLSerializer).serializeToString(l),h="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return f=void 0,p=c.getContext("2d"),g=r||this.get("width"),m=i||this.get("height"),v=void 0,s?[4,this.downloadImageWatermark(s,p,g,m)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(e){y="undefined"!=typeof window?window.devicePixelRatio:1;try{f=p.getImageData(0,0,g*y,m*y),v=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=e,p.fillRect(0,0,g,m)}catch(t){}}h=c.toDataURL(t),e&&(p.clearRect(0,0,g,m),p.putImageData(f,0,0),p.globalCompositeOperation=v),b.label=4;case 4:return n&&n(h),[2]}}))}))}),16)},e.prototype.toDataURL=function(t,e){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");t||(t="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);l.replaceChild(a,l.documentElement);var u=(new XMLSerializer).serializeToString(l);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(u))}else{var c=void 0,h=i.getContext("2d"),d=Math.max(this.get("width"),500),f=Math.max(this.get("height"),500),p=void 0;if(e){var g="undefined"!=typeof window&&window.devicePixelRatio||1;try{c=h.getImageData(0,0,d*g,f*g),p=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=e,h.fillRect(0,0,d,f)}catch(t){}}o=i.toDataURL(t),e&&(h.clearRect(0,0,d,f),h.putImageData(c,0,0),h.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=bf('<div id="virtual-image"></div>'),l=n?n.backgroundColor:void 0,u=n?n.padding:void 0;u?(0,x.isNumber)(u)&&(u=[u,u,u,u]):u=[0,0,0,0];var c=i+u[0]+u[2],h=o+u[1]+u[3],d={container:s,height:c,width:h,quickHit:!0},f="svg"===a?new Sh(d):new yc(d),p=this.get("group").clone(),g=(0,x.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var m=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2;g=_f(g,[["t",-m,-v],["t",o/2+u[3],i/2+u[0]]]),p.resetMatrix(),p.setMatrix(g),f.add(p);var y=f.get("el"),b="";e||(e="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,u=y.getContext("2d"),d=void 0;if(l){var f="undefined"!=typeof window?window.devicePixelRatio:1;try{s=u.getImageData(0,0,h*f,c*f),d=u.globalCompositeOperation,u.globalCompositeOperation="destination-over",u.fillStyle=l,u.fillRect(0,0,h,c)}catch(t){}}b=y.toDataURL(e),l&&(u.clearRect(0,0,h,c),u.putImageData(s,0,0),u.globalCompositeOperation=d)}t&&t(b)}),16)},e.prototype.downloadFullImage=function(t,e,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),l=bf('<div id="virtual-image"></div>'),u=document.querySelector(".g6-graph-watermarker"),c=n?n.backgroundColor:void 0,h=n?n.padding:void 0;h?(0,x.isNumber)(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var d=o+h[0]+h[2],f=a+h[1]+h[3];if(u){var p=this.get("graphWaterMarker").cfg||{},g=p.width,m=p.height;d=Math.ceil(d/m)*m,f=Math.ceil(f/g)*g}var v,y,b={container:l,height:d,width:f},_="svg"===s?new Sh(b):new yc(b),w=this.get("group"),S=(y=(v=w).clone(),xf(v,y),y),M=(0,x.clone)(S.getMatrix());M||(M=[1,0,0,0,1,0,0,0,1]);var k=(i.maxX+i.minX)/2,E=(i.maxY+i.minY)/2;M=_f(M,[["t",-k,-E],["t",a/2+h[3],o/2+h[0]]]),S.resetMatrix(),S.setMatrix(M),_.add(S);var A=_.get("el");e||(e="image/png"),this.asyncToDataUrl(e,c,(function(n){var i=document.createElement("a"),o=(t||"graph")+("svg"===s?".svg":".".concat(e.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}),f,d,A)},e.prototype.downloadImage=function(t,e,n){var r=this,i=this;i.stopAnimate();var o=i.get("canvas").getRenderer();e||(e="image/png");var a=(t||"graph")+("svg"===o?".svg":e.split("/")[1]),s=document.createElement("a");i.asyncToDataUrl(e,n,(function(t){r.dataURLToImage(t,o,s,a);var e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),s.dispatchEvent(e)}))},e.prototype.dataURLToImage=function(t,e,n,r){if(t&&"data:"!==t&&"undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i=t.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(c)}))}else n.addEventListener("click",(function(){n.download=r,n.href=t}))},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=Ad.waterMarkerImage);var n=this.get("container");(0,x.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,x.deepMix)({},Ad.imageWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,l=i.image;if(!t){var u=s?n:document.querySelector(".g6-graph-watermarker");return u&&(u.style.cssText=void 0),void(r&&r.clear())}if(r)r.clear();else{var c={container:n,width:o,height:a,capture:!1},h=this.get("pixelRatio");h&&(c.pixelRatio=h,window.devicePixelRatio=h),r=new yc(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var d=r.get("context"),f=l.rotate,p=l.x,g=l.y;d.rotate(-f*Math.PI/180);var m=new Image;m.crossOrigin="anonymous",m.src=t,m.onload=function(){if(d.drawImage(m,p,g,l.width,l.height),d.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var t=document.querySelector(".g6-graph-watermarker");t||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",r.destroyed||(t.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,x.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,x.deepMix)({},Ad.textWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,l=i.text;if(!(null==t?void 0:t.length)){var u=s?n:document.querySelector(".g6-graph-watermarker");return u&&(u.style.cssText=void 0),void(r&&r.clear())}if(r)r.clear();else{var c={container:n,width:o,height:a,capture:!1},h=this.get("pixelRatio");h&&(c.pixelRatio=h,window.devicePixelRatio=h),r=new yc(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var d=r.get("context"),f=l.rotate,p=l.fill,g=l.fontFamily,m=l.fontSize,v=l.baseline,y=l.x,b=l.y,_=l.lineHeight;d.rotate(-f*Math.PI/180),d.font="".concat(m,"px ").concat(g),d.fillStyle=p,d.textBaseline=v;for(var w=(0,x.isString)(t)?[t]:t,S=w.length-1;S>=0;S--)d.fillText(w[S],y,b+S*_);if(d.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var M=document.querySelector(".g6-graph-watermarker");M||((M=document.createElement("div")).className="g6-graph-watermarker"),M.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(M)}},e.prototype.destroy=function(){var e,n,r,i;(0,x.each)(this.get("plugins"),(function(t){t.destroyPlugin()}));var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var l=s.parentElement;l&&l.removeChild(s)}}null===(e=this.get("eventController"))||void 0===e||e.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),t.prototype.destroy.call(this)},e}(ml),Sf=wf,Mf=Wd.radialLayout,kf=Wd.traverseTree,Ef=function(t){function e(e){var n=t.call(this,e)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,b.__extends)(e,t),e.prototype.getLayout=function(){var t=this.get("layout");return t?"function"==typeof t?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="indented"===t.type?"LR":"TB"),t.radial?function(e){var n=Pd()[t.type](e,t);return Mf(n),n}:function(e){return Pd()[t.type](e,t)}):null},e.indexOfChild=function(t,e){var n=-1;return(0,x.each)(t,(function(t,r){if(e===t.id)return n=r,!1})),n},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},e.prototype.innerAddChild=function(t,e,n){var r=this,i=t.data;i&&(i.x=t.x,i.y=t.y,i.depth=t.depth);var o=r.addItem("node",i,!1);if(e){if(o.set("parent",e),n){var a=e.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=e.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var l=e.get("children");l?l.push(o):e.set("children",[o]),r.addItem("edge",{source:e.get("id"),target:o.get("id"),id:"".concat(e.get("id"),":").concat(o.get("id"))},!1)}return(0,x.each)(t.children||[],(function(t){r.innerAddChild(t,o,n)})),r.emit("afteraddchild",{item:o,parent:e}),o},e.prototype.innerUpdateChild=function(t,n,r){var i=this,o=i.findById(t.id);if(o){(0,x.each)(t.children||[],(function(t){i.innerUpdateChild(t,o,r)}));var a,s,l=o.get("children");if(l)if(l.length>0)for(var u=l.length-1;u>=0;u--){var c=l[u].getModel();-1===e.indexOfChild(t.children||[],c.id)&&(i.innerRemoveChild(c.id,{x:t.x,y:t.y},r),l.splice(u,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var h=o.getModel();r&&o.set("originAttrs",{x:h.x,y:h.y}),o.set("model",Object.assign(h,t.data)),a===t.x&&s===t.y||o.updatePosition({x:t.x,y:t.y})}else i.innerAddChild(t,n,r)},e.prototype.innerRemoveChild=function(t,e,n){var r=this,i=r.findById(t);if(i)if((0,x.each)(i.get("children"),(function(t){r.innerRemoveChild(t.getModel().id,e,n)})),n){var o=i.getModel();i.set("to",e),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;this.getNodes().map((function(t){return n.clearItemStates(t)})),this.getEdges().map((function(t){return n.clearItemStates(t)})),e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){this.updateLayout(t)},e.prototype.updateLayout=function(t,e,n,r){void 0===r&&(r=!0);var i=this;if(t&&(r&&this.get("enabledStack")&&this.pushStack("layout",{before:i.get("layout"),after:t}),i.set("layout",t),i.set("layoutMethod",i.getLayout()),i.layout(),e)){var o=n;o||(o="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var a=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*a[0]+a[6],o.y=o.y*a[0]+a[7];var s=this.getGroup().getCanvasBBox(),l=s.minX,u=s.maxX,c=s.minY,h={x:(l+u)/2,y:(c+s.maxY)/2};"begin"===e&&(h.x=l,h.y=c),this.translate(o.x-h.x,o.y-h.y)}},e.prototype.refreshLayout=function(t){this.layout(t)},e.prototype.layout=function(t){var e=this,n=this,r=n.get("data"),i=n.get("layoutMethod"),o=n.get("layout"),a=r;if(null==o?void 0:o.excludeInvisibles){r=(0,x.clone)(n.get("data"));var s={};kf(r,(function(t){var n=t.children;if(!(null==n?void 0:n.length))return!0;for(var r=n.length-1;r>=0;r--){var i=e.findById(n[r].id);(i?!i.isVisible():!1===n[r].visible)&&(s[t.id]=s[t.id]||[],s[t.id].push({idx:r,child:n.splice(r,1)[0]}))}})),a=i?i(r,n.get("layout")):r,kf(a,(function(t){var e=s[t.id];if(null==e?void 0:e.length)for(var n=e.length-1;n>=0;n--){var r=e[n],i=r.idx,o=r.child;t.children.splice(i,0,o)}}))}else a=i?i(r,n.get("layout")):r;var l=n.get("animate");(n.emit("beforerefreshlayout",{data:r,layoutData:a}),n.emit("beforelayout"),n.innerUpdateChild(a,void 0,l),t)&&n.get("viewController").fitView();l?n.layoutAnimate(a):(n.refresh(),n.paint()),n.emit("afterrefreshlayout",{data:r,layoutData:a}),n.emit("afterlayout")},e.prototype.addChild=function(t,e,n){void 0===n&&(n=!0);var r=this;r.emit("beforeaddchild",{model:t,parent:e}),(0,x.isString)(e)||(e=e.get("id"));var i=r.findDataById(e);i&&(i.children||(i.children=[]),i.children.push(t),r.findById(e).refresh(),r.changeData(void 0,n))},e.prototype.updateChildren=function(t,e,n){void 0===n&&(n=!0);var r=this,i=r.findById(e);e&&i&&(r.findDataById(e).children=t,i.refresh(),r.changeData(void 0,n))},e.prototype.updateChild=function(t,n,r){void 0===r&&(r=!0);var i=this;if(n&&i.findById(n)){var o=i.findDataById(n),a=i.findById(t.id);if(o.children||(o.children=[]),a){var s=e.indexOfChild(o.children,t.id);s>-1&&(o.children[s]=t)}else o.children.push(t);var l=i.findById(n);null==l||l.refresh(),i.changeData(void 0,r)}else i.changeData(t,r)},e.prototype.removeChild=function(t,n){void 0===n&&(n=!0);var r,i=this,o=i.findById(t);if((r=o?null==o?void 0:o.get("parent"):i.getNodes().find((function(e){return!!(e.getModel().children||[]).find((function(e){return e.id===t}))})))&&!r.destroyed){var a=r.get("id"),s=i.findDataById(a),l=s&&s.children||[],u=e.indexOfChild(l,t);l.splice(u,1),r.refresh()}i.changeData(void 0,n)},e.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var r=null;return(0,x.each)(e.children||[],(function(e){return e.id===t?(r=e,!1):!(r=n.findDataById(t,e))&&void 0})),r},e.prototype.layoutAnimate=function(t,e){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach((function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){kf(t,(function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),e){var l=e(o,r,a,t);o.set("model",Object.assign(s,l))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0})),(0,x.each)(n.get("removeList"),(function(t){var e=t.getModel(),n=t.get("originAttrs"),i=t.get("to");e.x=n.x+(i.x-n.x)*r,e.y=n.y+(i.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,x.each)(n.getNodes(),(function(t){t.set("originAttrs",null)})),(0,x.each)(n.get("removeList"),(function(t){n.removeItem(t,!1)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:t})},delay:r.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){void 0===t&&(t=!0);var e=this,n=e.get("data");if(!n||!(0,x.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");e.clear(),t&&this.get("enabledStack")&&this.clearStack(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(e){t.prototype.data.call(this,e),this.set("originData",JSON.parse(JSON.stringify(e)))},e}(Sf),Af=Ef;function Tf(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}var If,Cf=function(){function t(t){this._cfgs=(0,x.deepMix)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),r={};(0,x.each)(n,(function(n,i){var o=(0,x.wrapBehavior)(e,n);r[i]=o,t.on(i,o)})),this._events=r,this.init()},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;(0,x.each)(e,(function(e,n){t.off(n,e)})),this._events=null,this._cfgs=null,this.destroyed=!0},t}(),Df=Cf,Nf=(If=function(t,e){return If=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},If(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}If(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Of="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",Lf=function(t){function e(e){return t.call(this,e)||this}return Nf(e,t),e.prototype.getDefaultCfgs=function(){return{img:Of,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),n=t.get("canvas").get("el"),r=this.get("img")||Of;r.includes("url(")||(r='url("'.concat(r,'")'));var i=bf("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=bf("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),e.insertBefore(i,n)},e.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("width"),r=t.get("height");Tf(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/e,o=80*r/e;Tf(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");Tf(e,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},e}(Df),Pf=Lf,Rf=n("./node_modules/insert-css/index.js"),jf=n.n(Rf),zf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!=typeof document&&jf()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var Bf=function(t){function e(e){return t.call(this,e)||this}return zf(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        "},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),e=bf("<div class=".concat(t||"g6-component-contextmenu","></div>"));Tf(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,x.isString)(n)&&(n=document.getElementById(n)),n.appendChild(e),this.set("menu",e)},e.prototype.onMenuShow=function(t){var e=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&-1===n.indexOf(t.item.getType()))return void e.onMenuHide()}else if(-1===n.indexOf("canvas"))return void e.onMenuHide();if(this.get("shouldBegin")(t)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(t,o);(0,x.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var l=function(e){s(e.target,t.item,o)};this.set("handleMenuClickWrapper",l),r.addEventListener("click",l)}var u=o.get("width"),c=o.get("height"),h=r.getBoundingClientRect(),d=this.get("offsetX")||0,f=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,m=t.canvasX+g+d,v=t.canvasY+p+f;m+h.width>u&&(m=t.canvasX-h.width-d+g),v+h.height>c&&(v=t.canvasY-h.height-f+p),Tf(r,{top:"".concat(v,"px"),left:"".concat(m,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(t){y?y=!1:e.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null));e&&document.body.removeEventListener("click",e)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Tf(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),(0,x.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(Df),Ff=Bf,Gf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vf=function(){return Vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Vf.apply(this,arguments)},Zf=Math.max,Uf=D,Hf=function(t){function e(e){var n=t.call(this,e)||this;return n.handleUpdateCanvas=(0,x.debounce)((function(t){var e=n;e.destroyed||e.updateCanvas()}),100,!1),n}return Gf(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,r=e.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a=navigator.userAgent.toLowerCase().indexOf("safari")>-1,s=bf("\n      <div\n        class=".concat(e.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff;\n          cursor:move'\n        draggable=").concat(!a&&!o,"\n      </div>")),l=0,u=0,c=!1,h=0,d=0,f=0,p=0,g=0,m=0,v=a||o?"mousedown":"dragstart";s.addEventListener(v,(function(i){var o,a;if(i.dataTransfer){var v=new Image;v.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(a=(o=i.dataTransfer).setDragImage)||void 0===a||a.call(o,v,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(t){i.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,i.target===s){var y=s.style;h=parseInt(y.left,10),d=parseInt(y.top,10),f=parseInt(y.width,10),p=parseInt(y.height,10),f>n[0]||p>n[1]||(m=r.getZoom(),g=t.get("ratio"),c=!0,l=i.clientX,u=i.clientY)}}),!1);var y=function(t){if(c&&!(0,x.isNil)(t.clientX)&&!(0,x.isNil)(t.clientY)){var e=l-t.clientX,i=u-t.clientY;(h-e<0||h-e+f>=n[0])&&(e=0),(d-i<0||d-i+p>=n[1])&&(i=0),d-=i,Tf(s,{left:"".concat(h-=e,"px"),top:"".concat(d,"px")}),r.translate(e*m/g,i*m/g),l=t.clientX,u=t.clientY}};a||o||s.addEventListener("drag",y,!1);var b=function(){c=!1,e.refresh=!0},_=a||o?"mouseup":"dragend";s.addEventListener(_,b,!1),i.addEventListener("mouseleave",b),i.addEventListener("mouseup",b),(a||o)&&i.addEventListener("mousemove",y,!1),this.set("viewport",s),i.appendChild(s)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("totaldx"),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("canvas").get("el"),a=r.get("width")||o.scrollWidth||500,s=r.get("height")||o.scrollHeight||500,l=r.getPointByCanvas(0,0),u=r.getPointByCanvas(a,s),c=this.get("viewport");c||this.initViewport();var h=(u.x-l.x)*t,d=(u.y-l.y)*t,f=l.x*t+e,p=l.y*t+n,g=f+h,m=p+d;f<0&&(h+=f,f=0),g>i[0]&&(h-=g-i[0]),p<0&&(d+=p,p=0),m>i[1]&&(d-=m-i[1]),this.set("ratio",t),Tf(c,{left:"".concat(f,"px"),top:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(d,"px")})}},e.prototype.updateGraphShapes=function(){var t,e=this._cfgs.graph,n=this.get("canvas"),r=e.get("group");r.destroyed||(n.clear(),this.get("hideEdge")?(t=n.addGroup(),r.get("children").forEach((function(e){e.get("id").includes("-edge")||t.add(e.clone())}))):((t=r.clone()).resetMatrix(),n.add(t)),"svg"===e.get("renderer")&&this.updateVisible(t))},e.prototype.updateVisible=function(t){var e=this;if(t.isGroup()||t.get("visible")){var n=t.get("children");if(!n||!n.length)return;n.forEach((function(t){t.get("visible")||t.hide(),e.updateVisible(t)}))}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,x.each)(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e,r)})),(0,x.each)(e.getNodes(),(function(e){t.updateOneNodeKeyShape(e,r)}));var i=e.getCombos();if(i&&i.length){var o=r.find((function(t){return"comboGroup"===t.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){t.destroyed||((0,x.each)(i,(function(e){t.updateOneComboKeyShape(e,o)})),null==o||o.sort(),null==o||o.toBack(),t.updateCanvas())}),250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,e){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,e.add(r));var l=r.get("type");"rect"!==l&&"image"!==l||(s.x=i.minX,s.y=i.minY),r.attr(s),t.isVisible()?r.show():r.hide(),r.exist=!0;var u=t.getModel().depth;isNaN(u)||r.set("zIndex",u),n[t.get("id")]=r,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?(s=Object.assign(a,s),r.toFront()):(r=o,e.add(r));var l=r.get("type");"rect"!==l&&"image"!==l||(s.x=i.minX,s.y=i.minY),r.attr(s),t.isVisible()?r.show():r.hide(),r.exist=!0;var u=t.getModel().depth;isNaN(u)||r.set("zIndex",u),n[t.get("id")]=r,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,x.each)(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e,r)})),(0,x.each)(e.getNodes(),(function(e){t.updateOneNodeDelegateShape(e,r)}));var i=e.getCombos();if(i&&i.length){var o=r.find((function(t){return"comboGroup"===t.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){t.destroyed||((0,x.each)(i,(function(e){t.updateOneComboKeyShape(e,o)})),null==o||o.sort(),null==o||o.toBack(),t.updateCanvas())}),250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(e&&0!==e.length)for(var n=e.length-1;n>=0;n--){var r=t[e[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete t[e[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")];if(r){var i=t.get("keyShape").attr("path");r.attr("path",i)}else r=t.get("keyShape").clone(),e.add(r);t.isVisible()?r.show():r.hide(),r.exist=!0,n[t.get("id")]=r,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,e){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[t.get("id")],o=t.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a),i.toFront()}else i=e.addShape("rect",{attrs:Vf({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});t.isVisible()?i.show():i.hide(),i.exist=!0,r[t.get("id")]=i,this.set("itemMap",r)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),r=t.get("className"),i=t.get("container"),o=bf("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,x.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):e.get("container").appendChild(o),t.set("container",o);var a,s=bf('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(s),s.addEventListener("dragenter",(function(t){t.preventDefault()})),s.addEventListener("dragover",(function(t){t.preventDefault()})),a="svg"===e.get("renderer")?new Sh({container:s,width:n[0],height:n[1]}):new yc({container:s,width:n[0],height:n[1]}),t.set("canvas",a),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=t.get("canvas").getCanvasBBox(),l=t.getZoom()||1,u=s.width/l,c=s.height/l;Number.isFinite(a.width)&&(u=Zf(a.width,u),c=Zf(a.height,c)),u+=2*i,c+=2*i;var h=Math.min(e[0]/u,e[1]/c),d=[1,0,0,0,1,0,0,0,1],f=0,p=0;Number.isFinite(a.minX)&&(f=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(e[0]-(u-2*i)*h)/2,m=(e[1]-(c-2*i)*h)/2;d=Uf(d,[["t",f,p],["s",h,h],["t",g,m]]),o.setMatrix(d),this.set("ratio",h),this.set("totaldx",g+f*h),this.set("totaldy",m+p*h),this.set("dx",g),this.set("dy",m),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;null===(t=this.get("canvas"))||void 0===t||t.destroy();var e=this.get("container");(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)},e}(Df),Wf=Hf,Yf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Xf(t,e,n){var r=t.x-e.x,i=t.y-e.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function qf(t,e){var n=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(n*n*e.source.x+n*(t.y-e.source.y)+t.x)/(n*n+1);return{x:r,y:n*(r-e.source.x)+e.source.y}}var Kf=function(t){function e(e){return t.call(this,e)||this}return Yf(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick");this.set("tick",(function(){e&&e(),t.refreshPositions()}))},e.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],r=t.nodes||[],i={},o=!1;if(r.forEach((function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y||(o=!0),i[t.id]=t})),o)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",i);var a=e.get("divisions"),s=e.get("divRate"),l=e.divideEdges(a);e.set("edgePoints",l);var u=e.getEdgeBundles();e.set("edgeBundles",u);for(var c=e.get("cycles"),h=e.get("iterations"),d=e.get("iterRate"),f=e.get("lambda"),p=0;p<c;p++){for(var g=function(t){var r=[];n.forEach((function(t,n){if(t.source!==t.target){var o=i[t.source],s=i[t.target];r[n]=e.getEdgeForces({source:o,target:s},n,a,f);for(var u=0;u<a+1;u++)l[n][u].x+=r[n][u].x,l[n][u].y+=r[n][u].y}}))},m=0;m<h;m++)g();f/=2,a*=s,h*=d,l=e.divideEdges(a),e.set("edgePoints",l)}n.forEach((function(t,e){t.source!==t.target&&(t.type="polyline",t.controlPoints=l[e].slice(1,l[e].length-1))})),e.get("graph").refresh()}},e.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach((function(n){e.set(n,t[n])})),t.onTick){var r=this.get("graph");e.set("tick",(function(){t.onTick(),r.refresh()}))}e.bundling(n)},e.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,r=e.get("nodeIdMap"),i=e.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach((function(n,o){var a;i[o]&&void 0!==i[o]||(i[o]=[]);var s=r[n.source],l=r[n.target];if(1===t)i[o].push({x:s.x,y:s.y}),i[o].push({x:.5*(s.x+l.x),y:.5*(s.y+l.y)}),i[o].push({x:l.x,y:l.y});else{var u=((null===(a=i[o])||void 0===a?void 0:a.length)?e.getEdgeLength(i[o]):Xf({x:s.x,y:s.y},{x:l.x,y:l.y}))/(t+1),c=u,h=[{x:s.x,y:s.y}];i[o].forEach((function(t,e){if(0!==e){for(var n=Xf(t,i[o][e-1]);n>c;){var r=c/n,a={x:i[o][e-1].x,y:i[o][e-1].y};a.x+=r*(t.x-i[o][e-1].x),a.y+=r*(t.y-i[o][e-1].y),h.push(a),n-=c,c=u}c-=n}})),h.push({x:l.x,y:l.y}),i[o]=h}})),i},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach((function(n,r){0!==r&&(e+=Xf(n,t[r-1]))})),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get("data").edges||[],n=t.get("bundleThreshold"),r=t.get("nodeIdMap"),i=t.get("edgeBundles");return i||(i=[]),e.forEach((function(t,e){i[e]&&void 0!==i[e]||(i[e]=[])})),e.forEach((function(o,a){var s=r[o.source],l=r[o.target];e.forEach((function(e,o){if(!(o<=a)){var u=r[e.source],c=r[e.target];t.getBundleScore({source:s,target:l},{source:u,target:c})>=n&&(i[a].push(o),i[o].push(a))}}))})),i},e.prototype.getBundleScore=function(t,e){var n=this;return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Xf({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Xf({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),n.getAngleScore(t,e)*n.getScaleScore(t,e)*n.getPositionScore(t,e)*n.getVisibilityScore(t,e)},e.prototype.getAngleScore=function(t,e){var n=function(t,e){return t.x*e.x+t.y*e.y}({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},e.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)},e.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2;return n/(n+Xf({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2}))},e.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),r=this.getEdgeVisibility(e,t);return n<r?n:r},e.prototype.getEdgeVisibility=function(t,e){var n=qf(e.source,t),r=qf(e.target,t),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Xf(i,o)/Xf(n,r))},e.prototype.getEdgeForces=function(t,e,n,r){for(var i=this,o=i.get("edgePoints"),a=i.get("K")/(Xf(t.source,t.target)*(n+1)),s=[{x:0,y:0}],l=1;l<n;l++){var u={x:0,y:0},c=i.getSpringForce({pre:o[e][l-1],cur:o[e][l],next:o[e][l+1]},a),h=i.getElectrostaticForce(l,e);u.x=r*(c.x+h.x),u.y=r*(c.y+h.y),s.push(u)}return s.push({x:0,y:0}),s},e.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,r=t.pre.y+t.next.y-2*t.cur.y;return{x:n*=e,y:r*=e}},e.prototype.getElectrostaticForce=function(t,e){var n=this,r=n.get("eps"),i=n.get("edgeBundles"),o=n.get("edgePoints"),a=i[e],s={x:0,y:0};return a.forEach((function(n){var i={x:o[n][t].x-o[e][t].x,y:o[n][t].y-o[e][t].y};if(Math.abs(i.x)>r||Math.abs(i.y)>r){var a=1/Xf(o[n][t],o[e][t]);s.x+=i.x*a,s.y+=i.y*a}})),s},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(Df),$f=Kf,Jf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qf=function(){return Qf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Qf.apply(this,arguments)},tp={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},ep=function(t){function e(e){return t.call(this,e)||this}return Jf(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,x.clone)(tp),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},e.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},e.prototype.createDelegate=function(t){var e=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(t),(r=n.get("delegate")).on("dragstart",(function(t){n.set("delegateCenterDiff",{x:r.attr("x")-t.x,y:r.attr("y")-t.y})})),r.on("drag",(function(t){n.magnify(t)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(t){e.scaleDByWheel(t)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(t){n.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var n,r=e.get("graph"),i=e.get("delegate"),o=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(t.clientX,t.clientY);n=t.originalEvent.wheelDelta<0?.95:1/.95;var a=e.get("maxR"),s=e.get("minR"),l=e.get("r");(l>(a||r.get("height"))&&n>1||l<(s||.05*r.get("height"))&&n<1)&&(n=1),l*=n,e.set("r",l),e.set("r2",l*l);var u=e.get("d");e.set("molecularParam",(u+1)*l),e.set("delegateCenterDiff",void 0),e.magnify(t,o)}},e.prototype.scaleRByDrag=function(t){var e=this;if(t){var n,r=e.get("dragPrePos"),i=e.get("graph"),o=i.getPointByClient(t.clientX,t.clientY);n=t.x-r.x<0?.95:1/.95;var a=e.get("maxR"),s=e.get("minR"),l=e.get("r");(l>(a||i.get("height"))&&n>1||l<(s||.05*i.get("height"))&&n<1)&&(n=1),l*=n,e.set("r",l),e.set("r2",l*l);var u=e.get("d");e.set("molecularParam",(u+1)*l),e.magnify(t,o),e.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var e=this;if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var n=0;n=t.originalEvent.wheelDelta<0?-.1:.1;var r=e.get("d")+n,i=e.get("maxD"),o=e.get("minD");if(r<i&&r>o){e.set("d",r);var a=e.get("r");e.set("molecularParam",(r+1)*a);var s=e.get("delegate"),l=s?{x:s.attr("x"),y:s.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,l)}}},e.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),r=t.x-n.x>0?.1:-.1,i=e.get("d")+r,o=e.get("maxD"),a=e.get("minD");if(i<o&&i>a){e.set("d",i);var s=e.get("r");e.set("molecularParam",(i+1)*s),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,e){var n=this;n.restoreCache();var r=n.get("graph"),i=n.get("cachedMagnifiedModels"),o=n.get("cachedOriginPositions"),a=n.get("showLabel"),s=n.get("r"),l=n.get("r2"),u=n.get("d"),c=n.get("molecularParam"),h=r.getNodes(),d=h.length,f=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(f=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(f.x+=p.x,f.y+=p.y),n.updateDelegate(f,s);for(var g=0;g<d;g++){var m=h[g].getModel(),v=m.x,y=m.y;if(!isNaN(v)&&!isNaN(y)){var b=(v-f.x)*(v-f.x)+(y-f.y)*(y-f.y);if(!isNaN(b)&&b<l&&0!==b){var x=Math.sqrt(b),_=c*x/(u*x+s),w=(v-f.x)/x,S=(y-f.y)/x;if(m.x=w*_+f.x,m.y=S*_+f.y,o[m.id]||(o[m.id]={x:v,y:y,texts:[]}),i.push(m),a&&2*x<s)for(var M=h[g].getContainer().getChildren(),k=M.length,E=0;E<k;E++){var A=M[E];"text"===A.get("type")&&(o[m.id].texts.push({visible:A.get("visible"),shape:A}),A.set("visible",!0))}}}}r.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),r=e.length,i=0;i<r;i++){var o=e[i],a=n[o.id];o.x=a.x,o.y=a.y;for(var s=a.texts.length,l=0;l<s;l++){var u=a.texts[l];u.shape.set("visible",u.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var e=this,n=t.r,r=t.d,i=t.trigger,o=t.minD,a=t.maxD,s=t.minR,l=t.maxR,u=t.scaleDBy,c=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(r)||e.set("d",r),isNaN(a)||e.set("maxD",a),isNaN(o)||e.set("minD",o),isNaN(l)||e.set("maxR",l),isNaN(s)||e.set("minR",s);var h,d=e.get("d"),f=e.get("r");(e.set("molecularParam",(d+1)*f),"mousemove"!==i&&"click"!==i&&"drag"!==i||e.set("trigger",i),"drag"===u||"wheel"===u||"unset"===u)&&(e.set("scaleDBy",u),e.get("delegate").remove(),e.get("delegate").destroy(),(h=e.get("dPercentText"))&&(h.remove(),h.destroy()));"drag"!==c&&"wheel"!==c&&"unset"!==c||(e.set("scaleRBy",c),e.get("delegate").remove(),e.get("delegate").destroy(),(h=e.get("dPercentText"))&&(h.remove(),h.destroy()))},e.prototype.updateDelegate=function(t,e){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||tp;o=a.addShape("circle",{attrs:Qf({r:e/1.5,x:t.x,y:t.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(t){r.scaleRByWheel(t)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(t){r.set("dragging",!0),r.set("cacheCenter",{x:t.x,y:t.y}),r.set("dragPrePos",{x:t.x,y:t.y})})),o.on("drag",(function(t){r.scaleRByDrag(t)})),o.on("dragend",(function(t){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(t){n.scaleDByWheel(t)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(t){r.set("dragging",!0),r.set("cacheCenter",{x:t.x,y:t.y}),r.set("dragPrePos",{x:t.x,y:t.y})})),o.on("drag",(function(t){n.scaleDByDrag(t)})),o.on("dragend",(function(t){r.set("dragging",!1)}))))}else o.attr({x:t.x,y:t.y,r:e/1.5});if(r.get("showDPercent")){var l=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),u=r.get("dPercentText"),c=t.y+e/1.5+16;if(!u||u.destroyed)u=i.get("group").addShape("text",{attrs:{text:"".concat(l,"%"),x:t.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",u);else u.attr({text:"".concat(l,"%"),x:t.x,y:c})}r.set("delegate",o)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Df),np=ep,rp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!=typeof document&&jf()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var ip=function(t){function e(e){return t.call(this,e)||this}return rp(e,t),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},e.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent")(e),r=n;(0,x.isString)(n)&&(r=bf(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),(0,x.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",(function(n){var r=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),"HTML"===n.tagName)return e.push(document,window),e;n=n.parentElement}return e}(n).filter((function(t){return"LI"===t.nodeName}));if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,e):t.handleDefaultOperator(i))}}));var s=this.get("position");s&&Tf(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');e&&n&&r&&i&&(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4"),t.on("stackchange",(function(t){var o=t.undoStack,a=t.redoStack,s=o.length,l=a.length;0===s?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),0===l?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))})))},e.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(e&&0!==e.length){var n=e.pop();if(n){var r=n.action;t.pushStack(r,(0,x.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);delete e.id,t.updateItem(n,e,!1),"combo"===n.getType()&&t.updateCombo(n)}))}));break;case"changedata":t.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)}))}));break;case"add":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.removeItem(e.id,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.updateComboTree(e.id,e.parentId,!1)}))}));break;case"createCombo":var o=n.data.after.combos,a=o[o.length-1];Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.updateComboTree(e.id,e.parentId,!1)}))})),t.removeItem(a.id,!1);break;case"uncombo":var s=i.combos[i.combos.length-1],l=i.nodes.concat(i.combos).map((function(t){return t.id})).filter((function(t){return t!==s.id}));t.createCombo(s,l,!1);break;case"layout":t.updateLayout(i,void 0,void 0,!1)}}}},e.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(e&&0!==e.length){var n=e.pop();if(n){var r=n.action,i=n.data.after;if(t.pushStack(r,(0,x.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);delete e.id,t.updateItem(n,e,!1),"combo"===n.getType()&&t.updateCombo(n)}))}));break;case"changedata":t.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(e){t.removeItem(e.id,!1)})),i.nodes&&i.nodes.forEach((function(e){t.removeItem(e.id,!1)})),i.combos&&i.combos.forEach((function(e){t.removeItem(e.id,!1)}));break;case"add":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.updateComboTree(e.id,e.parentId,!1)}))}));break;case"createCombo":var o=i.combos[i.combos.length-1];t.createCombo(o,o.children.map((function(t){return t.id})),!1);break;case"uncombo":var a=n.data.before.combos,s=a[a.length-1];t.uncombo(s.id,!1);break;case"layout":t.updateLayout(i,void 0,void 0,!1)}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),e=t.getZoom(),n=1/(1-.05*this.get("zoomSensitivity"));n*e>(this.get("maxZoom")||t.get("maxZoom"))||t.zoomTo(e*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),e=t.getZoom(),n=1-.05*this.get("zoomSensitivity");n*e<(this.get("minZoom")||t.get("minZoom"))||t.zoomTo(e*n)},e.prototype.realZoom=function(){this.get("graph").zoomTo(1)},e.prototype.autoZoom=function(){this.get("graph").fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom()}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),(0,x.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Df),op=ip,ap=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!=typeof document&&jf()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var sp=function(t){function e(e){return t.call(this,e)||this}return ap(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return"\n          <h4 class='tooltip-type'>类型：".concat(t.item.getType(),"</h4>\n          <span class='tooltip-id'>ID：").concat(t.item.getID(),"</span>\n        ")},shouldBegin:function(t){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,e=t.get("className")||"g6-component-tooltip",n=bf("<div class='".concat(e,"'></div>")),r=t.get("container");r||(r=t.get("graph").get("container")),(0,x.isString)(r)&&(r=document.getElementById(r)),Tf(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==t.get("trigger")&&(n.addEventListener("mouseenter",(function(t){Tf(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(e){t.hideTooltip()}))),t.set("tooltip",n)},e.prototype.onClick=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),r.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(t),r.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(t.item){var e=this.get("itemTypes");if(!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(t);(0,x.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Tf(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(e(t)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,l=r.getPointByClient(t.clientX,t.clientY),u=this.get("fixToNode"),c=t.item;if(c.getType&&"node"===c.getType()&&u&&(0,x.isArray)(u)&&u.length>=2){var h=c.getBBox();l={x:h.minX+h.width*u[0],y:h.minY+h.height*u[1]}}var d=r.getCanvasByPoint(l.x,l.y),f=d.x,p=d.y,g=r.getContainer(),m={x:f+g.offsetLeft+a,y:p+g.offsetTop+s};Tf(n,{visibility:"visible",display:"unset"});var v=n.getBoundingClientRect();f+v.width+a>i&&(m.x-=v.width+a),p+v.height+s>o&&(m.y-=v.height+s,m.y<0&&(m.y=0)),Tf(n,{left:"".concat(m.x,"px"),top:"".concat(m.y,"px")})}else Tf(n,{visibility:"hidden",display:"none"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),(0,x.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(Df),lp=sp,up="timebarstartplay",cp="timebarendplay",hp="valuechange",dp="timebarConfigChanged",fp="playPauseBtn",pp="nextStepBtn",gp="preStepBtn",mp=function(){function t(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.container,a=t.text,s=t.padding,l=void 0===s?[4,4,4,4]:s,u=t.className,c=void 0===u?"g6-component-timebar-tooltip":u,h=t.backgroundColor,d=void 0===h?"#000":h,f=t.textColor,p=void 0===f?"#fff":f,g=t.opacity,m=void 0===g?.8:g,v=t.fontSize,y=void 0===v?12:v;this.container=o,this.className=c,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=l,this.opacity=m,this.fontSize=y,this.render()}return t.prototype.render=function(){var t=this,e=t.className,n=(t.x,t.y,t.backgroundColor),r=t.textColor,i=t.text,o=t.padding,a=t.opacity,s=t.fontSize,l=t.container,u=bf("<div class='".concat(e,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(a,'"></div>'));(0,x.isString)(l)&&(l=document.getElementById(l)),l.appendChild(u),t.parentHeight=l.offsetHeight,t.parentWidth=l.offsetWidth,Tf(u,{visibility:"hidden",top:0,left:0});var c=bf("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(s,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));c.innerHTML=i,u.appendChild(c),t.backgroundDOM=c;var h=bf("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));u.appendChild(h),t.arrowDOM=h,t.container=u},t.prototype.show=function(t){var e=this,n=t.text,r=t.x;t.y,t.clientX,t.clientY;e.backgroundDOM.innerHTML=n;var i=e.backgroundDOM.offsetWidth,o=e.backgroundDOM.offsetHeight,a=e.arrowDOM.offsetWidth,s=e.arrowDOM.offsetHeight;Tf(e.container,{top:"".concat(-o-s,"px"),left:"".concat(r,"px"),visibility:"visible"}),Tf(e.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),Tf(e.arrowDOM,{marginLeft:"".concat(-a/2,"px"),top:"".concat(o,"px")});var l=r-i/2,u=r+i/2;l<0?Tf(e.backgroundDOM,{marginLeft:"".concat(-i/2-l,"px")}):u>e.parentWidth&&Tf(e.backgroundDOM,{marginLeft:"".concat(-i/2-u+e.parentWidth+12,"px")})},t.prototype.hide=function(){Tf(this.container,{top:0,left:0,visibility:"hidden"})},t}(),vp=mp,yp=function(){return yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yp.apply(this,arguments)},bp=function(){function t(t){this.config=(0,x.deepMix)({},t),this.init()}return t.prototype.update=function(t){this.config=(0,x.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},t.prototype.init=function(){this.initElement(),this.renderMarker()},t.prototype.initElement=function(){var t=this.config,e=t.group,n=t.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,l=void 0===s?0:s,u=this.config.x+a,c=this.config.y+l,h=e.addGroup({name:fp});this.startMarkerGroup=h.addGroup({name:fp}),this.circle=e.addShape("circle",{attrs:yp({x:u,y:c,r:this.config.r*i},n),name:fp}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(u,c,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=h.addGroup({name:fp});var d=.25*this.config.r*i,f=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:u-.375*this.config.r*i,y:c-f/2,width:d,height:f,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:u+1/8*this.config.r*i,y:c-f/2,width:d,height:f,fill:n.stroke||"#aaa",lineWidth:0}})},t.prototype.updateElement=function(){var t=this.config.style,e=t.scale,n=void 0===e?1:e,r=t.offsetX,i=void 0===r?0:r,o=t.offsetY,a=void 0===o?0:o,s=this.config.x+i,l=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",l),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,l,n));var u=.25*this.config.r*n,c=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",l-c/2),this.pauseLeftMarker.attr("width",u),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",l-c/2),this.pauseRightMarker.attr("width",u),this.pauseRightMarker.attr("height",c)},t.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},t.prototype.getStartMarkerPath=function(t,e,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-r/Math.sqrt(3)/2,e-r/2],["L",t+r/Math.sqrt(3),e],["L",t-r/Math.sqrt(3)/2,e+r/2]]},t}(),xp=bp,_p=function(){return _p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_p.apply(this,arguments)},wp=D,Sp={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},Mp={fill:"#fff"},kp={fill:"green"},Ep={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Ap={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},Tp={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Ep,timeTypeControllerStyle:Ap},Ip=50,Cp="single",Dp="range",Np=function(){function t(t){this.controllerCfg=(0,x.deepMix)({},Tp,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||Dp,this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return t.prototype.init=function(){this.renderPlayButton()},t.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},t.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},t.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,r=t.x,i=t.y,o=t.hideTimeTypeController,a=t.fill,s=void 0===a?"#aaa":a,l=t.stroke,u=void 0===l?"green":l,c=t.containerStyle,h=void 0===c?{}:c,d=_p(_p({},Sp),t.playBtnStyle||{}),f=_p(_p({},Mp),t.preBtnStyle||{}),p=_p(_p({},kp),t.nextBtnStyle||{}),g=n/2-5,m=i+10,v=this.controllerGroup.addShape("rect",{attrs:_p({x:r,y:m,width:e,height:n,stroke:u,fill:s},h),name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y:m,r:g}):this.playButton=new xp({group:this.controllerGroup,x:e/2,y:m+g+5,r:g,isPlay:this.isPlay,style:d});var y=f.offsetX||0,b=f.offsetY||0,x=(f.scale||1)*g;this.controllerGroup.addShape("path",{attrs:_p({path:this.getPreMarkerPath(e/2-5*g+y,m+g+5+b,.5*x)},f),name:gp});var _=p.offsetX||0,w=p.offsetY||0,S=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:_p({path:this.getNextMarkerPath(e/2+5*g+_,m+g+5+w,.5*S)},p),name:pp}),v.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var M=this.controllerCfg.scale,k=void 0===M?1:M,E=this.controllerGroup.getCanvasBBox(),A=(E.maxX+E.minX)/2,T=(E.maxY+E.minY)/2,I=wp([1,0,0,0,1,0,0,0,1],[["t",-A,-T],["s",k,k],["t",A,T]]);this.controllerGroup.setMatrix(I)},t.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,n=t.width,r=t.hideTimeTypeController,i=_p(_p({},Ep),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,l=void 0===s?{}:s,u=i.pointer,c=void 0===u?{}:u,h=i.scale,d=void 0===h?1:h,f=i.offsetX,p=void 0===f?0:f,g=i.offsetY,m=void 0===g?0:g,v=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=v;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var _=e+this.speedAxisY[x],w=n-(r?Ip:110);v.addShape("line",{attrs:_p({x1:w,x2:w+15,y1:_,y2:_},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=_,y.push(b),b-=1}this.speedText=v.addShape("text",{attrs:_p({x:n-(r?Ip:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},l),name:"speed-text"}),this.speedPoint=v.addShape("path",{attrs:_p({path:this.getPointerPath(n-(r?Ip:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var S=this.speedGroup.getCanvasBBox(),M=(S.maxX+S.minX)/2,k=(S.maxY+S.minY)/2,E=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];E=wp(E,[["t",-M,-k],["s",d,d],["t",M+p*d,k+m*d]]),this.speedGroup.setMatrix(E)},t.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},t.prototype.renderToggleTime=function(){var t,e,n=this.controllerCfg,r=n.width,i=n.defaultTimeType,o=_p(_p({},Ap),this.controllerCfg.timeTypeControllerStyle||{}),a=o.scale,s=void 0===a?1:a,l=o.offsetX,u=void 0===l?0:l,c=o.offsetY,h=void 0===c?0:c,d=o.box,f=void 0===d?{}:d,p=o.check,g=void 0===p?{}:p,m=o.text,v=void 0===m?{}:m;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var y=i===Cp;this.toggleGroup.addShape("rect",{attrs:_p({x:r-Ip,y:this.speedAxisY[0]+3.5},f),isChecked:y,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:_p({path:[["M",r-Ip+3,this.speedAxisY[1]+6],["L",r-Ip+7,this.speedAxisY[1]+10],["L",r-Ip+12,this.speedAxisY[1]+4]]},g),capture:!1,name:"check-icon"}),y||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:_p({text:y?(null===(t=this.controllerCfg)||void 0===t?void 0:t.timeRangeControllerText)||"时间范围":(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"单一时间",x:r-Ip+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},v),name:"checked-text"});var b=this.toggleGroup.getCanvasBBox(),x=(b.maxX+b.minX)/2,_=(b.maxY+b.minY)/2,w=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];w=wp(w,[["t",-x,-_],["s",s,s],["t",x+u*s,_+h*s]]),this.toggleGroup.setMatrix(w)},t.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",(function(e){var n=e.target.attr("y1"),r=t.speedPoint.attr("matrix"),i=t.speedAxisY.indexOf(r[7]||0),o=t.speedAxisY.indexOf(n),a=t.speedAxisY[o]-t.speedAxisY[i];r=wp(r,[["t",0,a]]),t.speedPoint.setMatrix(r),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(dp,{speed:t.currentSpeed,type:t.currentType})})),this.speedGroup.on("mousewheel",(function(e){e.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=t.speedAxisY.indexOf(r);if(-1===i){var o=1/0;t.speedAxisY.forEach((function(t,e){var n=Math.abs(t-r);o>n&&(o=n,i=e)}))}i=e.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(t.speedAxisY.length-1,i+1);var a=t.speedAxisY[i]-r;n=wp(n,[["t",0,a]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-i,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(dp,{speed:t.currentSpeed,type:t.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(e){var n,r,i=e.target.get("isChecked");i?(t.checkedIcon.hide(),t.checkedText.attr("text",(null===(r=t.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"单一时间"),t.currentType=Dp):(t.checkedIcon.show(),t.checkedText.attr("text",(null===(n=t.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"时间范围"),t.currentType=Cp),e.target.set("isChecked",!i),t.group.emit(dp,{type:t.currentType,speed:t.currentSpeed})}))},t.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},t}(),Op=Np,Lp=function(){return Lp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Lp.apply(this,arguments)},Pp=D,Rp={fill:"#5B8FF9"},jp={fill:"#e6e8e9"},zp=function(){function t(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var e=t.graph,n=t.canvas,r=t.group,i=t.width,o=t.height,a=t.padding,s=t.data,l=t.start,u=t.end,c=t.x,h=void 0===c?0:c,d=t.y,f=void 0===d?0:d,p=t.tickLabelFormatter,g=t.selectedTickStyle,m=void 0===g?Rp:g,v=t.unselectedTickStyle,y=void 0===v?jp:v,b=t.tooltipBackgroundColor,x=t.tooltipFomatter,_=t.tickLabelStyle,w=t.controllerCfg,S=void 0===w?{speed:1}:w;this.graph=e,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=l,this.end=u,this.tickLabelFormatter=p,this.tickLabelStyle=_||{},this.selectedTickStyle=m,this.unselectedTickStyle=y,this.controllerCfg=S,this.currentSpeed=S.speed||1,this.x=h,this.y=f,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return t.prototype.renderSlices=function(){var t=this,e=this,n=e.width,r=e.height,i=e.padding,o=e.data,a=e.start,s=e.end,l=e.tickLabelFormatter,u=e.selectedTickStyle,c=e.unselectedTickStyle,h=e.tickLabelStyle,d=n-2*i,f=r-(3*i+4+10)-2*i,p=o.length,g=(d-2*(p-1))/p;this.tickWidth=g;var m=this.sliceGroup,v=[],y=[],b=Math.round(p*a),_=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=_;var w=h.rotate;delete h.rotate,o.forEach((function(e,r){var o=r>=b&&r<=_?u:c,a=m.addShape("rect",{attrs:Lp({x:i+r*(g+2),y:i,width:g,height:f},o),draggable:!0,name:"tick-rect-".concat(r)}),s=m.addShape("rect",{attrs:{x:i+r*g+2*(2*r-1)/2,y:i,width:0===r||r===p-1?g+1:g+2,height:f,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,S=a.getBBox(),M=(S.minX+S.maxX)/2;if(v.push({rect:a,pickRect:s,value:e.date,x:M,y:S.minY}),l?(d=l(e),!(0,x.isString)(d)&&d&&(d=e.date)):r%Math.round(p/10)==0&&(d=e.date),d){y.push(d);var k=S.maxY+2*i;m.addShape("line",{attrs:{stroke:"#BFBFBF",x1:M,y1:k,x2:M,y2:k+4},name:"tick-line"});var E=k+4+i,A=m.addShape("text",{attrs:Lp({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:M,y:E,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},h),capture:!1,name:"tick-label"}),T=A.getBBox();if(T.maxX>n?A.attr("textAlign","right"):T.minX<0&&A.attr("textAlign","left"),(0,x.isNumber)(w)&&10!==y.length){var I=Pp([1,0,0,0,1,0,0,0,1],[["t",-M,-E],["r",w],["t",M-5,E+2]]);A.attr({textAlign:"left",matrix:I})}1===y.length?A.attr({textAlign:"left"}):10===y.length&&A.attr({textAlign:"right"})}})),this.tickRects=v;var S=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Op(Lp({group:S,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},t.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",(function(e){var n=e.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=t.tickRects,o=t.unselectedTickStyle;i.forEach((function(t){t.rect.attr(o)}));var a=t.selectedTickStyle;i[r].rect.attr(a),t.startTickRectId=r,t.endTickRectId=r;var s=r/i.length;t.graph.emit(hp,{value:[s,s]})}}})),e.on("dragstart",(function(e){var n=t.tickRects,r=t.unselectedTickStyle;n.forEach((function(t){t.rect.attr(r)}));var i=e.target,o=parseInt(i.get("name").split("-")[2],10),a=t.selectedTickStyle;n[o].rect.attr(a),t.startTickRectId=o;var s=o/n.length;t.graph.emit(hp,{value:[s,s]}),t.dragging=!0})),e.on("dragover",(function(e){if(t.dragging&&"rect"===e.target.get("type")){for(var n=parseInt(e.target.get("name").split("-")[2],10),r=t.startTickRectId,i=t.tickRects,o=t.selectedTickStyle,a=t.unselectedTickStyle,s=0;s<i.length;s++){var l=s>=r&&s<=n?o:a;i[s].rect.attr(l)}var u=i.length;t.endTickRectId=n;var c=r/u,h=n/u;t.graph.emit(hp,{value:[c,h]})}})),e.on("drop",(function(e){if(t.dragging&&(t.dragging=!1,"rect"===e.target.get("type"))){var n=t.startTickRectId,r=parseInt(e.target.get("name").split("-")[2],10);if(!(r<n)){var i=t.selectedTickStyle,o=t.tickRects;o[r].rect.attr(i),t.endTickRectId=r;var a=o.length,s=n/a,l=r/a;t.graph.emit(hp,{value:[s,l]})}}}));var n=this,r=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,a=new vp({container:o.get("container"),backgroundColor:r}),s=this.tickRects;s.forEach((function(t){var e=t.pickRect;e.on("mouseenter",(function(t){var e=t.target;if("rect"===e.get("type")){var n=parseInt(e.get("name").split("-")[2],10),r=o.getClientByPoint(s[n].x,s[n].y);a.show({x:s[n].x,y:s[n].y,clientX:r.x,clientY:r.y,text:i?i(s[n].value):s[n].value})}})),e.on("mouseleave",(function(t){a.hide()}))}));var l=this.group;l.on("".concat(fp,":click"),(function(){t.isPlay=!t.isPlay,t.changePlayStatus()})),l.on("".concat(pp,":click"),(function(){t.updateStartEnd(1)})),l.on("".concat(gp,":click"),(function(){t.updateStartEnd(-1)})),l.on(dp,(function(e){e.type;var n=e.speed;t.currentSpeed=n}))},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(up,null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(cp,null))},t.prototype.startPlay=function(){var t=this;return"undefined"!=typeof window?window.requestAnimationFrame((function(){var e=t.currentSpeed;t.frameCount%(60/e)==0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())})):void 0},t.prototype.updateStartEnd=function(t){var e=this,n=this.tickRects,r=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,a=e.endTickRectId;if(t>0?e.endTickRectId++:(n[e.endTickRectId].rect.attr(i),e.endTickRectId--),a!==e.startTickRectId)e.endTickRectId<e.startTickRectId&&(e.startTickRectId=e.endTickRectId);else{for(var s=e.startTickRectId;s<=e.endTickRectId-1;s++)n[s].rect.attr(i);e.startTickRectId=e.endTickRectId}if(n[e.endTickRectId]){n[e.endTickRectId].rect.attr(o);var l=e.startTickRectId/r,u=e.endTickRectId/r;this.graph.emit(hp,{value:[l,u]})}},t.prototype.destory=function(){var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach((function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")})),this.tickRects.length=0,t.off("".concat(fp,":click")),t.off("".concat(pp,":click")),t.off("".concat(gp,":click")),t.off(dp),this.sliceGroup.destroy()},t}(),Bp=zp,Fp={};function Gp(t,e){Fp[t]=e}var Vp=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,x.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,x.map)(this.ticks,(function(e,n){return(0,x.isObject)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return(0,x.isNil)(r)||!(0,x.isFunction)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,x.assign)(this,this.__cfg__),this.setDomain(),(0,x.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,x.isString)(t)){var n=Fp[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,x.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return(0,x.isNumber)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Zp=Vp,Up=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,b.__extends)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,x.isNumber)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return(0,x.isNumber)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,(0,b.__spreadArrays)([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,x.isNil)(this.getConfig("min"))&&(this.min=0),(0,x.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Zp),Hp=Up,Wp=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Yp="\\d\\d?",Xp="\\d\\d",qp="[^\\s]+",Kp=/\[([^]*?)\]/gm;function $p(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var Jp=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function Qp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var tg=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],eg=["January","February","March","April","May","June","July","August","September","October","November","December"],ng=$p(eg,3),rg={dayNamesShort:$p(tg,3),dayNames:tg,monthNamesShort:ng,monthNames:eg,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},ig=Qp({},rg),og=function(t){return ig=Qp(ig,t)},ag=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},sg=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},lg={D:function(t){return String(t.getDate())},DD:function(t){return sg(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return sg(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return sg(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return sg(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return sg(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return sg(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return sg(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return sg(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return sg(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return sg(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return sg(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+sg(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+sg(Math.floor(Math.abs(e)/60),2)+":"+sg(Math.abs(e)%60,2)}},ug=function(t){return+t-1},cg=[null,Yp],hg=[null,qp],dg=["isPm",qp,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],fg=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],pg={D:["day",Yp],DD:["day",Xp],Do:["day",Yp+qp,function(t){return parseInt(t,10)}],M:["month",Yp,ug],MM:["month",Xp,ug],YY:["year",Xp,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",Yp,void 0,"isPm"],hh:["hour",Xp,void 0,"isPm"],H:["hour",Yp],HH:["hour",Xp],m:["minute",Yp],mm:["minute",Xp],s:["second",Yp],ss:["second",Xp],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",Xp,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:cg,dd:cg,ddd:hg,dddd:hg,MMM:["month",qp,Jp("monthNamesShort")],MMMM:["month",qp,Jp("monthNames")],a:dg,A:dg,ZZ:fg,Z:fg},gg={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},mg=function(t){return Qp(gg,t)},vg=function(t,e,n){if(void 0===e&&(e=gg.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=gg[e]||e;var r=[];e=e.replace(Kp,(function(t,e){return r.push(e),"@@@"}));var i=Qp(Qp({},ig),n);return(e=e.replace(Wp,(function(e){return lg[e](t,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function yg(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=gg[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=e.replace(Kp,(function(t,e){return o.push(ag(e)),"@@@"})),s={},l={};a=ag(a).replace(Wp,(function(t){var e=pg[t],n=e[0],r=e[1],o=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(l[o]=!0),i.push(e),"("+r+")"})),Object.keys(l).forEach((function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var u=t.match(new RegExp(a,"i"));if(!u)return null;for(var c,h=Qp(Qp({},ig),n),d=1;d<u.length;d++){var f=i[d-1],p=f[0],g=f[2],m=g?g(u[d],h):+u[d];if(null==m)return null;r[p]=m}if(1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0),null==r.timezoneOffset){c=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond);for(var v=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(d=0,v.length);d<y;d++)if(s[v[d][0]]&&r[v[d][0]]!==c[v[d][1]]())return null}else if(c=new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond)),r.month>11||r.month<0||r.day>31||r.day<1||r.hour>23||r.hour<0||r.minute>59||r.minute<0||r.second>59||r.second<0)return null;return c}var bg={format:vg,parse:yg,defaultI18n:rg,setGlobalDateI18n:og,setGlobalDateMasks:mg};var xg="format";function _g(t,e){return(y[xg]||bg[xg])(t,e)}function wg(t){return(0,x.isString)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,x.isDate)(t)&&(t=t.getTime()),t}var Sg=1e3,Mg=6e4,kg=36e5,Eg=24*kg,Ag=31*Eg,Tg=365*Eg,Ig=[["HH:mm:ss",Sg],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",Mg],["HH:mm",6e5],["HH:mm",18e5],["HH",kg],["HH",6*kg],["HH",12*kg],["YYYY-MM-DD",Eg],["YYYY-MM-DD",4*Eg],["YYYY-WW",7*Eg],["YYYY-MM",Ag],["YYYY-MM",4*Ag],["YYYY-MM",6*Ag],["YYYY",380*Eg]];function Cg(t,e,n){var r,i=(r=function(t){return t[1]},function(t,e,n,i){for(var o=(0,x.isNil)(n)?0:n,a=(0,x.isNil)(i)?t.length:i;o<a;){var s=o+a>>>1;r(t[s])>e?a=s:o=s+1}return o})(Ig,(e-t)/n)-1,o=Ig[i];return i<0?o=Ig[0]:i>=Ig.length&&(o=(0,x.last)(Ig)),o}var Dg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return(0,b.__extends)(e,t),e.prototype.translate=function(t){t=wg(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,x.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):_g(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,x.each)(e,(function(t,n){e[n]=wg(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(Hp),Ng=Dg,Og=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,b.__extends)(e,t),e.prototype.scale=function(t){if((0,x.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=(0,x.head)(e),r=(0,x.last)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,x.isNil)(this.minLimit)||(this.min=n),(0,x.isNil)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=(0,x.getRange)(this.values),e=t.min,n=t.max;(0,x.isNil)(this.min)&&(this.min=e),(0,x.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=(0,x.filter)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Zp),Lg=Og,Pg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,b.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Lg),Rg=Pg;function jg(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function zg(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Bg(t,e,n){(0,x.isNil)(n)&&(n=Math.max.apply(null,t));var r=n;return(0,x.each)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var Fg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return(0,b.__extends)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=zg(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(r-(e=zg(n,a/n)))*o;if(t<s)return t/s*a}else e=zg(n,this.min);var l=(t-i)/o*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=Bg(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(zg(r,e)-zg(r,n)):(zg(r,t)-zg(r,n))/(zg(r,e)-zg(r,n))},e}(Lg),Gg=Fg,Vg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return(0,b.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=jg(n,this.max),i=jg(n,this.min),o=e*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(jg(r,t)-jg(r,n))/(jg(r,e)-jg(r,n))},e}(Lg),Zg=Vg,Ug=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return(0,b.__extends)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):_g(n,this.mask)},e.prototype.scale=function(e){var n=e;return((0,x.isString)(n)||(0,x.isDate)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return wg(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((0,x.isNil)(e)&&(0,x.isNumber)(e)||(this.min=this.translate(this.min)),(0,x.isNil)(n)&&(0,x.isNumber)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,a=0;(0,x.each)(t,(function(t){var e=wg(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),r.push(e)})),t.length>1&&(this.minTickInterval=o-i),(0,x.isNil)(e)&&(this.min=i),(0,x.isNil)(n)&&(this.max=a)}},e}(Rg),Hg=Ug,Wg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return(0,b.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return(0,x.last)(e);if(i<0)return(0,x.head)(e);var o=e[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,x.last)(e)!==this.max&&e.push(this.max),(0,x.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,x.head)(e))return 0;if(t>(0,x.last)(e))return 1;var n=0;return(0,x.each)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(Lg),Yg=Wg,Xg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return(0,b.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Yg),qg=Xg,Kg={};function $g(t,e){if(function(t){return Kg[t]}(t))throw new Error("type '"+t+"' existed.");Kg[t]=e}var Jg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,b.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,x.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(Zp),Qg=Jg;function tm(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if((0,x.isNumber)(n)){var o=(0,x.filter)(e,(function(t,e){return e%n==0})),a=(0,x.last)(e);return i&&(0,x.last)(o)!==a&&o.push(a),o}var s=e.length,l=t.min,u=t.max;if((0,x.isNil)(l)&&(l=0),(0,x.isNil)(u)&&(u=e.length-1),!(0,x.isNumber)(r)||r>=s)return e.slice(l,u+1);if(r<=0||u<=0)return[];for(var c=1===r?s:Math.floor(s/(r-1)),h=[],d=l,f=0;f<r&&!(d>=u);f++)d=Math.min(l+f*c,u),f===r-1&&i?h.push(e[u]):h.push(e[d]);return h}var em=Math.sqrt(50),nm=Math.sqrt(10),rm=Math.sqrt(2),im=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(n=[a,o])[0],a=n[1]),(r=om(s,l,t))>0?r=om(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,t):r<0&&(r=om(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,t)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(r=e<t)&&(i=t,t=e,e=i);if(0===(a=om(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function om(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=em?10:o>=nm?5:o>=rm?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=em?10:o>=nm?5:o>=rm?2:1)}function am(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function sm(t,e,n){var r=am(t,n,"floor"),i=am(e,n,"ceil");r=(0,x.fixedBase)(r,n),i=(0,x.fixedBase)(i,n);for(var o=[],a=Math.max((i-r)/(Math.pow(2,12)-1),n),s=r;s<=i;s+=a){var l=(0,x.fixedBase)(s,a);o.push(l)}return{min:r,max:i,ticks:o}}function lm(t,e,n){var r,i=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,u=void 0===l?5:l,c=(0,x.isNil)(i)?(0,x.isNil)(e)?a:e:i,h=(0,x.isNil)(o)?(0,x.isNil)(n)?s:n:o;if(c>h&&(h=(r=[c,h])[0],c=r[1]),u<=2)return[c,h];for(var d=(h-c)/(u-1),f=[],p=0;p<u;p++)f.push(c+d*p);return f}function um(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var cm=[1,5,2,2.5,4,3],hm=100*Number.EPSILON;function dm(t,e,n,r,i,o){var a=(0,x.size)(e),s=(0,x.indexOf)(e,t),l=0,u=function(t,e){return(t%e+e)%e}(r,o);return(u<hm||o-u<hm)&&r<=0&&i>=0&&(l=1),1-s/(a-1)-n+l}function fm(t,e,n){var r=(0,x.size)(e);return 1-(0,x.indexOf)(e,t)/(r-1)-n+1}function pm(t,e,n,r,i,o){var a=(t-1)/(o-i),s=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function gm(t,e){return t>=e?2-(t-1)/(e-1):1}function mm(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function vm(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function ym(t,e,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=cm),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!a)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===a)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var s=(e-t)/(w=n||5);return{min:t,max:e,ticks:Array(w).fill(null).map((function(e,n){return um(t+s*n)}))}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var c=0;c<i.length;c+=1){var h=i[c],d=fm(h,i,u);if(o[0]*d+o[1]+o[2]+o[3]<l.score){u=1/0;break}for(var f=2;f<1/0;){var p=gm(f,a);if(o[0]*d+o[1]+o[2]*p+o[3]<l.score)break;for(var g=(e-t)/(f+1)/u/h,m=Math.ceil(Math.log10(g));m<1/0;){var v=u*h*Math.pow(10,m),y=vm(t,e,v*(f-1));if(o[0]*d+o[1]*y+o[2]*p+o[3]<l.score)break;var b=Math.floor(e/v)*u-(f-1)*u,_=Math.ceil(t/v)*u;if(b<=_)for(var w=_-b,S=0;S<=w;S+=1){var M=(b+S)*(v/u),k=M+v*(f-1),E=v,A=dm(h,i,u,M,k,E),T=mm(t,e,M,k),I=pm(f,a,t,e,M,k),C=o[0]*A+o[1]*T+o[2]*I+1*o[3];C>l.score&&(!r||M<=t&&k>=e)&&(l.lmin=M,l.lmax=k,l.lstep=E,l.score=C)}m+=1}f+=1}}u+=1}var D=um(l.lmax),N=um(l.lmin),O=um(l.lstep),L=Math.floor(function(t){return Math.round(1e12*t)/1e12}((D-N)/O))+1,P=new Array(L);P[0]=um(N);for(c=1;c<L;c++)P[c]=um(P[c-1]+O);return{min:Math.min(t,(0,x.head)(P)),max:Math.max(e,(0,x.last)(P)),ticks:P}}function bm(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=(e-t)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(e/a),l=Math.floor(t/a),u=Math.max(s*a,e),c=Math.min(l*a,t),h=Math.floor((u-c)/a)+1,d=new Array(h),f=0;f<h;f++)d[f]=um(c+f*a);return{min:c,max:u,ticks:d}}function xm(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function _m(t){return new Date(t).getFullYear()}function wm(t){return new Date(t,0,1).getTime()}function Sm(t){return new Date(t).getMonth()}function Mm(t,e){return new Date(t,e,1).getTime()}Gp("cat",tm),Gp("time-cat",(function(t){return tm((0,b.__assign)({showLast:!0},t))})),Gp("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=ym(e,n,r,i).ticks;return(0,x.isNil)(a)&&(0,x.isNil)(s)?o?sm(e,n,o).ticks:l:lm(t,(0,x.head)(l),(0,x.last)(l))})),Gp("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=bm(e,n,r).ticks;return(0,x.isNil)(o)&&(0,x.isNil)(a)?i?sm(e,n,i).ticks:s:lm(t,(0,x.head)(s),(0,x.last)(s))})),Gp("time",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((n-e)/i);else{var a=(n-e)/(i=Cg(e,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var s=[],l=e;l<n+i;l+=i)s.push(l);return s})),Gp("time-pretty",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o||(o=(n-e)/i,r&&o<r&&(o=r)),o=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),o);var s=_m(e);if(o>Tg)for(var l=_m(n),u=Math.ceil(o/Tg),c=s;c<=l+u;c+=u)a.push(wm(c));else if(o>Ag){var h=Math.ceil(o/Ag),d=Sm(e),f=function(t,e){var n=_m(t),r=_m(e),i=Sm(t);return 12*(r-n)+(Sm(e)-i)%12}(e,n);for(c=0;c<=f+h;c+=h)a.push(Mm(s,c+d))}else if(o>Eg){var p=(b=new Date(e)).getFullYear(),g=b.getMonth(),m=b.getDate(),v=Math.ceil(o/Eg),y=function(t,e){return Math.ceil((e-t)/Eg)}(e,n);for(c=0;c<y+v;c+=v)a.push(new Date(p,g,m+c).getTime())}else if(o>kg){p=(b=new Date(e)).getFullYear(),g=b.getMonth(),v=b.getDate();var b,x=b.getHours(),_=Math.ceil(o/kg),w=function(t,e){return Math.ceil((e-t)/kg)}(e,n);for(c=0;c<=w+_;c+=_)a.push(new Date(p,g,v,x+c).getTime())}else if(o>Mg){var S=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),M=Math.ceil(o/Mg);for(c=0;c<=S+M;c+=M)a.push(e+c*Mg)}else{var k=o;k<Sg&&(k=Sg);var E=Math.floor(e/Sg)*Sg,A=Math.ceil((n-e)/Sg),T=Math.ceil(k/Sg);for(c=0;c<A+T;c+=T)a.push(E+c*Sg)}return a.length,a})),Gp("log",(function(t){var e,n=t.base,r=t.tickCount,i=t.min,o=t.max,a=t.values,s=zg(n,o);if(i>0)e=Math.floor(zg(n,i));else{var l=Bg(a,n,o);e=Math.floor(zg(n,l))}for(var u=s-e,c=Math.ceil(u/r),h=[],d=e;d<s+c;d+=c)h.push(Math.pow(n,d));return i<=0&&h.unshift(0),h})),Gp("pow",(function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(jg(e,t.max));return bm(Math.floor(jg(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),Gp("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],o=0;o<e;o++){var a=o/(e-1);i.push(xm(r,a))}return i})),Gp("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new im;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)}(t);return(0,x.isNil)(i)&&(0,x.isNil)(o)?r?sm(e,n,r).ticks:a:lm(t,(0,x.head)(a),(0,x.last)(a))})),$g("cat",Hp),$g("category",Hp),$g("identity",Qg),$g("linear",Rg),$g("log",Gg),$g("pow",Zg),$g("time",Hg),$g("timeCat",Ng),$g("quantize",Yg),$g("quantile",qg);var km=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function Em(t){return function(t){return(0,x.map)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function Am(t,e,n,r){void 0===r&&(r=!0);var i=new Rg({values:t}),o=new Hp({values:(0,x.map)(t,(function(t,e){return e}))}),a=(0,x.map)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]}));return r?function(t){if(t.length<=2)return Em(t);var e=[];(0,x.each)(t,(function(t){(0,x.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=Da(e,!1),r=(0,x.head)(t),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):Em(a)}function Tm(t,e,n,r){void 0===r&&(r=5);for(var i=new Rg({values:t}),o=new Hp({values:(0,x.map)(t,(function(t,e){return e}))}),a=(0,x.map)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]})),s=[],l=0;l<a.length;l++){var u=a[l],c=Cm({x:u[0],y:u[1],y0:n,size:r});s.push.apply(s,c)}return function(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);e&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function Im(t,e,n,r){var i=km([],t,!0),o=function(t,e){var n=new Rg({values:t}),r=Math.max(0,n.min);return e-n.scale(r)*e}(r,n);return i.push(["L",e,o]),i.push(["L",0,o]),i.push(["Z"]),i}function Cm(t){var e,n,r,i,o=t.x,a=t.y,s=t.y0,l=t.size;(0,x.isArray)(a)?(e=a[0],n=a[1]):(e=s,n=a),(0,x.isArray)(o)?(r=o[0],i=o[1]):(r=o-l/2,i=o+l/2);var u=[{x:r,y:e},{x:r,y:n}];return u.push({x:i,y:n},{x:i,y:e}),u}var Dm=function(){return Dm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Dm.apply(this,arguments)},Nm={stroke:"#C5C5C5",strokeOpacity:.85},Om={fill:"#CACED4",opacity:.85},Lm=function(){function t(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.width,a=void 0===o?200:o,s=t.height,l=void 0===s?26:s,u=t.smooth,c=void 0===u||u,h=t.isArea,d=void 0!==h&&h,f=t.data,p=void 0===f?[]:f,g=t.lineStyle,m=t.areaStyle,v=t.group,y=t.interval,b=void 0===y?null:y;this.group=v,this.x=n,this.y=i,this.width=a,this.height=l,this.data=p,this.smooth=c,this.isArea=d,this.lineStyle=Object.assign({},Nm,g),this.areaStyle=Object.assign({},Om,m),this.intervalConfig=b,this.renderLine()}return t.prototype.renderLine=function(){var t=this,e=t.x,n=t.y,r=t.width,i=t.height,o=(t.barWidth,t.data),a=t.smooth,s=t.isArea,l=t.lineStyle,u=t.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var h=Am(o,r,i,a);if(c.addShape("path",{attrs:Dm({path:h},l),name:"trend-line"}),s){var d=Im(h,r,i,o);c.addShape("path",{attrs:Dm({path:d},u),name:"trend-area"})}}this.intervalConfig&&c.addShape("path",{attrs:Dm({path:Tm(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),c.move(e,n)},t.prototype.destory=function(){this.group.destroy()},t}(),Pm=Lm,Rm=function(){return Rm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Rm.apply(this,arguments)},jm={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},zm={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Bm=function(){function t(t){var e=t.group,n=t.name,r=t.type,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,l=t.width,u=void 0===l?2:l,c=t.height,h=void 0===c?24:c,d=t.style,f=void 0===d?{}:d;this.group=e,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=u,this.height=h,"trend"===r?this.style=Rm(Rm({},jm),f):"simple"===r&&(this.style=Rm(Rm({},zm),f)),this.renderHandle()}return t.prototype.setX=function(t){this.setXY(t,void 0)},t.prototype.setY=function(t){this.setXY(void 0,t)},t.prototype.setXY=function(t,e){(0,x.isNumber)(t)&&(this.x=t),(0,x.isNumber)(e)&&(this.y=e),this.updateXY()},t.prototype.renderHandle=function(){var t=this,e=t.width,n=t.height,r=t.style,i=t.name,o=r.fill,a=r.stroke,s=r.radius,l=r.opacity,u=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:n,fill:o,stroke:a,radius:s,opacity:l,cursor:u},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:o,stroke:a,radius:s,opacity:l,cursor:u,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n,r:2*e,fill:o,stroke:a,radius:s,opacity:l,cursor:u},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n/2,r:2*e,fill:o,stroke:a,radius:s,opacity:l,cursor:u,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},t.prototype.bindSimpleEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),(function(){var e=t.style.highLightFill;t.topCircle.attr("fill",e)})),this.handleGroup.on("".concat(e,"-handler:mouseleave"),(function(){var e=t.style.fill;t.topCircle.attr("fill",e)}))},t.prototype.bindTrendEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),(function(){var e=t.style.highLightFill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)})),this.handleGroup.on("".concat(e,"-handler:mouseleave"),(function(){var e=t.style.fill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)}))},t.prototype.show=function(){this.handleGroup.show()},t.prototype.hide=function(){this.handleGroup.hide()},t.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},t}(),Fm=Bm,Gm=function(){return Gm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Gm.apply(this,arguments)},Vm=D,Zm={fill:"#416180",opacity:.05},Um={fill:"#416180",opacity:.15,radius:5},Hm={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Wm={width:2,height:24},Ym={textBaseline:"middle",fill:"#000",opacity:.45},Xm={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},qm={lineWidth:1,stroke:"#ccc"},Km=function(){function t(t){var e=this;this.prevX=0,this.onMouseDown=function(t){return function(n){e.currentHandler=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=(0,x.get)(r,"touches.0.pageX",r.pageX);var i=e.canvas.get("container");i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var n=(0,x.get)(t,"touches.0.pageX",t.pageX),r=n-e.prevX,i=e.adjustOffsetRange(r/e.width);e.updateStartEnd(i),e.updateUI(),e.prevX=n},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var t=e.canvas.get("container");t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))};var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.width,s=void 0===a?100:a,l=t.height,u=t.padding,c=void 0===u?10:u,h=t.trendCfg,d=t.controllerCfg,f=void 0===d?{speed:1}:d,p=t.backgroundStyle,g=void 0===p?{}:p,m=t.foregroundStyle,v=void 0===m?{}:m,y=t.handlerStyle,b=void 0===y?{}:y,_=t.textStyle,w=void 0===_?{}:_,S=t.start,M=void 0===S?0:S,k=t.end,E=void 0===k?1:k,A=t.minText,T=void 0===A?"":A,I=t.maxText,C=void 0===I?"":I,D=t.group,N=t.graph,O=t.canvas,L=t.tick,P=void 0===L?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(t){return t},ticks:[]}:L,R=t.type;this.graph=N,this.canvas=O,this.group=D,this.timeBarType=R,this.x=r,this.y=o,this.width=s,this.height=l,this.padding=c,this.ticks=P.ticks,this.trendCfg=h,this.controllerCfg=f,this.currentSpeed=f.speed||1,this.tickLabelFormatter=P.tickLabelFormatter,"trend"===R?this.backgroundStyle=Gm(Gm({},Zm),g):"simple"===R&&(this.backgroundStyle=Gm(Gm({},Um),g)),this.foregroundStyle=Gm(Gm({},Hm),v),this.handlerStyle=Gm(Gm({},Wm),b),this.textStyle=Gm(Gm({},Ym),w),this.tickLabelStyle=Gm(Gm({},Xm),P.tickLabelStyle),this.tickLineStyle=Gm(Gm({},qm),P.tickLineStyle),this.currentMode=f.defaultTimeType||Dp,this.start=M,this.end=E,this.minText=T,this.maxText=C,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return t.prototype.update=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.minText,a=t.maxText,s=t.start,l=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(l,0)),(0,x.assign)(this,{x:e,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},t.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},t.prototype.renderSlider=function(){var t=this,e=this,n=e.width,r=e.height,i=e.timeBarType;if("trend"===i&&(0,x.size)((0,x.get)(this.trendCfg,"data"))){var o=new Pm(Gm(Gm({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=o}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:Gm({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var s=this.group.addGroup();"trend"===i?(this.minTextShape=s.addShape("text",{attrs:Gm({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:Gm({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=s.addShape("text",{attrs:Gm({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:Gm({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Gm({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(t){t.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(e){e.target.attr("cursor",t.foregroundStyle.cursor||"grab")}));var l=(0,x.get)(this.handlerStyle,"width",2),u=(0,x.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Fm({name:"minHandlerShape",group:c,type:i,x:this.x,y:this.y,width:l,height:u,style:this.handlerStyle});var h=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Fm({name:"maxHandlerShape",group:h,type:i,x:this.x,y:this.y,width:l,height:u,style:this.handlerStyle});var d=this.ticks,f=n/(d.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(t){t.destroy()}));var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=d.map((function(e,n){var i;t.tickPosList.push(t.x+n*f),t.tickLabelFormatter?(i=t.tickLabelFormatter(e),!(0,x.isString)(i)&&i&&(i=e.date)):i=e.date;var o=t.x+n*f,a=t.y+r+5,s=t.group.addShape("text",{attrs:Gm({x:o,y:a,text:i,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if((0,x.isNumber)(g)&&n!==d.length-1){var l=Vm([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",g],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:l})}0===n?s.attr({textAlign:"left"}):n!==d.length-1&&s.attr({textAlign:"right"});var u=t.group.addShape("line",{attrs:Gm({x1:t.x+n*f,y1:t.y+r+2,x2:t.x+n*f,y2:t.y+r+6},t.tickLineStyle),name:"tick-line"});u.toBack();var c=s.getBBox();return c.minX>p?(s.show(),u.show(),p=c.minX+c.width+10):(s.hide(),u.hide()),s})),this.controllerBtnGroup=new Op(Gm({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),a.move(this.x,this.y),this.bindEvents(),this.currentMode===Cp&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},t.prototype.bindEvents=function(){var t=this,e=this.group.find((function(t){return"minHandlerShape"===t.get("name")}));e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(t){return"maxHandlerShape"===t.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(fp,":click"),(function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()})),this.group.on("".concat(pp,":click"),(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()})),this.group.on("".concat(gp,":click"),(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()})),this.group.on(dp,(function(e){var n=e.type,r=e.speed;t.currentSpeed=r,t.currentMode=n,n===Cp?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):n===Dp&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())}))},t.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},t.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t));case this.maxHandlerShape:e=0-this.end,n=1-this.end;return Math.min(n,Math.max(e,t));case this.foregroundShape:e=0-this.start,n=1-this.end;return Math.min(n,Math.max(e,t));default:return 0}},t.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):null==e?void 0:e.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null==n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},t.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.start>1&&(this.start=1),this.end>1&&(this.end=1),this.end<0&&(this.end=0);var e=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",n-e);var r=(0,x.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([e,n]),o=i[0],a=i[1];this.minHandlerShape.setX(e-r/2),(0,x.each)(o,(function(e,n){return t.minTextShape.attr(n,e)})),this.maxHandlerShape.setX(n-r/2),(0,x.each)(a,(function(e,n){return t.maxTextShape.attr(n,e)})),this.currentMode===Dp?this.graph.emit(hp,{value:[this.start,this.end].sort()}):this.currentMode===Cp&&this.graph.emit(hp,{value:[this.end,this.end]})},t.prototype.dodgeText=function(t){var e,n,r=(0,x.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=t[0],s=t[1],l=!1;a>s&&(a=(e=[s,a])[0],s=e[1],i=(n=[o,i])[0],o=n[1],l=!0);var u=i.getBBox(),c=o.getBBox(),h=null,d=null;return"trend"===this.timeBarType?(h=a-u.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+c.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(h=i.attr("x")>u.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-c.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),l?[d,h]:[h,d]},t.prototype.startPlay=function(){var t=this;return"undefined"!=typeof window?window.requestAnimationFrame((function(){var e=t,n=e.ticks,r=e.width,i=t.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=t.adjustOffsetRange(o/t.width);t.updateStartEnd(a),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())})):void 0},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(up,null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(cp,null))},t.prototype.destory=function(){this.graph.off(hp,(function(){}));var t=this.group,e=t.find((function(t){return"minHandlerShape"===t.get("name")}));e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var n=t.find((function(t){return"maxHandlerShape"===t.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat(fp,":click")),t.off("".concat(pp,":click")),t.off("".concat(gp,":click")),t.off(dp),t.destroy(),this.trendComponent&&this.trendComponent.destory()},t}(),$m=Km,Jm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qm=function(){return Qm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Qm.apply(this,arguments)},tv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},ev=function(t){function e(e){var n=t.call(this,e)||this;return n.afterrenderListener=function(t){return n.filterData({})},n.valueChangeListener=(0,x.throttle)((function(t){return n.filterData(t)}),200,{trailing:!0,leading:!0}),n.changeData=function(t){var e=n.get("graph");n.cacheGraphData=e.get("data"),n.filterData({})},n}return Jm(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{},putInGraphContainer:!0}},e.prototype.initContainer=function(){var t,e,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=r.putInGraphContainer,s=this.get("className")||"g6-component-timebar",l=this.get("container");(l?((0,x.isString)(l)&&(l=document.getElementById(l)),t=l):Tf(t=bf("<div class='".concat(s,"'></div>")),{position:"relative"}),a)&&this.get("graph").get("container").appendChild(t);this.set("timeBarContainer",t),e="SVG"===n.get("renderer")?new Sh({container:t,width:i,height:o}):new yc({container:t,width:i,height:o}),this.get("containerCSS")&&Tf(t,this.get("containerCSS")),this.set("canvas",e)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",t),this.renderTrend(),this.initEvent();var e="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",e)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var e=this.get("timebar");e&&(e.isPlay=!!t,e.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,e=this._cfgs,n=e.width,r=e.x,i=e.y,o=e.padding,a=e.type,s=e.trend,l=e.slider,u=e.controllerCfg,c=e.textStyle,h=e.tick,d=e.backgroundStyle,f=e.foregroundStyle,p=s.data,g=tv(s,["data"]),m=n-2*o,v="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),_=null;if("trend"===a||"simple"===a){var w=this.get("getValue");_=new $m(Qm(Qm({graph:y,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:m,height:v,padding:o,backgroundStyle:d,foregroundStyle:f,trendCfg:Qm(Qm({},g),{data:p.map((function(t){return(null==w?void 0:w(t))||t.value}))})},l),{tick:{ticks:p,tickLabelFormatter:h.tickLabelFormatter,tickLabelStyle:h.tickLabelStyle,tickLineStyle:h.tickLineStyle},handlerStyle:Qm(Qm({},l.handlerStyle),{height:l.height||v}),controllerCfg:u,textStyle:c}))}else"tick"===a&&(_=new Bp(Qm({graph:y,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2,controllerCfg:u},h)));var S=function e(){var n=t.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",e)};x.on("mousedown",(function(t){"maxHandlerShape-handler"!==t.target.get("name")&&"minHandlerShape-handler"!==t.target.get("name")&&t.target!==_.foregroundShape||document.addEventListener("mouseup",S)})),this.set("timebar",_)},e.prototype.filterData=function(t){var e,n=t.value;if(!n){n=[];var r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end):(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end)}var i=null,o=this._cfgs.type;if("trend"===o||"simple"===o?i=this._cfgs.trend.data:"tick"===o&&(i=this._cfgs.tick.data),i&&0!==i.length){var a=this.get("rangeChange"),s=this.get("graph"),l=Math.round(i.length*n[0]),u=Math.round(i.length*n[1]);u=u>=i.length?i.length-1:u,l=l>=i.length?i.length-1:l;var c=null===(e=this._cfgs.tick)||void 0===e?void 0:e.tickLabelFormatter,h=c?c(i[l]):i[l].date,d=c?c(i[u]):i[u].date;if("tick"!==o)this.get("timebar").setText(h,d);if(a)a(s,h,d);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=s.get("data"));var f=this.get("filterItemTypes"),p=this.get("changeData"),g=this.get("getDate"),m=this.get("shouldIgnore"),v=i[l].date,y=i[u].date;if(p||void 0===p){var b=this.cacheGraphData.nodes,x=this.cacheGraphData.edges,_={},w={};s.getNodes().forEach((function(t){return _[t.getID()]=!0})),s.getEdges().forEach((function(t){return w[t.getID()]=!0})),f.includes("node")&&(null==b||b.forEach((function(t){var e=+((null==g?void 0:g(t))||t.date),n=e>=v&&e<=y||(null==m?void 0:m("node",t,{min:v,max:y})),r=_[t.id];r&&!n?(s.removeItem(t.id),_[t.id]=!1):!r&&n&&(s.addItem("node",t),_[t.id]=!0)})),null==x||x.forEach((function(t){var e=_[t.source]&&_[t.target]||(null==m?void 0:m("edge",t,{min:v,max:y})),n=!!s.findById(t.id);n&&!e?(s.removeItem(t.id),w[t.id]=!1):!n&&e?(s.addItem("edge",t),w[t.id]=!0):n||(w[t.id]=!1)}))),(this.get("filterEdge")||f.includes("edge"))&&(null==x||x.filter((function(t){var e=+((null==g?void 0:g(t))||t.date),n=e>=v&&e<=y||(null==m?void 0:m("edge",t,{min:v,max:y})),r=_[t.source]&&_[t.target],i=n&&r,o=w[t.id];o&&!i?(w[t.id]=!1,s.removeItem(t.id)):!o&&i&&(w[t.id]=!0,s.addItem("edge",t))})))}else f.includes("node")&&s.getNodes().forEach((function(t){var e=t.getModel();if(!(null==m?void 0:m("node",e,{min:v,max:y}))){var n=+((null==g?void 0:g(e))||e.date);n<v||n>y?s.hideItem(t):s.showItem(t)}})),(this.get("filterEdge")||f.includes("edge"))&&s.getEdges().forEach((function(t){var e=t.getModel();if(!(null==m?void 0:m("edge",e,{min:i[l].date,max:i[u].date}))){var n=+((null==g?void 0:g(e))||e.date);if(n<i[l].date||n>i[u].date)s.hideItem(t);else{var r=t.getSource().isVisible(),o=t.getTarget().isVisible();r&&o&&s.showItem(t)}}}))}}},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on(hp,this.valueChangeListener)},e.prototype.destroy=function(){var e=this.get("graph");e.off("afterchangedata",this.changeData),e.off("afterrender",this.afterrenderListener),e.off(hp,this.valueChangeListener);var n=this.get("timebar");n&&n.destory&&n.destory(),t.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var i=this.get("container");i||(i=this.get("graph").get("container")),(0,x.isString)(i)&&(i=document.getElementById(i)),i===r&&(i=i.parentElement),i.removeChild(r)}},e}(Df),nv=ev,rv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iv=Bl.applyMatrix;var ov=function(t){function e(e){return t.call(this,e)||this}return rv(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var r=this.get("container");(0,x.isString)(r)&&(r=document.getElementById(r));var i=bf("<div class=".concat(e.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff;\n        cursor:move'\n      </div>")),o=0,a=0,s=!1,l=0,u=0,c=0,h=0,d=0,f=0;r.addEventListener("mousedown",(function(r){if(e.refresh=!1,r.target===i){var l=i.style;c=parseInt(l.width,10),h=parseInt(l.height,10);var u=t.get("width"),p=t.get("height");c>u||h>p||(f=n.getZoom(),d=t.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}}),!1),r.addEventListener("mousemove",(function(e){if(s&&!(0,x.isNil)(e.clientX)&&!(0,x.isNil)(e.clientY)){var r=t.get("width"),p=t.get("height"),g=i.style;l=parseInt(g.left,10),u=parseInt(g.top,10),c=parseInt(g.width,10),h=parseInt(g.height,10);var m=o-e.clientX,v=a-e.clientY;l-m<0?m=l:l-m+c>=r&&(m=0),u-v<0?v=u:u-v+h>=p&&(v=0),u-=v,Tf(i,{left:"".concat(l-=m,"px"),top:"".concat(u,"px")}),n.translate(m*f/d,v*f/d),o=e.clientX,a=e.clientY}}),!1),r.addEventListener("mouseleave",(function(){s=!1,e.refresh=!0}),!1),r.addEventListener("mouseup",(function(){s=!1,e.refresh=!0}),!1),this.set("viewport",i),r.appendChild(i)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),l=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],u=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:l[0],centerY:l[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=u[0],c.height=c.width/o):(c.height=u[1],c.width=c.height*o),c.minX=l[0]-c.width/2,c.minY=l[1]-c.height/2;var h=a.getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]);var d=A.invert([1,0,0,0,1,0,0,0,1],h),f=iv({x:c.minX,y:c.minY},d),p=r.getCanvasByPoint(f.x,f.y),g=this.get("viewport");g||this.initViewport();var m=i/c.width,v=m*e,y=m*n,b=e*-p.x/c.width,x=n*-p.y/c.height,_=b+v,w=x+y;b<0&&(v+=b,b=0),_>e&&(v-=_-e),x<0&&(y+=x,x=0),w>n&&(y-=w-n),this.set("ratio",t),Tf(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(v,"px"),height:"".concat(y,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),r=e.get("height")/n,i=t.get("className"),o=t.get("container"),a=t.get("width"),s=t.get("height");a||s||(a=200),a?(s=r*a,t.set("height",s)):(a=1/r*s,t.set("width",a));var l=bf("<div class='".concat(i,"' style='width: ").concat(a,"px; height: ").concat(s,"px; overflow: hidden; position: relative;'></div>"));(0,x.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(l):e.get("container").appendChild(l),t.set("container",l);var u=bf('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');l.appendChild(u);var c=bf('<span style="display: table-cell; vertical-align: middle; "></span>');u.appendChild(c),t.set("containerDOM",u),t.set("containerSpan",c);var h=bf('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",h),t.updateImgSize(),c.appendChild(h),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),r=t.get("height");e.onload=function(){var t=function(t,e){var n,r;if(t.naturalWidth)n=t.naturalWidth,r=t.naturalHeight;else{var i=new Image;i.src=t.src,i.onload=function(){e&&e(i.width,i.height)}}return[n,r]}(e);t[0]>t[1]?e.width=n:e.height=r}},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("width")/t.get("canvas").getCanvasBBox().width;this.set("ratio",e),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var e=this;e.get("imgDOM").remove(),e.set("graphImg",t);var n=bf('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));e.set("imgDOM",n),n.src=t,e.updateImgSize(),e.get("containerSpan").appendChild(n),e.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Df),av=ov,sv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lv=function(){return lv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},lv.apply(this,arguments)},uv=Bl.distance,cv={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},hv=function(t){function e(e){return t.call(this,e)||this}return sv(e,t),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,x.clone)(cv),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},e.prototype.init=function(){var t=this,e=t.get("showLabel"),n="node"===e||"both"===e,r="edge"===e||"both"===e;t.set("showNodeLabel",n),t.set("showEdgeLabel",r),t.get("shouldShow")||t.set("shouldShow",(function(){return!0}))},e.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");n&&!n.destroyed||(e.filter(t),(n=e.get("delegate")).on("dragstart",(function(t){})),n.on("drag",(function(t){e.filter(t)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(t){e.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var n,r=e.get("graph"),i=e.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(t.clientX,t.clientY);n=t.originalEvent.wheelDelta<0?.95:1/.95;var o=e.get("maxR"),a=e.get("minR"),s=e.get("r");(s>(o||r.get("height"))&&n>1||s<(a||.05*r.get("height"))&&n<1)&&(n=1),s*=n,e.set("r",s),e.filter(t)}},e.prototype.filter=function(t){var e=this,n=e.get("graph"),r=n.getNodes(),i={},o=e.get("r"),a=e.get("type"),s={x:t.x,y:t.y};e.updateDelegate(s,o);var l=e.get("shouldShow"),u=e.get("vShapes");u&&u.forEach((function(t){t.remove(),t.destroy()})),u=[],r.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;uv({x:n,y:r},s)<o&&(i[e.id]=t)}));var c=n.getEdges(),h=[];c.forEach((function(t){var e=t.getModel(),n=e.source,r=e.target;l(e)&&("only-source"===a||"one"===a?i[n]&&!i[r]&&h.push(t):"only-target"===a||"one"===a?i[r]&&!i[n]&&h.push(t):"both"===a&&i[n]&&i[r]&&h.push(t))}));var d=e.get("showNodeLabel"),f=e.get("showEdgelabel"),p=n.get("group");h.forEach((function(t){t.get("group").get("children").forEach((function(t){var e=t.get("type"),n=p.addShape(e,{attrs:t.attr()});u.push(n),d&&"text"===e&&n.set("visible",!0)}))})),Object.keys(i).forEach((function(t){var e=i[t].get("group").clone();if(p.add(e),u.push(e),f)for(var n=e.get("children"),r=0;r<n.length;r++){var o=n[r];"text"===o.get("type")&&o.set("visible",!0)}})),e.set("vShapes",u)},e.prototype.updateParams=function(t){var e=this,n=t.r,r=t.trigger,i=t.minR,o=t.maxR,a=t.scaleRBy,s=t.showLabel,l=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(o)||e.set("maxR",o),isNaN(i)||e.set("minR",i),"mousemove"!==r&&"click"!==r||e.set("trigger",r),"wheel"===a||"unset"===a){e.set("scaleRBy",a),e.get("delegate").remove(),e.get("delegate").destroy();var u=e.get("dPercentText");u&&(u.remove(),u.destroy())}"node"!==s&&"both"!==s||e.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||e.set("showEdgeLabel",!0),l&&e.set("shouldShow",l)},e.prototype.updateDelegate=function(t,e){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||cv;i=o.addShape("circle",{attrs:lv({r:e,x:t.x,y:t.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(t){n.scaleRByWheel(t)}))}else i.attr({x:t.x,y:t.y,r:e});n.set("delegate",i)},e.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach((function(t){t.remove(),t.destroy()})),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Df),dv=hv,fv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pv=Bl.pointLineDistance,gv={stroke:"#FA8C16",lineWidth:1},mv=function(t){function e(e){return t.call(this,e)||this}return fv(e,t),e.prototype.getDefaultCfgs=function(){return{line:gv,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var e=t.item,n=(e.get("delegateShape")||e).getBBox(),r=e.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines,r=t.itemAlignType;this.get("graph").getNodes().forEach((function(t){var i=t.getBBox(),o=t.get("id");!0===r||"horizontal"===r?(e["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,t],e["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,t],e["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,t]):"center"===r&&(e["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,t]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,t],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,t],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,t]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,t])}))},e.prototype.show=function(t,e){var n=(0,x.mix)({},t);return this.itemAlign(t,e,n),t},e.prototype.itemAlign=function(t,e,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,l={x:n.x+e.width/2,y:n.y},u={x:n.x+e.width/2,y:n.y+e.height/2},c={x:n.x+e.width/2,y:n.y+e.height},h={x:n.x,y:n.y+e.height/2},d={x:n.x+e.width,y:n.y+e.height/2},f=[],p=[],g=null;if(this.clearAlignLine(),(0,x.each)(o,(function(t){t[4].isVisible&&(f.push(r.getLineDisObject(t,l)),f.push(r.getLineDisObject(t,u)),f.push(r.getLineDisObject(t,c)))})),(0,x.each)(a,(function(t){t[4].isVisible&&(p.push(r.getLineDisObject(t,h)),p.push(r.getLineDisObject(t,u)),p.push(r.getLineDisObject(t,d)))})),f.sort((function(t,e){return t.dis-e.dis})),p.sort((function(t,e){return t.dis-e.dis})),0!==f.length&&f[0].dis<s){t.y=f[0].line[1]-f[0].point.y+n.y,g={type:"item",horizontals:[f[0]]};for(var m=1;m<3;m++)f[0].dis===f[m].dis&&g.horizontals.push(f[m])}if(0!==p.length&&p[0].dis<s){t.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(m=1;m<3;m++)p[0].dis===p[m].dis&&g.verticals.push(p[m])}g&&(g.bbox=e,this.addAlignLine(g))},e.prototype.addAlignLine=function(t){var e=t.bbox,n=t.type,r=t.horizontals,i=t.verticals,o=this._cfgs,a=o.line,s=o.alignLines,l=this.get("graph").get("group");"item"===n&&(r&&(0,x.each)(r,(function(t){var n,r,i=t.line,o=t.point,u=(i[0]+i[2])/2;o.x<u?(n=o.x-e.width/2,r=Math.max(i[0],i[2])):(n=o.x+e.width/2,r=Math.min(i[0],i[2]));var c=(0,x.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),h=l.addShape("line",{attrs:c,capture:!1});s.push(h)})),i&&(0,x.each)(i,(function(t){var n,r,i=t.line,o=t.point,u=(i[1]+i[3])/2;o.y<u?(n=o.y-e.height/2,r=Math.max(i[1],i[3])):(n=o.y+e.height/2,r=Math.min(i[1],i[3]));var c=(0,x.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),h=l.addShape("line",{attrs:c,capture:!1});s.push(h)})))},e.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:pv(t,e)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,x.each)(t,(function(t){t.remove()})),t.length=0},e.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines;this.get("graph").getNodes().forEach((function(t){var r=t.get("id");delete e["".concat(r,"tltr")],delete e["".concat(r,"lcrc")],delete e["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},e}(Df),vv=mv,yv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bv=function(){return bv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},bv.apply(this,arguments)},xv=["click","mouseenter"],_v=function(t){function e(e){return t.call(this,e)||this}return yv(e,t),e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{};t.multiple&&"mouseenter"===t.trigger&&this.set("multiple",!1);var e=this.get("align");if(!e){var n=this.get("position").split("-");n.includes("left")&&(e="left"),e=n.includes("right")?"right":"center",this.set("align",e)}var r=this.get("graph").get("container"),i=bf("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();Tf(i,this.getContainerPos(o)),this.bindEvents()},e.prototype.getContainerPos=function(t){void 0===t&&(t=[0,0]);var e=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(e.getWidth()-t[0])/2+0,top:(e.getHeight()-t[1])/2+0};return o.forEach((function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=e.getHeight()-t[1]-r+0,o="top";break;default:r=e.getWidth()-t[0]-r+0,o="left"}s[o]=r})),s.top+=r+e.getContainer().offsetTop,s.left+=n+e.getContainer().offsetLeft,Object.keys(s).forEach((function(t){s[t]="".concat(s[t],"px")})),s},e.prototype.bindEvents=function(){var t=this,e=t.get("filter");if(e&&e.enable){var n=e.trigger||"click";xv.includes(n)||(n="click");var r=t.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(e){return t.filterData(e)})),r.on("node-container:mouseleave",(function(e){t.clearFilter(),t.clearActiveLegend()}))):(r.on("node-container:click",(function(e){return t.filterData(e)})),r.on("click",(function(e){e.target&&e.target.isCanvas&&e.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())})))}},e.prototype.changeData=function(t){this.set("data",t);var e=this.render();Tf(this.get("container"),this.getContainerPos(e))},e.prototype.activateLegend=function(t){var e=this.get("filter");(null==e?void 0:e.multiple)||this.clearActiveLegend();var n=t.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(t){t.set("inactive",!0)})):this.clearActiveLegend();var r=(null==e?void 0:e.legendStateStyles)||{},i=(null==r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(t){var e=t.get("children"),n=e[0],r=e[1];n.attr(bv(bv({},n.get("oriAttrs")),i)),r.attr(bv(bv({},r.get("oriAttrs")),o))}));var a=(null==r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(t){var e=t.get("children"),n=e[0],r=e[1];n.attr(bv(bv({},n.get("oriAttrs")),a)),r.attr(bv(bv({},r.get("oriAttrs")),s))}))},e.prototype.findLegendItemsByState=function(t,e,n){void 0===e&&(e="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(t){return"root"===t.get("name")})),i=r.find((function(t){return"node-group"===t.get("name")})),o=r.find((function(t){return"edge-group"===t.get("name")}));return"node"===e?i.get("children").filter((function(e){return!!e.get(t)===n})):"edge"===e?o.get("children").filter((function(e){return!!e.get(t)===n})):i.get("children").filter((function(e){return!!e.get(t)===n})).concat(o.get("children").filter((function(e){return!!e.get(t)===n})))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas").find((function(t){return"root"===t.get("name")}));[t.find((function(t){return"node-group"===t.get("name")})),t.find((function(t){return"edge-group"===t.get("name")}))].forEach((function(t){t.get("children").forEach((function(t){t.set("active",!1),t.set("inactive",!1);var e=t.get("children"),n=e[0],r=e[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},e.prototype.filterData=function(t){var e=this.get("filter"),n=null==e?void 0:e.filterFunctions;if(e&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=e.graphActiveState||"active",a=e.graphInactiveState||"inactive",s=e.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(t.target);var l=r.find((function(t){return"root"===t.get("name")})),u=l.find((function(t){return"node-group"===t.get("name")})),c=l.find((function(t){return"edge-group"===t.get("name")})),h=u.get("children").filter((function(t){return t.get("active")})),d=c.get("children").filter((function(t){return t.get("active")})),f=0,p=["getNodes","getEdges"];p.forEach((function(t){i[t]().forEach((function(e){var r=!1;("getNodes"===t?h:d).forEach((function(t){var i=n[t.get("id")];r=r||i(e.getModel())})),r?(i.setItemState(e,a,!1),i.setItemState(e,o,!0),f++):(i.setItemState(e,o,!1),i.setItemState(e,a,!0))}))})),f||p.forEach((function(t){i[t]().forEach((function(t){i.clearItemStates(t,[a])}))}))}},e.prototype.clearFilter=function(){var t=this.get("graph"),e=this.get("filter");if(e){var n=e.graphActiveState||"active",r=e.graphInactiveState||"inactive";t.getNodes().forEach((function(e){t.clearItemStates(e,[n,r])})),t.getEdges().forEach((function(e){t.clearItemStates(e,[n,r])}))}},e.prototype.render=function(){var t=this;this.processData();var e=this.get("legendCanvas");e?e.clear():e=new yc({container:this.get("container"),width:200,height:200});var n=e.addGroup({name:"root"}),r=n.addGroup({name:"node-group"}),i=n.addGroup({name:"edge-group"});this.set("legendCanvas",e);var o=this.get("itemsData"),a=[r,i];["nodes","edges"].forEach((function(e,n){o[e].forEach((function(r){var i,o,s=a[n].addGroup({id:r.id,name:"node-container"}),l=r.type,u=t.getShapeSize(r),c=u.width,h=u.height,d=u.r,f=t.getStyle(e.substr(0,4),r);switch(r.type){case"circle":default:o={r:d,x:0,y:0};break;case"rect":o={width:c,height:h,x:-c/2,y:-h/2};break;case"ellipse":o={rx:c,ry:h,x:0,y:0},l="ellipse";break;case"line":o={x1:-c/2,y1:0,x2:c/2,y2:0},l="line";break;case"quadratic":o={path:[["M",-c/2,0],["Q",0,c/2,c/2,0]]},l="path";break;case"cubic":o={path:[["M",-c/2,0],["C",-c/6,c/2,c/6,-c/2,c/2,0]]},l="path";break;case"diamond":o={path:[["M",0,-h],["L",c,0],["L",0,h],["L",-c,0],["Z"]]},l="path";break;case"triangle":o={path:[["M",-c,h],["L",0,-h],["L",c,h],["Z"]]},l="path";break;case"star":o={path:Bl.getStarPath(3*d,1.2*d)},l="path"}var p=s.addShape(l,{attrs:bv(bv({},o),f),name:"".concat(r.type,"-node-keyShape"),oriAttrs:bv({opacity:1},f)});if(r.label){var g=p.getBBox(),m=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},v=bv({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},m);s.addShape("text",{attrs:bv({x:g.maxX+4,y:0,text:r.label},v),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:v})}}))}));var s,l=this.get("padding"),u=n.find((function(t){return"title-container"===t.get("name")})),c={height:0,maxY:0,width:0};if(this.get("title")){u||(u=n.addGroup({name:"title-container"}));var h={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:l[0]},d=this.get("titleConfig")||{},f=Object.assign(h,d.style||{});s=u.addShape("text",{attrs:bv({text:this.get("title")},f)}),c=u.getCanvasBBox(),u.setMatrix([1,0,0,0,1,0,d.offsetX,d.offsetY,1])}this.layoutItems();var p=n.getCanvasBBox(),g=r.getCanvasBBox(),m=g.minX<0?Math.abs(g.minX)+l[3]:l[3],v=c.maxY<g.minY?Math.abs(c.maxY-g.minY)+l[0]:c.maxY+l[0],y=[1,0,0,0,1,0,m,v,1];r.setMatrix(y);var b=[(p=n.getCanvasBBox()).minX+p.width+l[1],p.minY+p.height+l[2]];if(s){d=bv({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));c=u.getCanvasBBox();var x=u.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===d.position?x[6]=b[0]/2+d.offsetX:"right"===d.position?(x[6]=b[0]-l[3]+d.offsetX,s.attr({textAlign:"right"})):(x[6]=l[3]+d.offsetX,s.attr({textAlign:"left"})),u.setMatrix(x),c=u.getCanvasBBox(),y=[1,0,0,0,1,0,m=g.minX<0?Math.abs(g.minX)+l[3]:l[3],v=g.minY<c.maxY?Math.abs(c.maxY-g.minY)+l[0]:c.maxY+l[0],1],r.setMatrix(y);var _=[1,0,0,0,1,0,m,v,1];"vertical"===this.get("layout")?_[6]+=g.maxX+this.get("horiSep"):_[7]+=g.maxY+this.get("vertiSep"),i.setMatrix(_)}else{g=r.getCanvasBBox();var w=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?w[6]+=y[6]+g.maxX+this.get("horiSep"):w[7]+=y[7]+g.maxY+this.get("vertiSep"),i.setMatrix(w)}p=n.getCanvasBBox(),g=r.getCanvasBBox(),y=r.getMatrix()||[1,0,0,0,1,0,0,0,1];var S=i.getMatrix()||[1,0,0,0,1,0,0,0,1],M=i.getCanvasBBox();b=[Math.max(g.width+y[6],M.width+S[6])+l[1],Math.max(g.height+y[7],M.height+S[7])+l[2]],e.changeSize(b[0],b[1]);var k=this.get("containerStyle"),E=n.getMatrix()||[1,0,0,0,1,0,0,0,1],A=Bl.invertMatrix({x:0,y:0},E);return n.addShape("rect",{attrs:bv({x:A.x+(k.lineWidth||1),y:A.y+(k.lineWidth||1),width:b[0]-2*(k.lineWidth||1),height:b[1]-2*(k.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},k),name:"legend-back-rect",capture:!1}).toBack(),b},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),e=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=t.find((function(t){return"root"===t.get("name")})),s=a.find((function(t){return"node-group"===t.get("name")})),l=a.find((function(t){return"edge-group"===t.get("name")})),u={min:0,max:-1/0},c=-1/0;s.get("children").forEach((function(t,i){0===i&&(u.min=o[0]);var a=t.get("children")[0],s=t.getCanvasBBox(),l=a.getBBox(),h=l.width,d=l.height,f=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+h/2,o[0]=g+s.height+n,f=s.maxX+p+h/2):(p=o[0]+h/2,g=o[1],o[0]=p+s.width+e,f=s.maxY+g+d/2),o[0]>u.max&&(u.max=o[0]),f>c&&(c=f),t.setMatrix([1,0,0,0,1,0,p,g,1])}));var h=u.max-u.min,d={min:0,max:-1/0},f=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?f.maxX+e:f.maxY+n,l.get("children").forEach((function(t,i){0===i&&(d.min=o[0]);var a=t.get("children")[0],s=t.getCanvasBBox(),l=a.getBBox(),u=l.width,c=l.height,h=0,f=0;"vertical"===r?(h=o[1],f=o[0],o[0]=f+s.height+n,t.setMatrix([1,0,0,0,1,0,0,f+c/2,1])):(h=o[0],f=o[1],o[0]=h+s.width+e,t.setMatrix([1,0,0,0,1,0,h+u/2,0,1])),o[0]>d.max&&(d.max=o[0])}));var p=d.max-d.min;if(i&&""!==i&&"left"!==i){var g=h-p,m="center"===i?Math.abs(g)/2:Math.abs(g);(g<0?s:l).get("children").forEach((function(t){var e=t.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?e[7]+=m:e[6]+=m,t.setMatrix(e)}))}},e.prototype.processData=function(){var t=this.get("data"),e={nodes:[],edges:[]};t.nodes&&(t.nodes.sort((function(t,e){return t.order-e.order})),t.nodes.forEach((function(t){var n,r,i,o,a,s=t.size||[(null===(n=t.style)||void 0===n?void 0:n.width)||(null===(r=t.style)||void 0===r?void 0:r.r)||8,(null===(i=t.style)||void 0===i?void 0:i.height)||(null===(o=t.style)||void 0===o?void 0:o.r)||8],l=(null===(a=t.labelCfg)||void 0===a?void 0:a.style)||{};e.nodes.push({id:t.id||(0,x.uniqueId)(),type:t.type||"circle",style:bv({},t.style),order:t.order,label:t.label,itemType:"node",size:s,labelCfg:{position:"right",style:bv({fontFamily:"Arial"},l)}})}))),t.edges&&(t.edges.sort((function(t,e){return t.order-e.order})),t.edges.forEach((function(t){var n,r,i=t.type||"line";"cubic-horizontal"===t.type&&(i="cubic");var o=(null===(n=t.labelCfg)||void 0===n?void 0:n.style)||{},a=t.size||[(null===(r=t.style)||void 0===r?void 0:r.width)||8,1];e.edges.push({id:t.id||(0,x.uniqueId)(),type:i,size:a,style:bv({lineWidth:(0,x.isArray)(a)?a[1]:1},t.style),order:t.order,label:t.label,itemType:"edge",labelCfg:{position:"right",style:bv({fontFamily:"Arial"},o)}})}))),this.set("itemsData",e)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var e=this.get(t);if((0,x.isNumber)(e))this.set(t,[e,e,e,e]);else if((0,x.isArray)(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]])}return this.get(t)},e.prototype.getShapeSize=function(t){var e,n,r;return t.size&&((0,x.isArray)(t.size)?(e=t.size[0],n=t.size[1]||t.size[0],r=t.size[0]/2):(0,x.isNumber)(t.size)&&(e=t.size,n=t.size,r=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(r=t.style.r)),r||(r=5),e||(e=r),n||(n=r),{width:e,height:n,r:r}},e.prototype.getStyle=function(t,e){return bv(bv({},"node"===t?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),e.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");null==t||t.destroy();var e=this.get("graph").get("container"),n=this.get("container");e.removeChild(n)},e}(Df),wv=_v,Sv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mv=function(){return Mv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Mv.apply(this,arguments)},kv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};"undefined"!=typeof document&&jf()("\n  .g6-annotation-container {\n    background-color: rgba(255, 255, 255, 0.3);\n    padding: 8px;\n  }\n  .g6-annotation-wrapper {\n    background-color: #fff;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);\n  }\n  .g6-annotation-header-wapper {\n    height: fit-content;\n    width: 100%;\n    background-color: #5B8FF9;\n    display: inline-flex;\n    cursor: move;\n  }\n  .g6-annotation-title {\n    margin: 4px 40px 4px 8px;\n    cursor: text;\n    min-width: 32px;\n  }\n  .g6-annotation-collapse {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-expand {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-close {\n    margin: 4px 8px 4px 0;\n    cursor: pointer;\n  }\n  .g6-annotation-content {\n    padding: 8px;\n    width: fit-content;\n    cursor: text;\n    word-break: break-all;\n    min-width: 32px;\n  }\n  .g6-annotation-title-input-wrapper {\n    margin: 4px 40px 4px 8px;\n  }\n  .g6-annotation-content-input {\n    height: 100%;\n    word-break: break-all;\n  }\n  .g6-annotation-content-input-wrapper {\n    margin: 8px;\n    height: 100%;\n  }\n");var Ev="canvas-annotation",Av=function(t){function e(e){return t.call(this,e)||this}return Sv(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};if("click"===this.get("trigger"))t=Mv(Mv({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"});return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var e=t.collapsed,n=t.maxWidth,r=t.title,i=void 0===r?"":r,o=t.content,a=void 0===o?"":o,s=t.borderRadius,l=void 0===s?5:s,u=e?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",c=e?"":" <p class='g6-annotation-content'>".concat(a,"</p>"),h=e?"".concat(l,"px"):"".concat(l,"px ").concat(l,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(l,"px; max-width: ").concat(n,'px">\n        <div\n          class="g6-annotation-header-wapper"\n          style="border-radius: ').concat(h,";\"\n        >\n          <h4 class='g6-annotation-title'>").concat(i,"</h4>\n          ").concat(u,"\n          ").concat("<p class='g6-annotation-close'>x</p>","\n        </div>\n        ").concat(c,"\n      </div>")}},e.prototype.init=function(){var t=this;if(!t.destroyed){var e=t.get("graph").getContainer(),n=t.get("container");this.get("containerCfg")?(n=this.createContainer(),e.appendChild(n)):n=e,this.set("container",n);var r=e.getBoundingClientRect(),i=new yc({container:e,width:r.right-r.left,height:r.bottom-r.top});Tf(i.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,x.debounce)((function(){return t.resizeCanvas(t)}),100));var o=i.addGroup({id:"annotation-link-group"});t.set("linkGroup",o),t.set("canvas",i),t.get("getTitle")||t.set("getTitle",(function(t){var e,n=(null===(e=null==t?void 0:t.getModel)||void 0===e?void 0:e.call(t))||{},r=n.label,i=n.id;return r||i||"-"})),t.get("getContent")||t.set("getContent",(function(t){var e,n;if(!t)return"-";var r=(null===(e=t.getModel)||void 0===e?void 0:e.call(t))||{},i=r.label,o=r.id,a=null===(n=t.getType)||void 0===n?void 0:n.call(t),s=a?"".concat(a,": "):"";return"".concat(s).concat(i||o||"")}));var a=t.get("defaultData");a&&this.readData(a)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var e=this.get("containerCfg"),n=this.get("graph"),r=n.getContainer(),i=r.getBoundingClientRect(),o=i.left,a=i.right,s=i.top,l=i.bottom-s,u=a-o,c=e.position,h=void 0===c?"top":c,d=e.offsetX,f=void 0===d?0:d,p=e.offsetY,g=void 0===p?0:p,m=kv(e,["position","offsetX","offsetY"]),v=e.height,y=void 0===v?"fit-content":v,b=e.width,_=void 0===b?n.getWidth():b;"100%"===y&&(y=l),"100%"===_&&(_=u);var w="unset",S="unset",M={};switch(h){case"right":w="".concat(l,"px"),(M={top:0,right:0}).right+=o+f,M.top+=s+g;break;case"bottom":S="".concat(u,"px"),(M={bottom:0,left:0}).left+=o+f,M.bottom+=s+g;break;case"top":S="".concat(u,"px");case"left":w="".concat(l,"px");default:(M={top:0,left:0}).left+=o+f,M.top+=s+g}Object.keys(M).forEach((function(t){M[t]="".concat(M[t],"px")}));var k=bf("<div class='".concat(e.className," g6-annotation-container'></div>"));return Tf(k,Mv(Mv({position:"absolute",display:"top"===h||"bottom"===h?"inline-flex":"unset",width:(0,x.isNumber)(_)?"".concat(_,"px"):_,height:(0,x.isNumber)(y)?"".concat(y,"px"):y,maxHeight:w,maxWidth:S,overflow:"scroll"},M),m)),r.appendChild(k),k.addEventListener("scroll",(function(e){t.updateLinks()})),k}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout((function(){if(t&&!t.destroyed){var e=t.get("container").getBoundingClientRect(),n=e.right-e.left,r=e.bottom-e.top;t.get("canvas").changeSize(n,r),t.updateOutsideCards(t)}}),250)},e.prototype.updateOutsideCards=function(t){var e=t||this,n=e.get("cardInfoMap")||{},r=e.get("graph"),i=r.getPointByCanvas(0,0),o=r.getPointByCanvas(r.getWidth(),r.getHeight()),a=r.getClientByPoint(i.x,i.y),s=a.x,l=a.y,u=r.getClientByPoint(o.x,o.y),c=u.x,h=u.y;Object.values(n).forEach((function(t){var e=t.card;if(e){var n=e.style,r=Iv(n.left),i=Iv(n.top),o=e.getBoundingClientRect(),a=o.width,u=o.height,d=r,f=i;r+a>c-s&&(d=c-s-a),r<0&&(d=0),i+u>h-l&&(f=h-l-u),i<0&&(f=0),Tf(e,{left:"".concat(d,"px"),top:"".concat(f,"px")})}})),e.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var e=t.item;this.toggleAnnotation(e)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var e=t.get("cardInfoMap")||{};Object.keys(e).forEach((function(e){t.hideCard(e)}))}},e.prototype.toggleAnnotation=function(t,e){var n,r;void 0===e&&(e={});var i=this;if(!i.destroyed){var o=i.get("cardInfoMap")||{},a=i.get("graph"),s=i.get("container"),l=i.get("containerCfg"),u=Object.assign({},i.get("cardCfg")||{},e),c=u.minHeight,h=u.minWidth,d=u.width,f=u.height,p=u.collapsed,g=void 0!==p&&p,m=u.x,v=u.y,y=u.title,b=u.content,_=u.maxTitleLength,w=u.defaultBegin,S=kv(u,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),M=i.get("linkGroup"),k=this.get("rows")||[[]],E=null===(n=t.isCanvas)||void 0===n?void 0:n.call(t),A=E?Ev:t.getID(),T=o[A]||{},I=T.card,C=T.link,D=T.x,N=T.y,O=T.title,L=T.content,P=this.get("getTitle"),R=this.get("getContent"),j=this.get("getContentPlaceholder")||function(){return""},z=this.get("getTitlePlaceHolder")||function(){return""},B=j(t),F=z(t),G=bf(this.getDOMContent(Mv({itemId:A,collapsed:g,title:(null===(r=O||y||(null==P?void 0:P(t)))||void 0===r?void 0:r.substr(0,_))||F,content:L||b||(null==R?void 0:R(t))||B},S))),V=(0,x.isNumber)(c)?"".concat(c,"px"):c;Tf(G,{minHeight:g?"unset":V,minWidth:(0,x.isNumber)(h)?"".concat(h,"px"):h,height:f,width:d});var Z,U=!!I;if(U?(null==C||C.remove(!0),s.replaceChild(G,I)):s.appendChild(G),!l){if(Z=s.getBoundingClientRect()||{},void 0!==m&&void 0!==v)D=m,N=v;else if(!U&&!E){var H=Z.top,W=w||{},Y=W.left,X=W.right,q=void 0===X?16:X,K=W.top,$=void 0===K?8:K,J=W.bottom,Q=q,tt=$;isNaN(Y)||(Q=s.scrollWidth-Y),isNaN(J)||(tt=s.scrollHeight-J);var et=(0,x.isNumber)(h)?h:100;D=s.scrollWidth-G.scrollWidth-(k.length-1)*et-Q;var nt=k[k.length-1],rt=(nt[nt.length-1]||{}).bbox;N=(null==rt?void 0:rt.bottom)-H||tt}Tf(G,{position:"absolute",left:"".concat(D,"px"),top:"".concat(N,"px"),cusor:l?"unset":"move"})}this.bindListener(G,A);var it=G.getBoundingClientRect();if(!E){var ot=Tv(t,it,a,this.get("canvas")),at=this.get("linkStyle");C=M.addShape("path",{attrs:Mv({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:ot},at)})}if(o[A]=Mv(Mv({},o[A]||{}),{id:A,collapsed:g,card:G,link:C,x:D,y:N,cardBBox:it,content:L||b,title:O||y,contentPlaceholder:B,titlePlaceholder:F,isCanvas:E}),i.set("cardInfoMap",o),l)this.updateCardPositionsInConatainer(),this.updateLinks();else{var st=!isNaN(m)&&!isNaN(v);if(!U&&!E&&!st){var lt=Z.bottom,ut=void 0===lt?0:lt;H=Z.top;k[k.length-1].push({id:A,bbox:it}),it.top>ut-H-it.height-16&&k.push([]),this.set("rows",k)}}this.updateCardSize(A);var ct=this.get("onAnnotationChange");null==ct||ct(o[A],U?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(t){var e=this.get("container"),n=this.get("containerCfg").position,r=e.getBoundingClientRect().width,i=getComputedStyle(e),o=Iv(i.paddingLeft)+Iv(i.paddingRight);r-=o,Object.values(t).forEach((function(t){var e=t.card,i=e.getBoundingClientRect().width;switch(n){case"right":Tf(e,{marginLeft:r?"".concat(r-i,"px"):"0px"});break;case"top":case"bottom":Tf(e,{marginLeft:"8px"})}}))}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var e=this.get("graph"),n=this.get("cardInfoMap");if(n){var r=n[t].collapsed,i=e.findById(t);if(i)"hide"!==this.get("cardCfg").collapseType||r?this.toggleAnnotation(i,{collapsed:!r}):this.hideCard(t),n[t]=Mv(Mv({},n[t]),{collapsed:!r})}}},e.prototype.hideCard=function(t){if(!this.destroyed){var e=this.get("cardInfoMap");if(e&&e[t]){var n=e[t],r=n.card,i=n.link;Tf(r,{display:"none"}),null==i||i.hide(),this.get("onAnnotationChange")(e[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=e[t],r=n.card,i=n.link;this.get("container").removeChild(r),null==i||i.remove(!0),delete e[t],this.get("onAnnotationChange")(n,"remove")}}},e.prototype.bindListener=function(t,e){var n=this;if(!this.destroyed){t.addEventListener("mousemove",(function(t){var r;if("g6-annotation-collapse"===t.target.className?r="collapse":"g6-annotation-expand"===t.target.className?r="expand":"g6-annotation-close"===t.target.className&&(r="close"),r){var i=n.get("cardCfg").onMouseEnterIcon;(void 0===i?function(){}:i)(t,e,r)}})),t.addEventListener("mouseout",(function(t){var r;if("g6-annotation-collapse"===t.target.className?r="collapse":"g6-annotation-expand"===t.target.className?r="expand":"g6-annotation-close"===t.target.className&&(r="close"),r){var i=n.get("cardCfg").onMouseLeaveIcon;(void 0===i?function(){}:i)(t,e,r)}})),t.addEventListener("mouseenter",(function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("graph"),o=i.findById(e);if(o){var a=n.get("itemHighlightState");i.setItemState(o,a,!0)}var s=r[e].link;if(s){var l=n.get("linkHighlightStyle")||{};s.attr(l)}}})),t.addEventListener("mouseleave",(function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("graph"),o=i.findById(e);if(o){var a=n.get("itemHighlightState");i.setItemState(o,a,!1)}var s=r[e].link;if(s){var l=n.get("linkHighlightStyle")||{};Object.keys(l).forEach((function(t){s.attr(t,void 0),s.attr(t,void 0)}));var u=n.get("linkStyle");s.attr(u)}}})),t.addEventListener("click",(function(t){var r=(n.get("cardCfg")||{}).onClickIcon;if("g6-annotation-collapse"===t.target.className||"g6-annotation-expand"===t.target.className)"hide"===n.get("cardCfg").collapseType?n.hideCard(e):n.handleExpandCollapseCard(e),null==r||r(t,e,"g6-annotation-collapse"===t.target.className?"collapse":"expand");else if("g6-annotation-close"===t.target.className){"remove"===n.get("cardCfg").closeType?n.removeCard(e):n.hideCard(e),null==r||r(t,e,"close")}})),this.get("editable")&&t.addEventListener("dblclick",(function(t){var r=n.get("cardInfoMap"),i=(n.get("cardCfg")||{}).maxTitleLength,o=void 0===i?20:i;if(r){var a=t.target,s=a.className;if("g6-annotation-title"===s||"g6-annotation-content"===s){var l="g6-annotation-title"===s?a.getBoundingClientRect():a.parentNode.getBoundingClientRect(),u=l.width,c=l.height,h=getComputedStyle(a),d=bf("<".concat("g6-annotation-title"===s?"input":"textarea",' class="').concat(s,'-input" type="textarea" style="width:').concat(u,"px; height: ").concat(c,'px; min-width: 16px;"/>')),f=bf('<div class="'.concat(s,'-input-wrapper" style="width: ').concat(u,"px; height: ").concat(c,"px; min-width: 16px; margin-right: ").concat(h.marginRight,'" />'));f.appendChild(d),a.parentNode.replaceChild(f,a);var p=r[e],g=p.contentPlaceholder,m=p.titlePlaceholder,v=p.content,y=p.title,b=v;"g6-annotation-title"===s?(d.name="title",d.maxLength=o,b=y):d.name="content",b?(d.innerHTML=a.innerHTML,d.value=a.innerHTML):d.placeholder="g6-annotation-title"===s?m:g,d.focus(),d.addEventListener("blur",(function(t){d.value&&(a.innerHTML=d.value,p[d.name||"title"]=d.value),f.parentNode.replaceChild(a,f),n.updateCardSize(e);var r=n.get("onAnnotationChange");null==r||r(p,"update")}))}}}));var r=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",(function(e){var i=e.target.className;if(!r.includes(i)){var o=t.style;n.set("dragging",{card:t,x:e.clientX,y:e.clientY,left:Iv(o.left),top:Iv(o.top)})}})),t.addEventListener("drag",(function(t){t.preventDefault();var r=n.get("cardInfoMap");if(r){var i=t.clientX,o=t.clientY,a=n.get("dragging");if(!isNaN(i)&&!isNaN(o)&&a){var s=a.x,l=a.y,u=a.left,c=a.top,h=a.card,d=i-s,f=o-l;u+=d,c+=f;var p=n.get("graph"),g=p.getPointByCanvas(0,0),m=p.getPointByCanvas(p.getWidth(),p.getHeight()),v=p.getClientByPoint(g.x,g.y),y=v.x,b=v.y,x=p.getClientByPoint(m.x,m.y),_=x.x,w=x.y,S=h.getBoundingClientRect();(u>_-y-(S.right-S.left)&&d>0||u<0&&d<0)&&(u-=d),(c>w-b-(S.bottom-S.top)&&f>0||c<0&&f<0)&&(c-=f),Tf(h,{left:"".concat(u,"px"),top:"".concat(c,"px"),visibility:"hidden"}),s=i,l=o;var M=(r[e]||{}).link;if(M){var k=p.findById(e);M.attr("path",Tv(k,S,p,n.get("canvas")))}n.set("dragging",{x:s,y:l,left:u,top:c,card:h})}}}));t.addEventListener("dragend",(function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("dragging");if(i){var o=i.left,a=i.top,s=i.card;r[e].x=o,r[e].y=a,Tf(s,{visibility:"visible"}),n.set("dragging",!1);var l=n.get("rows");null==l||l.forEach((function(t){for(var n=t.length-1;n>=0;n--)t[n].id===e&&t.splice(n,1)}));var u=n.get("onAnnotationChange");null==u||u(r[e],"update")}}}))}},e.prototype.updateCardSize=function(t){var e=this.get("cardInfoMap");if(e){var n=e[t].card,r=n.getBoundingClientRect().width,i=n.getElementsByClassName("g6-annotation-title")[0];if(i){var o=getComputedStyle(i),a=Iv(o.marginLeft),s=i.getBoundingClientRect().width;Tf(i,{marginRight:"".concat(r-a-24-16-s,"px")})}}},e.prototype.updateLink=function(t){var e=t.item;if(e){var n=this.get("cardInfoMap");if(n){var r=this.get("canvas"),i=this.get("graph"),o=n[e.getID()]||{},a=o.link,s=o.card;if(a){var l=Tv(e,s.getBoundingClientRect(),i,r);a.attr("path",l)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=this.get("graph");Object.values(e).forEach((function(e){var r=e.id,i=n.findById(r);t.updateLink({item:i})}))}}},e.prototype.onGraphDataChange=function(){var t=this,e=this.get("cardInfoMap");if(e){var n=this.get("graph");Object.values(e).forEach((function(e){var r=e.id,i=e.card,o=e.isCanvas;if(i&&!o&&"none"!==i.style.display){var a=n.findById(r);a&&a.isVisible()?t.toggleAnnotation(a):t.hideCard(r)}}))}},e.prototype.onGraphItemVisibilityChange=function(t){var e=t.item,n=t.visible;if(e&&!e.destroyed){var r=this.get("cardInfoMap");if(r){var i=e.getID();r[i]&&(n||this.hideCard(i))}}},e.prototype.saveData=function(t){void 0===t&&(t=!1);var e=this.get("cardInfoMap");if(e){var n=this.get("graph"),r=this.get("getTitle"),i=this.get("getContent"),o=[];return Object.values(e).forEach((function(e){var a=e.title,s=e.content,l=e.x,u=e.y,c=e.id,h=e.collapsed,d=e.card;if(!d||"none"!==d.style.display||t){var f=n.findById(c)||n.get("canvas");o.push({id:c,x:l,y:u,collapsed:h,title:a||(null==r?void 0:r(f)),content:s||(null==i?void 0:i(f)),visible:d&&"none"!==d.style.display})}})),o}},e.prototype.readData=function(t){var e=this,n=this.get("graph");t.forEach((function(t){var r=t.id,i=t.x,o=t.y,a=t.title,s=t.content,l=t.collapsed,u=t.visible,c=n.findById(r);if(c||r!==Ev||(c=n.get("canvas")),!c){var h=e.get("cardInfoMap")||{};return h[r]=t,void e.set("cardInfoMap",h)}e.toggleAnnotation(c,{x:i,y:o,title:a,content:s,collapsed:l}),u||e.hideCard(r)}))},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(t){var e=this.get("container");Object.values(t).forEach((function(t){var n=t.card,r=t.link;e.removeChild(n),null==r||r.remove(!0)})),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),null===(t=this.get("canvas"))||void 0===t||t.destroy();var e=this.get("graph");e&&!e.destroyed&&(this.get("containerCfg")&&e.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(Df),Tv=function(t,e,n,r){var i,o;if("edge"===t.getType())o=[t.getKeyShape().getPoint(.5)];else{var a=null===(i=t.getKeyShape)||void 0===i?void 0:i.call(t).getBBox(),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY,h=t.getModel(),d=h.x,f=h.y;o={left:{x:s+=d,y:((l+=f)+(c+=f))/2},right:{x:u+=d,y:(l+c)/2},top:{x:(s+u)/2,y:l},bottom:{x:(s+u)/2,y:c}}}Object.keys(o).forEach((function(t){var e=o[t],i=e.x,a=e.y,s=n.getClientByPoint(i,a);o[t]=r.getPointByClient(s.x,s.y)}));var p=e.top,g=void 0===p?0:p,m=e.left,v=void 0===m?0:m,y=e.right,b=void 0===y?0:y,x=e.bottom,_=void 0===x?0:x,w={left:r.getPointByClient(v,(g+_)/2),right:r.getPointByClient(b,(g+_)/2),top:r.getPointByClient((v+b)/2,g),bottom:r.getPointByClient((v+b)/2,_)};return function(t,e){var n,r,i=1/0;Object.keys(t).forEach((function(o){var a=t[o];Object.keys(e).forEach((function(t){var o=e[t],s=a.x-o.x,l=a.y-o.y,u=s*s+l*l;i>u&&(i=u,n=a,r=o)}))}));var o=Bl.getControlPoint(n,r,.5,20);return[["M",n.x,n.y],["Q",o.x,o.y,r.x,r.y]]}(o,w)},Iv=function(t){return Number(t.replace(/\s+|px/gi,""))||0},Cv={PluginBase:Df,Menu:Ff,Grid:Pf,Minimap:Wf,Bundling:$f,ToolBar:op,Tooltip:lp,Fisheye:np,TimeBar:nv,ImageMinimap:av,EdgeFilterLens:dv,SnapLine:vv,Legend:wv,Annotation:Av};Ul("circle",{options:{size:Xl.defaultNode.size,style:{x:0,y:0,stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=(0,x.deepMix)({},r,t.icon),a="".concat(this.type,"-keyShape"),s=e.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});e.shapeMap[a]=s;var l=o.width,u=o.height,c=o.show,h=o.text;if(c){var d="".concat(this.type,"-icon");e.shapeMap[d]=h?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)({x:-l/2,y:-u/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(t,e),s},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,l=r.size,u=r.r,c=(0,b.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t)[0]/2;if(o){var d="link-point-left";e.shapeMap[d]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:-h,y:0,r:l/2||u||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var f="link-point-right";e.shapeMap[f]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:h,y:0,r:l/2||u||5}),className:f,name:f,isAnchorPoint:!0})}if(i){var p="link-point-top";e.shapeMap[p]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:-h,r:l/2||u||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var g="link-point-bottom";e.shapeMap[g]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:h,r:l/2||u||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.deepMix)({},e,n),i=this.getSize(t)[0]/2;return(0,b.__assign)({x:0,y:0,r:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getSize(t),o=(0,b.__assign)({},t.style);void 0===t.style.stroke&&t.color&&(o.stroke=t.color),void 0!==t.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,r)}},"single-node"),Ul("rect",{options:{size:[100,30],style:{radius:0,stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,l=r.size,u=r.r,c=(0,b.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],f=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:-d/2,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:d/2,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:-f/2,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:f/2,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return(0,b.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),a=e.get("keyShape");t.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,x.mix)({},i,a.attr(),s);l=(0,x.mix)(l,t.style),this.updateShape(t,e,l,!1,n),this.updateLinkPoints(t,r)}},"single-node"),Ul("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});e.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,l=r.show,u=r.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,l=r.size,u=r.r,c=(0,b.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0]/2,f=h[1]/2;o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:-d,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:d,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:-f,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:f,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getSize(t),o=i[0]/2,a=i[1]/2;return(0,b.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),a={stroke:t.color,rx:o[0]/2,ry:o[1]/2},s=e.get("keyShape"),l=(0,x.mix)({},i,s.attr(),a);l=(0,x.mix)(l,t.style),this.updateShape(t,e,l,!0,n),this.updateLinkPoints(t,r)}},"single-node"),Ul("diamond",{options:{size:[80,80],style:{stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,l=r.show,u=r.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,l=r.size,u=r.r,c=(0,b.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],f=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:-d/2,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:d/2,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:-f/2,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:f/2,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getPath(t);return(0,b.__assign)({path:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=e.get("keyShape"),l=(0,x.mix)({},i,s.attr(),a);l=(0,x.mix)(l,t.style),this.updateShape(t,e,l,!0,n),this.updateLinkPoints(t,r)}},"single-node"),Ul("triangle",{options:{size:40,direction:"up",style:{stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(t),s=t.direction||o,l=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=l;var u=i.width,c=i.height,h=i.show,d=i.offset,f=i.text;if(h)if(f)e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-u/2,g=-c/2;"up"!==s&&"down"!==s||(g+=d),"left"!==s&&"right"!==s||(p+=d),e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:(0,b.__assign)({x:p,y:g},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,e),l},drawLinkPoints:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=t.direction||o,s=i.top,l=i.left,u=i.right,c=i.bottom,h=i.size,d=i.r,f=(0,b.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(t)[0];if(l){var g=null,m=p*Math.sin(1/3*Math.PI),v=p*Math.sin(1/3*Math.PI);"up"===a?g=[-v,m]:"down"===a?g=[-v,-m]:"left"===a&&(g=[-v,v-m]),g&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},f),{x:g[0],y:g[1],r:h/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(u){var y=null;m=p*Math.sin(1/3*Math.PI),v=p*Math.sin(1/3*Math.PI);"up"===a?y=[v,m]:"down"===a?y=[v,-m]:"right"===a&&(y=[v,v-m]),y&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},f),{x:y[0],y:y[1],r:h/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var x=null;m=p*Math.sin(1/3*Math.PI),v=p*Math.sin(1/3*Math.PI);"up"===a?x=[v-m,-m]:"left"===a?x=[v,-m]:"right"===a&&(x=[-v,-m]),x&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},f),{x:x[0],y:x[1],r:h/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var _=null;m=p*Math.sin(1/3*Math.PI),v=p*Math.sin(1/3*Math.PI);"down"===a?_=[-v+m,m]:"left"===a?_=[v,m]:"right"===a&&(_=[-v,m]),_&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},f),{x:_[0],y:_[1],r:h/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||e,r=this.getSize(t)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getPath(t);return(0,b.__assign)({path:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=e.get("keyShape"),l=(0,x.mix)({},i,s.attr(),a);l=(0,x.mix)(l,t.style),this.updateShape(t,e,l,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=t.direction||i,a=e.shapeMap["link-point-left"]||e.find((function(t){return"link-point-left"===t.get("className")})),s=e.shapeMap["link-point-right"]||e.find((function(t){return"link-point-right"===t.get("className")})),l=e.shapeMap["link-point-top"]||e.find((function(t){return"link-point-top"===t.get("className")})),u=e.shapeMap["link-point-bottom"]||e.find((function(t){return"link-point-bottom"===t.get("className")})),c=r,h=a||s||l||u;h&&(c=h.attr());var d=(0,x.mix)({},c,t.linkPoints),f=d.fill,p=d.stroke,g=d.lineWidth,m=d.size/2;m||(m=d.r);var v=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=v.left,_=v.right,w=v.top,S=v.bottom,M=this.getSize(t)[0],k={r:m,fill:f,stroke:p,lineWidth:g},E=null,A=M*Math.sin(1/3*Math.PI),T=M*Math.sin(1/3*Math.PI);"up"===o?E=[-T,A]:"down"===o?E=[-T,-A]:"left"===o&&(E=[-T,T-A]),E&&(a?y||void 0===y?a.attr((0,b.__assign)((0,b.__assign)({},k),{x:E[0],y:E[1]})):(a.remove(),delete e.shapeMap["link-point-left"]):y&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},k),{x:E[0],y:E[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var I=null;"up"===o?I=[T,A]:"down"===o?I=[T,-A]:"right"===o&&(I=[T,T-A]),I&&(s?_||void 0===_?s.attr((0,b.__assign)((0,b.__assign)({},k),{x:I[0],y:I[1]})):(s.remove(),delete e.shapeMap["link-point-right"]):_&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},k),{x:I[0],y:I[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var C=null;"up"===o?C=[T-A,-A]:"left"===o?C=[T,-A]:"right"===o&&(C=[-T,-A]),C&&(l?w||void 0===w?l.attr((0,b.__assign)((0,b.__assign)({},k),{x:C[0],y:C[1]})):(l.remove(),delete e.shapeMap["link-point-top"]):w&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},k),{x:C[0],y:C[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var D=null;"down"===o?D=[-T+A,A]:"left"===o?D=[T,A]:"right"===o&&(D=[-T,A]),D&&(u?S||void 0===S?u.attr((0,b.__assign)((0,b.__assign)({},k),{x:D[0],y:D[1]})):(u.remove(),delete e.shapeMap["link-point-bottom"]):S&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},k),{x:D[0],y:D[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Ul("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Xl.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Xl.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Xl.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=this.getSize(t),a=o[0],s=o[1],l=e.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=l;var u=r.show,c=(0,b.__rest)(r,["show"]);return u&&(e.shapeMap["pre-rect"]=e.addShape("rect",{attrs:(0,b.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),l},drawLogoIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,r=void 0===n?{}:n,i=this.getSize(t)[0];if(r.show){var o=r.width,a=r.height,s=r.x,l=r.y,u=r.offset,c=r.text,h=(0,b.__rest)(r,["width","height","x","y","offset","text"]);e.shapeMap["rect-logo-icon"]=c?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:s||-i/2+o+u,y:l||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,r=void 0===n?{}:n,i=this.getSize(t)[0];if(r.show){var o=r.width,a=r.height,s=r.x,l=r.y,u=r.offset,c=r.text,h=(0,b.__rest)(r,["width","height","x","y","offset","text"]);e.shapeMap["rect-state-icon"]=c?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:s||i/2-o+u,y:l||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,l=r.size,u=r.r,c=(0,b.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],f=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:-d/2,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:d/2,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:-f/2,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},c),{x:0,y:f/2,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,l=void 0===s?{}:s,u=this.getSize(t)[0],c=null,h=a.show,d=a.width,f=-u/2+i.offset;h&&(f=-u/2+d+i.offset);var p=i.style,g=l.style,m=l.paddingTop;return(0,x.isString)(t.description)?(c=e.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},p),{x:f,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=c,e.shapeMap["rect-description"]=e.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},g),{x:f,y:17+(m||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(c=e.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},p),{x:f,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=c),c},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return(0,b.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,l=void 0===s?{}:s,u=this.getSize(t),c=u[0],h=u[1];e.get("keyShape").attr((0,b.__assign)((0,b.__assign)({},i),{x:-c/2,y:-h/2,width:c,height:h}));var d=e.getContainer(),f=d.shapeMap["rect-logo-icon"]||d.find((function(t){return"rect-logo-icon"===t.get("className")})),p=f?f.attr():{},g=(0,x.mix)({},p,t.logoIcon),m=g.width;void 0===m&&(m=this.options.logoIcon.width);var v=t.logoIcon?t.logoIcon.show:void 0,y=a.offset,_=-c/2+m+y;v||void 0===v||(_=-c/2+y);var w=d.shapeMap["node-label"]||d.find((function(t){return"node-label"===t.get("className")})),S=d.shapeMap["rect-description"]||d.find((function(t){return"rect-description"===t.get("className")}));if(t.label)if(w){var M=t.labelCfg?t.labelCfg.style:{},k=(0,x.mix)({},w.attr(),M);t.label&&(k.text=t.label),k.x=_,(0,x.isString)(t.description)&&(k.y=-5),S&&(S.resetMatrix(),S.attr({x:_})),w.resetMatrix(),w.attr(k)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},a.style),{x:_,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,x.isString)(t.description)){var E=l.paddingTop;if(S){M=t.descriptionCfg?t.descriptionCfg.style:{};var A=(0,x.mix)({},S.attr(),M);(0,x.isString)(t.description)&&(A.text=t.description),A.x=_,S.resetMatrix(),S.attr((0,b.__assign)((0,b.__assign)({},A),{y:17+(E||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},l.style),{x:_,y:17+(E||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var T=d.shapeMap["pre-rect"]||d.find((function(t){return"pre-rect"===t.get("className")}));if(T&&!T.destroyed){var I=(0,x.mix)({},T.attr(),t.preRect);T.attr((0,b.__assign)((0,b.__assign)({},I),{x:-c/2,y:-h/2,height:h}))}if(f&&!f.destroyed)if(v||void 0===v){var C=g.width,D=g.height,N=g.x,O=g.y,L=g.offset,P=(0,b.__rest)(g,["width","height","x","y","offset"]);f.attr((0,b.__assign)((0,b.__assign)({},P),{x:N||-c/2+C+L,y:O||-D/2,width:C,height:D}))}else f.remove(),delete d.shapeMap["pre-rect"];else v&&this.drawLogoIcon(t,d);var R=d.shapeMap["rect-state-icon"]||d.find((function(t){return"rect-state-icon"===t.get("className")})),j=R?R.attr():{},z=(0,x.mix)({},j,t.stateIcon);if(R){z.show||void 0===z.show||(R.remove(),delete d.shapeMap["rect-state-icon"]);var B=z.width,F=(D=z.height,N=z.x,O=z.y,z.offset),G=(0,b.__rest)(z,["width","height","x","y","offset"]);R.attr((0,b.__assign)((0,b.__assign)({},G),{x:N||c/2-B+F,y:O||-D/2,width:B,height:D}))}else z.show&&this.drawStateIcon(t,d);this.updateLinkPoints(t,d)},getOptions:function(t,e){return"move"===e?t:(0,x.deepMix)({},this.options,this.getCustomConfig(t)||{},t)}},"single-node"),Ul("star",{options:{size:60,style:{stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,l=r.show,u=r.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,l=r.rightBottom,u=r.size,c=r.r,h=(0,b.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(t)[0];if(a){var f=Math.cos(.1*Math.PI)*d,p=Math.sin(.1*Math.PI)*d;e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:f,y:-p,r:u/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(i){f=Math.cos(.5*Math.PI)*d,p=Math.sin(.5*Math.PI)*d;e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:f,y:-p,r:u/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){f=Math.cos(.9*Math.PI)*d,p=Math.sin(.9*Math.PI)*d;e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:f,y:-p,r:u/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){f=Math.cos(1.3*Math.PI)*d,p=Math.sin(1.3*Math.PI)*d;e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:f,y:-p,r:u/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(l){f=Math.cos(1.7*Math.PI)*d,p=Math.sin(1.7*Math.PI)*d;e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},h),{x:f,y:-p,r:u/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){var e=this.getSize(t)[0],n=3*e/8,r=t.innerR||n;return Bl.getStarPath(e,r)},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,x.mix)({},e,n),i=this.getPath(t);return(0,b.__assign)({path:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=e.get("keyShape"),l=(0,x.mix)({},i,s.attr(),a);l=(0,x.mix)(l,t.style),this.updateShape(t,e,l,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,r=e.shapeMap["link-point-left"]||e.find((function(t){return"link-point-left"===t.get("className")})),i=e.shapeMap["link-point-right"]||e.find((function(t){return"link-point-right"===t.get("className")})),o=e.shapeMap["link-point-top"]||e.find((function(t){return"link-point-top"===t.get("className")})),a=e.shapeMap["link-point-left-bottom"]||e.find((function(t){return"link-point-left-bottom"===t.get("className")})),s=e.shapeMap["link-point-left-bottom"]||e.find((function(t){return"link-point-right-bottom"===t.get("className")})),l=n,u=r||i||o||a||s;u&&(l=u.attr());var c=(0,x.mix)({},l,t.linkPoints),h=c.fill,d=c.stroke,f=c.lineWidth,p=c.size/2;p||(p=c.r);var g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=g.left,v=g.right,y=g.top,_=g.leftBottom,w=g.rightBottom,S=this.getSize(t)[0],M={r:p,fill:h,stroke:d,lineWidth:f},k=Math.cos(.1*Math.PI)*S,E=Math.sin(.1*Math.PI)*S;i?v||void 0===v?i.attr((0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E})):(i.remove(),delete e.shapeMap["link-point-right"]):v&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),k=Math.cos(.5*Math.PI)*S,E=Math.sin(.5*Math.PI)*S,o?y||void 0===y?o.attr((0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E})):(o.remove(),delete e.shapeMap["link-point-top"]):y&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),k=Math.cos(.9*Math.PI)*S,E=Math.sin(.9*Math.PI)*S,r?m||void 0===m?r.attr((0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E})):(r.remove(),delete e.shapeMap["link-point-left"]):m&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),k=Math.cos(1.3*Math.PI)*S,E=Math.sin(1.3*Math.PI)*S,a?_||void 0===_?a.attr((0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E})):(a.remove(),delete e.shapeMap["link-point-left-bottom"]):_&&(e.shapeMap["link-point-left-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),k=Math.cos(1.7*Math.PI)*S,E=Math.sin(1.7*Math.PI)*S,s?w||void 0===w?s.attr((0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E})):(s.remove(),delete e.shapeMap["link-point-right-bottom"]):w&&(e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},M),{x:k,y:-E}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var Dv=Bl.defaultSubjectColors,Nv="fan-shape-";Ul("donut",{options:{size:Xl.defaultNode.size,style:{x:0,y:0,stroke:Xl.defaultNode.style.stroke,fill:Xl.defaultNode.style.fill,lineWidth:Xl.defaultNode.style.lineWidth},labelCfg:{style:{fill:Xl.nodeLabel.style.fill,fontSize:Xl.nodeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Xl.defaultNode.linkPoints.size,lineWidth:Xl.defaultNode.linkPoints.lineWidth,fill:Xl.defaultNode.linkPoints.fill,stroke:Xl.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Xl.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=(0,x.deepMix)({},r,t.icon),a=e.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});e.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,l=o.height,u=o.show,c=o.text;return u&&(e.shapeMap["".concat(this.type,"-icon")]=c?e.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,b.__assign)({x:-s/2,y:-l/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),Ov(t,e,a),this.drawLinkPoints(t,e),a},updateShape:function(t,e,n,r,i){var o=e.get("keyShape");o.attr((0,b.__assign)({},n)),Pv(t,e,o),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)}},"circle");var Ov=function(t,e,n){var r=t.donutAttrs,i=void 0===r?{}:r,o=t.donutColorMap,a=void 0===o?{}:o,s=Object.keys(i).length;if(i&&s>1){var l=Rv(i,a),u=l.configs,c=l.totalValue;if(c){var h=jv(n),d=h.lineWidth,f=h.arcR,p=[f,0],g=0;if(1===s)return void Lv(e,{arcR:f,arcBegin:p,beginAngle:g,config:u[0],fanIndex:0,lineWidth:d,totalValue:c,drawWhole:!0});for(var m=0;m<u.length;m++){var v=Lv(e,{arcR:f,arcBegin:p,beginAngle:g,config:u[m],fanIndex:m,lineWidth:d,totalValue:c});if(v.shouldEnd)return;p=v.arcBegin,g=v.beginAngle}}}},Lv=function(t,e){var n,r,i,o=e.arcR,a=e.arcBegin,s=e.beginAngle,l=e.config,u=e.fanIndex,c=e.lineWidth,h=e.totalValue,d=e.drawWhole,f=void 0!==d&&d,p=e.updateShape,g=void 0===p?void 0:p,m=l.value/h;if(m<.001)return{beginAngle:s,arcBegin:a,shape:void 0,shouldEnd:!1};if(f||m>.999)n=[o,1e-4],i=1;else{var v=m*Math.PI*2;r=s+v,n=[o*Math.cos(r),-o*Math.sin(r)],i=v>Math.PI?1:0}var y={path:[["M",a[0],a[1]],["A",o,o,0,i,0,n[0],n[1]]],stroke:l.color||(null==g?void 0:g.attr("stroke"))||Dv[u%Dv.length],lineWidth:c};return g?g.attr(y):t.shapeMap["".concat(Nv).concat(u)]=t.addShape("path",{attrs:y,name:"".concat(Nv).concat(u),draggable:!0}),{beginAngle:r,arcBegin:n,shape:t.shapeMap["".concat(Nv).concat(u)],shouldEnd:f||m>.999}},Pv=function(t,e,n){var r=t.donutAttrs,i=t.donutColorMap,o=void 0===i?{}:i,a={},s=e.getContainer();if(r){var l=Rv(r,o),u=l.configs,c=l.totalValue;if(c)for(var h=jv(n),d=h.lineWidth,f=h.arcR,p=[f,0],g=0,m=0;m<u.length;m++){var v="".concat(Nv).concat(m),y=Lv(s,{arcR:f,arcBegin:p,beginAngle:g,config:u[m],fanIndex:m,lineWidth:d,totalValue:c,drawWhole:1===u.length,updateShape:s.shapeMap[v]});if(y.shape&&(a[v]=!0),y.shouldEnd)break;p=y.arcBegin,g=y.beginAngle}}Object.keys(s.shapeMap).filter((function(t){return t.includes(Nv)})).forEach((function(t){a[t]||(s.shapeMap[t].remove(!0),delete s.shapeMap[t])}))},Rv=function(t,e){var n=0,r=[];return Object.keys(t).forEach((function(i){var o=+t[i];isNaN(o)||(r.push({key:i,value:o,color:e[i]}),n+=o)})),{totalValue:n,configs:r}},jv=function(t){var e=t.attr("r"),n=.6*e;return{lineWidth:e-n,arcR:(e+n)/2}},zv=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},Bv=function(t){for(var e=[],n={},r=t.length-1;r>=0;r--){var i=t[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]||(n[i.id]=i,e.push(i))}return e},Fv=function(t){return Bv(t)},Gv=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},Vv=function(t,e,n){var r=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return 0===n&&0===r?0:n/e.width>r/e.height}(e,t);if(0===r){var i=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?i=t.maxX:n.x<e.x?i=t.minX:n.x===e.x&&(o=t.maxY),{x:i,y:o}}return r?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Zv=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Uv=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},Hv=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Wv=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Yv=function(t,e,n,r,i){return Wv(t,e)+Wv(t,n)+function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n}(t,[e,n,r,i])},Xv=function t(e,n,r,i,o){void 0===o&&(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},qv=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=r.x-t.x,s=r.y-t.y,l=n.x-e.x,u=n.y-e.y,c=r.x-e.x,h=r.y-e.y;return(i*s-o*a)*(l*h-u*c)<=0&&(i*u-o*l)*(a*h-s*c)<=0},Kv=function(t,e,n){if(n.width||n.height){var r=Uv(n),i=r[0],o=r[1],a=r[2],s=r[3];return qv(t,e,i,o)||qv(t,e,i,s)||qv(t,e,o,a)||qv(t,e,a,s)}return!1},$v=function(t,e,n,r){var i=[];return t.forEach((function(t){if(t!==e&&(t.x===e.x||t.y===e.y)){if(Kv(t,e,n)||Kv(t,e,r))return;i.push(t)}})),Bv(i)},Jv=function(t,e){var n=[],r=t[0];return n.push("M".concat(r.x," ").concat(r.y)),t.forEach((function(r,i){var o=t[i+1],a=t[i+2];if(o&&a)if(function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)}(r,o,a)){var s=function(t,e,n,r){var i=Wv(t,e),o=Wv(n,e);return i<r&&(r=i),o<r&&(r=o),[{x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},{x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)}]}(r,o,a,e),l=s[0],u=s[1];n.push("L".concat(l.x," ").concat(l.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(u.x," ").concat(u.y)),n.push("L".concat(u.x," ").concat(u.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))})),n.join("")},Qv=function(t,e,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){var s=n.getKeyShape().getBBox();if(s){var l=n.getModel(),u=l.x,c=l.y;(o={x:u,y:c,width:s.width,height:s.height,minX:s.minX+u,maxX:s.maxX+u,minY:s.minY+c,maxY:s.maxY+c}).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=zv(t)}else o=n&&n.getBBox();else o=zv(t);if(r&&r.getType())if("combo"===r.getType()){var h=r.getKeyShape().getBBox();if(h){var d=r.getModel(),f=d.x,p=d.y;(a={x:f,y:p,width:h.width,height:h.height,minX:h.minX+f,maxX:h.maxX+f,minY:h.minY+p,maxY:h.maxY+p}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=zv(e)}else a=r&&r.getBBox();else a=zv(e);var g=Gv(o,i),m=Gv(a,i),v=Vv(g,t,e),y=Vv(m,e,t),b=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach((function(t){e.push(t.x),n.push(t.y)}));var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([v,y]),x=Zv(g,b),_=Zv(m,b),w=[];w=w.concat(Uv(x)).concat(Uv(_));var S={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[b,x,_].forEach((function(t){w=w.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,S).filter((function(t){return Hv(t,g)&&Hv(t,m)})))})),[{x:v.x,y:y.y},{x:y.x,y:v.y}].forEach((function(t){Hv(t,g)&&Hv(t,m)&&w.push(t)})),w.unshift(v),w.push(y);var M=function(t,e,n,r,i,o,a){var s,l=[],u=((s={})[e.id]=e,s),c={},h={},d={};h[e.id]=0,d[e.id]=Yv(e,n,e);var f=new ty;f.add({id:e.id,value:d[e.id]});var p,g={};for(t.forEach((function(t){g[t.id]=t}));Object.keys(u).length;){var m=f.minId(!1);if(!m)break;if((p=u[m])===n){var v=[];return Xv(v,g,c,n.id),v}delete u[p.id],f.remove(p.id),l.push(p),$v(t,p,r,i).forEach((function(t){if(-1===l.indexOf(t)){var r=t.id;u[r]||(u[r]=t);var i=d[p.id]+Wv(p,t);h[r]&&i>=h[r]||(c[r]=p.id,h[r]=i,d[r]=h[r]+Yv(t,n,e,o,a)),f.add({id:r,value:d[r]})}}))}return[e,n]}(w=Bv(w),v,y,o,a,t,e);return M.unshift(t),M.push(e),Fv(M)},ty=function(){function t(){this.arr=[],this.map={},this.arr=[],this.map={}}return t.prototype._innerAdd=function(t,e){for(var n=[0,e-1];n[1]-n[0]>1;){var r=Math.floor((n[0]+n[1])/2);if(this.arr[r].value>t.value)n[1]=r;else{if(!(this.arr[r].value<t.value))return this.arr.splice(r,0,t),void(this.map[t.id]=!0);n[0]=r}}this.arr.splice(n[1],0,t),this.map[t.id]=!0},t.prototype.add=function(t){delete this.map[t.id];var e=this.arr.length;return e?this.arr[e-1].value<t.value?(this.arr.push(t),void(this.map[t.id]=!0)):void this._innerAdd(t,e):(this.arr.push(t),void(this.map[t.id]=!0))},t.prototype.remove=function(t){this.map[t]&&delete this.map[t]},t.prototype._clearAndGetMinId=function(){for(var t,e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?t=this.arr[e].id:this.arr.splice(e,1);return t},t.prototype._findFirstId=function(){for(;this.arr.length;){var t=this.arr.shift();if(this.map[t.id])return t.id}},t.prototype.minId=function(t){return t?this._clearAndGetMinId():this._findFirstId()},t}(),ey={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,r,i){return Fv(Qv(t,e,n,r,i.offset))}},ny=(Math.PI,function(t,e){var n=Math.round(Math.abs(t/e));return n<0?0:(t<0?-1:1)*n}),ry=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n||r?Math.atan2(r,n):0},iy=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},oy=function(t,e,n){for(var r=1/0,i=0,o=e.length;i<o;i++){var a=n(t,e[i]);a<r&&(r=a)}return r},ay=function(t,e,n,r,i){var o=[];if(!n)return[t];var a=i.directions,s=i.offset,l=n.getBBox(),u=e.x>l.minX&&e.x<l.maxX&&e.y>l.minY&&e.y<l.maxY,c=Gv(l,s);for(var h in c)c[h]=ny(c[h],i.gridSize);if(u){for(var d=0,f=a;d<f.length;d++){var p=f[d],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]];for(h=0;h<4;h++){var m=g[h],v=Bl.getLineIntersect(t,{x:t.x+p.stepX*c.width,y:t.y+p.stepY*c.height},m[0],m[1]);v&&!Kv(t,v,l)&&(v.id="".concat(v.x,"|||").concat(v.y),o.push(v))}}return o}var y=Vv(c,t,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},sy=function(t,e,n,r){var i=ry(t,e),o=n[t.id];if(!o){var a=ry(r,t);return iy(a,i)}var s=ry({x:o.x,y:o.y},t);return iy(s,i)},ly=function(t,e,n,r,i,o,a){var s=[r],l=r,u=t.id,c=t.x,h=t.y,d={x:c,y:h,id:u};sy(d,o,e,n)&&(l={x:o.x===r.x?r.x:d.x*a,y:o.y===r.y?r.y:d.y*a},s.unshift(l));for(var f=e[u];f&&f.id!==u;){var p={x:c,y:h,id:u},g={x:f.x,y:f.y,id:f.id};sy(g,p,e,n)&&(l={x:g.x===p.x?l.x:g.x*a,y:g.y===p.y?l.y:g.y*a},s.unshift(l)),c=g.x,h=g.y,f=e[u=g.id]}return s[0].x=c===n.x?i.x:l.x,s[0].y=h===n.y?i.y:l.y,s.unshift(i),s},uy=function(t,e,n,r,i){if(isNaN(t.x)||isNaN(e.x))return[];var o=(0,x.deepMix)(ey,i);o.obstacles=o.obstacles||[];var a=o.penalties,s=o.gridSize,l=function(t,e,n){var r={};return t.forEach((function(t){if(t)for(var i=Gv(t.getBBox(),n),o=ny(i.minX,e);o<=ny(i.maxX,e);o+=1)for(var a=ny(i.minY,e);a<=ny(i.maxY,e);a+=1)r["".concat(o,"|||").concat(a)]=!0})),r}(o.obstacles.concat([n,r]),s,o.offset),u={x:ny(t.x,s),y:ny(t.y,s)},c={x:ny(e.x,s),y:ny(e.y,s)};t.id="".concat(u.x,"|||").concat(u.y),e.id="".concat(c.x,"|||").concat(c.y);var h=ay(u,t,n,c,o),d=ay(c,e,r,u,o);h.forEach((function(t){delete l[t.id]})),d.forEach((function(t){delete l[t.id]}));for(var f={},p={},g={},m={},v={},y=new ty,b=0;b<h.length;b++){var _=h[b];f[_.id]=_,m[_.id]=0,v[_.id]=oy(_,d,o.distFunc),y.add({id:_.id,value:v[_.id]})}var w,S,M,k,E,A,T=o.maximumLoops,I=1/0,C={};for(d.forEach((function(t){C["".concat(t.x,"|||").concat(t.y)]=!0})),Object.keys(f).forEach((function(t){var e=f[t].id;v[e]<=I&&(I=v[e],w=f[e])}));Object.keys(f).length>0&&T>0;){var D=y.minId((T+1)%30==0);if(!D)break;if(w=f[D],C["".concat(w.x,"|||").concat(w.y)])return ly(w,g,u,e,t,c,s);delete f[w.id],y.remove(w.id),p[w.id]=!0;for(b=0;b<o.directions.length;b++){S=o.directions[b];var N="".concat(Math.round(w.x)+S.stepX,"|||").concat(Math.round(w.y)+S.stepY);if(M={x:w.x+S.stepX,y:w.y+S.stepY,id:N},!p[N]&&!((A=sy(w,M,g,u))>o.maxAllowedDirectionChange||l[N])){f[N]||(f[N]=M);var O=a[A];k=o.distFunc(w,M)+(isNaN(O)?s:O),E=m[w.id]+k;var L=m[N];L&&E>=L||(g[N]=w,m[N]=E,v[N]=E+oy(M,d,o.distFunc),y.add({id:N,value:v[N]}))}}T-=1}return o.fallbackRoute(t,e,n,r,o)};Hl("polyline",{options:{color:Xl.defaultEdge.color,size:Xl.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Xl.defaultEdge.style.stroke,lineAppendWidth:Xl.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Xl.edgeLabel.style.fill,fontSize:Xl.edgeLabel.style.fontSize,fontFamily:Xl.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,b.__assign)({},Xl.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);0===n.radius&&delete n.radius;var r=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=r,r},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=(0,x.mix)({},e,n,t.style);t=this.getPathPoints(t),this.radius=r.radius,this.offset=r.offset;var i=t.startPoint,o=t.endPoint,a=this.getControlPoints(t),s=[i];a&&(s=s.concat(a)),s.push(o);var l=t.sourceNode,u=t.targetNode,c=r.radius,h=this.options.routeCfg,d=(0,x.mix)({},h,t.routeCfg);d.offset=r.offset;var f=this.getPath(s,l,u,c,d,!Boolean(a));return((0,x.isArray)(f)&&f.length<=1||(0,x.isString)(f)&&-1===f.indexOf("L"))&&(f="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(f="M0 0, L0 0"),(0,x.mix)({},Xl.defaultEdge.style,r,{lineWidth:t.size,path:f})},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var r={stroke:t.color},i=n.shapeMap["edge-shape"]||n.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,l=this.getControlPoints(t),u=[a];l&&(u=u.concat(l)),u.push(s);var c=i.attr(),h=(0,x.mix)({},r,c,t.style),d=t.sourceNode,f=t.targetNode,p=h.radius,g=this.options.routeCfg,m=(0,x.mix)({},g,t.routeCfg);m.offset=h.offset;var v=this.getPath(u,d,f,p,m,!Boolean(l));((0,x.isArray)(v)&&v.length<=1||(0,x.isString)(v)&&-1===v.indexOf("L"))&&(v="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(v="M0 0, L0 0"),c.endArrow&&!1===h.endArrow&&(t.style.endArrow={path:""}),c.startArrow&&!1===h.startArrow&&(t.style.startArrow={path:""});var y=(0,x.mix)(r,i.attr(),{lineWidth:o,path:v},t.style);i&&i.attr(y)}},getPath:function(t,e,n,r,i,o){var a=i.offset,s=i.obstacles,l=i.simple;if(!a||t.length>2||!1===o){if(r)return Jv(t,r);var u=[];return(0,x.each)(t,(function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["L",t.x,t.y])})),u}!1===l||(null==s?void 0:s.length)||(l=!0);var c=l?Qv(t[t.length-1],t[0],n,e,a):uy(t[0],t[t.length-1],e,n,i);return c&&c.length?r?Jv(c,r):(c=function(t){if(!(null==t?void 0:t.length))return t;for(var e=t[t.length-1],n={x:e.x,y:e.y},r=[e],i=[e],o=t.length-2;o>=0;o--){var a,s=t[o];s.x===n.x?r.push(s):(r=[s],n.x=s.x),s.y===n.y?i.push(s):(i=[s],n.y=s.y),r.length>2?(a=t.indexOf(r[1]))>-1&&t.splice(a,1):i.length>2&&(a=t.indexOf(i[1]))>-1&&t.splice(a,1)}return t}(c),Bl.pointsToPolygon(c)):"M0 0, L0 0"}},"single-edge");var cy=Wd.cloneEvent,hy=Wd.isNaN,dy=Math.abs,fy=["shift","ctrl","alt","control"],py={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,r=+t.clientY;if(!hy(n)&&!hy(r)){var i=n-e.x,o=r-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),u=this.scalableRange,c=this.scalableRange;u<1&&u>-1&&(u*=a,c*=s),(l.minX<=a+u&&l.minX+i>a+u||l.maxX+u>=0&&l.maxX+u+i<0)&&(i=0),(l.minY<=s+c&&l.minY+o>s+c||l.maxY+c>=0&&l.maxY+c+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];n&&r||(t.preventDefault(),this.mousedown=!0,this.onDragStart(t))},onMouseDown:function(t){this.mousedown=!0},onDragMove:function(t){this.mousedown&&(this.dragstart?this.onDrag(t):(this.dragstart=!0,this.onDragStart(t)))},onDragStart:function(t){var e=this,n=t.originalEvent;if((!n||"touchstart"===t.name||0===n.button)&&("touchstart"===t.name||"undefined"==typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin(t,this)&&!e.keydown&&this.allowDrag(t)){if(e.origin={x:t.clientX,y:t.clientY},e.dragging=!1,this.enableOptimize){for(var r=this.graph,i=r.getEdges(),o=0,a=i.length;o<a;o++){var s=i[o].get("group").get("children");s&&s.forEach((function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()}))}for(var l=r.getNodes(),u=0,c=l.length;u<c;u++)for(var h=0,d=l[u].getContainer().get("children");h<d.length;h++){var f=d[h];f.get("isKeyShape")||(f.set("ori-visibility",f.get("ori-visibility")||f.get("visible")),f.hide())}}if("undefined"!=typeof window){var p=this;this.handleDOMContextMenu=function(t){return p.onMouseUp(t)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];n&&r?this.onMouseUp(t):(t.preventDefault(),this.onDrag(t))},onDrag:function(t){if(this.mousedown){var e=this.graph;if(!this.keydown&&this.allowDrag(t)&&(t=cy(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(dy(this.origin.x-t.clientX)+dy(this.origin.y-t.clientY)<10)return;this.shouldBegin(t,this)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate(t,this)&&this.updateViewport(t)}}},onMouseUp:function(t){var e,n;this.mousedown=!1,this.dragstart=!1;var r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(e=null==o?void 0:o.modes[o.mode])||void 0===e?void 0:e.filter((function(t){return"zoom-canvas"===t.type})))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var l=r.getEdges(),u=0,c=l.length;u<c;u++){var h=l[u].get("group").get("children");h&&h.forEach((function(t){var e=t.get("ori-visibility");t.set("ori-visibility",void 0),e&&t.show()}))}if(i>s)for(var d=r.getNodes(),f=0,p=d.length;f<p;f++)for(var g=0,m=d[f].getContainer().get("children");g<m.length;g++){var v=m[g];if(!v.get("isKeyShape")){var y=v.get("ori-visibility");v.set("ori-visibility",void 0),y&&v.show()}}}this.dragging?(t=cy(t),this.shouldEnd(t,this)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,r.emit("canvas:dragend",t),this.endDrag(),"undefined"!=typeof window&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(t){var e=t.key;e&&(fy.indexOf(e.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(t){var e,n,r=t.target,i=r&&r.isCanvas&&r.isCanvas();if((0,x.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if((0,x.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,a=o.node,s=o.edge,l=o.combo,u=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!a&&"node"===u)return!1;if(!s&&"edge"===u)return!1;if(!l&&"combo"===u)return!1}return!0}},gy={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onTouchStart:function(t){if(t.item){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){}this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},this.dragstart=!0,this.onDragStart(t)}},onTouchMove:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return void this.onDragEnd(t);t.preventDefault()}catch(t){}this.onDrag(t)},onMouseDown:function(t){this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},"undefined"==typeof window||this.windowEventBinded||(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(t){var e,n;"node"===(null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e))?this.mousedown&&(this.dragstart?this.onDrag((0,b.__assign)((0,b.__assign)({},t),this.mousedown)):(this.dragstart=!0,this.onDragStart(t))):this.onDragEnd()},onDragStart:function(t){var e=this;if(this.currentShouldEnd=!0,this.shouldBegin((0,b.__assign)((0,b.__assign)({},t),this.mousedown),this)){var n=this.mousedown,r=n.item,i=n.target;if(r&&!r.destroyed&&!r.hasLocked()){if(r.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(r),i)if(i.get("isAnchorPoint"))return;var o=this.graph;this.targets=[],this.targetCombo=null;var a=o.findAllByState("node",this.selectedState),s=r.get("id"),l=a.filter((function(t){var e=t.get("id");return s===e}));if(0===l.length?this.targets.push(r):a.length>1?a.forEach((function(t){t.hasLocked()||e.targets.push(t)})):this.targets.push(r),this.graph.get("enabledStack")&&this.enableStack){var u=[];this.targets.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y,i=e.id;u.push({x:n,y:r,id:i})})),this.set("beforeDragNodes",u)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(t){t.getEdges().forEach((function(t){t.isVisible()&&(e.hidenEdge[t.getID()]=!0,t.hide())}))})),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;if(this.mousedown&&this.origin&&this.shouldUpdate(t,this))if(this.get("enableDelegate"))this.updateDelegate(t);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var n={};this.targets.map((function(r){e.update(r,t);var i=r.getModel().comboId;i&&(n[i]=e.graph.findById(i))})),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(t){var e,n=this;if(this.mousedown=!1,this.dragstart=!1,"undefined"!=typeof window&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),this.origin){null===(e=this.cachedCaptureItems)||void 0===e||e.forEach((function(t){t.getContainer().set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(t){t.getEdges().forEach((function(t){n.hidenEdge[t.getID()]&&t.show(),t.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(t){i.before.nodes.push(t)})),this.targets.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y,o=e.id;i.after.nodes.push({x:n,y:r,id:o})})),r.pushStack("update",(0,x.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.currentShouldEnd=this.shouldEnd(t,e,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(e)){var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var r=e.getModel();this.targets.map((function(t){t.getModel().comboId!==r.id&&n.updateComboTree(t,r.id)})),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd(t,void 0,this),this.updatePositions(t,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map((function(t){t.getModel().comboId&&e.updateComboTree(t)})))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=this,n=t.item,r=e.graph,i=n.getModel().comboId,o=i?r.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(i){var a=r.findById(i);e.comboActiveState&&r.setItemState(a,e.comboActiveState,!1),this.targets.map((function(t){var e=t.getModel();i!==e.comboId&&r.updateComboTree(t,i)})),r.updateCombo(a)}else this.targets.map((function(t){t.getModel().comboId&&r.updateComboTree(t)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t,e){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):e||this.targets.map((function(e){return n.update(e,t)})):this.targets.map((function(r){return n.update(r,t,e)})))},update:function(t,e,n){var r=this.origin,i=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=e.x-r.x+this.point[o].x,s=e.y-r.y+this.point[o].y;n&&(a+=r.x-e.x,s+=r.y-e.y);var l={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(t,l,!1):t.updatePosition(l)},debounceUpdate:(0,x.debounce)((function(t){var e=t.targets,n=t.graph,r=t.point,i=t.origin,o=t.evt,a=t.updateEdge,s=t.onlyChangeComboSize,l=t.updateParentCombos;e.map((function(t){var e=t.get("model"),s=t.get("id");r[s]||(r[s]={x:e.x||0,y:e.y||0});var l={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(t,l,!1):t.updatePosition(l)})),s&&l(n,e)}),50,!0),updateDelegate:function(t){var e=this.graph;if(this.delegateRect){var n=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=e.get("group"),o=(0,x.deepMix)({},Ad.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(t),s=a.x,l=a.y,u=a.width,c=a.height,h=a.minX,d=a.minY;this.originPoint={x:s,y:l,width:u,height:c,minX:h,minY:d},this.delegateRect=i.addShape("rect",{attrs:(0,b.__assign)({width:u,height:c,x:s,y:l},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.targets;0===e.length&&e.push(t.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),l=s.minX,u=s.minY,c=s.maxX,h=s.maxY;l<n&&(n=l),u<i&&(i=u),c>r&&(r=c),h>o&&(o=h)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}},updateParentCombos:function(t,e){var n=t||this.graph,r=e||this.targets,i={};null==r||r.forEach((function(t){var e=t.getModel().comboId;e&&(i[e]=n.findById(e))})),Object.values(i).forEach((function(t){t&&n.updateCombo(t)}))}},my={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){}this.setAllItemStates(t)},clearOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){}this.clearActiveState(t)},setAllItemStates:function(t){clearTimeout(this.timer),this.throttleSetAllItemStates(t,this)},clearActiveState:function(t){var e=this;this.timer=setTimeout((function(){e.throttleClearActiveState(t,e)}),50)},throttleSetAllItemStates:(0,x.throttle)((function(t,e){var n=t.item,r=e.graph;if(r&&!r.destroyed&&(e.item=n,e.shouldUpdate(t.item,{event:t,action:"activate"},e))){for(var i=e.activeState,o=e.inactiveState,a=r.getNodes(),s=r.getCombos(),l=r.getEdges(),u=r.get("vedges"),c=a.length,h=s.length,d=l.length,f=u.length,p=e.inactiveItems||{},g=e.activeItems||{},m=0;m<c;m++){var v=a[m],y=v.getID(),b=v.hasState("selected");e.resetSelected&&b&&r.setItemState(v,"selected",!1),g[y]&&(r.setItemState(v,i,!1),delete g[y]),o&&!p[y]&&(r.setItemState(v,o,!0),p[y]=v)}for(m=0;m<h;m++){var x=s[m],_=x.getID();b=x.hasState("selected");e.resetSelected&&b&&r.setItemState(x,"selected",!1),g[_]&&(r.setItemState(x,i,!1),delete g[_]),o&&!p[_]&&(r.setItemState(x,o,!0),p[_]=x)}for(m=0;m<d;m++){g[A=(E=l[m]).getID()]&&(r.setItemState(E,i,!1),delete g[A]),o&&!p[A]&&(r.setItemState(E,o,!0),p[A]=E)}for(m=0;m<f;m++){var w=u[m],S=w.getID();g[S]&&(r.setItemState(w,i,!1),delete g[S]),o&&!p[S]&&(r.setItemState(w,o,!0),p[S]=w)}if(n&&!n.destroyed){o&&(r.setItemState(n,o,!1),delete p[n.getID()]),g[n.getID()]||(r.setItemState(n,i,!0),g[n.getID()]=n);var M=n.getEdges(),k=M.length;for(m=0;m<k;m++){var E,A=(E=M[m]).getID(),T=void 0,I=(T=E.getSource()===n?E.getTarget():E.getSource()).getID();o&&p[I]&&(r.setItemState(T,o,!1),delete p[I]),g[I]||(r.setItemState(T,i,!0),g[I]=T),p[A]&&(r.setItemState(E,o,!1),delete p[A]),g[A]||(r.setItemState(E,i,!0),g[A]=E),E.toFront()}}e.activeItems=g,e.inactiveItems=p,r.emit("afteractivaterelations",{item:t.item,action:"activate"})}}),50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,x.throttle)((function(t,e){var n=e.get("graph");if(n&&!n.destroyed&&e.shouldUpdate(t.item,{event:t,action:"deactivate"},e)){var r=e.activeState,i=e.inactiveState,o=e.activeItems||{},a=e.inactiveItems||{};Object.values(o).filter((function(t){return!t.destroyed})).forEach((function(t){n.clearItemStates(t,r)})),Object.values(a).filter((function(t){return!t.destroyed})).forEach((function(t){n.clearItemStates(t,i)})),e.activeItems={},e.inactiveItems={},n.emit("afteractivaterelations",{item:t.item||e.get("item"),action:"deactivate"})}}),50,{trailing:!0,leading:!0})},vy=Math.min,yy=Math.max,by=Math.abs,xy="shift",_y=["drag","shift","ctrl","alt","control"],wy={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:xy,includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return _y.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=xy),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var t=this.graph,e=this.selectedState,n=t.findAllByState("node",e),r=t.findAllByState("edge",e),i=t.findAllByState("combo",e);n.forEach((function(n){return t.setItemState(n,e,!1)})),r.forEach((function(n){return t.setItemState(n,e,!1)})),i.forEach((function(n){return t.setItemState(n,e,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(t,e,n,r,i){var o=t.getBBox();return o.centerX>=e&&o.centerX<=n&&o.centerY>=r&&o.centerY<=i},getSelectedNodes:function(t){var e=this,n=this,r=n.graph,i=n.originPoint,o=n.shouldUpdate,a=n.isBBoxCenterInRect,s=this.selectedState,l={x:t.x,y:t.y},u=r.getPointByCanvas(i.x,i.y),c=vy(l.x,u.x),h=yy(l.x,u.x),d=vy(l.y,u.y),f=yy(l.y,u.y),p=[],g=[];r.getNodes().forEach((function(t){if(t.isVisible()&&a(t,c,h,d,f)&&o(t,"select",e)){p.push(t);var n=t.getModel();g.push(n.id),r.setItemState(t,s,!0)}}));var m=[];this.includeEdges&&p.forEach((function(t){t.getOutEdges().forEach((function(t){if(t.isVisible()){var n=t.getModel(),i=n.source,a=n.target;g.includes(i)&&g.includes(a)&&o(t,"select",e)&&(m.push(t),r.setItemState(t,e.selectedState,!0))}}))}));var v=[];this.includeCombos&&r.getCombos().forEach((function(t){if(t.isVisible()&&a(t,c,h,d,f)&&o(t,"select",e)){v.push(t);var n=t.getModel();g.push(n.id),r.setItemState(t,s,!0)}})),this.selectedEdges=m,this.selectedNodes=p,this.selectedCombos=v,this.onSelect&&this.onSelect(p,m,v),r.emit("nodeselectchange",{selectedItems:{nodes:p,edges:m,combos:v},select:!0})},createBrush:function(){var t=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:by(t.canvasX-e.x),height:by(t.canvasY-e.y),x:vy(t.canvasX,e.x),y:vy(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),r=e.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Sy="shift",My=["shift","ctrl","alt","control"],ky={getDefaultCfg:function(){return{multiple:!0,trigger:Sy,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var t=this;return My.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=Sy),t.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){var r=n.getType(),i=e.graph,o=e.keydown,a=e.multiple,s=e.shouldUpdate;if((0,e.shouldBegin)(t,e)){if(!o||!a){var l=i.findAllByState("node",e.selectedState).concat(i.findAllByState("edge",e.selectedState)).concat(i.findAllByState("combo",e.selectedState));(0,x.each)(l,(function(t){t!==n&&i.setItemState(t,e.selectedState,!1)}))}if(function(){switch(r){case"node":return e.selectNode;case"edge":return e.selectEdge;case"combo":return e.selectCombo;default:return!1}}())if(n.hasState(e.selectedState)){s(t,e)&&i.setItemState(n,e.selectedState,!1);u=i.findAllByState("node",e.selectedState),c=i.findAllByState("edge",e.selectedState),h=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,edges:c,combos:h},select:!1})}else{s(t,e)&&i.setItemState(n,e.selectedState,!0);u=i.findAllByState("node",e.selectedState),c=i.findAllByState("edge",e.selectedState),h=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,edges:c,combos:h},select:!0})}else{var u=i.findAllByState("node",e.selectedState),c=i.findAllByState("edge",e.selectedState),h=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{selectedItems:{nodes:u,edges:c,combos:h},select:!1})}}}},onCanvasClick:function(t){var e=this,n=this.graph;if((0,this.shouldBegin)(t,this)){var r=n.findAllByState("node",this.selectedState);(0,x.each)(r,(function(t){n.setItemState(t,e.selectedState,!1)}));var i=n.findAllByState("edge",this.selectedState);(0,x.each)(i,(function(t){n.setItemState(t,e.selectedState,!1)}));var o=n.findAllByState("combo",this.selectedState);(0,x.each)(o,(function(t){n.setItemState(t,e.selectedState,!1)})),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||"control"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Ey=D,Ay=.05,Ty={getDefaultCfg:function(){return this.isFireFox="firefox"===Hd(),{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];t.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin(t,this)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,n=e[0],r=e[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var l=this.get("animate"),u=this.get("animateCfg"),c=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(a,{x:c.x,y:c.y},l,u),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin(t,this))&&this.shouldUpdate(t,this)){t.preventDefault();var i=n.get("canvas").getPointByClient(t.clientX,t.clientY),o=this.get("sensitivity"),a=n.getZoom(),s=a;s=a*(this.isFireFox?t.deltaY>0||t.wheelDelta<0?1-Ay*o:1/(1-Ay*o):t.wheelDelta<0?1-Ay*o:1/(1-Ay*o));var l=this.get("minZoom")||n.get("minZoom"),u=this.get("maxZoom")||n.get("maxZoom");if(s>u?s=u:s<l&&(s=l),this.get("enableOptimize")){var c=this.get("optimizeZoom"),h=this.get("optimized"),d=n.getNodes(),f=n.getEdges(),p=d.length,g=f.length;if(!h){for(var m=0;m<p;m++){if(!(A=d[m]).destroyed)for(var v=(q=A.get("group").get("children")).length,y=0;y<v;y++){(j=q[y]).destoryed||j.get("isKeyShape")||(j.set("ori-visibility",j.get("ori-visibility")||j.get("visible")),j.hide())}}for(var b=0;b<g;b++)for(v=(q=(X=f[b]).get("group").get("children")).length,y=0;y<v;y++){(j=q[y]).set("ori-visibility",j.get("ori-visibility")||j.get("visible")),j.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var _=setTimeout((function(){var t=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var r=0;r<p;r++){var i=d[r],o=(u=i.get("group").get("children")).length;if(t<c){var a=(m=i.getKeyShape()).get("ori-visibility");m.set("ori-visibility",void 0),a&&m.show()}else for(var s=0;s<o;s++){a=(v=u[s]).get("ori-visibility");v.set("ori-visibility",void 0),!v.get("visible")&&a&&a&&v.show()}}for(var l=0;l<g;l++){var u,h=f[l];o=(u=h.get("group").get("children")).length;if(t<c){var m;a=(m=h.getKeyShape()).get("ori-visibility");m.set("ori-visibility",void 0),a&&m.show()}else for(s=0;s<o;s++){var v;if(!(v=u[s]).get("visible")){a=v.get("ori-visibility");v.set("ori-visibility",void 0),a&&v.show()}}}}}),100);this.set("timeout",_)}if(a<=1){var w=void 0,S=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){w=n.findAllByState("node",r.fixState),S=n.findAllByState("edge",r.fixState);for(var M=a/s,k=w.length,E=0;E<k;E++){var A,T=(A=w[E]).getContainer(),I=A.getModel(),C=A.getOriginStyle(),D=A.getStateStyle(r.fixState),N=A.get("shapeFactory").getShape(I.type).getStateStyle(r.fixState,A)[r.fixState];if(r.fixAll){if(s<=1){var O=(0,x.clone)(T.getMatrix());O||(O=[1,0,0,0,1,0,0,0,1]);var L=A.getModel(),P=L.x,R=L.y;O=Ey(O,[["t",-P,-R],["s",M,M],["t",P,R]]),T.setMatrix(O)}}else for(v=(q=T.get("children")).length,y=0;y<v;y++){var j=q[y],z=void 0,B=void 0;if(r.fixLabel)if("text"===j.get("type")){z=j.attr("fontSize")||12;var F=D[j.get("name")],G=N[j.get("name")],V=F?F.fontSize:12,Z=G?G.fontSize:12,U=V||Z||12;if(s<=1&&j.attr("fontSize",U/s),B)break}if(r.fixLineWidth&&j.get("isKeyShape")){B=j.attr("lineWidth")||0;var H=D.lineWidth||N.lineWidth||C.lineWidth||0;if(s<=1&&j.attr("lineWidth",H/s),z)break}}}for(var W=S.length,Y=0;Y<W;Y++){var X,q=(T=(X=S[Y]).getContainer()).get("children");for(I=X.getModel(),D=X.getStateStyle(r.fixState),N=X.get("shapeFactory").getShape(I.type).getStateStyle(r.fixState,X)[r.fixState],v=q.length,y=0;y<v;y++){j=q[y],z=void 0,B=void 0;if(r.fixLabel||r.fixAll)if("text"===j.get("type")){z=j.attr("fontSize")||12;F=D[j.get("name")],G=N[j.get("name")],V=F?F.fontSize:12,Z=G?G.fontSize:12,U=V||Z||12;if(s<=1&&j.attr("fontSize",U/s),B)break}if((r.fixLineWidth||r.fixAll)&&j.get("isKeyShape")){B=j.attr("lineWidth")||0;H=D.lineWidth||N.lineWidth||1;if(s<=1&&j.attr("lineWidth",H/s),z)break}}}}}var K=this.get("animate"),$=this.get("animateCfg");n.zoomTo(s,{x:i.x,y:i.y},K,$),n.emit("wheelzoom",t)}}},Iy={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t,this)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(t.item&&!t.item.destroyed){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,Tf(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){Tf(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this,r=n.width,i=n.height,o=n.container,a=n.graph;if(e(t,this)){var s=a.getPointByClient(t.clientX,t.clientY),l=a.getCanvasByPoint(s.x,s.y),u=l.x,c=l.y,h=o.getBoundingClientRect();u>r/2?u-=h.width:u+=this.offset,c>i/2?c-=h.height:c+=this.offset;var d="".concat(u,"px"),f="".concat(c,"px");Tf(this.container,{left:d,top:f,visibility:"visible"})}else Tf(o,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=bf('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return e.parentNode.appendChild(n),Tf(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},Cy=(0,b.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Iy),Dy=(0,b.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Iy),Ny="click",Oy=["click","dblclick"],Ly={getDefaultCfg:function(){return{trigger:Ny,onChange:function(){}}},getEvents:function(){var t,e;return e=Oy.includes(this.trigger)?this.trigger:Ny,(t={})["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=this;if("click"===this.trigger){if(this.timer)return clearTimeout(this.timer),void(this.timer=0);this.timer=setTimeout((function(){e.toggle(t),clearTimeout(e.timer),e.timer=0}),200)}else this.toggle(t)},toggle:function(t){var e=t.item;if(e){var n=this.graph.findDataById(e.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(t,i,this)&&(n.collapsed=i,e.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i,this)&&(this.onChange(e,i,this),this.graph.layout()))}}}}},Py=Wd.calculationItemsBBox,Ry=function t(e,n){if(!1!==n(e)&&e){var r=e.get("combos");if(0===r.length)return!1;(0,x.each)(r,(function(e){t(e,n)}))}},jy={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed)&&(!!this.shouldUpdate(t,this)&&"combo"===e.getType())},onMouseDown:function(t){this.origin={x:t.x,y:t.y}},onDragStart:function(t){var e=this,n=this.graph,r=t.item;if(this.currentShouldEnd=!0,this.validationCombo(t)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id"),a=i.filter((function(t){var e=t.get("id");return o===e}));0===a.length?this.targets.push(r):this.targets=i;var s=[];this.targets.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y,i=e.id;s.push({x:n,y:r,id:i})})),this.set("beforeDragItems",s),this.activeState&&this.targets.map((function(t){var r=t.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,e.activeState,!0)}})),this.point={},this.originPoint={},this.currentItemChildCombos=[],Ry(r,(function(t){if(t.destroyed)return!1;var n=t.getModel();return e.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,r=t.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,l=a.centerY,u=a.width,c=o.filter((function(t){var n=t.getModel();return i.parentId,n.id!==i.id&&!e.currentItemChildCombos.includes(n.id)}));c.map((function(t){var r=t.getBBox(),i=r.centerX,o=r.centerY,a=r.width,c=s-i,h=l-o,d=2*Math.sqrt(c*c+h*h);u+a-d>.8*u?n.setItemState(t,e.activeState,!0):n.setItemState(t,e.activeState,!1)}))}(0,x.each)(this.targets,(function(n){e.updateCombo(n,t)})),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(t,e){var n=this;(this.enableDelegate||e)&&(0,x.each)(this.targets,(function(r){n.updateCombo(r,t,e)}))},onDrop:function(t){var e=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd(t,n,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map((function(t){t.getModel().parentId!==i.id?(e.activeState&&r.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t,i.id,!1)):r.updateCombo(n)})),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=t.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd(t,i,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map((function(t){e.onlyChangeComboSize?n.updateCombo(t):r!==t.getID()&&(o=n.findById(r),r!==t.getModel().parentId&&n.updateComboTree(t,r,!1))}))}else this.targets.map((function(t){e.onlyChangeComboSize?n.updateCombo(t):t.getModel().comboId&&n.updateComboTree(t,void 0,!1)}));this.endComparison=!0,this.end(o,t)}}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;if(t&&this.activeState&&r.setItemState(t,this.activeState,!1),!t){var i=r.get("enabledStack")&&this.enableStack,o={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map((function(t){if(n.onlyChangeComboSize){r.updateCombo(t);var e=t.getModel(),a=e.x,s=e.y,l=e.id;o.after.combos.push({x:a,y:s,id:l}),r.pushStack("update",o)}else r.updateComboTree(t,void 0,i)}))}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e,n){var r=this;if(void 0===n&&(n={}),!1!==e(t,n)&&t){var i=t.get("combos");(0,x.each)(i,(function(t){r.traverse(t,e,n)}));var o=t.get("nodes");(0,x.each)(o,(function(t){r.traverse(t,e,n)}))}},updateCombo:function(t,e,n){this.updateSingleItem(t,e,n);var r={};this.traverse(t,(function(t,e){return!t.destroyed&&(t.getEdges().forEach((function(t){return e[t.getID()]=t})),!0)}),r),Object.values(r).forEach((function(t){return t.refresh()}))},updateSingleItem:function(t,e,n){var r=this.origin,i=this.graph,o=t.getModel(),a=t.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=e.x-r.x+this.point[a].x,l=e.y-r.y+this.point[a].y;n&&(s+=r.x-e.x,l+=r.y-e.y),i.updateItem(t,{x:s,y:l},!1)},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var n=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=e.get("delegateGroup"),o=null,a=(o=this.targets.length>1?Py(this.targets):this.targets[0].getBBox()).x,s=o.y,l=o.width,u=o.height,c=o.minX,h=o.minY;this.originPoint={x:a,y:s,width:l,height:u,minX:c,minY:h};var d=(0,b.__assign)((0,b.__assign)({},Ad.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,b.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var t=this.graph,e=this.targets,n={};null==e||e.forEach((function(e){var r=e.getModel().parentId;r&&(n[r]=t.findById(r))})),Object.values(n).forEach((function(e){e&&t.updateCombo(e)}))}},zy="dblclick",By=["click","dblclick"],Fy={getDefaultCfg:function(){return{trigger:zy,relayout:!0}},getEvents:function(){var t,e;return e=By.includes(this.trigger)?this.trigger:zy,(t={})["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this.graph,r=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var i=e.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},Gy=Wd.isPolygonsIntersect,Vy=Wd.pathToPoints,Zy="shift",Uy=["drag","shift","ctrl","alt","control"],Hy={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:Zy,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Uy.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Zy),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso;t.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(t){void 0===t&&(t="canvas:click");var e=this,n=e.graph,r=e.selectedState,i=e.shouldDeselect,o=n.findAllByState("node",r),a=n.findAllByState("edge",r);i&&!i({action:t,nodes:o,edges:a})||(o.forEach((function(t){return n.setItemState(t,r,!1)})),a.forEach((function(t){return n.setItemState(t,r,!1)}))),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,e=this.graph,n=this.shouldUpdate,r=this.points.map((function(t){return[e.getCanvasByPoint(t.x,t.y).x,e.getCanvasByPoint(t.x,t.y).y]})),i=this.selectedState,o=[],a=[];e.getNodes().forEach((function(s){if(s.isVisible()&&function(t,e){var n,r=t.getKeyShape();if("path"===t.get("type"))n=Vy(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return Gy(e,n)}(s,r)&&n(s,"select",t)){o.push(s);var l=s.getModel();a.push(l.id),e.setItemState(s,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(r){r.getOutEdges().forEach((function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,l=i.target;a.includes(o)&&a.includes(l)&&n(r,"select",t)&&(s.push(r),e.setItemState(r,t.selectedState,!0))}}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),e.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var t=this.graph.get("delegateGroup").addShape("path",{attrs:(0,b.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Wy="click",Yy=["click","drag"],Xy=void 0,qy=["shift","ctrl","control","alt","meta",void 0],Ky={getDefaultCfg:function(){return{trigger:Wy,key:Xy,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t,e=this;return Yy.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=Wy),e.key&&-1===qy.indexOf(e.key.toLowerCase())&&(e.trigger=Xy),"drag"===e.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===e.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){var e=this;if(!e.key||e.keydown){var n=t.item;n&&n.getID()!==e.source&&"node"===n.getType()||e.cancelCreating({item:e.edge,x:t.x,y:t.y})}},onClick:function(t){var e=this;if(!e.key||e.keydown){var n=t.item,r=e.graph,i=n.getModel(),o=e.getEdgeConfig;if(e.addingEdge&&e.edge){if(!e.shouldEnd(t,e))return;var a=void 0;a=o&&(0,x.isFunction)(o)?o({source:e.source,target:i.id},e):e.edgeConfig;var s=(0,b.__assign)({target:i.id},a);if(e.source===i.id&&(s.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(e.edge,s,!1),r.get("enabledStack")){var l=(0,b.__assign)((0,b.__assign)({},e.edge.getModel()),{itemType:"edge"}),u={};u.edges=[l],r.pushStack("add",{before:{},after:u})}r.emit("aftercreateedge",{edge:e.edge}),e.edge.getKeyShape().set("capture",!0),e.edge=null,e.addingEdge=!1}else{if(!e.shouldBegin(t,e))return;a=void 0;a=o&&(0,x.isFunction)(o)?o({source:i.id,target:i.id},e):e.edgeConfig,e.edge=r.addItem("edge",(0,b.__assign)({source:i.id,target:i.id},a),!1),e.source=i.id,e.addingEdge=!0,e.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){var e=this;if(!e.key||e.keydown){e.edge&&e.edge.destroyed&&e.cancelCreating({item:e.edge});var n={x:t.x,y:t.y};e.graph.findById(e.source)?e.addingEdge&&e.edge&&e.graph.updateItem(e.edge,{target:n},!1):e.addingEdge=!1}},cancelCreating:function(t){var e,n,r=this;if(!r.key||r.keydown){var i=r.graph,o=t.item;return r.addingEdge&&(r.edge===o||(null===(n=null===(e=t.target)||void 0===e?void 0:e.isCanvas)||void 0===n?void 0:n.call(e)))?(r.edge&&!r.edge.destroyed&&i.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(t){var e=this,n=t.key;n&&(n.toLowerCase()===e.key.toLowerCase()?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){var t=this;t.addingEdge&&t.edge&&(t.graph.removeItem(t.edge,!1),t.addingEdge=!1,t.edge=null),this.keydown=!1}},$y="ctrl",Jy=["shift","ctrl","alt","control"],Qy={getDefaultCfg:function(){return{trigger:$y,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return Jy.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=$y),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),r=e.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},tb=["shift","ctrl","alt","control","meta"],eb={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return this.zoomKey&&-1!==tb.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e=this;if(this.allowDrag(t)){var n=this.graph,r=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];if(r.includes("control")&&r.push("ctrl"),r.some((function(e){return t["".concat(e,"Key")]}))){var i=n.get("canvas").getPointByClient(t.clientX,t.clientY),o=n.getZoom();t.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=t.deltaX||t.movementX,s=t.deltaY||t.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-t.wheelDelta/3);var l=this.graph.get("width"),u=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),h=this.scalableRange,d=this.scalableRange;h<1&&h>-1&&(h*=l,d*=u);var f=c.minX,p=c.maxX,g=c.minY,m=c.maxY;a>0?p<-h?a=0:p-a<-h&&(a=p+h):a<0&&(f>l+h?a=0:f-a>l+h&&(a=f-(l+h))),s>0?m<-d?s=0:m-s<-d&&(s=m+d):s<0&&(g>u+d?s=0:g-s>u+d&&(s=g-(u+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(t.preventDefault(),this.get("enableOptimize")){var v=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),_=b.length,w=x.length;if(!y){for(var S=0;S<_;S++){var M=b[S];if(!M.destroyed)for(var k=(T=M.get("group").get("children")).length,E=0;E<k;E++){(I=T[E]).destoryed||I.get("isKeyShape")||(I.set("ori-visibility",I.get("ori-visibility")||I.get("visible")),I.hide())}}for(var A=0;A<w;A++){var T;for(k=(T=x[A].get("group").get("children")).length,E=0;E<k;E++){var I;(I=T[E]).set("ori-visibility",I.get("ori-visibility")||I.get("visible")),I.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var C=setTimeout((function(){var t=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var r=0;r<_;r++){var i=b[r],o=(u=i.get("group").get("children")).length;if(t<v)(s=(c=i.getKeyShape()).get("ori-visibility"))&&c.show();else for(var a=0;a<o;a++){var s=(d=u[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var l=0;l<w;l++){var u,c,h=x[l];o=(u=h.get("group").get("children")).length;if(t<v)(s=(c=h.getKeyShape()).get("ori-visibility"))&&c.show();else for(a=0;a<o;a++){var d;if(!(d=u[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}}),100);this.set("timeout",C)}}},allowDrag:function(t){var e,n,r=t.target,i=r&&r.isCanvas&&r.isCanvas();if((0,x.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if((0,x.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,a=o.node,s=o.edge,l=o.combo,u=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!a&&"node"===u)return!1;if(!s&&"edge"===u)return!1;if(!l&&"combo"===u)return!1}return!0}},nb={"drag-canvas":py,"zoom-canvas":Ty,"drag-node":gy,"activate-relations":my,"brush-select":wy,"click-select":ky,"lasso-select":Hy,tooltip:Cy,"edge-tooltip":Dy,"collapse-expand":Ly,"drag-combo":jy,"collapse-expand-combo":Fy,"create-edge":Ky,"shortcuts-call":Qy,"scroll-canvas":eb};(0,x.each)(nb,(function(t,e){Yl(e,t)}));var rb=(0,b.__assign)((0,b.__assign)({},r),ql),ib=Cv.Fisheye,ob=Cv.TimeBar,ab=Cv.ImageMinimap,sb=Cv.EdgeFilterLens,lb=Cv.SnapLine,ub=Cv.Annotation,cb={version:Ad.version,Graph:Sf,TreeGraph:Af,Util:Wd,Layout:Od.Layouts,TreeLayout:Xd,registerLayout:function(t,e){e.isCustomLayout=!0,Od.Layouts[t]=(0,Od.registerLayout)(t,e)},Global:Ad,registerBehavior:Yl,registerCombo:Wl,registerEdge:Hl,registerNode:Ul,Minimap:Cv.Minimap,Grid:Cv.Grid,Bundling:Cv.Bundling,Menu:Cv.Menu,ToolBar:Cv.ToolBar,Tooltip:Cv.Tooltip,Legend:Cv.Legend,TimeBar:ob,SnapLine:lb,Fisheye:ib,ImageMinimap:ab,EdgeFilterLens:sb,Annotation:ub,Algorithm:rb,Arrow:Ol,Marker:Ll,Shape:Pl};cb.version="4.8.20";var hb=cb},"./node_modules/@antv/graphlib/es/index.js":function(t,e,n){"use strict";n.r(e),n.d(e,{Graph:function(){return _},GraphWithEvent:function(){return T},algorithm:function(){return r},comparision:function(){return o},essence:function(){return i},generate:function(){return s}});var r={};n.r(r),n.d(r,{components:function(){return O},dfs:function(){return P},dijkstra:function(){return F},dijkstraAll:function(){return G},findCycles:function(){return Z},floydWarshall:function(){return it},isAcyclic:function(){return tt},postorder:function(){return et},preorder:function(){return nt},prim:function(){return N},tarjan:function(){return V},topsort:function(){return Q}});var i={};n.r(i),n.d(i,{hasSelfLoop:function(){return bt},isGraph:function(){return mt},isNullGraph:function(){return yt},isSimpleGraph:function(){return vt}});var o={};n.r(o),n.d(o,{containAllSameEdges:function(){return ht},containAllSameNodes:function(){return ct},containSameEdges:function(){return at},containSameNodes:function(){return ot},getSameEdges:function(){return lt},getSameNodes:function(){return st},isGraphComplement:function(){return xt},isGraphContainsAnother:function(){return ft},isGraphOptionSame:function(){return ut},isGraphSame:function(){return dt}});var a,s={};function l(t,e){var n=t.get(e)||0;t.set(e,n+1)}function u(t,e){var n=t.get(e);void 0!==n&&((n-=1)>0?t.set(e,n):t.delete(e))}function c(t,e,n,r){var i=String(e),o=String(n);if(!t&&i>o){var s=i;i=o,o=s}return i+a.EDGE_KEY_DELIM+o+a.EDGE_KEY_DELIM+(void 0===r?a.DEFAULT_EDGE_NAME:r)}function h(t,e,n,r){var i=String(e),o=String(n),a={v:e,w:n};if(!t&&i>o){var s=a.v;a.v=a.w,a.w=s}return void 0!==r&&(a.name=r),a}function d(t,e){return c(t,e.v,e.w,e.name)}function f(t){return"function"==typeof t}n.r(s),n.d(s,{getGraphComplement:function(){return _t}}),function(t){t.DEFAULT_EDGE_NAME="\0",t.GRAPH_NODE="\0",t.EDGE_KEY_DELIM=""}(a||(a={}));var p=function(t){return t.nodes().map((function(e){var n={id:e,value:t.node(e),parent:t.parent(e)};return void 0===n.value&&delete n.value,void 0===n.parent&&delete n.parent,n}))},g=function(t){return t.edges().map((function(e){var n=t.edge(e),r={v:e.v,w:e.w,value:n,name:e.name};return void 0===r.name&&delete r.name,void 0===r.value&&delete r.value,r}))};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x={compound:!1,multigraph:!1,directed:!0},_=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=a.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return e.directed},this.isMultigraph=function(){return e.multigraph},this.isCompound=function(){return e.compound},this.setGraph=function(t){return e.label=t,e},this.graph=function(){return e.label},this.setDefaultNodeLabel=function(t){return f(t)?e.defaultNodeLabelFn=t:e.defaultNodeLabelFn=function(){return t},e},this.nodeCount=function(){return e.nodeCountNum},this.node=function(t){return e.nodesLabelMap.get(t)},this.nodes=function(){return Array.from(e.nodesLabelMap.keys())},this.sources=function(){return e.nodes().filter((function(t){var n;return!(null===(n=e.inEdgesMap.get(t))||void 0===n?void 0:n.size)}))},this.sinks=function(){return e.nodes().filter((function(t){var n;return!(null===(n=e.outEdgesMap.get(t))||void 0===n?void 0:n.size)}))},this.setNodes=function(t,n){return t.map((function(t){return e.setNode(t,n)})),e},this.hasNode=function(t){return e.nodesLabelMap.has(t)},this.checkCompound=function(){if(!e.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(t){if(e.isCompound()){var n,r=null===(n=e.parentMap)||void 0===n?void 0:n.get(t);if(r!==e.GRAPH_NODE)return r}},this.removeFromParentsChildList=function(t){var n=e.parentMap.get(t);e.childrenMap.get(n).delete(t)},this.setParent=function(t,n){var r,i;e.checkCompound();for(var o=void 0===n?e.GRAPH_NODE:n,a=e.parent(o);a;){if(t===a)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");a=e.parent(a)}n&&e.setNode(n),e.setNode(t),e.removeFromParentsChildList(t),null===(r=e.parentMap)||void 0===r||r.set(t,o);var s=e.childrenMap.get(o);return s.set(t,!0),null===(i=e.childrenMap)||void 0===i||i.set(o,s),e},this.children=function(t){var n=void 0===t?e.GRAPH_NODE:t;if(e.isCompound()){var r,i=null===(r=e.childrenMap)||void 0===r?void 0:r.get(n);return i?Array.from(i.keys()):void 0}return n===e.GRAPH_NODE?e.nodes():t&&e.hasNode(t)?[]:void 0},this.predecessors=function(t){var n=e.predecessorsMap.get(t);return n?Array.from(n.keys()):void 0},this.successors=function(t){var n=e.successorsMap.get(t);return n?Array.from(n.keys()):void 0},this.neighbors=function(t){var n;if(e.hasNode(t))return Array.from(new Set(null===(n=e.predecessors(t))||void 0===n?void 0:n.concat(e.successors(t))))},this.isLeaf=function(t){var n,r;return e.isDirected()?!(null===(r=e.successors(t))||void 0===r?void 0:r.length):!(null===(n=e.neighbors(t))||void 0===n?void 0:n.length)},this.filterNodes=function(n){var r=e.directed,i=e.multigraph,o=e.compound,a=new t({directed:r,multigraph:i,compound:o});if(a.setGraph(e.graph()),e.nodes().forEach((function(t){n(t)&&a.setNode(t,e.node(t))})),e.edges().forEach((function(t){a.hasNode(t.v)&&a.hasNode(t.w)&&a.setEdgeObj(t,e.edge(t))})),o){a.nodes().forEach((function(t){a.setParent(t,function(t){for(var n=e.parent(t);void 0!==n&&!a.hasNode(n);)n=e.parent(n);return n}(t))}))}return a},this.setDefaultEdgeLabel=function(t){return f(t)?e.defaultEdgeLabelFn=t:e.defaultEdgeLabelFn=function(){return t},e},this.edgeCount=function(){return e.edgeCountNum},this.setEdgeObj=function(t,n){return e.setEdge(t.v,t.w,n,t.name)},this.setPath=function(t,n){return t.reduce((function(t,r){return e.setEdge(t,r,n),r})),e},this.edgeFromArgs=function(t,n,r){return e.edge({v:t,w:n,name:r})},this.edge=function(t){return e.edgesLabelsMap.get(d(e.isDirected(),t))},this.hasEdge=function(t,n,r){return e.edgesLabelsMap.has(d(e.isDirected(),{v:t,w:n,name:r}))},this.removeEdgeObj=function(t){var n=t.v,r=t.w,i=t.name;return e.removeEdge(n,r,i)},this.edges=function(){return Array.from(e.edgesMap.values())},this.inEdges=function(t,n){var r=e.inEdgesMap.get(t);if(r)return Array.from(r.values()).filter((function(t){return!n||t.v===n}))},this.outEdges=function(t,n){var r=e.outEdgesMap.get(t);if(r)return Array.from(r.values()).filter((function(t){return!n||t.w===n}))},this.nodeEdges=function(t,n){var r;if(e.hasNode(t))return null===(r=e.inEdges(t,n))||void 0===r?void 0:r.concat(e.outEdges(t,n))},this.toJSON=function(){return void 0===(n={options:{directed:(t=e).isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:p(t),edges:g(t),value:t.graph()}).value&&delete n.value,n;var t,n},this.nodeInDegree=function(t){var n=e.inEdgesMap.get(t);return n?n.size:0},this.nodeOutDegree=function(t){var n=e.outEdgesMap.get(t);return n?n.size:0},this.nodeDegree=function(t){return e.nodeInDegree(t)+e.nodeOutDegree(t)},this.source=function(t){return t.v},this.target=function(t){return t.w};var r=v(v({},x),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}var e,n,r;return e=t,(n=[{key:"setNode",value:function(t,e){var n,r=this.nodesLabelMap,i=this.defaultNodeLabelFn,o=this.isCompound,a=this.parentMap,s=this.childrenMap,l=this.inEdgesMap,u=this.outEdgesMap,c=this.predecessorsMap,h=this.successorsMap;return r.has(t)?(void 0!==e&&r.set(t,e),this):(r.set(t,e||i(t)),o()&&(null==a||a.set(t,this.GRAPH_NODE),null==s||s.set(t,new Map),(null==s?void 0:s.has(this.GRAPH_NODE))||null==s||s.set(this.GRAPH_NODE,new Map),null==s||null===(n=s.get(this.GRAPH_NODE))||void 0===n||n.set(t,!0)),[l,u,c,h].forEach((function(e){return e.set(t,new Map)})),this.nodeCountNum+=1,this)}},{key:"removeNode",value:function(t){var e=this;if(this.hasNode(t)){var n,r,i,o=function(t){e.removeEdge(t.v,t.w,t.name)},a=this.inEdgesMap,s=this.outEdgesMap,l=this.predecessorsMap,u=this.successorsMap,c=this.nodesLabelMap;this.isCompound()&&(this.removeFromParentsChildList(t),null===(n=this.parentMap)||void 0===n||n.delete(t),null===(r=this.children(t))||void 0===r||r.forEach((function(t){return e.setParent(t)})),null===(i=this.childrenMap)||void 0===i||i.delete(t));var h=a.get(t),d=s.get(t);Array.from(h.values()).forEach((function(t){return o(t)})),Array.from(d.values()).forEach((function(t){return o(t)})),c.delete(t),a.delete(t),s.delete(t),l.delete(t),u.delete(t),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(t,e,n,r){var i,o,a=h(this.isDirected(),t,e,r),s=d(this.isDirected(),a),u=a.v,c=a.w;if(this.edgesLabelsMap.has(s))return this.edgesLabelsMap.set(s,n),this;if(void 0!==r&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(c),this.edgesLabelsMap.set(s,n||this.defaultEdgeLabelFn(u,c,r)),Object.freeze(a),this.edgesMap.set(s,a);var f=this.predecessorsMap.get(c),p=this.successorsMap.get(u);return l(f,u),l(p,c),null===(i=this.inEdgesMap.get(c))||void 0===i||i.set(s,a),null===(o=this.outEdgesMap.get(u))||void 0===o||o.set(s,a),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(t,e,n){var r=c(this.isDirected(),t,e,n);if(this.edgesMap.get(r)){var i=h(this.isDirected(),t,e,n),o=i.v,a=i.w;this.edgesLabelsMap.delete(r),this.edgesMap.delete(r);var s=this.predecessorsMap.get(a),l=this.successorsMap.get(o);u(s,o),u(l,a),this.inEdgesMap.get(a).delete(r),this.outEdgesMap.get(o).delete(r),this.edgeCountNum-=1}return this}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},M.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}_.fromJSON=function(t){var e=new _(t.options);return void 0!==t.value&&e.setGraph(t.value),t.nodes.forEach((function(t){e.setNode(t.id,t.value),t.parent&&e.setParent(t.id,t.parent)})),t.edges.forEach((function(t){e.setEdge(t.v,t.w,t.value,t.name)})),e};var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(o,t);var e,n,r,i=E(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).eventPool={},t}return e=o,n=[{key:"appendEvent",value:function(t,e){this.eventPool[t]||(this.eventPool[t]=[]),this.eventPool[t].push(e)}},{key:"removeEvent",value:function(t,e){if(this.eventPool[t]){var n=this.eventPool[t].indexOf(e);n>-1&&this.eventPool[t].splice(n,1)}}},{key:"emitEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.eventPool[t]&&this.eventPool[t].forEach((function(t){t.apply(void 0,n)}))}},{key:"setNode",value:function(t,e){return M(A(o.prototype),"setNode",this).call(this,t,e),this.emitEvent("nodeAdd",t,e),this}},{key:"removeNode",value:function(t){return M(A(o.prototype),"removeNode",this).call(this,t),this.emitEvent("nodeRemove",t),this}},{key:"setEdge",value:function(t,e,n,r){return M(A(o.prototype),"setEdge",this).call(this,t,e,n,r),this.emitEvent("edgeAdd",t,e,n,r),this}},{key:"removeEdge",value:function(t,e,n){return M(A(o.prototype),"removeEdge",this).call(this,t,e,n),this.emitEvent("edgeRemove",t,e,n),this}}],n&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(_);function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var D=C((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.arr=[],this.keyIndice=new Map,this.size=function(){return e.arr.length},this.keys=function(){return e.arr.map((function(t){return t.key}))},this.has=function(t){return e.keyIndice.has(t)},this.priority=function(t){var n=e.keyIndice.get(t);if(void 0!==n)return e.arr[n].priority},this.swap=function(t,n){var r=e.arr,i=e.keyIndice,o=[r[t],r[n]],a=o[0],s=o[1];r[t]=s,r[n]=a,i.set(a.key,n),i.set(s.key,t)},this.innerDecrease=function(t){for(var n,r=e.arr,i=r[t].priority,o=t;0!==o;){var a;if((null===(a=r[n=o>>1])||void 0===a?void 0:a.priority)<i)break;e.swap(o,n),o=n}},this.heapify=function(t){var n=e.arr,r=t<<1,i=r+1,o=t;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==t&&(e.swap(t,o),e.heapify(o)))},this.min=function(){if(0===e.size())throw new Error("Queue underflow");return e.arr[0].key},this.add=function(t,n){var r=e.keyIndice,i=e.arr;if(!r.has(t)){var o=i.length;return r.set(t,o),i.push({key:t,priority:n}),e.innerDecrease(o),!0}return!1},this.removeMin=function(){e.swap(0,e.arr.length-1);var t=e.arr.pop();return e.keyIndice.delete(t.key),e.heapify(0),t.key},this.decrease=function(t,n){if(!e.has(t))throw new Error("There's no key named ".concat(t));var r=e.keyIndice.get(t);if(n>e.arr[r].priority)throw new Error("New priority is greater than current priority.Key: ".concat(t," Old: + ").concat(e.arr[r].priority," New: ").concat(n));e.arr[r].priority=n,e.innerDecrease(r)}})),N=function(t,e){var n,r=new _,i=new Map,o=new D;function a(t){var r=t.v===n?t.w:t.v,a=o.priority(r);if(void 0!==a){var s=e(t);s<a&&(i.set(r,n),o.decrease(r,s))}}if(0===t.nodeCount())return r;t.nodes().forEach((function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)})),o.decrease(t.nodes()[0],0);for(var s=!1;o.size()>0;){var l;if(n=o.removeMin(),i.has(n))r.setEdge(n,i.get(n));else{if(s)throw new Error("Input graph is not connected: "+t.graph());s=!0}null===(l=t.nodeEdges(n))||void 0===l||l.forEach(a)}return r},O=function(t){var e=new Set,n=[];return t.nodes().forEach((function(r){for(var i=[],o=[r];o.length>0;){var a,s,l=o.pop();if(!e.has(l))e.add(l),i.push(l),null===(a=t.successors(l))||void 0===a||a.forEach((function(t){return o.push(t)})),null===(s=t.predecessors(l))||void 0===s||s.forEach((function(t){return o.push(t)}))}i.length&&n.push(i)})),n},L=function t(e,n,r,i,o,a){i.includes(n)||(i.push(n),r||a.push(n),o(n).forEach((function(n){return t(e,n,r,i,o,a)})),r&&a.push(n))},P=function(t,e,n){var r=Array.isArray(e)?e:[e],i=function(e){return t.isDirected()?t.successors(e):t.neighbors(e)},o=[],a=[];return r.forEach((function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);L(t,e,"post"===n,a,i,o)})),o};function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z=function(){return 1},B=function(t,e,n,r){var i,o,a=new Map,s=new D,l=function(t){var e=t.v!==i?t.v:t.w,r=a.get(e),l=n(t),u=o.distance+l;if(l<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+l);u<r.distance&&(r.distance=u,r.predecessor=i,s.decrease(e,u))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a.set(t,{distance:n}),s.add(t,n)}));s.size()>0&&(i=s.removeMin(),!(o=a.get(i))||o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);var u={};return Array.from(a.entries()).forEach((function(t){var e=R(t,2),n=e[0],r=e[1];return u[String(n)]=r,u})),u},F=function(t,e,n,r){return B(t,e,n||z,r||function(e){return t.outEdges(e)})},G=function(t,e,n){var r={};return t.nodes().forEach((function(i){return r[String(i)]=F(t,i,e,n),r})),r},V=function(t){var e=0,n=[],r=new Map,i=[];function o(a){var s,l={onStack:!0,lowlink:e,index:e};if(r.set(a,l),e+=1,n.push(a),null===(s=t.successors(a))||void 0===s||s.forEach((function(t){var e;if(r.has(t)){if(null===(e=r.get(t))||void 0===e?void 0:e.onStack){var n=r.get(t);l.lowlink=Math.min(l.lowlink,n.index)}}else{o(t);var i=r.get(t);l.lowlink=Math.min(l.lowlink,i.lowlink)}})),l.lowlink===l.index){var u,c=[];do{u=n.pop(),r.get(u).onStack=!1,c.push(u)}while(a!==u);i.push(c)}}return t.nodes().forEach((function(t){r.has(t)||o(t)})),i},Z=function(t){return V(t).filter((function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))};function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t){var e=q();return function(){var n,r=$(t);if(e){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Y(t){var e="function"==typeof Map?new Map:void 0;return Y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return X(t,arguments,$(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),K(r,t)},Y(t)}function X(t,e,n){return X=q()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&K(i,n.prototype),i},X.apply(null,arguments)}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function K(t,e){return K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},K(t,e)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(o,t);var e,n,r,i=W(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,n&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Y(Error));var Q=function(t){var e=new Set,n=new Set,r=[];if(t.sinks().forEach((function i(o){if(n.has(o))throw new J;var a;e.has(o)||(n.add(o),e.add(o),null===(a=t.predecessors(o))||void 0===a||a.forEach(i),n.delete(o),r.push(o))})),e.size!==t.nodeCount())throw new J;return r},tt=function(t){try{Q(t)}catch(t){if(t instanceof J)return!1;throw t}return!0},et=function(t,e){return P(t,e,"post")},nt=function(t,e){return P(t,e,"pre")},rt=function(){return 1};var it=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){var o=String(t);r[o]={},r[o][o]={distance:0},i.forEach((function(e){t!==e&&(r[o][String(e)]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,a=e(n);r[o][String(i)]={distance:a,predecessor:t}}))})),i.forEach((function(t){var e=String(t),n=r[e];i.forEach((function(t){var o=String(t),a=r[o];i.forEach((function(t){var r=String(t),i=a[e],o=n[r],s=a[r],l=i.distance+o.distance;l<s.distance&&(s.distance=l,s.predecessor=o.predecessor)}))}))})),r}(t,e||rt,n||function(e){return t.outEdges(e)})},ot=function(t,e){for(var n=t.nodes(),r=0;r<n.length;r++){var i=n[r];if(e.hasNode(i))return!0}return!1},at=function(t,e){for(var n=t.edges(),r=0;r<n.length;r++){var i=n[r];if(e.hasEdge(i.v,i.w,i.name))return!0}return!1},st=function(t,e){return t.nodes().filter((function(t){return e.hasNode(t)}))},lt=function(t,e){return t.edges().filter((function(t){return e.hasEdge(t.v,t.w,t.name)}))},ut=function(t,e){return t.isCompound()===e.isCompound()&&t.isDirected()===e.isDirected()&&t.isMultigraph()===e.isMultigraph()},ct=function(t,e){return st(t,e).length===t.nodes().length},ht=function(t,e){return lt(t,e).length===t.edges().length},dt=function(t,e){return ut(t,e)&&t.nodeCount()===e.nodeCount()&&ct(t,e)&&t.edgeCount()===e.edgeCount()&&ht(t,e)},ft=function(t,e){return ct(t,e)&&ht(t,e)};function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mt(t){return t instanceof _}function vt(t){if(t.isMultigraph())return!1;for(var e=t.edges(),n=new Map,r=0;r<e.length;r++){var i=e[r];if(i.v===i.w)return!1;var o=pt([i.v,i.w].sort(),2),a=o[0],s=o[1],l="".concat(a,"-").concat(s);if(n.has(l))return!1;n.set(l,!0)}return!0}function yt(t){return 0===t.nodes().length}function bt(t){for(var e=t.edges(),n=0;n<e.length;n++){var r=e[n];if(r.v===r.w)return!0}return!1}var xt=function(t,e){if(!vt(t)||!vt(e))return!1;if(!ct(t,e))return!1;if(at(t,e))return!1;var n=t.nodeCount();return t.edgeCount()+e.edgeCount()===n*(n-1)/2},_t=function(t){if(!vt(t))return null;for(var e=t.nodeCount(),n=new _({compound:t.isCompound(),directed:t.isDirected(),multigraph:t.isMultigraph()}),r=t.nodes(),i=0;i<e;i++){var o=r[i];n.setNode(o,t.node(o));for(var a=i+1;a<e;a++){var s=r[a];t.hasEdge(o,s)||n.setEdge(o,s)}}return n}},"./node_modules/@antv/hierarchy/build/hierarchy.js":function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Array.isArray?Array.isArray(t):Object(r.a)(t,"Array")}},function(t,e,n){"use strict";e.a=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Function")}},function(t,e,n){"use strict";var r={}.toString;e.a=function(t,e){return r.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"String")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Number")}},function(t,e,n){var r=n(38).mix;t.exports={assign:r,getHeight:function(t,e,n,r){return void 0===r&&(r="height"),"center"===n?(t[r]+e[r])/2:t.height}}},function(t,e,n){"use strict";e.a=function(t){return null==t}},function(t,e,n){"use strict";var r=n(0),i=n(12);e.a=function(t,e){if(t)if(Object(r.a)(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(Object(i.a)(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){"use strict";var r=n(7);e.a=function(t){return Object(r.a)(t)?"":t.toString()}},function(t,e,n){"use strict";var r=n(14),i=n(3);e.a=function(t){if(!Object(r.a)(t)||!Object(i.a)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=n(18),i=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.rootNode=r(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){return!!Object(r.a)(t)&&t.indexOf(e)>-1}},function(t,e,n){"use strict";e.a=function(t){return"object"==typeof t&&null!==t}},function(t,e,n){"use strict";var r=n(8),i=n(2),o=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Object(r.a)(t,(function(n,r){Object(i.a)(t)&&"prototype"===r||e.push(n)})),e};e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}e.a=function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}},function(t,e,n){var r=n(35),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(t,e);else if(s===i[1])n(t,e),t.right2left();else if(s===i[2])n(t,e);else if(s===i[3])n(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var l=r(t,e),u=l.left,c=l.right;n(u,e),n(c,e),e.isHorizontal?u.right2left():u.bottom2top(),c.translate(u.x-c.x,u.y-c.y),t.x=u.x,t.y=c.y;var h=t.getBoundingBox();e.isHorizontal?h.top<0&&t.translate(0,-h.top):h.left<0&&t.translate(-h.left,0)}var d=e.fixedRoot;return void 0===d&&(d=!0),d&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var r=n(6),i={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function o(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof o)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.preH=e.getPreH(t),n.preV=e.getPreV(t),n.width=e.getWidth(t),n.height=e.getHeight(t),n.width+=n.preH,n.height+=n.preV,n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){var n=this;n.hgap+=t,n.vgap+=e,n.width+=2*t,n.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)})),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode((function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.x=t.x-2*(t.x-e.left)-t.width})),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.y=t.y-2*(t.y-e.top)-t.height})),t.translate(0,e.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var a,s=new o(t,e=r.assign({},i,e)),l=[s];if(!n&&!t.collapsed)for(;a=l.shift();)if(!a.data.collapsed){var u=e.getChildren(a.data),c=u?u.length:0;if(a.children=new Array(c),u&&c)for(var h=0;h<c;h++){var d=new o(u[h],e);a.children[h]=d,l.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n}},function(t,e,n){"use strict";var r=n(7),i=n(21);e.a=function(t,e){var n=Object(i.a)(e),o=n.length;if(Object(r.a)(t))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,n){"use strict";var r=n(8),i=n(2),o=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return Object(r.a)(t,(function(n,r){Object(i.a)(t)&&"prototype"===r||e.push(r)})),e};e.a=o},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(Object(r.a)(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(Object(r.a)(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])}},function(t,e,n){"use strict";var r=n(1),i=Array.prototype.splice;e.a=function(t,e){if(!Object(r.a)(t))return[];for(var n=t?e.length:0,o=n-1;n--;){var a=void 0,s=e[n];n!==o&&s===a||(a=s,i.call(t,s,1))}return t}},function(t,e,n){"use strict";var r=n(8),i=n(0),o=n(10);e.a=function(t,e,n){if(!Object(i.a)(t)&&!Object(o.a)(t))return t;var a=n;return Object(r.a)(t,(function(t,n){a=e(a,t,n)})),a}},function(t,e,n){"use strict";e.a=function(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}},function(t,e,n){"use strict";e.a=function(t,e){if(!e)return{0:t};if(!Object(i.a)(e)){var n=Object(r.a)(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return Object(o.a)(t,e)};var r=n(0),i=n(2),o=n(28)},function(t,e,n){"use strict";var r=n(0),i=n(2),o=Object.prototype.hasOwnProperty;e.a=function(t,e){if(!e||!Object(r.a)(t))return{};for(var n,a={},s=Object(i.a)(e)?e:function(t){return t[e]},l=0;l<t.length;l++){var u=t[l];n=s(u),o.call(a,n)?a[n].push(u):a[n]=[u]}return a}},function(t,e,n){"use strict";e.a=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){"use strict";var r={}.toString;e.a=function(t){return r.call(t).replace(/^\[object /,"").replace(/]$/,"")}},function(t,e,n){"use strict";var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,n){"use strict";var r=n(2);e.a=function(t,e){if(!Object(r.a)(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(t,e,n){"use strict";var r=n(14),i=n(1),o=n(4),a=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Object(o.a)(t)||Object(o.a)(e))return!1;if(Object(i.a)(t)||Object(i.a)(e)){if(t.length!==e.length)return!1;for(var n=!0,s=0;s<t.length&&(n=a(t[s],e[s]));s++);return n}if(Object(r.a)(t)||Object(r.a)(e)){var l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;for(n=!0,s=0;s<l.length&&(n=a(t[l[s]],e[l[s]]));s++);return n}return!1};e.a=a},function(t,e,n){"use strict";var r,i=n(116),o=n(15),a=n(32),s=n(4);e.a=Object(a.a)((function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,o=e.fontWeight,a=e.fontStyle,l=e.fontVariant;return r||(r=document.createElement("canvas").getContext("2d")),r.font=[a,l,o,n+"px",i].join(" "),r.measureText(Object(s.a)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Object(i.a)([t],Object(o.a)(e)).join("")}))},function(t,e,n){var r=n(18);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},l=0;l<o;l++){var u=t.children[l];"right"===s(u,l)?i.children.push(u):n.children.push(u)}return n.eachNode((function(t){t.isRoot()||(t.side="left")})),i.eachNode((function(t){t.isRoot()||(t.side="right")})),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(37),dendrogram:n(120),indented:n(122),mindmap:n(124)};t.exports=r},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(11),o=n(119),a=n(17),s=n(6),l=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){return a(this.rootNode,this.options,o)},i}(i),u={};t.exports=function(t,e){return e=s.assign({},u,e),new l(t,e).execute()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13);n.d(e,"contains",(function(){return r.a})),n.d(e,"includes",(function(){return r.a}));var i=n(39);n.d(e,"difference",(function(){return i.a}));var o=n(40);n.d(e,"find",(function(){return o.a}));var a=n(41);n.d(e,"findIndex",(function(){return a.a}));var s=n(42);n.d(e,"firstValue",(function(){return s.a}));var l=n(43);n.d(e,"flatten",(function(){return l.a}));var u=n(44);n.d(e,"flattenDeep",(function(){return u.a}));var c=n(45);n.d(e,"getRange",(function(){return c.a}));var h=n(46);n.d(e,"pull",(function(){return h.a}));var d=n(24);n.d(e,"pullAt",(function(){return d.a}));var f=n(25);n.d(e,"reduce",(function(){return f.a}));var p=n(47);n.d(e,"remove",(function(){return p.a}));var g=n(48);n.d(e,"sortBy",(function(){return g.a}));var m=n(49);n.d(e,"union",(function(){return m.a}));var v=n(26);n.d(e,"uniq",(function(){return v.a}));var y=n(50);n.d(e,"valuesOfKey",(function(){return y.a}));var b=n(51);n.d(e,"head",(function(){return b.a}));var x=n(52);n.d(e,"last",(function(){return x.a}));var _=n(53);n.d(e,"startsWith",(function(){return _.a}));var w=n(54);n.d(e,"endsWith",(function(){return w.a}));var S=n(19);n.d(e,"filter",(function(){return S.a}));var M=n(55);n.d(e,"every",(function(){return M.a}));var k=n(56);n.d(e,"some",(function(){return k.a}));var E=n(57);n.d(e,"group",(function(){return E.a}));var A=n(28);n.d(e,"groupBy",(function(){return A.a}));var T=n(27);n.d(e,"groupToMap",(function(){return T.a}));var I=n(58);n.d(e,"getWrapBehavior",(function(){return I.a}));var C=n(59);n.d(e,"wrapBehavior",(function(){return C.a}));var D=n(60);n.d(e,"number2color",(function(){return D.a}));var N=n(61);n.d(e,"parseRadius",(function(){return N.a}));var O=n(62);n.d(e,"clamp",(function(){return O.a}));var L=n(63);n.d(e,"fixedBase",(function(){return L.a}));var P=n(64);n.d(e,"isDecimal",(function(){return P.a}));var R=n(65);n.d(e,"isEven",(function(){return R.a}));var j=n(66);n.d(e,"isInteger",(function(){return j.a}));var z=n(67);n.d(e,"isNegative",(function(){return z.a}));var B=n(68);n.d(e,"isNumberEqual",(function(){return B.a}));var F=n(69);n.d(e,"isOdd",(function(){return F.a}));var G=n(70);n.d(e,"isPositive",(function(){return G.a}));var V=n(22);n.d(e,"max",(function(){return V.a}));var Z=n(71);n.d(e,"maxBy",(function(){return Z.a}));var U=n(23);n.d(e,"min",(function(){return U.a}));var H=n(72);n.d(e,"minBy",(function(){return H.a}));var W=n(73);n.d(e,"mod",(function(){return W.a}));var Y=n(74);n.d(e,"toDegree",(function(){return Y.a}));var X=n(75);n.d(e,"toInteger",(function(){return X.a}));var q=n(76);n.d(e,"toRadian",(function(){return q.a}));var K=n(77);n.d(e,"forIn",(function(){return K.a}));var $=n(29);n.d(e,"has",(function(){return $.a}));var J=n(78);n.d(e,"hasKey",(function(){return J.a}));var Q=n(79);n.d(e,"hasValue",(function(){return Q.a}));var tt=n(21);n.d(e,"keys",(function(){return tt.a}));var et=n(20);n.d(e,"isMatch",(function(){return et.a}));var nt=n(15);n.d(e,"values",(function(){return nt.a}));var rt=n(80);n.d(e,"lowerCase",(function(){return rt.a}));var it=n(81);n.d(e,"lowerFirst",(function(){return it.a}));var ot=n(82);n.d(e,"substitute",(function(){return ot.a}));var at=n(83);n.d(e,"upperCase",(function(){return at.a}));var st=n(84);n.d(e,"upperFirst",(function(){return st.a}));var lt=n(30);n.d(e,"getType",(function(){return lt.a}));var ut=n(85);n.d(e,"isArguments",(function(){return ut.a}));var ct=n(0);n.d(e,"isArray",(function(){return ct.a}));var ht=n(1);n.d(e,"isArrayLike",(function(){return ht.a}));var dt=n(86);n.d(e,"isBoolean",(function(){return dt.a}));var ft=n(87);n.d(e,"isDate",(function(){return ft.a}));var pt=n(88);n.d(e,"isError",(function(){return pt.a}));var gt=n(2);n.d(e,"isFunction",(function(){return gt.a}));var mt=n(89);n.d(e,"isFinite",(function(){return mt.a}));var vt=n(7);n.d(e,"isNil",(function(){return vt.a}));var yt=n(90);n.d(e,"isNull",(function(){return yt.a}));var bt=n(5);n.d(e,"isNumber",(function(){return bt.a}));var xt=n(12);n.d(e,"isObject",(function(){return xt.a}));var _t=n(14);n.d(e,"isObjectLike",(function(){return _t.a}));var wt=n(10);n.d(e,"isPlainObject",(function(){return wt.a}));var St=n(31);n.d(e,"isPrototype",(function(){return St.a}));var Mt=n(91);n.d(e,"isRegExp",(function(){return Mt.a}));var kt=n(4);n.d(e,"isString",(function(){return kt.a}));var Et=n(3);n.d(e,"isType",(function(){return Et.a}));var At=n(92);n.d(e,"isUndefined",(function(){return At.a}));var Tt=n(93);n.d(e,"isElement",(function(){return Tt.a}));var It=n(94);n.d(e,"requestAnimationFrame",(function(){return It.a}));var Ct=n(95);n.d(e,"clearAnimationFrame",(function(){return Ct.a}));var Dt=n(96);n.d(e,"augment",(function(){return Dt.a}));var Nt=n(97);n.d(e,"clone",(function(){return Nt.a}));var Ot=n(98);n.d(e,"debounce",(function(){return Ot.a}));var Lt=n(32);n.d(e,"memoize",(function(){return Lt.a}));var Pt=n(99);n.d(e,"deepMix",(function(){return Pt.a}));var Rt=n(8);n.d(e,"each",(function(){return Rt.a}));var jt=n(100);n.d(e,"extend",(function(){return jt.a}));var zt=n(101);n.d(e,"indexOf",(function(){return zt.a}));var Bt=n(102);n.d(e,"isEmpty",(function(){return Bt.a}));var Ft=n(33);n.d(e,"isEqual",(function(){return Ft.a}));var Gt=n(103);n.d(e,"isEqualWith",(function(){return Gt.a}));var Vt=n(104);n.d(e,"map",(function(){return Vt.a}));var Zt=n(105);n.d(e,"mapValues",(function(){return Zt.a}));var Ut=n(16);n.d(e,"mix",(function(){return Ut.a})),n.d(e,"assign",(function(){return Ut.a}));var Ht=n(106);n.d(e,"get",(function(){return Ht.a}));var Wt=n(107);n.d(e,"set",(function(){return Wt.a}));var Yt=n(108);n.d(e,"pick",(function(){return Yt.a}));var Xt=n(109);n.d(e,"omit",(function(){return Xt.a}));var qt=n(110);n.d(e,"throttle",(function(){return qt.a}));var Kt=n(111);n.d(e,"toArray",(function(){return Kt.a}));var $t=n(9);n.d(e,"toString",(function(){return $t.a}));var Jt=n(112);n.d(e,"uniqueId",(function(){return Jt.a}));var Qt=n(113);n.d(e,"noop",(function(){return Qt.a}));var te=n(114);n.d(e,"identity",(function(){return te.a}));var ee=n(115);n.d(e,"size",(function(){return ee.a}));var ne=n(34);n.d(e,"measureTextWidth",(function(){return ne.a}));var re=n(117);n.d(e,"getEllipsisText",(function(){return re.a}));var ie=n(118);n.d(e,"Cache",(function(){return ie.a}))},function(t,e,n){"use strict";var r=n(19),i=n(13);e.a=function(t,e){return void 0===e&&(e=[]),Object(r.a)(t,(function(t){return!Object(i.a)(e,t)}))}},function(t,e,n){"use strict";var r=n(2),i=n(20),o=n(0),a=n(10);e.a=function(t,e){if(!Object(o.a)(t))return null;var n;if(Object(r.a)(e)&&(n=e),Object(a.a)(e)&&(n=function(t){return Object(i.a)(t,e)}),n)for(var s=0;s<t.length;s+=1)if(n(t[s]))return t[s];return null}},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}},function(t,e,n){"use strict";var r=n(7),i=n(0);e.a=function(t,e){for(var n=null,o=0;o<t.length;o++){var a=t[o][e];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(!Object(r.a)(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){"use strict";var r=n(0),i=function(t,e){if(void 0===e&&(e=[]),Object(r.a)(t))for(var n=0;n<t.length;n+=1)i(t[n],e);else e.push(t);return e};e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(22),o=n(23);e.a=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(Object(r.a)(t[0])){for(var n=[],a=0;a<t.length;a++)n=n.concat(t[a]);e=n}var s=Object(i.a)(e);return{min:Object(o.a)(e),max:s}}},function(t,e,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var a=e[r],s=-1;(s=o.call(t,a))>-1;)i.call(t,s,1);return t}},function(t,e,n){"use strict";var r=n(1),i=n(24);e.a=function(t,e){var n=[];if(!Object(r.a)(t))return n;for(var o=-1,a=[],s=t.length;++o<s;){var l=t[o];e(l,o,t)&&(n.push(l),a.push(o))}return Object(i.a)(t,a),n}},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(2);e.a=function(t,e){var n;if(Object(o.a)(e))n=function(t,n){return e(t)-e(n)};else{var a=[];Object(i.a)(e)?a.push(e):Object(r.a)(e)&&(a=e),n=function(t,e){for(var n=0;n<a.length;n+=1){var r=a[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t}},function(t,e,n){"use strict";var r=n(26);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(r.a)([].concat.apply([],t))}},function(t,e,n){"use strict";var r=n(0),i=n(7);e.a=function(t,e){for(var n=[],o={},a=0;a<t.length;a++){var s=t[a][e];if(!Object(i.a)(s)){Object(r.a)(s)||(s=[s]);for(var l=0;l<s.length;l++){var u=s[l];o[u]||(n.push(u),o[u]=!0)}}}return n}},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t))return t[0]};var r=n(1)},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t))return t[t.length-1]};var r=n(1)},function(t,e,n){"use strict";var r=n(0),i=n(4);e.a=function(t,e){return!(!Object(r.a)(t)&&!Object(i.a)(t))&&t[0]===e}},function(t,e,n){"use strict";var r=n(0),i=n(4);e.a=function(t,e){return!(!Object(r.a)(t)&&!Object(i.a)(t))&&t[t.length-1]===e}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}},function(t,e,n){"use strict";var r=n(27);e.a=function(t,e){if(!e)return[t];var n=Object(r.a)(t,e),i=[];for(var o in n)i.push(n[o]);return i}},function(t,e,n){"use strict";e.a=function(t,e){return t["_wrap_"+e]}},function(t,e,n){"use strict";e.a=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){"use strict";var r={};e.a=function(t){var e=r[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,r[t]=e}return e}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){var e=0,n=0,i=0,o=0;return Object(r.a)(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,{r1:e,r2:n,r3:i,r4:o}}},function(t,e,n){"use strict";e.a=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){"use strict";e.a=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%1!=0}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%2==0}},function(t,e,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(t){return Object(r.a)(t)&&t%1==0};e.a=i},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t<0}},function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=r),Math.abs(t-e)<n};var r=1e-5},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%2!=0}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t>0}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.a=function(t,e){if(Object(r.a)(t)){for(var n,o=-1/0,a=0;a<t.length;a++){var s=t[a],l=Object(i.a)(e)?e(s):s[e];l>o&&(n=s,o=l)}return n}}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.a=function(t,e){if(Object(r.a)(t)){for(var n,o=1/0,a=0;a<t.length;a++){var s=t[a],l=Object(i.a)(e)?e(s):s[e];l<o&&(n=s,o=l)}return n}}},function(t,e,n){"use strict";e.a=function(t,e){return(t%e+e)%e}},function(t,e,n){"use strict";var r=180/Math.PI;e.a=function(t){return r*t}},function(t,e,n){"use strict";e.a=parseInt},function(t,e,n){"use strict";var r=Math.PI/180;e.a=function(t){return r*t}},function(t,e,n){"use strict";var r=n(8);e.a=r.a},function(t,e,n){"use strict";var r=n(29);e.a=r.a},function(t,e,n){"use strict";var r=n(13),i=n(15);e.a=function(t,e){return Object(r.a)(Object(i.a)(t),e)}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){return Object(r.a)(t).toLowerCase()}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){var e=Object(r.a)(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,n){"use strict";e.a=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){return Object(r.a)(t).toUpperCase()}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){var e=Object(r.a)(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Arguments")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Boolean")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Date")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Error")}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&isFinite(t)}},function(t,e,n){"use strict";e.a=function(t){return null===t}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"RegExp")}},function(t,e,n){"use strict";e.a=function(t){return void 0===t}},function(t,e,n){"use strict";e.a=function(t){return t instanceof Element||t instanceof HTMLDocument}},function(t,e,n){"use strict";e.a=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";e.a=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){"use strict";var r=n(16),i=n(2);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],o=1;o<t.length;o++){var a=t[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(t,e,n){"use strict";var r=n(0),i=function(t){if("object"!=typeof t||null===t)return t;var e;if(Object(r.a)(t)){e=[];for(var n=0,o=t.length;n<o;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=i(t[n]):e[n]=t[n]}else for(var a in e={},t)"object"==typeof t[a]&&null!=t[a]?e[a]=i(t[a]):e[a]=t[a];return e};e.a=i},function(t,e,n){"use strict";e.a=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}}},function(t,e,n){"use strict";var r=n(0),i=n(10);function o(t,e,n,a){for(var s in n=n||0,a=a||5,e)if(e.hasOwnProperty(s)){var l=e[s];null!==l&&Object(i.a)(l)?(Object(i.a)(t[s])||(t[s]={}),n<a?o(t[s],l,n+1,a):t[s]=e[s]):Object(r.a)(l)?(t[s]=[],t[s]=t[s].concat(l)):void 0!==l&&(t[s]=l)}}e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)o(t,e[r]);return t}},function(t,e,n){"use strict";var r=n(16),i=n(2);e.a=function(t,e,n,o){Object(i.a)(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=a(e.prototype,t);return t.prototype=Object(r.a)(s,t.prototype),t.superclass=a(e.prototype,e),Object(r.a)(s,n),Object(r.a)(t,o),t}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i}},function(t,e,n){"use strict";var r=n(7),i=n(1),o=n(30),a=n(31),s=Object.prototype.hasOwnProperty;e.a=function(t){if(Object(r.a)(t))return!0;if(Object(i.a)(t))return!t.length;var e=Object(o.a)(t);if("Map"===e||"Set"===e)return!t.size;if(Object(a.a)(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e,n){"use strict";var r=n(2),i=n(33);e.a=function(t,e,n){return Object(r.a)(n)?!!n(t,e):Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n}},function(t,e,n){"use strict";var r=n(7),i=n(12),o=function(t){return t};e.a=function(t,e){void 0===e&&(e=o);var n={};return Object(i.a)(t)&&!Object(r.a)(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n}},function(t,e,n){"use strict";var r=n(4);e.a=function(t,e,n){for(var i=0,o=Object(r.a)(e)?e.split("."):e;t&&i<o.length;)t=t[o[i++]];return void 0===t||i<o.length?n:t}},function(t,e,n){"use strict";var r=n(12),i=n(4),o=n(5);e.a=function(t,e,n){var a=t,s=Object(i.a)(e)?e.split("."):e;return s.forEach((function(t,e){e<s.length-1?(Object(r.a)(a[t])||(a[t]=Object(o.a)(s[e+1])?[]:{}),a=a[t]):a[t]=n})),t}},function(t,e,n){"use strict";var r=n(8),i=n(10),o=Object.prototype.hasOwnProperty;e.a=function(t,e){if(null===t||!Object(i.a)(t))return{};var n={};return Object(r.a)(e,(function(e){o.call(t,e)&&(n[e]=t[e])})),n}},function(t,e,n){"use strict";var r=n(25);e.a=function(t,e){return Object(r.a)(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})}},function(t,e,n){"use strict";e.a=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u}},function(t,e,n){"use strict";var r=n(1);e.a=function(t){return Object(r.a)(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){"use strict";var r={};e.a=function(t){return r[t=t||"g"]?r[t]+=1:r[t]=1,t+r[t]}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=function(t){return Object(r.a)(t)?0:Object(i.a)(t)?t.length:Object.keys(t).length};var r=n(7),i=n(1)},function(t,e,n){"use strict";e.a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},Object.create,Object.create},function(t,e,n){"use strict";var r=n(4),i=n(9),o=n(34);e.a=function(t,e,n,a){void 0===a&&(a="...");var s,l,u=Object(o.a)(a,n),c=Object(r.a)(t)?t:Object(i.a)(t),h=e,d=[];if(Object(o.a)(t,n)<=e)return t;for(;s=c.substr(0,16),!((l=Object(o.a)(s,n))+u>h&&l>h);)if(d.push(s),h-=l,!(c=c.substr(16)))return d.join("");for(;s=c.substr(0,1),!((l=Object(o.a)(s,n))+u>h);)if(d.push(s),h-=l,!(c=c.substr(1)))return d.join("");return""+d.join("")+a}},function(t,e,n){"use strict";var r=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.a=r},function(t,e){function n(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e,n){n?t.y+=e:t.x+=e,t.children.forEach((function(t){r(t,e,n)}))}function i(t,e){var n=e?t.y:t.x;return t.children.forEach((function(t){n=Math.min(i(t,e),n)})),n}function o(t,e){r(t,-i(t,e),e)}function a(t,e,n){n?e.y=t.x:e.x=t.x,t.c.forEach((function(t,r){a(t,e.children[r],n)}))}function s(t,e,n){void 0===n&&(n=0),e?(t.x=n,n+=t.width):(t.y=n,n+=t.height),t.children.forEach((function(t){s(t,e,n)}))}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach((function(t){r.push(n.fromNode(t,e))})),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t,e){void 0===e&&(e={});var r=e.isHorizontal;function i(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function l(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],a=o.mod;null!==r&&null!==o;){d(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);s>0&&(a+=s,u(t,e,n.index,s));var l=d(r),f=d(o);l<=f&&null!==(r=h(r))&&(i+=r.mod),l>=f&&null!==(o=c(o))&&(a+=o.mod)}!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)}function u(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,n,r)}function c(t){return 0===t.cs?t.tl:t.c[0]}function h(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function d(t){return t.y+t.h}function f(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}s(t,r);var p=n.fromNode(t,r);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=f(d(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var o=d(e.c[r].er);l(e,r,n),n=f(o,r,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),i(e)}else i(e)}(p),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)n+=(e+=t.c[r].shift)+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(p,0),a(p,t,r),o(t,r),t}},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(11),o=n(121),a=n(17),s=n(6),l=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){var t=this;return t.rootNode.width=0,a(t.rootNode,t.options,o)},i}(i),u={};t.exports=function(t,e){return e=s.assign({},u,e),new l(t,e).execute()}},function(t,e,n){var r=n(6);function i(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(t,e,n){n?(e.x=t.x,e.y=t.y):(e.x=t.y,e.y=t.x),t.children.forEach((function(t,r){a(t,e.children[r],n)}))}t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},o,e);var n,s=0,l=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>s&&(s=e.depth);var n=e.children,r=n.length,o=new i(e.height,[]);return n.forEach((function(e,n){var i=t(e);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)})),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=s;else{var n=e.children.map((function(e){return t(e)})),r=Math.min.apply(null,n);e.drawingDepth=r-1}return e.drawingDepth}(l),function t(r){r.x=r.drawingDepth*e.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+e.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=e.subTreeSep)),n=r):(r.children.forEach((function(e){t(e)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(l),a(l,t,e.isHorizontal),t}},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(11),o=n(123),a=n(35),s=n(6),l=["LR","RL","H"],u=l[0],c=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=void 0===n?20:n,i=t.dropCap,s=void 0===i||i,c=t.direction,h=void 0===c?u:c,d=t.align;if(h&&-1===l.indexOf(h))throw new TypeError("Invalid direction: "+h);if(h===l[0])o(e,r,s,d);else if(h===l[1])o(e,r,s,d),e.right2left();else if(h===l[2]){var f=a(e,t),p=f.left,g=f.right;o(p,r,s,d),p.right2left(),o(g,r,s,d);var m=p.getBoundingBox();g.translate(m.width,0),e.x=g.x-e.width/2}return e},i}(i),h={};t.exports=function(t,e){return e=s.assign({},h,e),new c(t,e).execute()}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){var o=null;t.eachNode((function(t){!function(t,e,n,i,o){var a="function"==typeof n?n(t):n*t.depth;if(!i)try{if(t.id===t.parent.children[0].id)return t.x+=a,void(t.y=e?e.y:0)}catch(t){}if(t.x+=a,e){if(t.y=e.y+r.getHeight(e,t,o),e.parent&&t.parent.id!==e.parent.id){var s=e.parent,l=s.y+r.getHeight(s,t,o);t.y=l>t.y?l:t.y}}else t.y=0}(t,o,e,n,i),o=t}))}},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(11),o=n(125),a=n(17),s=n(6),l=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){return a(this.rootNode,this.options,o)},i}(i),u={};t.exports=function(t,e){return e=s.assign({},u,e),new l(t,e).execute()}},function(t,e,n){var r=n(6);function i(t,e){var n=0;return t.children.length?t.children.forEach((function(t){n+=i(t,e)})):n=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,n)+2*t._subTreeSep,t.totalHeight}function o(t){var e=t.children,n=e.length;if(n){e.forEach((function(t){o(t)}));var r=e[0],i=e[n-1],a=i.y-r.y+i.height,s=0;if(e.forEach((function(t){s+=t.totalHeight})),a>t.height)t.y=r.y+a/2-t.height/2;else if(1!==e.length||t.height>s){var l=t.y+(t.height-a)/2-r.y;e.forEach((function(t){t.translate(0,l)}))}else t.y=(r.y+r.height/2+i.y+i.height/2)/2-t.height/2}}var a={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},a,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse((function(t){t.x=t.parent.x+t.parent.width})),t.parent=null,i(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode((function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(t)}}])},t.exports=e()},"./node_modules/@antv/layout/lib/index.js":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n("./node_modules/@antv/layout/lib/registy/index.js");Object.defineProperty(e,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(e,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(e,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n("./node_modules/@antv/layout/lib/layout/index.js"),e)},"./node_modules/@antv/layout/lib/layout/base.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var n=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[],this.vedges=t.vedges||[]},t.prototype.execute=function(t){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return"base"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();e.Base=n},"./node_modules/@antv/layout/lib/layout/circular.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CircularLayout=void 0;var o=n("./node_modules/@antv/layout/lib/layout/base.js"),a=n("./node_modules/@antv/layout/lib/util/index.js");function s(t,e){var n=t.degree,r=e.degree;return n<r?-1:n>r?1:0}var l=function(t){function e(e){var n=t.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t,e=this,n=e.nodes,r=e.edges,i=n.length;if(0!==i){e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var o=e.center;if(1===i)return n[0].x=o[0],n[0].y=o[1],void(e.onLayoutEnd&&e.onLayoutEnd());var s=e.radius,l=e.startRadius,u=e.endRadius,c=e.divisions,h=e.startAngle,d=e.endAngle,f=e.angleRatio,p=e.ordering,g=e.clockwise,m=e.nodeSpacing,v=e.nodeSize,y=(d-h)/i,b={};n.forEach((function(t,e){b[t.id]=e})),e.nodeMap=b;var x=(0,a.getDegree)(n.length,b,r);if(e.degrees=x,m){var _=(0,a.getFuncByUnknownType)(10,m),w=(0,a.getFuncByUnknownType)(10,v),S=-1/0;n.forEach((function(t){var e=w(t);S<e&&(S=e)}));var M=0;n.forEach((function(t,e){M+=0===e?S||10:(_(t)||0)+(S||10)})),s=M/(2*Math.PI)}else s||l||u?!l&&u?l=u:l&&!u&&(u=l):s=e.height>e.width?e.width/2:e.height/2;var k=y*f,E=[];E="topology"===p?e.topologyOrdering():"topology-directed"===p?e.topologyOrdering(!0):"degree"===p?e.degreeOrdering():n;for(var A=Math.ceil(i/c),T=0;T<i;++T){var I=s;I||null===l||null===u||(I=l+T*(u-l)/(i-1)),I||(I=10+100*T/(i-1));var C=h+T%A*k+2*Math.PI/c*Math.floor(T/A);g||(C=d-T%A*k-2*Math.PI/c*Math.floor(T/A)),E[T].x=o[0]+Math.cos(C)*I,E[T].y=o[1]+Math.sin(C)*I,E[T].weight=x[T].all}return null===(t=e.onLayoutEnd)||void 0===t||t.call(e),{nodes:E,edges:this.edges}}e.onLayoutEnd&&e.onLayoutEnd()},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this,n=e.degrees,r=e.edges,i=e.nodes,o=(0,a.clone)(i),s=e.nodeMap,l=[o[0]],u=[i[0]],c=[],h=i.length;c[0]=!0,function(t,e,n,r){t.forEach((function(e,n){t[n].children=[],t[n].parent=[]})),r?e.forEach((function(e){var r=(0,a.getEdgeTerminal)(e,"source"),i=(0,a.getEdgeTerminal)(e,"target"),o=0;r&&(o=n[r]);var s=0;i&&(s=n[i]);var l=t[o].children,u=t[s].parent;l.push(t[s].id),u.push(t[o].id)})):e.forEach((function(e){var r=(0,a.getEdgeTerminal)(e,"source"),i=(0,a.getEdgeTerminal)(e,"target"),o=0;r&&(o=n[r]);var s=0;i&&(s=n[i]);var l=t[o].children,u=t[s].children;l.push(t[s].id),u.push(t[o].id)}))}(o,r,s,t);var d=0;return o.forEach((function(t,e){if(0!==e)if(e!==h-1&&n[e].all===n[e+1].all&&!function(t,e,n){for(var r=n.length,i=0;i<r;i++){var o=(0,a.getEdgeTerminal)(n[i],"source"),s=(0,a.getEdgeTerminal)(n[i],"target");if(t.id===o&&e.id===s||e.id===o&&t.id===s)return!0}return!1}(l[d],t,r)||c[e]){for(var f=l[d].children,p=!1,g=0;g<f.length;g++){var m=s[f[g]];if(n[m].all===n[e].all&&!c[m]){l.push(o[m]),u.push(i[s[o[m].id]]),c[m]=!0,p=!0;break}}for(var v=0;!p&&(c[v]||(l.push(o[v]),u.push(i[s[o[v].id]]),c[v]=!0,p=!0),++v!==h););}else l.push(t),u.push(i[s[t.id]]),c[e]=!0,d++})),u},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],n=this.degrees;return t.forEach((function(t,r){t.degree=n[r].all,e.push(t)})),e.sort(s),e},e.prototype.getType=function(){return"circular"},e}(o.Base);e.CircularLayout=l},"./node_modules/@antv/layout/lib/layout/comboCombined.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ComboCombinedLayout=void 0;var a=n("./node_modules/@antv/layout/lib/layout/constants.js"),s=n("./node_modules/@antv/layout/lib/layout/base.js"),l=n("./node_modules/@antv/layout/lib/util/index.js"),u=n("./node_modules/@antv/layout/lib/layout/index.js"),c=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()}else t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){var t,e=this,n=e.nodes,r=e.edges,i=e.combos,s=e.comboEdges,c=e.center,h={};n.forEach((function(t){h[t.id]=t}));var d={};i.forEach((function(t){d[t.id]=t}));var f=e.getInnerGraphs(h),p=[],g=[],m={},v=!0;this.comboTrees.forEach((function(t){var e=f[t.id],n=o(o({},t),{x:e.x||d[t.id].x,y:e.y||d[t.id].y,fx:e.fx||d[t.id].fx,fy:e.fy||d[t.id].fy,mass:e.mass||d[t.id].mass,size:e.size});g.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,p.push(t.id),(0,l.traverseTreeUp)(t,(function(e){return e.id!==t.id&&(m[e.id]=t.id),!0}))})),n.forEach((function(t){if(!t.comboId||!d[t.comboId]){var e=o({},t);g.push(e),isNaN(e.x)||0===e.x||isNaN(e.y)||0===e.y?(e.x=100*Math.random(),e.y=100*Math.random()):v=!1,p.push(t.id)}}));var y=[];if(r.concat(s).forEach((function(t){var e=m[t.source]||t.source,n=m[t.target]||t.target;e!==n&&p.includes(e)&&p.includes(n)&&y.push({source:e,target:n})})),null==g?void 0:g.length){if(1===g.length)g[0].x=c[0],g[0].y=c[1];else{var b={nodes:g,edges:y},x=this.outerLayout||new u.GForceLayout({gravity:1,factor:4,linkDistance:function(t,e,n){var r,i,o=(((null===(r=e.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),_=null===(t=x.getType)||void 0===t?void 0:t.call(x);if(x.updateCfg({center:c,kg:5,preventOverlap:!0,animate:!1}),v&&a.FORCE_LAYOUT_TYPE_MAP[_])(g.length<100?new u.MDSLayout:new u.GridLayout).layout(b);x.layout(b)}g.forEach((function(t){var e=f[t.id];if(e)e.visited=!0,e.x=t.x,e.y=t.y,e.nodes.forEach((function(e){e.x+=t.x,e.y+=t.y}));else{var n=h[t.id];n&&(n.x=t.x,n.y=t.y)}}))}for(var w=Object.keys(f),S=function(t){var e=w[t],n=f[e];if(!n)return"continue";n.nodes.forEach((function(t){n.visited||(t.x+=n.x||0,t.y+=n.y||0),h[t.id]&&(h[t.id].x=t.x,h[t.id].y=t.y)})),d[e]&&(d[e].x=n.x,d[e].y=n.y)},M=w.length-1;M>=0;M--)S(M);return{nodes:n,edges:r,combos:i,comboEdges:s}},e.prototype.getInnerGraphs=function(t){var e=this,n=e.comboTrees,r=e.nodeSize,i=e.edges,a=e.comboPadding,s=e.spacing,c={},h=this.innerLayout||new u.ConcentricLayout({type:"concentric",sortBy:"id"});return h.center=[0,0],h.preventOverlap=!0,h.nodeSpacing=s,(n||[]).forEach((function(e){(0,l.traverseTreeUp)(e,(function(e){var n,s=(null==a?void 0:a(e))||10;if((0,l.isArray)(s)&&(s=Math.max.apply(Math,s)),null===(n=e.children)||void 0===n?void 0:n.length){var u=e.children.map((function(e){if("combo"===e.itemType)return c[e.id];var n=t[e.id]||{};return o(o({},n),e)})),d=u.map((function(t){return t.id})),f={nodes:u,edges:i.filter((function(t){return d.includes(t.source)&&d.includes(t.target)}))},p=1/0;u.forEach((function(t){var e;t.size||(t.size=(null===(e=c[t.id])||void 0===e?void 0:e.size)||(null==r?void 0:r(t))||[30,30]),(0,l.isNumber)(t.size)&&(t.size=[t.size,t.size]),p>t.size[0]&&(p=t.size[0]),p>t.size[1]&&(p=t.size[1])})),h.layout(f);var g=(0,l.getLayoutBBox)(u),m=g.minX,v=g.minY,y=g.maxX,b=g.maxY,x={x:(y+m)/2,y:(b+v)/2};f.nodes.forEach((function(t){t.x-=x.x,t.y-=x.y}));var _=Math.max(y-m,p)+2*s,w=Math.max(b-v,p)+2*s;c[e.id]={id:e.id,nodes:u,size:[_,w]}}else if("combo"===e.itemType){var S=s?[2*s,2*s]:[30,30];c[e.id]={id:e.id,nodes:[],size:S}}return!0}))})),c},e.prototype.initVals=function(){var t,e,n=this,r=n.nodeSize,i=n.spacing;if(e=(0,l.isNumber)(i)?function(){return i}:(0,l.isFunction)(i)?i:function(){return 0},this.spacing=e,r)if((0,l.isFunction)(r))t=function(t){var n=r(t),i=e(t);return(0,l.isArray)(t.size)?((t.size[0]>t.size[1]?t.size[0]:t.size[1])+i)/2:((n||10)+i)/2};else if((0,l.isArray)(r)){var o=(r[0]>r[1]?r[0]:r[1])/2;t=function(t){return o+e(t)/2}}else{var a=r/2;t=function(t){return a+e(t)/2}}else t=function(t){var n=e(t);return t.size?(0,l.isArray)(t.size)?((t.size[0]>t.size[1]?t.size[0]:t.size[1])+n)/2:(0,l.isObject)(t.size)?((t.size.width>t.size.height?t.size.width:t.size.height)+n)/2:(t.size+n)/2:10+n/2};this.nodeSize=t;var s,u=n.comboPadding;s=(0,l.isNumber)(u)?function(){return u}:(0,l.isArray)(u)?function(){return Math.max.apply(null,u)}:(0,l.isFunction)(u)?u:function(){return 0},this.comboPadding=s},e.prototype.getType=function(){return"comboCombined"},e}(s.Base);e.ComboCombinedLayout=c},"./node_modules/@antv/layout/lib/layout/comboForce.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ComboForceLayout=void 0;var o=n("./node_modules/@antv/layout/lib/layout/base.js"),a=n("./node_modules/@antv/layout/lib/util/index.js"),s=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},e&&0!==e.length){if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()}else t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var r=t.center,i=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(var s=function(n){var r=[];e.forEach((function(t,e){r[e]={x:0,y:0}})),t.applyCalculate(r),t.applyComboCenterForce(r),e.forEach((function(t,e){(0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)&&(t.x+=r[e].x*i,t.y+=r[e].y*i)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},l=0;l<n;l++)s();var u=[0,0];e.forEach((function(t){(0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)&&(u[0]+=t.x,u[1]+=t.y)})),u[0]/=e.length,u[1]/=e.length;var c=[r[0]-u[0],r[1]-u[1]];e.forEach((function(t,e){(0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=o[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,r=t.combos,i={},o={},s={};n.forEach((function(t,e){o[t.id]=t,s[t.id]=e})),t.nodeMap=o,t.indexMap=s;var l={};r.forEach((function(t){l[t.id]=t})),t.oriComboMap=l,t.comboMap=t.getComboMap();var u=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||u,t.preventNodeOverlap=t.preventNodeOverlap||u;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c),t.comboCollideStrength=t.comboCollideStrength?t.comboCollideStrength:0,t.nodeCollideStrength=t.nodeCollideStrength?t.nodeCollideStrength:0;for(var h=0;h<e.length;++h){var d=(0,a.getEdgeTerminal)(e[h],"source"),f=(0,a.getEdgeTerminal)(e[h],"target");i[d]?i[d]++:i[d]=1,i[f]?i[f]++:i[f]=1}var p=[];for(h=0;h<e.length;++h){d=(0,a.getEdgeTerminal)(e[h],"source"),f=(0,a.getEdgeTerminal)(e[h],"target");p[h]=i[d]/(i[d]+i[f])}this.bias=p;var g,m,v=t.nodeSize,y=t.nodeSpacing;if(m=(0,a.isNumber)(y)?function(){return y}:(0,a.isFunction)(y)?y:function(){return 0},this.nodeSpacing=m,v)if((0,a.isFunction)(v))g=function(t){return v(t)};else if((0,a.isArray)(v)){var b=(v[0]>v[1]?v[0]:v[1])/2;g=function(t){return b}}else{var x=v/2;g=function(t){return x}}else g=function(t){return t.size?(0,a.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:(0,a.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)/2:t.size/2:10};this.nodeSize=g;var _,w=t.comboSpacing;_=(0,a.isNumber)(w)?function(){return w}:(0,a.isFunction)(w)?w:function(){return 0},this.comboSpacing=_;var S,M=t.comboPadding;S=(0,a.isNumber)(M)?function(){return M}:(0,a.isArray)(M)?function(){return Math.max.apply(null,M)}:(0,a.isFunction)(M)?M:function(){return 0},this.comboPadding=S;var k,E=this.linkDistance;E||(E=10),k=(0,a.isNumber)(E)?function(t){return E}:E,this.linkDistance=k;var A,T=this.edgeStrength;T||(T=1),A=(0,a.isNumber)(T)?function(t){return T}:T,this.edgeStrength=A;var I,C=this.nodeStrength;C||(C=30),I=(0,a.isNumber)(C)?function(t){return C}:C,this.nodeStrength=I},e.prototype.initPos=function(t){this.nodes.forEach((function(e,n){var r=e.comboId,i=t[r];r&&i?(e.x=i.cx+100/(n+1),e.y=i.cy+100/(n+1)):(e.x=100/(n+1),e.y=100/(n+1))}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.comboTrees,r=t.oriComboMap,i={};return(n||[]).forEach((function(n){var o=[];(0,a.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var l=n.children;l&&l.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;o.push(t)}));var u=i[n.id];if(u.cx=0,u.cy=0,0===o.length){u.empty=!0;var c=r[n.id];u.cx=c.x,u.cy=c.y}return o.forEach((function(t){if(u.count++,"node"!==t.itemType){var n=i[t.id];return(0,a.isNumber)(n.cx)&&(u.cx+=n.cx),void((0,a.isNumber)(n.cy)&&(u.cy+=n.cy))}var r=e[t.id];r&&((0,a.isNumber)(r.x)&&(u.cx+=r.x),(0,a.isNumber)(r.y)&&(u.cy+=r.y))})),u.cx/=u.count||1,u.cy/=u.count||1,u.children=o,!0}))})),i},e.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,r=e.comboGravity||n,i=this.alpha,o=e.comboTrees,s=e.indexMap,l=e.nodeMap,u=e.comboMap;(o||[]).forEach((function(e){(0,a.traverseTreeUp)(e,(function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var n=u[e.id],o=(n.depth+1)/10*.5,c=n.cx,h=n.cy;return n.cx=0,n.cy=0,n.children.forEach((function(e){if("node"!==e.itemType){var d=u[e.id];return d&&(0,a.isNumber)(d.cx)&&(n.cx+=d.cx),void(d&&(0,a.isNumber)(d.cy)&&(n.cy+=d.cy))}var f=l[e.id],p=f.x-c||.005,g=f.y-h||.005,m=Math.sqrt(p*p+g*g),v=s[f.id],y=r*i/m*o;t[v].x-=p*y,t[v].y-=g*y,(0,a.isNumber)(f.x)&&(n.cx+=f.x),(0,a.isNumber)(f.y)&&(n.cy+=f.y)})),n.cx/=n.count||1,n.cy/=n.count||1,!0}))}))},e.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,r=e.nodes,i={};r.forEach((function(t,e){r.forEach((function(n,r){if(!(e<r)){var o=t.x-n.x||.005,a=t.y-n.y||.005,s=o*o+a*a,l=Math.sqrt(s);s<1&&(s=l),i["".concat(t.id,"-").concat(n.id)]={vx:o,vy:a,vl2:s,vl:l},i["".concat(n.id,"-").concat(t.id)]={vl2:s,vl:l,vx:-o,vy:-a}}}))})),e.updateComboSizes(n),e.calRepulsive(t,i),e.calAttractive(t,i),e.preventComboOverlap&&e.comboNonOverlapping(t,n)},e.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,r=e.nodeMap,i=e.nodeSize,o=e.comboSpacing,s=e.comboPadding;(n||[]).forEach((function(n){var l=[];(0,a.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var u=t[n.id];if(!u)return!1;var c=n.children;c&&c.forEach((function(e){(t[e.id]||r[e.id])&&l.push(e)})),u.minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0,l.forEach((function(t){if("node"!==t.itemType)return!0;var e=r[t.id];if(!e)return!0;var n=i(e),o=e.x-n,a=e.y-n,s=e.x+n,l=e.y+n;u.minX>o&&(u.minX=o),u.minY>a&&(u.minY=a),u.maxX<s&&(u.maxX=s),u.maxY<l&&(u.maxY=l)}));var h=e.oriComboMap[n.id].size||10;(0,a.isArray)(h)&&(h=h[0]);var d=Math.max(u.maxX-u.minX,u.maxY-u.minY,h);return u.r=d/2+o(u)/2+s(u),!0}))}))},e.prototype.comboNonOverlapping=function(t,e){var n=this,r=n.comboTree,i=n.comboCollideStrength,o=n.indexMap,s=n.nodeMap;(0,a.traverseTreeUp)(r,(function(n){if(!e[n.id]&&!s[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,a){if("node"===n.itemType)return!1;var l=e[n.id];l&&r.forEach((function(r,u){if(a<=u)return!1;if("node"===r.itemType)return!1;var c=e[r.id];if(!c)return!1;var h=l.cx-c.cx||.005,d=l.cy-c.cy||.005,f=h*h+d*d,p=l.r||1,g=c.r||1,m=p+g,v=g*g,y=p*p;if(f<m*m){var b=n.children;if(!b||0===b.length)return!1;var x=r.children;if(!x||0===x.length)return!1;var _=Math.sqrt(f),w=(m-_)/_*i,S=h*w,M=d*w,k=v/(y+v),E=1-k;b.forEach((function(e){if("node"!==e.itemType)return!1;if(s[e.id]){var n=o[e.id];x.forEach((function(e){if("node"!==e.itemType)return!1;if(!s[e.id])return!1;var r=o[e.id];t[n].x+=S*k,t[n].y+=M*k,t[r].x-=S*E,t[r].y-=M*E}))}}))}}))})),!0}))},e.prototype.calRepulsive=function(t,e){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,l=n.preventNodeOverlap,u=n.nodeSize,c=n.nodeSpacing,h=n.depthRepulsiveForceScale,d=n.center;r.forEach((function(f,p){if(f.x&&f.y){if(d){var g=n.gravity,m=f.x-d[0]||.005,v=f.y-d[1]||.005,y=Math.sqrt(m*m+v*v);t[p].x-=m*g*a/y,t[p].y-=v*g*a/y}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var d=e["".concat(f.id,"-").concat(n.id)],g=d.vl2,m=d.vl;if(!(m>i)){var v=e["".concat(f.id,"-").concat(n.id)],y=v.vx,b=v.vy,x=Math.log(Math.abs(n.depth-f.depth)/10)+1||1;x=x<1?1:x,n.comboId!==f.comboId&&(x+=1);var _=x?Math.pow(h,x):1,w=o(n)*a/g*_;if(t[p].x+=y*w,t[p].y+=b*w,p<r&&l){var S=u(f)+c(f)||1,M=u(n)+c(n)||1,k=S+M;if(g<k*k){var E=(k-m)/m*s,A=M*M,T=A/(S*S+A),I=y*E,C=b*E;t[p].x+=I*T,t[p].y+=C*T,T=1-T,t[r].x-=I*T,t[r].y-=C*T}}}}}))}}))},e.prototype.calAttractive=function(t,e){var n=this,r=n.edges,i=n.linkDistance,o=n.alpha,s=n.edgeStrength,l=n.bias,u=n.depthAttractiveForceScale;r.forEach((function(r,c){var h=(0,a.getEdgeTerminal)(r,"source"),d=(0,a.getEdgeTerminal)(r,"target");if(h&&d&&h!==d){var f=n.indexMap[h],p=n.indexMap[d],g=n.nodeMap[h],m=n.nodeMap[d];if(g&&m){var v=g.depth===m.depth?0:Math.log(Math.abs(g.depth-m.depth)/10);g.comboId===m.comboId&&(v/=2);var y=v?Math.pow(u,v):1;if(g.comboId!==m.comboId&&1===y?y=u/2:g.comboId===m.comboId&&(y=2),(0,a.isNumber)(m.x)&&(0,a.isNumber)(g.x)&&(0,a.isNumber)(m.y)&&(0,a.isNumber)(g.y)){var b=e["".concat(d,"-").concat(h)],x=b.vl,_=b.vx,w=b.vy,S=(x-i(r))/x*o*s(r)*y,M=_*S,k=w*S,E=l[c];t[p].x-=M*E,t[p].y-=k*E,t[f].x+=M*(1-E),t[f].y+=k*(1-E)}}}}))},e.prototype.getType=function(){return"comboForce"},e}(o.Base);e.ComboForceLayout=s},"./node_modules/@antv/layout/lib/layout/concentric.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConcentricLayout=void 0;var o=n("./node_modules/@antv/layout/lib/util/index.js"),a=function(t){function e(e){var n=t.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t,e,n=this,r=n.nodes,i=n.edges,a=r.length;if(0!==a){n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var l,u=n.nodeSize,c=n.nodeSpacing,h=[],d=0;l=(0,o.isArray)(u)?Math.max(u[0],u[1]):u,(0,o.isArray)(c)?d=Math.max(c[0],c[1]):(0,o.isNumber)(c)&&(d=c),r.forEach((function(t){h.push(t);var e=l;(0,o.isArray)(t.size)?e=Math.max(t.size[0],t.size[1]):(0,o.isNumber)(t.size)?e=t.size:(0,o.isObject)(t.size)&&(e=Math.max(t.size.width,t.size.height)),l=Math.max(l,e),(0,o.isFunction)(c)&&(d=Math.max(c(t),d))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var f={},p={};if(h.forEach((function(t,e){f[t.id]=t,p[t.id]=e})),!("degree"!==n.sortBy&&(0,o.isString)(n.sortBy)&&void 0!==h[0][n.sortBy]||(n.sortBy="degree",(0,o.isNumber)(r[0].degree)))){var g=(0,o.getDegree)(r.length,p,i);h.forEach((function(t,e){t.degree=g[e].all}))}h.sort((function(t,e){return e[n.sortBy]-t[n.sortBy]})),n.maxValueNode=h[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var m=[[]],v=m[0];h.forEach((function(t){if(v.length>0){var e=Math.abs(v[0][n.sortBy]-t[n.sortBy]);n.maxLevelDiff&&e>=n.maxLevelDiff&&(v=[],m.push(v))}v.push(t)}));var y=l+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=m.length>0&&m[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(m.length+(b?1:0));y=Math.min(y,x)}var _=0;if(m.forEach((function(t){var e=n.sweep;void 0===e&&(e=2*Math.PI-2*Math.PI/t.length);var r=t.dTheta=e/Math.max(1,t.length-1);if(t.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(i*i+o*o));_=Math.max(a,_)}t.r=_,_+=y})),n.equidistant){for(var w=0,S=0,M=0;M<m.length;M++){var k=m[M].r-S;w=Math.max(w,k)}S=0,m.forEach((function(t,e){0===e&&(S=t.r),t.r=S,S+=w}))}return m.forEach((function(t){var e=t.dTheta,r=t.r;t.forEach((function(t,i){var o=n.startAngle+(n.clockwise?1:-1)*e*i;t.x=s[0]+r*Math.cos(o),t.y=s[1]+r*Math.sin(o)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:i}}null===(t=n.onLayoutEnd)||void 0===t||t.call(n)},e.prototype.getType=function(){return"concentric"},e}(n("./node_modules/@antv/layout/lib/layout/base.js").Base);e.ConcentricLayout=a},"./node_modules/@antv/layout/lib/layout/constants.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORCE_LAYOUT_TYPE_MAP=e.LAYOUT_MESSAGE=void 0,e.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},e.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},"./node_modules/@antv/layout/lib/layout/dagre.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DagreLayout=void 0;var a=o(n("./node_modules/@antv/layout/lib/layout/dagre/index.js")),s=n("./node_modules/@antv/layout/lib/util/index.js"),l=n("./node_modules/@antv/layout/lib/layout/base.js"),u=n("./node_modules/@antv/layout/lib/layout/dagre/graph.js"),c=function(t){function e(e){var n=t.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(t){var e=n.nodes.find((function(e){return e.id===t}));return!e||!1!==e.layout},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},e.prototype.execute=function(){var t,e,n,r,i=this,o=this,l=o.nodes,c=o.nodeSize,d=o.rankdir,f=o.combos,p=o.begin,g=o.radial,m=o.comboEdges,v=void 0===m?[]:m,y=o.vedges,b=void 0===y?[]:y;if(l){var x=o.edges||[],_=new u.Graph({multigraph:!0,compound:!0});o.nodeMap={};var w={};l.forEach((function(t){o.nodeMap[t.id]=t,t.comboId&&(w[t.comboId]=w[t.comboId]||[],w[t.comboId].push(t.id))}));var S,M=[],k={};(null===(t=o.nodeOrder)||void 0===t?void 0:t.length)?(o.nodeOrder.forEach((function(t){k[t]=!0,M.push(o.nodeMap[t])})),l.forEach((function(t){k[t.id]||M.push(t)}))):M=l,S=c?(0,s.isArray)(c)?function(){return c}:function(){return[c,c]}:function(t){return t.size?(0,s.isArray)(t.size)?t.size:(0,s.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]};var E=(0,s.getFunc)(o.ranksep,50,o.ranksepFunc),A=(0,s.getFunc)(o.nodesep,50,o.nodesepFunc),T=A,I=E;"LR"!==d&&"RL"!==d||(T=E,I=A),_.setDefaultEdgeLabel((function(){return{}})),_.setGraph(o);var C={};this.sortByCombo&&f&&f.forEach((function(t){if(C[t.id]=t,t.collapsed){var e=S(t),n=I(t),r=T(t),i=e[0]+2*r,o=e[1]+2*n;_.setNode(t.id,{width:i,height:o})}t.parentId&&(C[t.parentId]||_.setNode(t.parentId,{}),_.setParent(t.id,t.parentId))})),M.filter((function(t){return!1!==t.layout})).forEach((function(t){var e=S(t),n=I(t),r=T(t),o=e[0]+2*r,a=e[1]+2*n,l=t.layer;(0,s.isNumber)(l)?_.setNode(t.id,{width:o,height:a,layer:l}):_.setNode(t.id,{width:o,height:a}),i.sortByCombo&&t.comboId&&(C[t.comboId]||(C[t.comboId]={id:t.comboId},_.setNode(t.comboId,{})),_.setParent(t.id,t.comboId))})),x.forEach((function(t){var e=(0,s.getEdgeTerminal)(t,"source"),n=(0,s.getEdgeTerminal)(t,"target");i.layoutNode(e)&&i.layoutNode(n)&&_.setEdge(e,n,{weight:t.weight||1})})),null===(e=null==v?void 0:v.concat(b||[]))||void 0===e||e.forEach((function(t){var e,n,r=t.source,i=t.target,o=(null===(e=C[r])||void 0===e?void 0:e.collapsed)?[r]:w[r]||[r],a=(null===(n=C[i])||void 0===n?void 0:n.collapsed)?[i]:w[i]||[i];o.forEach((function(e){a.forEach((function(n){_.setEdge(e,n,{weight:t.weight||1})}))}))}));var D=void 0;(null===(n=o.preset)||void 0===n?void 0:n.nodes)&&(D=new u.Graph({multigraph:!0,compound:!0}),o.preset.nodes.forEach((function(t){null==D||D.setNode(t.id,t)}))),a.default.layout(_,{prevGraph:D,edgeLabelSpace:o.edgeLabelSpace,keepNodeOrder:Boolean(!!o.nodeOrder),nodeOrder:o.nodeOrder});var N=[0,0];if(p){var O=1/0,L=1/0;_.nodes().forEach((function(t){var e=_.node(t);O>e.x&&(O=e.x),L>e.y&&(L=e.y)})),_.edges().forEach((function(t){var e;null===(e=_.edge(t).points)||void 0===e||e.forEach((function(t){O>t.x&&(O=t.x),L>t.y&&(L=t.y)}))})),N[0]=p[0]-O,N[1]=p[1]-L}var P="LR"===d||"RL"===d;if(g){var R=this,j=R.focusNode,z=R.ranksep,B=R.getRadialPos,F=(0,s.isString)(j)?j:null==j?void 0:j.id,G=F?null===(r=_.node(F))||void 0===r?void 0:r._rank:0,V=[],Z=P?"y":"x",U=P?"height":"width",H=1/0,W=-1/0;_.nodes().forEach((function(t){var e=_.node(t);if(o.nodeMap[t]){var n=A(o.nodeMap[t]);if(0===G)V[e._rank]||(V[e._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),V[e._rank].nodes.push(t),V[e._rank].totalWidth+=2*n+e[U],V[e._rank].maxSize<Math.max(e.width,e.height)&&(V[e._rank].maxSize=Math.max(e.width,e.height));else{var r=e._rank-G;if(0===r)V[r]||(V[r]={nodes:[],totalWidth:0,maxSize:-1/0}),V[r].nodes.push(t),V[r].totalWidth+=2*n+e[U],V[r].maxSize<Math.max(e.width,e.height)&&(V[r].maxSize=Math.max(e.width,e.height));else{var i=Math.abs(r);V[i]||(V[i]={left:[],right:[],totalWidth:0,maxSize:-1/0}),V[i].totalWidth+=2*n+e[U],V[i].maxSize<Math.max(e.width,e.height)&&(V[i].maxSize=Math.max(e.width,e.height)),r<0?V[i].left.push(t):V[i].right.push(t)}}var a=e[Z]-e[U]/2-n,s=e[Z]+e[U]/2+n;a<H&&(H=a),s>W&&(W=s)}}));var Y=z||50,X={},q=(W-H)/.9,K=[.5*(H+W-q),.5*(H+W+q)],$=function(t,e,n,r){void 0===n&&(n=-1/0),void 0===r&&(r=[0,1]);var i=n;return t.forEach((function(t){var n=_.node(t);X[t]=e;var a=B(n[Z],K,q,e,r),s=a.x,l=a.y;if(o.nodeMap[t]){o.nodeMap[t].x=s+N[0],o.nodeMap[t].y=l+N[1],o.nodeMap[t]._order=n._order;var u=E(o.nodeMap[t]);i<u&&(i=u)}})),i},J=!0;V.forEach((function(t){var e,n,r,i,a,s,l;if((null===(e=null==t?void 0:t.nodes)||void 0===e?void 0:e.length)||(null===(n=null==t?void 0:t.left)||void 0===n?void 0:n.length)||(null===(r=null==t?void 0:t.right)||void 0===r?void 0:r.length)){if(J&&1===t.nodes.length){var u=t.nodes[0];if(!o.nodeMap[u])return;return o.nodeMap[u].x=N[0],o.nodeMap[u].y=N[1],X[t.nodes[0]]=0,Y=E(o.nodeMap[u]),void(J=!1)}Y=Math.max(Y,t.totalWidth/(2*Math.PI));var c=-1/0;if(0===G||(null===(i=t.nodes)||void 0===i?void 0:i.length))c=$(t.nodes,Y,c,[0,1]);else{var h=(null===(a=t.left)||void 0===a?void 0:a.length)/((null===(s=t.left)||void 0===s?void 0:s.length)+(null===(l=t.right)||void 0===l?void 0:l.length));c=$(t.left,Y,c,[0,h]),c=$(t.right,Y,c,[h+.05,1])}Y+=c,J=!1,t.maxSize}})),_.edges().forEach((function(t){var e,n,r,i=_.edge(t),a=x.findIndex((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target");return n===t.v&&r===t.w}));if(!(a<=-1)&&o.edgeLabelSpace&&o.controlPoints&&"loop"!==x[a].type){var l="x"===Z?"y":"x",u=null===(e=null==i?void 0:i.points)||void 0===e?void 0:e.slice(1,i.points.length-1),c=[],h=null===(n=_.node(t.v))||void 0===n?void 0:n[l],d=h-(null===(r=_.node(t.w))||void 0===r?void 0:r[l]),f=X[t.v],p=f-X[t.w];null==u||u.forEach((function(t){var e=(t[l]-h)/d*p+f,n=B(t[Z],K,q,e);c.push({x:n.x+N[0],y:n.y+N[1]})})),x[a].controlPoints=c}}))}else{var Q=new Set,tt="BT"===d||"RL"===d?function(t,e){return e-t}:function(t,e){return t-e};_.nodes().forEach((function(t){var e=_.node(t);if(e){var n=i.nodeMap[t];n||(n=null==f?void 0:f.find((function(e){return e.id===t}))),n&&(n.x=e.x+N[0],n.y=e.y+N[1],n._order=e._order,Q.add(P?n.x:n.y))}}));var et=Array.from(Q).sort(tt),nt=P?function(t,e){return t.x!==e.x}:function(t,e){return t.y!==e.y},rt=P?function(t,e,n){var r=Math.max(e.y,n.y),i=Math.min(e.y,n.y);return t.filter((function(t){return t.y<=r&&t.y>=i}))}:function(t,e,n){var r=Math.max(e.x,n.x),i=Math.min(e.x,n.x);return t.filter((function(t){return t.x<=r&&t.x>=i}))};_.edges().forEach((function(t){var e,n=_.edge(t),r=x.findIndex((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target");return n===t.v&&r===t.w}));if(!(r<=-1)&&o.edgeLabelSpace&&o.controlPoints&&"loop"!==x[r].type){null===(e=null==n?void 0:n.points)||void 0===e||e.forEach((function(t){t.x+=N[0],t.y+=N[1]}));var i=o.nodeMap[t.v],a=o.nodeMap[t.w];x[r].controlPoints=h(null==n?void 0:n.points,i,a,et,P,nt,rt)}}))}return o.onLayoutEnd&&o.onLayoutEnd(),{nodes:l,edges:x}}},e.prototype.getRadialPos=function(t,e,n,r,i){void 0===i&&(i=[0,1]);var o=(t-e[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},e.prototype.getType=function(){return"dagre"},e}(l.Base);e.DagreLayout=c;var h=function(t,e,n,r,i,o,a){var s=(null==t?void 0:t.slice(1,t.length-1))||[];if(e&&n){var l=e.x,u=e.y,c=n.x,h=n.y;if(i&&(l=e.y,u=e.x,c=n.y,h=n.x),h!==u&&l!==c){var d=r.indexOf(u),f=r[d+1];if(f){var p=s[0],g=i?{x:(u+f)/2,y:(null==p?void 0:p.y)||c}:{x:(null==p?void 0:p.x)||c,y:(u+f)/2};p&&!o(p,g)||s.unshift(g)}var m=r.indexOf(h),v=Math.abs(m-d);if(1===v)(s=a(s,e,n)).length||s.push(i?{x:(u+h)/2,y:l}:{x:l,y:(u+h)/2});else if(v>1){var y=r[m-1];if(y){var b=s[s.length-1],x=i?{x:(h+y)/2,y:(null==b?void 0:b.y)||c}:{x:(null==b?void 0:b.x)||l,y:(h+y)/2};b&&!o(b,x)||s.push(x)}}}}return s}},"./node_modules/@antv/layout/lib/layout/dagreCompound.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DagreCompoundLayout=void 0;var s=n("./node_modules/@antv/layout/lib/layout/base.js"),l=n("./node_modules/dagre-compound/dist/dagre-compound.es5.js"),u=n("./node_modules/@antv/layout/lib/util/index.js"),c=function(t){function e(e){var n=t.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},e.prototype.init=function(t){var e=t.hiddenNodes||[],n=t.hiddenEdges||[],r=t.hiddenCombos||[];this.nodes=this.getDataByOrder((t.nodes||[]).concat(e)),this.edges=this.getDataByOrder((t.edges||[]).concat(n)),this.combos=(t.combos||[]).concat(r.map((function(t){return o(o({},t),{collapsed:!0})})))},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges;if(e){var r=t.getLayoutConfig(),i=r.graphDef,o=r.graphOption,a=r.graphSettings,s=(0,l.buildGraph)(i,o,a),u=(0,l.flatGraph)(s,!0);return this.updatePosition(u),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}},e.prototype.getNodePath=function(t){var e=this.nodes,n=this.combos,r=e.find((function(e){return e.id===t})),i=function(t,e){void 0===e&&(e=[]);var r=n.find((function(e){return e.id===t}));return r?(e.unshift(t),r.parentId?i(r.parentId,e):e):e};return r&&r.comboId?i(r.comboId,[t]):[t]},e.prototype.getLayoutConfig=function(){var t,e,n,r,i=this,s=i.nodes,c=i.edges,h=i.combos,d=i.nodeSize,f=i.rankdir,p=i.align,g=i.edgesep,m=i.nodesep,v=i.ranksep,y=i.settings,b=(h||[]).reduce((function(t,e){var n=s.filter((function(t){return t.comboId===e.id})).map((function(t){return t.id})),r=(h||[]).filter((function(t){return t.parentId===e.id})).map((function(t){return t.id}));return(n.length||r.length)&&(t[e.id]=a(a([],n,!0),r,!0)),t}),{});r=d?(0,u.isArray)(d)?function(){return d}:function(){return[d,d]}:function(t){return t&&t.size?(0,u.isArray)(t.size)?t.size:(0,u.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]};var x,_=(x=null==h?void 0:h[0])&&x.size?(0,u.isArray)(x.size)?x.size:[x.size,x.size]:[80,40],w=_[0],S=_[1],M=null===(e=null===(t=i.graphSettings)||void 0===t?void 0:t.subScene)||void 0===e?void 0:e.meta,k=(null===(n=h.find((function(t){return!t.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],E=k[0],A=k[1],T=k[2],I=k[3],C={compound:b,nodes:a([],(s||[]).map((function(t){var e=r(t),n=e[0],i=e[1];return o(o({},t),{width:n,height:i})})),!0),edges:a([],(c||[]).map((function(t){return o(o({},t),{v:t.source,w:t.target})})),!0)},D={expanded:(h||[]).filter((function(t){return!t.collapsed})).map((function(t){return t.id}))},N={graph:{meta:{align:p,rankDir:f,nodeSep:m,edgeSep:g,rankSep:v}},subScene:{meta:{paddingTop:E||(null==M?void 0:M.paddingTop)||20,paddingRight:A||(null==M?void 0:M.paddingRight)||20,paddingBottom:T||(null==M?void 0:M.paddingBottom)||20,paddingLeft:I||(null==M?void 0:M.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:w,height:S}}},O=(0,l.mergeConfig)(y,o({},(0,l.mergeConfig)(N,l.LAYOUT_CONFIG)));return i.graphSettings=O,{graphDef:C,graphOption:D,graphSettings:O}},e.prototype.updatePosition=function(t){var e=t.nodes,n=t.edges;this.updateNodePosition(e,n),this.updateEdgePosition(e,n)},e.prototype.getBegin=function(t,e){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;t.forEach((function(t){i>t.x&&(i=t.x),o>t.y&&(o=t.y)})),e.forEach((function(t){t.points.forEach((function(t){i>t.x&&(i=t.x),o>t.y&&(o=t.y)}))})),r[0]=n[0]-i,r[1]=n[1]-o}return r},e.prototype.updateNodePosition=function(t,e){var n=this,r=n.combos,i=n.nodes,o=n.edges,a=n.anchorPoint,s=n.graphSettings,u=this.getBegin(t,e);t.forEach((function(t){var n,c=t.x,h=t.y,d=t.id,f=t.type,p=t.coreBox;if(f===l.HierarchyNodeType.META&&d!==l.ROOT_NAME){var g=r.findIndex((function(t){return t.id===d})),m=null===(n=null==s?void 0:s.subScene)||void 0===n?void 0:n.meta;r[g].offsetX=c+u[0],r[g].offsetY=h+u[1],r[g].fixSize=[p.width,p.height],r[g].fixCollapseSize=[p.width,p.height],t.expanded?r[g].padding=[null==m?void 0:m.paddingTop,null==m?void 0:m.paddingRight,null==m?void 0:m.paddingBottom,null==m?void 0:m.paddingLeft]:r[g].padding=[0,0,0,0]}else if(f===l.HierarchyNodeType.OP){g=i.findIndex((function(t){return t.id===d}));if(i[g].x=c+u[0],i[g].y=h+u[1],a){var v=[],y=e.filter((function(t){return t.v===d})),b=e.filter((function(t){return t.w===d}));y.length>0&&y.forEach((function(e){var n=e.points[0],r=(n.x-c)/t.width+.5,i=(n.y-h)/t.height+.5;v.push([r,i]),e.baseEdgeList.forEach((function(t){var e=o.find((function(e){return e.source===t.v&&e.target===t.w}));e&&(e.sourceAnchor=v.length-1)}))})),b.length>0&&b.forEach((function(e){var n=e.points[e.points.length-1],r=(n.x-c)/t.width+.5,i=(n.y-h)/t.height+.5;v.push([r,i]),e.baseEdgeList.forEach((function(t){var e=o.find((function(e){return e.source===t.v&&e.target===t.w}));e&&(e.targetAnchor=v.length-1)}))})),i[g].anchorPoints=v.length>0?v:i[g].anchorPoints||[]}}}))},e.prototype.updateEdgePosition=function(t,e){var n=this,r=n.combos,i=n.edges,s=n.controlPoints,u=this.getBegin(t,e);s&&(r.forEach((function(t){t.inEdges=[],t.outEdges=[]})),i.forEach((function(e){var i,s,c,h,d=t.find((function(t){return t.id===e.source})),f=t.find((function(t){return t.id===e.target})),p=[],g=[];if(d&&f)g=(0,l.getEdges)(null==d?void 0:d.id,null==f?void 0:f.id,t);else if(!d||!f){var m=n.getNodePath(e.source),v=n.getNodePath(e.target),y=m.reverse().slice(d?0:1).find((function(e){return t.find((function(t){return t.id===e}))})),b=v.reverse().slice(f?0:1).find((function(e){return t.find((function(t){return t.id===e}))}));d=t.find((function(t){return t.id===y})),f=t.find((function(t){return t.id===b})),g=(0,l.getEdges)(null==d?void 0:d.id,null==f?void 0:f.id,t,{v:e.source,w:e.target})}if(p=(p=g.reduce((function(t,e){return a(a([],t,!0),e.points.map((function(t){return o(o({},t),{x:t.x+u[0],y:t.y+u[1]})})),!0)}),[])).slice(1,-1),e.controlPoints=p,(null==f?void 0:f.type)===l.NodeType.META){var x=r.findIndex((function(t){return t.id===(null==f?void 0:f.id)}));if(!r[x]||(null===(i=r[x].inEdges)||void 0===i?void 0:i.some((function(t){return t.source===d.id&&t.target===f.id}))))return;null===(s=r[x].inEdges)||void 0===s||s.push({source:d.id,target:f.id,controlPoints:p})}if((null==d?void 0:d.type)===l.NodeType.META){x=r.findIndex((function(t){return t.id===(null==d?void 0:d.id)}));if(!r[x]||(null===(c=r[x].outEdges)||void 0===c?void 0:c.some((function(t){return t.source===d.id&&t.target===f.id}))))return;null===(h=r[x].outEdges)||void 0===h||h.push({source:d.id,target:f.id,controlPoints:p})}})))},e.prototype.getType=function(){return"dagreCompound"},e.prototype.getDataByOrder=function(t){return t.every((function(t){return void 0!==t.layoutOrder}))||t.forEach((function(t,e){t.layoutOrder=e})),t.sort((function(t,e){return t.layoutOrder-e.layoutOrder}))},e}(s.Base);e.DagreCompoundLayout=c},"./node_modules/@antv/layout/lib/layout/dagre/graph.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(n("./node_modules/@antv/graphlib/es/index.js").Graph);e.Graph=o},"./node_modules/@antv/layout/lib/layout/dagre/index.js":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/layout.js")),o=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js");e.default={layout:i.default,util:{time:o.time,notime:o.notime}}},"./node_modules/@antv/layout/lib/layout/dagre/src/acyclic.js":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/greedy-fas.js")),o=function(t){var e=[],n={},r={},i=function(o){var a;r[o]||(r[o]=!0,n[o]=!0,null===(a=t.outEdges(o))||void 0===a||a.forEach((function(t){n[t.w]?e.push(t):i(t.w)})),delete n[o])};return t.nodes().forEach(i),e};e.default={run:function(t){var e="greedy"===t.graph().acyclicer?(0,i.default)(t,function(t){return function(e){var n;return(null===(n=t.edge(e))||void 0===n?void 0:n.weight)||1}}(t)):o(t);null==e||e.forEach((function(e){var n=t.edge(e);t.removeEdgeObj(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,"rev-".concat(Math.random()))}))},undo:function(t){t.edges().forEach((function(e){var n=t.edge(e);if(n.reversed){t.removeEdgeObj(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},"./node_modules/@antv/layout/lib/layout/dagre/src/add-border-segments.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),i=function(t,e,n,i,o,a){var s={rank:a,borderType:e,width:0,height:0},l=o[e][a-1],u=(0,r.addDummyNode)(t,"border",s,n);o[e][a]=u,t.setParent(u,i),l&&t.setEdge(l,u,{weight:1})};e.default=function(t){var e,n=function(e){var r=t.children(e),o=t.node(e);if((null==r?void 0:r.length)&&r.forEach((function(t){return n(t)})),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,s=o.maxRank+1;a<s;a+=1)i(t,"borderLeft","_bl",e,o,a),i(t,"borderRight","_br",e,o,a)}};null===(e=t.children())||void 0===e||e.forEach((function(t){return n(t)}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/coordinate-system.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){t.nodes().forEach((function(e){r(t.node(e))})),t.edges().forEach((function(e){r(t.edge(e))}))},r=function(t){var e=t.width;t.width=t.height,t.height=e},i=function(t){t.nodes().forEach((function(e){o(t.node(e))})),t.edges().forEach((function(e){var n,r=t.edge(e);null===(n=r.points)||void 0===n||n.forEach((function(t){return o(t)})),r.hasOwnProperty("y")&&o(r)}))},o=function(t){(null==t?void 0:t.y)&&(t.y=-t.y)},a=function(t){t.nodes().forEach((function(e){s(t.node(e))})),t.edges().forEach((function(e){var n,r=t.edge(e);null===(n=r.points)||void 0===n||n.forEach((function(t){return s(t)})),r.hasOwnProperty("x")&&s(r)}))},s=function(t){var e=t.x;t.x=t.y,t.y=e};e.default={adjust:function(t){var e,r=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"lr"!==r&&"rl"!==r||n(t)},undo:function(t){var e,r=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"bt"!==r&&"rl"!==r||i(t),"lr"!==r&&"rl"!==r||(a(t),n(t))}}},"./node_modules/@antv/layout/lib/layout/dagre/src/data/list.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if("next"!==t&&"prev"!==t)return e},r=function(t){t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev},i=function(){function t(){var t={};t.prev=t,t.next=t.prev,this.shortcut=t}return t.prototype.dequeue=function(){var t=this.shortcut,e=t.prev;if(e&&e!==t)return r(e),e},t.prototype.enqueue=function(t){var e=this.shortcut;t.prev&&t.next&&r(t),t.next=e.next,e.next.prev=t,e.next=t,t.prev=e},t.prototype.toString=function(){for(var t=[],e=this.shortcut,r=e.prev;r!==e;)t.push(JSON.stringify(r,n)),r=null==r?void 0:r.prev;return"[".concat(t.join(", "),"]")},t}();e.default=i},"./node_modules/@antv/layout/lib/layout/dagre/src/greedy-fas.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n("./node_modules/@antv/layout/lib/layout/dagre/src/data/list.js")),s=n("./node_modules/@antv/graphlib/es/index.js"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(a.default),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(s.Graph),c=function(){return 1},h=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)d(t,e,n,r);for(;r=o.dequeue();)d(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(d(t,e,n,r,!0));break}}return i},d=function(t,e,n,r,i){var o,a,s=[];return null===(o=t.inEdges(r.v))||void 0===o||o.forEach((function(r){var o=t.edge(r),a=t.node(r.v);i&&s.push({v:r.v,w:r.w,in:0,out:0}),void 0===a.out&&(a.out=0),a.out-=o,p(e,n,a)})),null===(a=t.outEdges(r.v))||void 0===a||a.forEach((function(r){var i=t.edge(r),o=r.w,a=t.node(o);void 0===a.in&&(a.in=0),a.in-=i,p(e,n,a)})),t.removeNode(r.v),i?s:void 0},f=function(t,e){var n=new u,r=0,i=0;t.nodes().forEach((function(t){n.setNode(t,{v:t,in:0,out:0})})),t.edges().forEach((function(t){var o=n.edge(t)||0,a=(null==e?void 0:e(t))||1,s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)}));for(var o=[],a=i+r+3,s=0;s<a;s++)o.push(new l);var c=r+1;return n.nodes().forEach((function(t){p(o,c,n.node(t))})),{buckets:o,zeroIdx:c,graph:n}},p=function(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)};e.default=function(t,e){var n;if(t.nodeCount()<=1)return[];var r=f(t,e||c);return null===(n=h(r.graph,r.buckets,r.zeroIdx).map((function(e){return t.outEdges(e.v,e.w)})))||void 0===n?void 0:n.flat()}},"./node_modules/@antv/layout/lib/layout/dagre/src/layout.js":function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/acyclic.js")),a=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/normalize.js")),s=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/index.js")),l=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),u=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/parent-dummy-chains.js")),c=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/nesting-graph.js")),h=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/add-border-segments.js")),d=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/coordinate-system.js")),f=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/index.js")),p=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/position/index.js")),g=i(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/init-data-order.js")),m=n("./node_modules/@antv/layout/lib/layout/dagre/graph.js"),v=function(t,e,n){e("    removeSelfEdges",(function(){z(t)})),e("    acyclic",(function(){o.default.run(t)})),e("    nestingGraph.run",(function(){c.default.run(t)})),e("    rank",(function(){(0,s.default)((0,l.asNonCompoundGraph)(t))})),e("    injectEdgeLabelProxies",(function(){C(t)})),e("    removeEmptyRanks",(function(){(0,l.removeEmptyRanks)(t)})),e("    nestingGraph.cleanup",(function(){c.default.cleanup(t)})),e("    normalizeRanks",(function(){(0,l.normalizeRanks)(t)})),e("    assignRankMinMax",(function(){D(t)})),e("    removeEdgeLabelProxies",(function(){N(t)})),e("    normalize.run",(function(){a.default.run(t)})),e("    parentDummyChains",(function(){(0,u.default)(t)})),e("    addBorderSegments",(function(){(0,h.default)(t)})),n&&n.keepNodeOrder&&e("    initDataOrder",(function(){(0,g.default)(t,n.nodeOrder)})),e("    order",(function(){(0,f.default)(t,null==n?void 0:n.keepNodeOrder)})),e("    insertSelfEdges",(function(){B(t)})),e("    adjustCoordinateSystem",(function(){d.default.adjust(t)})),e("    position",(function(){(0,p.default)(t)})),e("    positionSelfEdges",(function(){F(t)})),e("    removeBorderNodes",(function(){j(t)})),e("    normalize.undo",(function(){a.default.undo(t)})),e("    fixupEdgeLabelCoords",(function(){P(t)})),e("    undoCoordinateSystem",(function(){d.default.undo(t)})),e("    translateGraph",(function(){O(t)})),e("    assignNodeIntersects",(function(){L(t)})),e("    reversePoints",(function(){R(t)})),e("    acyclic.undo",(function(){o.default.undo(t)}))},y=function(t,e){t.nodes().forEach((function(n){var r=t.node(n),i=e.node(n);void 0!==i?(r.fixorder=i._order,delete i._order):delete r.fixorder}))},b=function(t,e){t.nodes().forEach((function(n){var r,i=t.node(n);if(i){var o=e.node(n);i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=e.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height)}})),t.edges().forEach((function(n){var r=t.edge(n),i=e.edge(n);r.points=i?i.points:[],i&&i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height},x=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],S=["width","height","layer","fixorder"],M={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},A=["labelpos"],T=function(t){var e=new m.Graph({multigraph:!0,compound:!0}),n=V(t.graph()),i={};return null==w||w.forEach((function(t){void 0!==n[t]&&(i[t]=n[t])})),e.setGraph(Object.assign({},_,G(n,x),i)),t.nodes().forEach((function(n){var i=V(t.node(n)),o=r(r({},M),i),a=G(o,S);e.setNode(n,a),e.setParent(n,t.parent(n))})),t.edges().forEach((function(n){var r=V(t.edge(n)),i={};null==A||A.forEach((function(t){void 0!==r[t]&&(i[t]=r[t])})),e.setEdgeObj(n,Object.assign({},E,G(r,k),i))})),e},I=function(t){var e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach((function(e){var n=t.node(e);isNaN(n.layer)||n.layer||(n.layer=0)})),t.edges().forEach((function(n){var r,i=t.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))},C=function(t){t.edges().forEach((function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={e:e,rank:(t.node(e.w).rank-r.rank)/2+r.rank};(0,l.addDummyNode)(t,"edge-proxy",i,"_ep")}}))},D=function(t){var e=0;t.nodes().forEach((function(n){var r,i,o=t.node(n);o.borderTop&&(o.minRank=null===(r=t.node(o.borderTop))||void 0===r?void 0:r.rank,o.maxRank=null===(i=t.node(o.borderBottom))||void 0===i?void 0:i.rank,e=Math.max(e,o.maxRank||-1/0))})),t.graph().maxRank=e},N=function(t){t.nodes().forEach((function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))},O=function(t){var e,n,r=0,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0,l=function(t){if(t){var o=t.x,a=t.y,s=t.width,l=t.height;isNaN(o)||isNaN(s)||(void 0===e&&(e=o-s/2),e=Math.min(e,o-s/2),r=Math.max(r,o+s/2)),isNaN(a)||isNaN(l)||(void 0===n&&(n=a-l/2),n=Math.min(n,a-l/2),i=Math.max(i,a+l/2))}};t.nodes().forEach((function(e){l(t.node(e))})),t.edges().forEach((function(e){var n=t.edge(e);(null==n?void 0:n.hasOwnProperty("x"))&&l(n)})),e-=a,n-=s,t.nodes().forEach((function(r){var i=t.node(r);i&&(i.x-=e,i.y-=n)})),t.edges().forEach((function(r){var i,o=t.edge(r);null===(i=o.points)||void 0===i||i.forEach((function(t){t.x-=e,t.y-=n})),o.hasOwnProperty("x")&&(o.x-=e),o.hasOwnProperty("y")&&(o.y-=n)})),o.width=r-e+a,o.height=i-n+s},L=function(t){t.edges().forEach((function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift((0,l.intersectRect)(o,n)),i.points.push((0,l.intersectRect)(a,r))}))},P=function(t){t.edges().forEach((function(e){var n=t.edge(e);if(null==n?void 0:n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))},R=function(t){t.edges().forEach((function(e){var n,r=t.edge(e);r.reversed&&(null===(n=r.points)||void 0===n||n.reverse())}))},j=function(t){t.nodes().forEach((function(e){var n,r,i;if(null===(n=t.children(e))||void 0===n?void 0:n.length){var o=t.node(e),a=t.node(o.borderTop),s=t.node(o.borderBottom),l=t.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),u=t.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null==u?void 0:u.x)-(null==l?void 0:l.x))||10,o.height=Math.abs((null==s?void 0:s.y)-(null==a?void 0:a.y))||10,o.x=((null==l?void 0:l.x)||0)+o.width/2,o.y=((null==a?void 0:a.y)||0)+o.height/2}})),t.nodes().forEach((function(e){var n;"border"===(null===(n=t.node(e))||void 0===n?void 0:n.dummy)&&t.removeNode(e)}))},z=function(t){t.edges().forEach((function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdgeObj(e)}}))},B=function(t){var e=(0,l.buildLayerMatrix)(t);null==e||e.forEach((function(e){var n=0;null==e||e.forEach((function(e,r){var i,o=t.node(e);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach((function(e){(0,l.addDummyNode)(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))},F=function(t){t.nodes().forEach((function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdgeObj(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))},G=function(t,e){var n={};return null==e||e.forEach((function(e){void 0!==t[e]&&(n[e]=+t[e])})),n},V=function(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach((function(n){e[n.toLowerCase()]=t[n]})),e};e.default=function(t,e){var n=e&&e.debugTiming?l.time:l.notime;n("layout",(function(){e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",(function(){y(t,e.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return T(t)}));e&&!1===e.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){I(r)}));try{n("  runLayout",(function(){v(r,n,e)}))}catch(t){if("Not possible to find intersection inside of the rectangle"===t.message)return;throw t}n("  updateInputGraph",(function(){b(t,r)}))}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/nesting-graph.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),i=function(t,e,n,o,a,s,l){var u=t.children(l);if(null==u?void 0:u.length){var c=(0,r.addBorderNode)(t,"_bt"),h=(0,r.addBorderNode)(t,"_bb"),d=t.node(l);t.setParent(c,l),d.borderTop=c,t.setParent(h,l),d.borderBottom=h,null==u||u.forEach((function(r){i(t,e,n,o,a,s,r);var u=t.node(r),d=u.borderTop?u.borderTop:r,f=u.borderBottom?u.borderBottom:r,p=u.borderTop?o:2*o,g=d!==f?1:a-s[l]+1;t.setEdge(c,d,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(f,h,{minlen:g,weight:p,nestingEdge:!0})})),t.parent(l)||t.setEdge(e,c,{weight:0,minlen:a+s[l]})}else l!==e&&t.setEdge(e,l,{weight:0,minlen:n})},o=function(t){var e,n={},r=function(e,i){var o=t.children(e);null==o||o.forEach((function(t){return r(t,i+1)})),n[e]=i};return null===(e=t.children())||void 0===e||e.forEach((function(t){return r(t,1)})),n},a=function(t){var e=0;return t.edges().forEach((function(n){e+=t.edge(n).weight})),e};e.default={run:function(t){var e,n=(0,r.addDummyNode)(t,"root",{},"_root"),s=o(t),l=Math.max.apply(Math,Object.values(s));Math.abs(l)===1/0&&(l=1);var u=l-1,c=2*u+1;t.graph().nestingRoot=n,t.edges().forEach((function(e){t.edge(e).minlen*=c}));var h=a(t)+1;null===(e=t.children())||void 0===e||e.forEach((function(e){i(t,n,c,h,u,s,e)})),t.graph().nodeRankFactor=c},cleanup:function(t){var e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach((function(e){t.edge(e).nestingEdge&&t.removeEdgeObj(e)}))}}},"./node_modules/@antv/layout/lib/layout/dagre/src/normalize.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),i=function(t,e){var n=e.v,i=t.node(n).rank,o=e.w,a=t.node(o).rank,s=e.name,l=t.edge(e),u=l.labelRank;if(a!==i+1){t.removeEdgeObj(e);var c,h,d,f=t.graph();for(d=0,++i;i<a;++d,++i)l.points=[],h={edgeLabel:l,width:0,height:0,edgeObj:e,rank:i},c=(0,r.addDummyNode)(t,"edge",h,"_d"),i===u&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),t.setEdge(n,c,{weight:l.weight},s),0===d&&(f.dummyChains||(f.dummyChains=[]),f.dummyChains.push(c)),n=c;t.setEdge(n,o,{weight:l.weight},s)}};e.default={run:function(t){t.graph().dummyChains=[],t.edges().forEach((function(e){return i(t,e)}))},undo:function(t){var e;null===(e=t.graph().dummyChains)||void 0===e||e.forEach((function(e){var n,r=t.node(e),i=r.edgeLabel;r.edgeObj&&t.setEdgeObj(r.edgeObj,i);for(var o=e;r.dummy;)n=t.successors(o)[0],t.removeNode(o),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),o=n,r=t.node(o)}))}}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/add-subgraph-constraints.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var r,i={};null==n||n.forEach((function(n){for(var o,a,s=t.parent(n);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/barycenter.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return e.map((function(e){var n=t.inEdges(e);if(!(null==n?void 0:n.length))return{v:e};var r={sum:0,weight:0};return null==n||n.forEach((function(e){var n=t.edge(e),i=t.node(e.v);r.sum+=n.weight*i.order,r.weight+=n.weight})),{v:e,barycenter:r.sum/r.weight,weight:r.weight}}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/build-layer-graph.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/lib/layout/dagre/graph.js"),i=function(t){for(var e;t.hasNode(e="_root".concat(Math.random())););return e};e.default=function(t,e,n){var o=i(t),a=new r.Graph({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return t.nodes().forEach((function(r){var i,s=t.node(r),l=t.parent(r);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(r),a.setParent(r,l||o),null===(i=t[n](r))||void 0===i||i.forEach((function(e){var n=e.v===r?e.w:e.v,i=a.edgeFromArgs(n,r),o=void 0!==i?i.weight:0;a.setEdge(n,r,{weight:t.edge(e).weight+o})})),s.hasOwnProperty("minRank")&&a.setNode(r,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/cross-count.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),i=function(t,e,n){for(var i=(0,r.zipObject)(n,n.map((function(t,e){return e}))),o=e.map((function(e){var n,r=null===(n=t.outEdges(e))||void 0===n?void 0:n.map((function(e){return{pos:i[e.w]||0,weight:t.edge(e).weight}}));return null==r?void 0:r.sort((function(t,e){return t.pos-e.pos}))})).flat().filter((function(t){return void 0!==t})),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=Array(s).fill(0,0,s),u=0;return null==o||o.forEach((function(t){if(t){var e=t.pos+a;l[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=l[e+1]),l[e=e-1>>1]+=t.weight;u+=t.weight*n}})),u};e.default=function(t,e){for(var n=0,r=1;r<(null==e?void 0:e.length);r+=1)n+=i(t,e[r-1],e[r]);return n}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/index.js":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/init-order.js")),o=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/cross-count.js")),a=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/build-layer-graph.js")),s=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/add-subgraph-constraints.js")),l=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/sort-subgraph.js")),u=n("./node_modules/@antv/layout/lib/util/index.js"),c=n("./node_modules/@antv/layout/lib/layout/dagre/graph.js"),h=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),d=function(t,e,n){return e.map((function(e){return(0,a.default)(t,e,n)}))},f=function(t,e,n,r){var i=new c.Graph;null==t||t.forEach((function(t){for(var o,a=t.graph().root,u=(0,l.default)(t,a,i,e,n,r),c=0;c<(null===(o=u.vs)||void 0===o?void 0:o.length);c++){var h=t.node(u.vs[c]);h&&(h.order=c)}(0,s.default)(t,i,u.vs)}))},p=function(t,e){null==e||e.forEach((function(e){null==e||e.forEach((function(e,n){t.node(e).order=n}))}))};e.default=function(t,e){for(var n=(0,h.maxRank)(t),r=[],a=[],s=1;s<n+1;s++)r.push(s);for(s=n-1;s>-1;s--)a.push(s);var l=d(t,r,"inEdges"),c=d(t,a,"outEdges"),g=(0,i.default)(t);p(t,g);for(var m,v=Number.POSITIVE_INFINITY,y=(s=0,0);y<4;++s,++y){f(s%2?l:c,s%4>=2,!1,e),g=(0,h.buildLayerMatrix)(t),(b=(0,o.default)(t,g))<v&&(y=0,m=(0,u.clone)(g),v=b)}g=(0,i.default)(t),p(t,g);for(s=0,y=0;y<4;++s,++y){var b;f(s%2?l:c,s%4>=2,!0,e),g=(0,h.buildLayerMatrix)(t),(b=(0,o.default)(t,g))<v&&(y=0,m=(0,u.clone)(g),v=b)}p(t,m)}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/init-data-order.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){for(var n=t.nodes().filter((function(e){var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)})).map((function(e){return t.node(e).rank})),r=Math.max.apply(Math,n),i=[],o=0;o<r+1;o++)i[o]=[];null==e||e.forEach((function(e){var n=t.node(e);n&&!(null==n?void 0:n.dummy)&&(isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(e)))}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/init-order.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/node_modules/@antv/util/esm/index.js");e.default=function(t){for(var e={},n=t.nodes().filter((function(e){var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)})),i=n.map((function(e){return t.node(e).rank})),o=(0,r.max)(i),a=[],s=0;s<o+1;s++)a.push([]);var l=function(n){var r;if(!e.hasOwnProperty(n)){e[n]=!0;var i=t.node(n);isNaN(i.rank)||a[i.rank].push(n),null===(r=t.successors(n))||void 0===r||r.forEach((function(t){return l(t)}))}},u=n.sort((function(e,n){return t.node(e).rank-t.node(n).rank})),c=u.filter((function(e){return void 0!==t.node(e).fixorder})).sort((function(e,n){return t.node(e).fixorder-t.node(n).fixorder}));return null==c||c.forEach((function(n){isNaN(t.node(n).rank)||a[t.node(n).rank].push(n),e[n]=!0})),null==u||u.forEach(l),a}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/resolve-conflicts.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e,n,i=[],o=function(){var o=t.pop();i.push(o),null===(e=o.in.reverse())||void 0===e||e.forEach((function(t){return(e=o,function(t){t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&r(e,t)})(t);var e})),null===(n=o.out)||void 0===n||n.forEach((function(e){return(n=o,function(e){e.in.push(n),0==--e.indegree&&t.push(e)})(e);var n}))};null==t?void 0:t.length;)o();var a=i.filter((function(t){return!t.merged})),s=["vs","i","barycenter","weight"];return a.map((function(t){var e={};return null==s||s.forEach((function(n){void 0!==t[n]&&(e[n]=t[n])})),e}))},r=function(t,e){var n,r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=null===(n=e.vs)||void 0===n?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0};e.default=function(t,e){var r,i,o,a={};null==t||t.forEach((function(t,e){a[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};var n=a[t.v];void 0!==t.barycenter&&(n.barycenter=t.barycenter,n.weight=t.weight)})),null===(r=e.edges())||void 0===r||r.forEach((function(t){var e=a[t.v],n=a[t.w];void 0!==e&&void 0!==n&&(n.indegree++,e.out.push(a[t.w]))}));var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,(function(t){return!t.indegree}));return n(s)}},"./node_modules/@antv/layout/lib/layout/dagre/src/order/sort-subgraph.js":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/barycenter.js")),o=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/resolve-conflicts.js")),a=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/order/sort.js")),s=function(t,e,n,r,c,h){var d,f,p,g,m=t.children(e),v=t.node(e),y=v?v.borderLeft:void 0,b=v?v.borderRight:void 0,x={};y&&(m=null==m?void 0:m.filter((function(t){return t!==y&&t!==b})));var _=(0,i.default)(t,m||[]);null==_||_.forEach((function(e){var i;if(null===(i=t.children(e.v))||void 0===i?void 0:i.length){var o=s(t,e.v,n,r,h);x[e.v]=o,o.hasOwnProperty("barycenter")&&u(e,o)}}));var w=(0,o.default)(_,n);l(w,x),null===(d=w.filter((function(t){return t.vs.length>0})))||void 0===d||d.forEach((function(e){var n=t.node(e.vs[0]);n&&(e.fixorder=n.fixorder,e.order=n.order)}));var S=(0,a.default)(w,r,c,h);if(y&&(S.vs=[y,S.vs,b].flat(),null===(f=t.predecessors(y))||void 0===f?void 0:f.length)){var M=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||""),k=t.node((null===(g=t.predecessors(b))||void 0===g?void 0:g[0])||"");S.hasOwnProperty("barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+M.order+k.order)/(S.weight+2),S.weight+=2}return S},l=function(t,e){null==t||t.forEach((function(t){var n,r=null===(n=t.vs)||void 0===n?void 0:n.map((function(t){return e[t]?e[t].vs:t}));t.vs=r.flat()}))},u=function(t,e){void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)};e.default=s},"./node_modules/@antv/layout/lib/layout/dagre/src/order/sort.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),i=function(t,e,n){for(var r,i=n;e.length&&(r=e[e.length-1]).i<=i;)e.pop(),null==t||t.push(r.vs),i++;return i},o=function(t,e){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i}};e.default=function(t,e,n,a){var s=(0,r.partition)(t,(function(t){var e=t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder);return a?!e&&t.hasOwnProperty("barycenter"):e||t.hasOwnProperty("barycenter")})),l=s.lhs,u=s.rhs.sort((function(t,e){return-t.i- -e.i})),c=[],h=0,d=0,f=0;null==l||l.sort(o(!!e,!!n)),f=i(c,u,f),null==l||l.forEach((function(t){var e;f+=null===(e=t.vs)||void 0===e?void 0:e.length,c.push(t.vs),h+=t.barycenter*t.weight,d+=t.weight,f=i(c,u,f)}));var p={vs:c.flat()};return d&&(p.barycenter=h/d,p.weight=d),p}},"./node_modules/@antv/layout/lib/layout/dagre/src/parent-dummy-chains.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e,n=function(t){var e,n={},r=0,i=function(e){var o,a=r;null===(o=t.children(e))||void 0===o||o.forEach(i),n[e]={low:a,lim:r++}};return null===(e=t.children())||void 0===e||e.forEach(i),n}(t);null===(e=t.graph().dummyChains)||void 0===e||e.forEach((function(e){var r,i,o=e,a=t.node(o),s=a.edgeObj;if(s)for(var l=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||u>e[i].lim));for(o=i,i=r;i&&i!==o;)s.push(i),i=t.parent(i);return{lca:o,path:a.concat(s.reverse())}}(t,n,s.v,s.w),u=l.path,c=l.lca,h=0,d=u[h],f=!0;o!==s.w;){if(a=t.node(o),f){for(;d!==c&&(null===(r=t.node(d))||void 0===r?void 0:r.maxRank)<a.rank;)d=u[++h];d===c&&(f=!1)}if(!f){for(;h<u.length-1&&(null===(i=t.node(u[h+1]))||void 0===i?void 0:i.minRank)<=a.rank;)h++;d=u[h]}t.setParent(o,d),o=t.successors(o)[0]}}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/position/bk.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.width=e.sep=e.positionX=e.balance=e.alignCoordinates=e.findSmallestWidthAlignment=e.buildBlockGraph=e.horizontalCompaction=e.verticalAlignment=e.hasConflict=e.addConflict=e.findOtherInnerSegmentNode=e.findType2Conflicts=e.findType1Conflicts=void 0;var o=n("./node_modules/@antv/graphlib/es/index.js"),a=n("./node_modules/@antv/layout/node_modules/@antv/util/esm/index.js"),s=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Graph);e.findType1Conflicts=function(t,n){var r={};return(null==n?void 0:n.length)&&n.reduce((function(n,i){var o=0,a=0,s=n.length,l=null==i?void 0:i[(null==i?void 0:i.length)-1];return null==i||i.forEach((function(n,u){var c,h=(0,e.findOtherInnerSegmentNode)(t,n),d=h?t.node(h).order:s;(h||n===l)&&(null===(c=i.slice(a,u+1))||void 0===c||c.forEach((function(n){var i;null===(i=t.predecessors(n))||void 0===i||i.forEach((function(i){var a,s=t.node(i),l=s.order;!(l<o||d<l)||s.dummy&&(null===(a=t.node(n))||void 0===a?void 0:a.dummy)||(0,e.addConflict)(r,i,n)}))})),a=u+1,o=d)})),i})),r};e.findType2Conflicts=function(t,n){var r={};function i(n,i,o,a,s){for(var l,u,c,h=i;h<o;h++)c=n[h],(null===(l=t.node(c))||void 0===l?void 0:l.dummy)&&(null===(u=t.predecessors(c))||void 0===u||u.forEach((function(n){var i=t.node(n);i.dummy&&(i.order<a||i.order>s)&&(0,e.addConflict)(r,n,c)})))}function o(t,e){var n=function(t){return JSON.stringify(t.slice(1))}(t);e.get(n)||(i.apply(void 0,t),e.set(n,!0))}return(null==n?void 0:n.length)&&n.reduce((function(e,n){var r,i=-1,a=0,s=new Map;return null==n||n.forEach((function(l,u){var c;if("border"===(null===(c=t.node(l))||void 0===c?void 0:c.dummy)){var h=t.predecessors(l)||[];h.length&&(r=t.node(h[0]).order,o([n,a,u,i,r],s),a=u,i=r)}o([n,a,n.length,r,e.length],s)})),n})),r};e.findOtherInnerSegmentNode=function(t,e){var n,r;if(null===(n=t.node(e))||void 0===n?void 0:n.dummy)return null===(r=t.predecessors(e))||void 0===r?void 0:r.find((function(e){return t.node(e).dummy}))};e.addConflict=function(t,e,n){var r=e,i=n;if(r>i){var o=r;r=i,i=o}var a=t[r];a||(t[r]=a={}),a[i]=!0};e.hasConflict=function(t,e,n){var r=e;r>n&&(r=n);return!!t[r]};e.verticalAlignment=function(t,n,r,i){var o={},a={},s={};return null==n||n.forEach((function(t){null==t||t.forEach((function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),null==n||n.forEach((function(t){var n=-1;null==t||t.forEach((function(t){var l=i(t);if(l.length)for(var u=((l=l.sort((function(t,e){return s[t]-s[e]}))).length-1)/2,c=Math.floor(u),h=Math.ceil(u);c<=h;++c){var d=l[c];a[t]===t&&n<s[d]&&!(0,e.hasConflict)(r,t,d)&&(a[d]=t,a[t]=o[t]=o[d],n=s[d])}}))})),{root:o,align:a}};e.horizontalCompaction=function(t,n,r,i,o){var a,s={},l=(0,e.buildBlockGraph)(t,n,r,o),u=o?"borderLeft":"borderRight",c=function(t,e){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()};return c((function(t){s[t]=(l.inEdges(t)||[]).reduce((function(t,e){return Math.max(t,(s[e.v]||0)+l.edge(e))}),0)}),l.predecessors.bind(l)),c((function(e){var n=(l.outEdges(e)||[]).reduce((function(t,e){return Math.min(t,(s[e.w]||0)-l.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(s[e]=Math.max(s[e],n))}),l.successors.bind(l)),null===(a=Object.values(i))||void 0===a||a.forEach((function(t){s[t]=s[r[t]]})),s};e.buildBlockGraph=function(t,n,r,i){var o=new l,a=t.graph(),s=(0,e.sep)(a.nodesep,a.edgesep,i);return null==n||n.forEach((function(e){var n;null==e||e.forEach((function(e){var i=r[e];if(o.setNode(i),n){var a=r[n],l=o.edgeFromArgs(a,i);o.setEdge(a,i,Math.max(s(t,e,n),l||0))}n=e}))})),o};function u(t,e){var n=Object.values(e),r=(0,a.min)(n),i=(0,a.max)(n);["u","d"].forEach((function(n){["l","r"].forEach((function(o){var s,l=n+o,u=t[l];if(u!==e){var c=Object.values(u);(s="l"===o?r-(0,a.min)(c):i-(0,a.max)(c))&&(t[l]={},Object.keys(u).forEach((function(e){t[l][e]=u[e]+s})))}}))}))}e.findSmallestWidthAlignment=function(t,n){return(0,s.minBy)(Object.values(n),(function(n){var r,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(r=Object.keys(n))||void 0===r||r.forEach((function(r){var a=n[r],s=(0,e.width)(t,r)/2;i=Math.max(a+s,i),o=Math.min(a-s,o)})),i-o}))},e.alignCoordinates=u;e.balance=function(t,e){var n={};return Object.keys(t.ul).forEach((function(r){if(e)n[r]=t[e.toLowerCase()][r];else{var i=Object.values(t).map((function(t){return t[r]}));n[r]=(i[0]+i[1])/2}})),n};e.positionX=function(t){var n,r=(0,s.buildLayerMatrix)(t),i=Object.assign((0,e.findType1Conflicts)(t,r),(0,e.findType2Conflicts)(t,r)),o={};["u","d"].forEach((function(a){n="u"===a?r:Object.values(r).reverse(),["l","r"].forEach((function(r){"r"===r&&(n=n.map((function(t){return Object.values(t).reverse()})));var s=("u"===a?t.predecessors:t.successors).bind(t),l=(0,e.verticalAlignment)(t,n,i,s),u=(0,e.horizontalCompaction)(t,n,l.root,l.align,"r"===r);"r"===r&&Object.keys(u).forEach((function(t){u[t]=-u[t]})),o[a+r]=u}))}));var a=(0,e.findSmallestWidthAlignment)(t,o);return u(o,a),(0,e.balance)(o,t.graph().align)};e.sep=function(t,e,n){return function(r,i,o){var a,s=r.node(i),l=r.node(o),u=0;if(u+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=n?a:-a),a=0,u+=(s.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,l.labelpos)switch((l.labelpos||"").toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(u+=n?a:-a),a=0,u}};e.width=function(t,e){return t.node(e).width||0}},"./node_modules/@antv/layout/lib/layout/dagre/src/position/index.js":function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),o=n("./node_modules/@antv/layout/lib/layout/dagre/src/position/bk.js");e.default=function(t){var e,n=(0,i.asNonCompoundGraph)(t);!function(t){var e=(0,i.buildLayerMatrix)(t),n=t.graph().ranksep,o=0;null==e||e.forEach((function(e){var i=e.map((function(e){return t.node(e).height})),a=Math.max.apply(Math,r(r([],i,!1),[0],!1));null==e||e.forEach((function(e){t.node(e).y=o+a/2})),o+=a+n}))}(n);var a=function(t){var e=(0,i.buildLayerMatrix)(t),n=Object.assign((0,o.findType1Conflicts)(t,e),(0,o.findType2Conflicts)(t,e)),r={},a=[];["u","d"].forEach((function(i){a="u"===i?e:Object.values(e).reverse(),["l","r"].forEach((function(e){"r"===e&&(a=a.map((function(t){return Object.values(t).reverse()})));var s=("u"===i?t.predecessors:t.successors).bind(t),l=(0,o.verticalAlignment)(t,a,n,s),u=(0,o.horizontalCompaction)(t,a,l.root,l.align,"r"===e);"r"===e&&Object.keys(u).forEach((function(t){return u[t]=-u[t]})),r[i+e]=u}))}));var s=(0,o.findSmallestWidthAlignment)(t,r);return s&&(0,o.alignCoordinates)(r,s),(0,o.balance)(r,t.graph().align)}(n);null===(e=Object.keys(a))||void 0===e||e.forEach((function(t){n.node(t).x=a[t]}))}},"./node_modules/@antv/layout/lib/layout/dagre/src/rank/feasible-tree.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.feasibleTreeWithLayer=e.feasibleTree=void 0;var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/util.js"),i=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),o=n("./node_modules/@antv/layout/lib/layout/dagre/graph.js"),a=function(t){var e,n,i=new o.Graph({directed:!1}),a=t.nodes()[0],l=t.nodeCount();for(i.setNode(a,{});s(i,t)<l;)e=c(i,t),n=i.hasNode(e.v)?(0,r.slack)(t,e):-(0,r.slack)(t,e),h(i,t,n);return i};e.feasibleTree=a;var s=function(t,e){var n=function(i){e.nodeEdges(i).forEach((function(o){var a=o.v,s=i===a?o.w:a;t.hasNode(s)||(0,r.slack)(e,o)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))};return t.nodes().forEach(n),t.nodeCount()},l=function(t){var e,n,i=new o.Graph({directed:!1}),a=t.nodes()[0],s=t.nodes().filter((function(e){return!!t.node(e)})).length;for(i.setNode(a,{});u(i,t)<s;)e=c(i,t),n=i.hasNode(e.v)?(0,r.slack)(t,e):-(0,r.slack)(t,e),h(i,t,n);return i};e.feasibleTreeWithLayer=l;var u=function(t,e){var n=function(i){var o;null===(o=e.nodeEdges(i))||void 0===o||o.forEach((function(o){var a=o.v,s=i===a?o.w:a;t.hasNode(s)||void 0===e.node(s).layer&&(0,r.slack)(e,o)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))};return t.nodes().forEach(n),t.nodeCount()},c=function(t,e){return(0,i.minBy)(e.edges(),(function(n){return t.hasNode(n.v)!==t.hasNode(n.w)?(0,r.slack)(e,n):1/0}))},h=function(t,e,n){t.nodes().forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=n}))};e.default={feasibleTree:a,feasibleTreeWithLayer:l}},"./node_modules/@antv/layout/lib/layout/dagre/src/rank/index.js":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/util.js"),o=n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/feasible-tree.js"),a=r(n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/network-simplex.js")),s=i.longestPath,l=function(t){(0,i.longestPathWithLayer)(t),(0,o.feasibleTreeWithLayer)(t)},u=function(t){(0,a.default)(t)};e.default=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":default:l(t);break;case"longest-path":s(t)}}},"./node_modules/@antv/layout/lib/layout/dagre/src/rank/network-simplex.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exchangeEdges=e.enterEdge=e.leaveEdge=e.initLowLimValues=e.calcCutValue=e.initCutValues=void 0;var r=n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/feasible-tree.js"),i=n("./node_modules/@antv/layout/lib/layout/dagre/src/rank/util.js"),o=n("./node_modules/@antv/layout/lib/layout/dagre/src/util.js"),a=n("./node_modules/@antv/graphlib/es/index.js"),s=a.algorithm.preorder,l=a.algorithm.postorder;e.initCutValues=function(t,e){var n=l(t,t.nodes());null==(n=null==n?void 0:n.slice(0,(null==n?void 0:n.length)-1))||n.forEach((function(n){u(t,e,n)}))};var u=function(t,n,r){var i=t.node(r).parent;t.edgeFromArgs(r,i).cutvalue=(0,e.calcCutValue)(t,n,r)};e.calcCutValue=function(t,e,n){var r,i=t.node(n).parent,o=!0,a=e.edgeFromArgs(n,i),s=0;return a||(o=!1,a=e.edgeFromArgs(i,n)),s=a.weight,null===(r=e.nodeEdges(n))||void 0===r||r.forEach((function(r){var a=r.v===n,l=a?r.w:r.v;if(l!==i){var u=a===o,c=e.edge(r).weight;if(s+=u?c:-c,d(t,n,l)){var h=t.edgeFromArgs(n,l).cutvalue;s+=u?-h:h}}})),s};e.initLowLimValues=function(t,e){void 0===e&&(e=t.nodes()[0]),c(t,{},1,e)};var c=function(t,e,n,r,i){var o,a=n,s=n,l=t.node(r);return e[r]=!0,null===(o=t.neighbors(r))||void 0===o||o.forEach((function(n){e[n]||(s=c(t,e,s,n,r))})),l.low=a,l.lim=s++,i?l.parent=i:delete l.parent,s};e.leaveEdge=function(t){return t.edges().find((function(e){return t.edge(e).cutvalue<0}))};e.enterEdge=function(t,e,n){var r=n.v,a=n.w;e.hasEdge(r,a)||(r=n.w,a=n.v);var s=t.node(r),l=t.node(a),u=s,c=!1;s.lim>l.lim&&(u=l,c=!0);var h=e.edges().filter((function(e){return c===f(t,t.node(e.v),u)&&c!==f(t,t.node(e.w),u)}));return(0,o.minBy)(h,(function(t){return(0,i.slack)(e,t)}))};e.exchangeEdges=function(t,n,r,i){var o=r.v,a=r.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),(0,e.initLowLimValues)(t),(0,e.initCutValues)(t,n),h(t,n)};var h=function(t,e){var n=t.nodes().find((function(t){var n;return!(null===(n=e.node(t))||void 0===n?void 0:n.parent)})),r=s(t,n);null==(r=null==r?void 0:r.slice(1))||r.forEach((function(n){var r=t.node(n).parent,i=e.edgeFromArgs(n,r),o=!1;i||(i=e.edgeFromArgs(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))},d=function(t,e,n){return t.hasEdge(e,n)},f=function(t,e,n){return n.low<=e.lim&&e.lim<=n.lim};e.default=function(t){var n=(0,o.simplify)(t);(0,i.longestPath)(n);var a,s,l=(0,r.feasibleTree)(n);for((0,e.initLowLimValues)(l),(0,e.initCutValues)(l,n);a=(0,e.leaveEdge)(l);)s=(0,e.enterEdge)(l,n,a),(0,e.exchangeEdges)(l,n,a,s)}},"./node_modules/@antv/layout/lib/layout/dagre/src/rank/util.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slack=e.longestPathWithLayer=e.longestPath=void 0;var n=function(t){var e,n={},r=function(e){var i,o,a=t.node(e);return a?n[e]?a.rank:(n[e]=!0,null===(i=t.outEdges(e))||void 0===i||i.forEach((function(e){var n=r(e.w)-t.edge(e).minlen;n&&(void 0===o||n<o)&&(o=n)})),o||(o=0),a.rank=o,o):0};null===(e=t.sources())||void 0===e||e.forEach((function(t){return r(t)}))};e.longestPath=n;var r=function(t){var e,n,r={},i=function(e){var o,a,s=t.node(e);return s?r[e]?s.rank:(r[e]=!0,null===(o=t.outEdges(e))||void 0===o||o.forEach((function(e){var n=i(e.w)-t.edge(e).minlen;n&&(void 0===a||n<a)&&(a=n)})),a||(a=0),(void 0===n||a<n)&&(n=a),s.rank=a,a):0};null===(e=t.sources())||void 0===e||e.forEach((function(e){t.node(e)&&i(e)})),void 0===n&&(n=0);var o={},a=function(e,n){var r,i=t.node(e),s=isNaN(i.layer)?n:i.layer;(void 0===i.rank||i.rank<s)&&(i.rank=s),o[e]||(o[e]=!0,null===(r=t.outEdges(e))||void 0===r||r.map((function(e){a(e.w,s+t.edge(e).minlen)})))};t.nodes().forEach((function(e){var r=t.node(e);r&&(isNaN(r.layer)?r.rank-=n:a(e,r.layer))}))};e.longestPathWithLayer=r;var i=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen};e.slack=i,e.default={longestPath:n,longestPathWithLayer:r,slack:i}},"./node_modules/@antv/layout/lib/layout/dagre/src/util.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minBy=e.notime=e.time=e.partition=e.maxRank=e.addBorderNode=e.removeEmptyRanks=e.normalizeRanks=e.buildLayerMatrix=e.intersectRect=e.predecessorWeights=e.successorWeights=e.zipObject=e.asNonCompoundGraph=e.simplify=e.addDummyNode=void 0;var r=n("./node_modules/@antv/layout/lib/util/index.js"),i=n("./node_modules/@antv/layout/lib/layout/dagre/graph.js");e.addDummyNode=function(t,e,n,r){var i;do{i="".concat(r).concat(Math.random())}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i};e.simplify=function(t){var e=(new i.Graph).setGraph(t.graph());return t.nodes().forEach((function(n){e.setNode(n,t.node(n))})),t.edges().forEach((function(n){var r=e.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e};e.asNonCompoundGraph=function(t){var e=new i.Graph({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach((function(n){var r;(null===(r=t.children(n))||void 0===r?void 0:r.length)||e.setNode(n,t.node(n))})),t.edges().forEach((function(n){e.setEdgeObj(n,t.edge(n))})),e};e.zipObject=function(t,e){return null==t?void 0:t.reduce((function(t,n,r){return t[n]=e[r],t}),{})};e.successorWeights=function(t){var e={};return t.nodes().forEach((function(n){var r,i={};null===(r=t.outEdges(n))||void 0===r||r.forEach((function(e){var n;i[e.w]=(i[e.w]||0)+((null===(n=t.edge(e))||void 0===n?void 0:n.weight)||0)})),e[n]=i})),e};e.predecessorWeights=function(t){var n=t.nodes(),r=n.map((function(e){var n,r={};return null===(n=t.inEdges(e))||void 0===n||n.forEach((function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight})),r}));return(0,e.zipObject)(n,r)};e.intersectRect=function(t,e){var n,r,i=Number(t.x),o=Number(t.y),a=Number(e.x)-i,s=Number(e.y)-o,l=Number(t.width)/2,u=Number(t.height)/2;return a||s?(Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a),{x:i+n,y:o+r}):{x:0,y:0}};e.buildLayerMatrix=function(t){for(var n=[],r=(0,e.maxRank)(t)+1,i=0;i<r;i++)n.push([]);t.nodes().forEach((function(e){var r=t.node(e);if(r){var i=r.rank;void 0!==i&&n[i]&&n[i].push(e)}}));for(i=0;i<r;i++)n[i]=n[i].sort((function(e,n){var r,i,o,a;return o=null===(r=t.node(e))||void 0===r?void 0:r.order,a=null===(i=t.node(n))||void 0===i?void 0:i.order,Number(o)-Number(a)}));return n};e.normalizeRanks=function(t){var e=t.nodes().filter((function(e){var n;return void 0!==(null===(n=t.node(e))||void 0===n?void 0:n.rank)})).map((function(e){return t.node(e).rank})),n=Math.min.apply(Math,e);t.nodes().forEach((function(e){var r=t.node(e);r.hasOwnProperty("rank")&&n!==1/0&&(r.rank-=n)}))};e.removeEmptyRanks=function(t){var e=t.nodes(),n=e.filter((function(e){var n;return void 0!==(null===(n=t.node(e))||void 0===n?void 0:n.rank)})).map((function(e){return t.node(e).rank})),r=Math.min.apply(Math,n),i=[];e.forEach((function(e){var n,o=((null===(n=t.node(e))||void 0===n?void 0:n.rank)||0)-r;i[o]||(i[o]=[]),i[o].push(e)}));for(var o=0,a=t.graph().nodeRankFactor||0,s=0;s<i.length;s++){var l=i[s];void 0===l?s%a!=0&&(o-=1):o&&(null==l||l.forEach((function(e){var n=t.node(e);n&&(n.rank=n.rank||0,n.rank+=o)})))}};e.addBorderNode=function(t,n,i,o){var a={width:0,height:0};return(0,r.isNumber)(i)&&(0,r.isNumber)(o)&&(a.rank=i,a.order=o),(0,e.addDummyNode)(t,"border",a,n)};e.maxRank=function(t){var e;return t.nodes().forEach((function(n){var r,i=null===(r=t.node(n))||void 0===r?void 0:r.rank;void 0!==i&&(void 0===e||i>e)&&(e=i)})),e||(e=0),e};e.partition=function(t,e){var n={lhs:[],rhs:[]};return null==t||t.forEach((function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n};e.time=function(t,e){Date.now();try{return e()}finally{}};e.notime=function(t,e){return e()};e.minBy=function(t,e){return t.reduce((function(t,n){return e(t)>e(n)?n:t}))}},"./node_modules/@antv/layout/lib/layout/er/core.js":function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=a(n("./node_modules/d3-force/src/index.js")),u=s(n("./node_modules/@antv/layout/lib/layout/er/forceGrid.js")),c=s(n("./node_modules/@antv/layout/lib/layout/er/mysqlWorkbench.js")),h=n("./node_modules/@antv/layout/lib/layout/dagre.js");e.default=function(t,e){var n=t.nodes,i=t.edges,o=e.width,a=e.height;if(!(null==n?void 0:n.length))return Promise.resolve();var s=[];n.forEach((function(t){if(i.filter((function(e){return e.source===t.id||e.target===t.id})).length>1){var e=r({},t);delete e.size,s.push(e)}}));var d=[];i.forEach((function(t){var e=s.find((function(e){return e.id===t.source})),n=s.find((function(e){return e.id===t.target}));e&&n&&d.push(t)}));var f=new h.DagreLayout({type:"dagre",ranksep:e.nodeMinGap,nodesep:e.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach((function(t){var e=(f||[]).find((function(e){return e.id===t.id}));t.x=(null==e?void 0:e.x)||o/2,t.y=(null==e?void 0:e.y)||a/2}));var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(i)),m=l.forceSimulation().nodes(p).force("link",l.forceLink(g).id((function(t){return t.id})).distance((function(t){return d.find((function(e){return e.source===t.source&&e.target===t.target}))?30:20}))).force("charge",l.forceManyBody()).force("center",l.forceCenter(o/2,a/2)).force("x",l.forceX(o/2)).force("y",l.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise((function(t){m.on("end",(function(){n.forEach((function(t){var e=p.find((function(e){return e.id===t.id}));e&&(t.x=e.x,t.y=e.y)}));var r=Math.min.apply(Math,n.map((function(t){return t.x}))),s=Math.max.apply(Math,n.map((function(t){return t.x}))),l=Math.min.apply(Math,n.map((function(t){return t.y}))),h=Math.max.apply(Math,n.map((function(t){return t.y}))),d=o/(s-r),f=a/(h-l);n.forEach((function(t){void 0!==t.x&&d<1&&(t.x=(t.x-r)*d),void 0!==t.y&&f<1&&(t.y=(t.y-l)*f)})),n.forEach((function(t){t.sizeTemp=t.size,t.size=[10,10]})),(0,c.default)(n,i),n.forEach((function(t){t.size=t.sizeTemp||[],delete t.sizeTemp})),(0,u.default)({nodes:n,edges:i},e),t()}))}))}},"./node_modules/@antv/layout/lib/layout/er/forceGrid.js":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("./node_modules/@antv/layout/lib/layout/er/grid.js"));e.default=function(t,e){if(!t.nodes||0===t.nodes.length)return t;var n=e.width,r=e.height,o=e.nodeMinGap,a=1e4,s=1e4;t.nodes.forEach((function(t){var e=t.size[0]||50,n=t.size[1]||50;a=Math.min(e,a),s=Math.min(n,s)}));var l=new i.default;l.init(n,r,{CELL_H:s,CELL_W:a}),t.nodes.forEach((function(t){var e=l.occupyNearest(t);e&&(e.node={id:t.id,size:t.size},t.x=e.x,t.y=e.y,t.dx=e.dx,t.dy=e.dy)}));for(var u=0;u<t.nodes.length;u++){var c=t.nodes[u],h=l.findGridByNodeId(c.id);if(!h)throw new Error("can not find node cell");var d=h.column,f=h.row;if(c.size[0]+o>a){for(var p=m=Math.ceil((c.size[0]+o)/a)-1,g=0;g<m;g++){if(!(l.additionColumn.indexOf(d+g+1)>-1)||l.cells[d+g+1][f].node)break;p--}l.insertColumn(d,p)}if(c.size[1]+o>s){var m;for(p=m=Math.ceil((c.size[1]+o)/s)-1,g=0;g<m;g++){if(!(l.additionRow.indexOf(f+g+1)>-1)||l.cells[d][f+g+1].node)break;p--}l.insertRow(f,p)}}for(u=0;u<l.columnNum;u++){var v=function(e){var n=l.cells[u][e];if(n.node){var r=t.nodes.find((function(t){var e;return t.id===(null===(e=null==n?void 0:n.node)||void 0===e?void 0:e.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<l.rowNum;g++)v(g)}}},"./node_modules/@antv/layout/lib/layout/er/grid.js":function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return t.prototype.init=function(e,n,r){this.cells=[],this.CELL_W=r.CELL_W||t.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||t.DEFAULT_CELL_H,this.columnNum=Math.ceil(e/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),t.MIN_DIST=Math.pow(e,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},t.prototype.findGridByNodeId=function(t){for(var e,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(e=this.cells[r][i])||void 0===e?void 0:e.node)||void 0===n?void 0:n.id)===t)return{column:r,row:i};return null},t.prototype.sqdist=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},t.prototype.occupyNearest=function(e){for(var n,r=t.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(e,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},t.prototype.insertColumn=function(t,e){if(!(e<=0)){for(var r=0;r<e;r++){this.cells[r+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>t;r--)for(i=0;i<this.rowNum;i++)this.cells[r+e][i]=n(n({},this.cells[r][i]),{x:(r+e)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=t&&(this.additionColumn[i]+=e);for(r=0;r<e;r++)this.additionColumn.push(t+r+1);this.columnNum+=e}},t.prototype.insertRow=function(t,e){if(!(e<=0)){for(var r=0;r<e;r++)for(var i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(r=this.rowNum-1;r>t;r--)this.cells[i][r+e]=n(n({},this.cells[i][r]),{dx:i,dy:r+e,x:i*this.CELL_W,y:(r+e)*this.CELL_H}),this.cells[i][r]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=t&&(this.additionRow[r]+=e);for(i=0;i<e;i++)this.additionRow.push(t+i+1);this.rowNum+=e}},t.prototype.getNodes=function(){for(var t=[],e=0;e<this.columnNum;e++)for(var n=0;n<this.rowNum;n++)this.cells[e][n].node&&t.push(this.cells[e][n]);return t},t.MIN_DIST=50,t.DEFAULT_CELL_W=80,t.DEFAULT_CELL_H=80,t}();e.default=r},"./node_modules/@antv/layout/lib/layout/er/index.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=void 0;var a=n("./node_modules/@antv/layout/lib/layout/base.js"),s=o(n("./node_modules/@antv/layout/lib/layout/er/core.js")),l=function(t){function e(e){var n=t.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},e&&n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges;return null==e||e.forEach((function(t){t.size||(t.size=[50,50])})),(0,s.default)({nodes:e,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.getType=function(){return"er"},e}(a.Base);e.ERLayout=l},"./node_modules/@antv/layout/lib/layout/er/mysqlWorkbench.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=1200,r=800,i=1e7,o=10,a=3.141592653589793,s=1.5707963267948966,l=.375*a,u=.625*a,c=new Map,h=10,d=10,f=.8,p=.1,g=.5;function m(t,e){var n=(c.get(t.id)||[]).find((function(t){return t.source===e.id||t.target===e.id})),r=t.size[0]*t.size[1],a=e.size[0]*e.size[1],h=r>a?e:t,d=r>a?t:e,f=h.x-h.size[0]/2,p=h.y-h.size[1]/2,g=h.x+h.size[0]/2,m=h.y+h.size[1]/2,v=d.x-d.size[0]/2,y=d.y-d.size[1]/2,b=d.x+d.size[0]/2,x=d.y+d.size[1]/2,_=h.x,w=h.y,S=d.x,M=d.y,k=0,E=0;if(g>=v&&b>=f&&m>=y&&x>=p){0===(E=Math.sqrt(Math.pow(S-_,2)+Math.pow(M-w,2)))&&(E=1e-7),k=1*o/E*100+((g<b?g:b)-(f>v?f:v))*((m<x?m:x)-(p>y?p:y)),k*=i}else{var A=!1,T=function(t,e,n){var r=t.x-t.size[0]/2,i=t.y-t.size[1]/2,o=t.x+t.size[0]/2,a=t.y+t.size[1]/2,c=e.x-e.size[0]/2,h=e.y-e.size[1]/2,d=e.x+e.size[0]/2,f=e.y+e.size[1]/2,p=t.x,g=t.y,m=e.x,v=e.y,y=m-p,b=Math.atan2(y,v-g),x=0,_=0,w=0,S=0;b>s?(_=i-f,x=c-o,w=parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)),S=parseFloat(x?(x/Math.sin(b)).toFixed(2):_.toFixed(2))):w=S=0<b&&b<=s?(_=h-a)>(x=c-o)?parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x?(x/Math.sin(b)).toFixed(2):_.toFixed(2)):b<-s?(_=i-f)>(x=-(d-r))?parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x?(x/Math.sin(b)).toFixed(2):_.toFixed(2)):(_=h-a)>(x=Math.abs(y)>(o-r)/2?r-d:y)?parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x&&0!==b?(x/Math.sin(b)).toFixed(2):_.toFixed(2));var M=parseFloat(b.toFixed(2)),k=n;return n&&(k=l<M&&M<u),{distance:Math.abs(w<S?w:S),isHoriz:k}}(h,d,A);E=T.distance,A=T.isHoriz,E<=o?k+=0!==E?n?o+1*i/E:o+i*o/E:i:(k+=E,n&&(k+=E*E))}return k}function v(t){for(var e=0,i=0;i<t.length;i++){var o=t[i];(o.x<0||o.y<0||o.x>n||o.y>r)&&(e+=1e12);for(var a=i+1;a<t.length;a++)e+=m(o,t[a])}return e}function y(t,e,n,r){var i=new Map;n.forEach((function(t,e){i.set(t.id,t)}));var o=r.filter((function(e){return e.source===t.id||e.target===t.id}))||[],a=[];o.forEach((function(e){var n=e.source===t.id?e.target:e.source,r=i.get(n);r&&a.push(r)}));for(var s=!0,l=0;l<a.length;l++){var u=a[l],c=180*Math.atan((t.y-u.y)/(u.x-t.y)),h=180*Math.atan((e.y-u.y)/(u.x-e.y)),d=c>70&&c<110,f=h>70&&h<110;if((c<30||c>150)&&!(h<30||h>150)||c*h<0){s=!1;break}if(d&&!f||c*h<0){s=!1;break}if((u.x-t.x)*(u.x-e.x)<0){s=!1;break}if((u.y-t.y)*(u.y-e.y)<0){s=!1;break}}return s}function b(t,e){for(var n=!1,r=1*h,i=1*d,o=[r,-r,0,0],a=[0,0,i,-i],s=0;s<t.length;++s)for(var l=t[s],u=x(l,t),c=0;c<o.length;c++){if(y(l,{x:l.x+o[c],y:l.y+a[c]},t,e)){l.x+=o[c],l.y+=a[c];var m=x(l,t),b=Math.random();m<u||b<f&&b>p?(u=m,n=!0):(l.x-=o[c],l.y-=a[c])}}return f>p&&(f*=g),n?v(t):0}function x(t,e){var i=0;(t.x<0||t.y<0||t.x+t.size[0]+20>n||t.y+t.size[1]+20>r)&&(i+=1e12);for(var o=0;o<e.length;++o)t.id!==e[o].id&&(i+=m(t,e[o]));return i}e.default=function(t,e){if(0===t.length)return{nodes:t,edges:e};t.forEach((function(t){var n=e.filter((function(e){return e.source===t.id||e.target===t.id}));c.set(t,n)})),t.sort((function(t,e){var n,r;return(null===(n=c.get(t.id))||void 0===n?void 0:n.length)-(null===(r=c.get(e.id))||void 0===r?void 0:r.length)}));for(var n=v(t),r=20,i=1,o=0,a=0;r>0&&!(++a>=50);){var s=b(t,e);0!==s&&(o=s),i=o-n,n=o,0===i?--r:r=20}return t.forEach((function(t){t.x=t.x-t.size[0]/2,t.y=t.y-t.size[1]/2})),{nodes:t,edges:e}}},"./node_modules/@antv/layout/lib/layout/force2/ForceNBody.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forceNBody=void 0;var r=n("./node_modules/d3-quadtree/src/index.js");function i(t){var e=0,n=0,r=0;if(t.length){for(var i=0;i<4;i++){(o=t[i])&&o.weight&&(e+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}t.x=n/e,t.y=r/e,t.weight=e}else{var o=t;t.x=o.data.x,t.y=o.data.y,t.weight=o.data.weight}}e.forceNBody=function(t,e,n,a,s){var l=n/a,u=t.map((function(t,n){var r=e[t.id],i=r.data,o=r.x,a=r.y,s=r.size,u=i.layout.force.nodeStrength;return{x:o,y:a,size:s,index:n,vx:0,vy:0,weight:l*u}})),c=(0,r.quadtree)(u,(function(t){return t.x}),(function(t){return t.y})).visitAfter(i);return u.forEach((function(t){!function(t,e){e.visit((function(e,n,r,i,a){return o(e,n,r,i,a,t)}))}(t,c)})),u.map((function(n,r){var i=e[t[r].id].data.layout.force.mass,o=void 0===i?1:i;s[2*r]=n.vx/o,s[2*r+1]=n.vy/o})),s};var o=function(t,e,n,r,i,o){var a=o.x-t.x||.1,s=o.y-t.y||.1,l=r-e,u=a*a+s*s,c=Math.sqrt(u)*u;if(l*l*.81<u){var h=t.weight/c;return o.vx+=a*h,o.vy+=s*h,!0}if(t.length)return!1;if(t.data!==o){h=t.data.weight/c;o.vx+=a*h,o.vy+=s*h}}},"./node_modules/@antv/layout/lib/layout/force2/index.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Force2Layout=void 0;var a=n("./node_modules/@antv/layout/lib/layout/base.js"),s=n("./node_modules/@antv/layout/lib/util/index.js"),l=n("./node_modules/@antv/layout/lib/layout/force2/ForceNBody.js"),u=function(t,e){return t?(0,s.isNumber)(t)?function(e){return t}:t:function(t){return e||1}},c=function(t){function e(e){var n=t.call(this)||this;n.maxIteration=1e3,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=500,n.minMovement=.4,n.interval=.02,n.factor=1,n.linkDistance=200,n.gravity=0,n.clusterNodeStrength=20,n.preventOverlap=!0,n.distanceThresholdMode="mean",n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.judgingDistance=0,n.centripetalOptions={leaf:2,single:2,others:1,center:function(t){return{x:n.width/2,y:n.height/2}}};var r=e.getMass;return n.propsGetMass=r,n.updateCfg(e),n}return i(e,t),e.prototype.getCentripetalOptions=function(){var t,e=this,n=e.leafCluster,r=e.clustering,i=e.nodeClusterBy,a=e.nodes,l=e.nodeMap,u=e.clusterNodeStrength,c=function(t){return"function"==typeof u?u(t):u},h={};if(n){t=this.getSameTypeLeafMap()||{};var d=Array.from(new Set(null==a?void 0:a.map((function(t){return t[i]}))))||[];h={single:100,leaf:function(e,n,r){var i=t[e.id]||{},o=i.relativeLeafNodes,a=i.sameTypeLeafNodes;return(null==a?void 0:a.length)===(null==o?void 0:o.length)||1===(null==d?void 0:d.length)?1:c(e)},others:1,center:function(e,n,r){var i,o,a=((null===(i=e.data)||void 0===i?void 0:i.layout)||{}).degree;if(!a)return{x:100,y:100};if(1===a){var l=(t[e.id]||{}).sameTypeLeafNodes,u=void 0===l?[]:l;1===u.length?o=void 0:u.length>1&&(o=(0,s.getAvgNodePosition)(u))}else o=void 0;return{x:null==o?void 0:o.x,y:null==o?void 0:o.y}}}}if(r){t||(t=this.getSameTypeLeafMap());var f=Array.from(new Set(a.map((function(t,e){return t[i]})))).filter((function(t){return void 0!==t})),p={};f.forEach((function(t){var e=a.filter((function(e){return e[i]===t})).map((function(t){return l[t.id]}));p[t]=(0,s.getAvgNodePosition)(e)})),h={single:function(t){return c(t)},leaf:function(t){return c(t)},others:function(t){return c(t)},center:function(t,e,n){var r=p[t[i]];return{x:null==r?void 0:r.x,y:null==r?void 0:r.y}}}}this.centripetalOptions=o(o({},this.centripetalOptions),h);var g=this.centripetalOptions,m=g.leaf,v=g.single,y=g.others;m&&"function"!=typeof m&&(this.centripetalOptions.leaf=function(){return m}),v&&"function"!=typeof v&&(this.centripetalOptions.single=function(){return v}),y&&"function"!=typeof y&&(this.centripetalOptions.others=function(){return y})},e.prototype.updateCfg=function(t){t&&Object.assign(this,t)},e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t=this;t.stop();var e=t.nodes,n=t.edges,r=t.defSpringLen;if(t.judgingDistance=0,e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var i=t.center;if(1===e.length)return e[0].x=i[0],e[0].y=i[1],void t.onLayoutEnd([o({},e[0])]);t.degreesMap=(0,s.getDegreeMap)(e,n),t.propsGetMass?t.getMass=t.propsGetMass:t.getMass=function(e){var n=1;(0,s.isNumber)(e.mass)&&(n=e.mass);var r=t.degreesMap[e.id].all;return!r||r<5?n:5*r*n};var a,l=t.nodeSize;if(t.preventOverlap){var c,h=t.nodeSpacing;c=(0,s.isNumber)(h)?function(){return h}:(0,s.isFunction)(h)?h:function(){return 0},a=l?(0,s.isArray)(l)?function(t){return Math.max(l[0],l[1])+c(t)}:function(t){return l+c(t)}:function(t){return t.size?(0,s.isArray)(t.size)?Math.max(t.size[0],t.size[1])+c(t):(0,s.isObject)(t.size)?Math.max(t.size.width,t.size.height)+c(t):t.size+c(t):10+c(t)}}t.nodeSize=a,t.linkDistance=u(t.linkDistance,1),t.nodeStrength=u(t.nodeStrength,1),t.edgeStrength=u(t.edgeStrength,1);var d={},f={};e.forEach((function(e,r){(0,s.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*t.height);var i=t.degreesMap[e.id];d[e.id]=o(o({},e),{data:o(o({},e.data),{size:t.nodeSize(e)||30,layout:{inDegree:i.in,outDegree:i.out,degree:i.all,tDegree:i.in,sDegree:i.out,force:{mass:t.getMass(e),nodeStrength:t.nodeStrength(e,n)}}})}),f[e.id]=r})),t.nodeMap=d,t.nodeIdxMap=f,t.edgeInfos=[],null==n||n.forEach((function(e){var n=d[e.source],i=d[e.target];n&&i?t.edgeInfos.push({edgeStrength:t.edgeStrength(e),linkDistance:r?r(o(o({},e),{source:n,target:i}),n,i):t.linkDistance(e,n,i)||1+(l(n)+l(n)||0)/2}):elf.edgeInfos.push({})})),this.getCentripetalOptions(),t.onLayoutEnd=t.onLayoutEnd||function(){},t.run()}else t.onLayoutEnd([])},e.prototype.run=function(){var t=this,e=t.maxIteration,n=t.nodes,r=t.edges,i=t.workerEnabled,o=t.minMovement,a=t.animate,s=t.nodeMap,l=t.height;if(t.currentMinY=0,t.currentMaxY=l,n){var u=[];if(n.forEach((function(t,e){u[2*e]=0,u[2*e+1]=0})),this.defSideCoe&&"function"==typeof this.defSideCoe){var c={};r.forEach((function(t){var e=t.source,n=t.target;c[e]=c[e]||[],c[e].push(t),c[n]=c[n]||[],c[n].push(t)})),this.relatedEdges=c}var h=e;if(i||!a){for(var d=0;(t.judgingDistance>o||d<1)&&d<h;d++)d,t.runOneStep(d,u);t.onLayoutEnd(Object.values(s))}else{if("undefined"==typeof window)return;var f=0;this.timeInterval=window.setInterval((function(){n&&(t.runOneStep(f,u),(++f>=h||t.judgingDistance<o)&&(t.onLayoutEnd(Object.values(s)),window.clearInterval(t.timeInterval)))}),0)}}},e.prototype.runOneStep=function(t,e){var n,r=this,i=r.nodes,o=r.edges,a=(r.nodeMap,r.monitor),s=[];if(null==i?void 0:i.length){r.calRepulsive(s),o&&r.calAttractive(s),r.calGravity(s),r.attractToSide(s);var l=r.interval;if(r.updateVelocity(s,e,l),r.updatePosition(e,l),null===(n=r.tick)||void 0===n||n.call(r),a)a({energy:this.calTotalEnergy(s),nodes:i,edges:o,iterations:t})}},e.prototype.calTotalEnergy=function(t){var e=this.nodes,n=this.nodeMap;if(!(null==e?void 0:e.length))return 0;var r=0;return e.forEach((function(e,i){var o=t[2*i],a=t[2*i+1],s=o*o+a*a,l=n[e.id].data.layout.force.mass;r+=(void 0===l?1:l)*s*.5})),r},e.prototype.calRepulsive=function(t){var e=this,n=e.nodes,r=e.nodeMap,i=e.factor,o=e.coulombDisScale;e.nodeSize;(0,l.forceNBody)(n,r,i,o*o,t)},e.prototype.calAttractive=function(t){var e=this,n=e.edges,r=e.nodeMap,i=e.nodeIdxMap,o=e.edgeInfos;e.nodeSize;n.forEach((function(e,n){var a=(0,s.getEdgeTerminal)(e,"source"),l=(0,s.getEdgeTerminal)(e,"target"),u=r[a],c=r[l];if(u&&c){var h=c.x-u.x,d=c.y-u.y;h||d||(h=.01*Math.random(),d=.01*Math.random());var f=Math.sqrt(h*h+d*d),p=h/f,g=d/f,m=o[n]||{},v=m.linkDistance,y=void 0===v?200:v,b=m.edgeStrength,x=(y-f)*(void 0===b?200:b),_=1/(u.data.layout.force.mass||1),w=1/(c.data.layout.force.mass||1),S=p*x,M=g*x,k=2*i[a],E=2*i[l];t[k]-=S*_,t[k+1]-=M*_,t[E]+=S*w,t[E+1]+=M*w}}))},e.prototype.calGravity=function(t){var e,n=this,r=n.nodes,i=n.edges,o=void 0===i?[]:i,a=n.nodeMap,l=n.width,u=n.height,c=n.center,h=n.gravity,d=n.degreesMap,f=n.centripetalOptions;if(r)for(var p=r.length,g=0;g<p;g++){var m=2*g,v=a[r[g].id],y=v.data.layout.force.mass,b=void 0===y?1:y,x=0,_=0,w=h,S=d[v.id],M=S.in,k=S.out,E=S.all,A=null===(e=n.getCenter)||void 0===e?void 0:e.call(n,v,E);if(A){var T=A[0],I=A[1],C=A[2];x=v.x-T,_=v.y-I,w=C}else x=v.x-c[0],_=v.y-c[1];if(w&&(t[m]-=w*x/b,t[m+1]-=w*_/b),f){var D=f.leaf,N=f.single,O=f.others,L=f.center,P=(null==L?void 0:L(v,r,o,l,u))||{x:0,y:0,centerStrength:0},R=P.x,j=P.y,z=P.centerStrength;if(!(0,s.isNumber)(R)||!(0,s.isNumber)(j))continue;var B=(v.x-R)/b,F=(v.y-j)/b;if(z&&(t[m]-=z*B,t[m+1]-=z*F),0===E){var G=N(v);if(!G)continue;t[m]-=G*B,t[m+1]-=G*F;continue}if(0===M||0===k){var V=D(v,r,o);if(!V)continue;t[m]-=V*B,t[m+1]-=V*F;continue}var Z=O(v);if(!Z)continue;t[m]-=Z*B,t[m+1]-=Z*F}}},e.prototype.attractToSide=function(t){var e=this,n=e.defSideCoe,r=(e.height,e.nodes),i=e.relatedEdges,o=e.currentMinY,a=void 0===o?0:o,s=e.currentMaxY,l=void 0===s?this.height:s;n&&"function"==typeof n&&(null==r?void 0:r.length)&&r.forEach((function(e,r){var o=n(e,i[e.id]||[]);if(0!==o){var s=o<0?a:l,u=Math.abs(o);t[2*r+1]-=u*(e.y-s)}}))},e.prototype.updateVelocity=function(t,e,n){var r=this,i=r.nodes,o=r.damping,a=r.maxSpeed;(null==i?void 0:i.length)&&i.forEach((function(r,i){var s=(e[2*i]+t[2*i]*n)*o||.01,l=(e[2*i+1]+t[2*i+1]*n)*o||.01,u=Math.sqrt(s*s+l*l);if(u>a){var c=a/u;s*=c,l*=c}e[2*i]=s,e[2*i+1]=l}))},e.prototype.updatePosition=function(t,e){var n=this,r=n.nodes,i=n.distanceThresholdMode,o=n.nodeMap;if(null==r?void 0:r.length){var a=0;"max"===i?n.judgingDistance=-1/0:"min"===i&&(n.judgingDistance=1/0);var l=1/0,u=-1/0;r.forEach((function(r,c){var h=o[r.id];if((0,s.isNumber)(r.fx)&&(0,s.isNumber)(r.fy))return r.x=r.fx,r.y=r.fy,h.x=r.x,void(h.y=r.y);var d=t[2*c]*e,f=t[2*c+1]*e;r.x+=d,r.y+=f,h.x=r.x,h.y=r.y,r.y<l&&(l=r.y),r.y>u&&(u=r.y);var p=Math.sqrt(d*d+f*f);switch(i){case"max":n.judgingDistance<p&&(n.judgingDistance=p);break;case"min":n.judgingDistance>p&&(n.judgingDistance=p);break;default:a+=p}})),this.currentMinY=l,this.currentMaxY=u,i&&"mean"!==i||(n.judgingDistance=a/r.length)}else this.judgingDistance=0},e.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"force2"},e.prototype.getSameTypeLeafMap=function(){var t=this,e=t.nodeClusterBy,n=t.nodes,r=t.edges,i=t.nodeMap,o=t.degreesMap;if(null==n?void 0:n.length){var a={};return n.forEach((function(t,n){1===o[t.id].all&&(a[t.id]=(0,s.getCoreNodeAndRelativeLeafNodes)("leaf",t,r,e,o,i))})),a}},e}(a.Base);e.Force2Layout=c},"./node_modules/@antv/layout/lib/layout/forceAtlas2/body.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}return t.prototype.distanceTo=function(t){var e=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(e,n)},t.prototype.setPos=function(t,e){this.rx=t,this.ry=e},t.prototype.resetForce=function(){this.fx=0,this.fy=0},t.prototype.addForce=function(t){var e=t.rx-this.rx,n=t.ry-this.ry,r=Math.hypot(e,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(t.degree+1)/r;this.fx+=i*e/r,this.fy+=i*n/r},t.prototype.in=function(t){return t.contains(this.rx,this.ry)},t.prototype.add=function(e){var n=this.mass+e.mass;return new t({rx:(this.rx*this.mass+e.rx*e.mass)/n,ry:(this.ry*this.mass+e.ry*e.mass)/n,mass:n,degree:this.degree+e.degree})},t}();e.default=n},"./node_modules/@antv/layout/lib/layout/forceAtlas2/index.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ForceAtlas2Layout=void 0;var a=n("./node_modules/@antv/layout/lib/layout/base.js"),s=n("./node_modules/@antv/layout/lib/util/index.js"),l=o(n("./node_modules/@antv/layout/lib/layout/forceAtlas2/body.js")),u=o(n("./node_modules/@antv/layout/lib/layout/forceAtlas2/quad.js")),c=o(n("./node_modules/@antv/layout/lib/layout/forceAtlas2/quadTree.js")),h=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.onLayoutEnd,r=t.prune,i=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);for(var o=[],a=e.length,l=0;l<a;l+=1){var u=e[l],c=10,h=10;(0,s.isNumber)(u.size)&&(c=u.size,h=u.size),(0,s.isArray)(u.size)?(isNaN(u.size[0])||(c=u.size[0]),isNaN(u.size[1])||(h=u.size[1])):(0,s.isObject)(u.size)&&(c=u.size.width,h=u.size.height),t.getWidth&&!isNaN(t.getWidth(u))&&(h=t.getWidth(u)),t.getHeight&&!isNaN(t.getHeight(u))&&(c=t.getHeight(u));var d=Math.max(c,h);o.push(d)}void 0===t.barnesHut&&a>250&&(t.barnesHut=!0),void 0===t.prune&&a>100&&(t.prune=!0),0!==this.maxIteration||t.prune?0===this.maxIteration&&r&&(i=100,a<=200&&a>100?i=500:a>200&&(i=950),this.maxIteration=i):(i=250,a<=200&&a>100?i=1e3:a>200&&(i=1200),this.maxIteration=i),t.kr||(t.kr=50,a>100&&a<=500?t.kr=20:a>500&&(t.kr=1)),t.kg||(t.kg=20,a>100&&a<=500?t.kg=10:a>500&&(t.kg=1)),this.nodes=t.updateNodesByForces(o),n()},e.prototype.updateNodesByForces=function(t){for(var e=this,n=e.edges,r=e.maxIteration,i=e.nodes,o=n.filter((function(t){return(0,s.getEdgeTerminal)(t,"source")!==(0,s.getEdgeTerminal)(t,"target")})),a=i.length,l=o.length,u=[],c={},h={},d=[],f=0;f<a;f+=1)c[i[f].id]=f,u[f]=0,(void 0===i[f].x||isNaN(i[f].x))&&(i[f].x=1e3*Math.random()),(void 0===i[f].y||isNaN(i[f].y))&&(i[f].y=1e3*Math.random()),d.push({x:i[f].x,y:i[f].y});for(f=0;f<l;f+=1){for(var p=void 0,g=void 0,m=0,v=0,y=0;y<a;y+=1){var b=(0,s.getEdgeTerminal)(o[f],"source"),x=(0,s.getEdgeTerminal)(o[f],"target");i[y].id===b?(p=i[y],m=y):i[y].id===x&&(g=i[y],v=y),h[f]={sourceIdx:m,targetIdx:v}}p&&(u[c[p.id]]+=1),g&&(u[c[g.id]]+=1)}var _=r;if(i=this.iterate(_,c,h,l,u,t),e.prune){for(y=0;y<l;y+=1)u[h[y].sourceIdx]<=1?(i[h[y].sourceIdx].x=i[h[y].targetIdx].x,i[h[y].sourceIdx].y=i[h[y].targetIdx].y):u[h[y].targetIdx]<=1&&(i[h[y].targetIdx].x=i[h[y].sourceIdx].x,i[h[y].targetIdx].y=i[h[y].sourceIdx].y);e.prune=!1,e.barnesHut=!1,_=100,i=this.iterate(_,c,h,l,u,t)}return i},e.prototype.iterate=function(t,e,n,r,i,o){for(var a=this,s=a.nodes,u=a.kr,c=a.preventOverlap,h=a.barnesHut,d=s.length,f=0,p=t,g=[],m=[],v=[],y=0;y<d;y+=1)if(g[2*y]=0,g[2*y+1]=0,h){var b={id:y,rx:s[y].x,ry:s[y].y,mass:1,g:u,degree:i[y]};v[y]=new l.default(b)}for(;p>0;){for(y=0;y<d;y+=1)m[2*y]=g[2*y],m[2*y+1]=g[2*y+1],g[2*y]=0,g[2*y+1]=0;g=this.getAttrForces(p,50,r,e,n,i,o,g),g=h&&(c&&p>50||!c)?this.getOptRepGraForces(g,v,i):this.getRepGraForces(p,50,g,100,o,i);var x=this.updatePos(g,m,f,i);s=x.nodes,f=x.sg,p--,a.tick&&a.tick()}return s},e.prototype.getAttrForces=function(t,e,n,r,i,o,a,s){for(var l=this,u=l.nodes,c=l.preventOverlap,h=l.dissuadeHubs,d=l.mode,f=l.prune,p=0;p<n;p+=1){var g=u[i[p].sourceIdx],m=i[p].sourceIdx,v=u[i[p].targetIdx],y=i[p].targetIdx;if(!f||!(o[m]<=1||o[y]<=1)){var b=[v.x-g.x,v.y-g.y],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,c&&t<e&&(x=x-a[m]-a[y]);var _=x,w=_;"linlog"===d&&(w=_=Math.log(1+x)),h&&(_=x/o[m],w=x/o[y]),c&&t<e&&x<=0?(_=0,w=0):c&&t<e&&x>0&&(_=x,w=x),s[2*r[g.id]]+=_*b[0],s[2*r[v.id]]-=w*b[0],s[2*r[g.id]+1]+=_*b[1],s[2*r[v.id]+1]-=w*b[1]}}return s},e.prototype.getRepGraForces=function(t,e,n,r,i,o){for(var a=this,s=a.nodes,l=a.preventOverlap,u=a.kr,c=a.kg,h=a.center,d=a.prune,f=s.length,p=0;p<f;p+=1){for(var g=p+1;g<f;g+=1)if(!d||!(o[p]<=1||o[g]<=1)){var m=[s[g].x-s[p].x,s[g].y-s[p].y],v=Math.hypot(m[0],m[1]);v=v<1e-4?1e-4:v,m[0]=m[0]/v,m[1]=m[1]/v,l&&t<e&&(v=v-i[p]-i[g]);var y=u*(o[p]+1)*(o[g]+1)/v;l&&t<e&&v<0?y=r*(o[p]+1)*(o[g]+1):l&&t<e&&0===v?y=0:l&&t<e&&v>0&&(y=u*(o[p]+1)*(o[g]+1)/v),n[2*p]-=y*m[0],n[2*g]+=y*m[0],n[2*p+1]-=y*m[1],n[2*g+1]+=y*m[1]}var b=[s[p].x-h[0],s[p].y-h[1]],x=Math.hypot(b[0],b[1]);b[0]=b[0]/x,b[1]=b[1]/x;var _=c*(o[p]+1);n[2*p]-=_*b[0],n[2*p+1]-=_*b[1]}return n},e.prototype.getOptRepGraForces=function(t,e,n){for(var r=this,i=r.nodes,o=r.kg,a=r.center,s=r.prune,l=i.length,h=9e10,d=-9e10,f=9e10,p=-9e10,g=0;g<l;g+=1)s&&n[g]<=1||(e[g].setPos(i[g].x,i[g].y),i[g].x>=d&&(d=i[g].x),i[g].x<=h&&(h=i[g].x),i[g].y>=p&&(p=i[g].y),i[g].y<=f&&(f=i[g].y));var m={xmid:(d+h)/2,ymid:(p+f)/2,length:Math.max(d-h,p-f),massCenter:a,mass:l},v=new u.default(m),y=new c.default(v);for(g=0;g<l;g+=1)s&&n[g]<=1||e[g].in(v)&&y.insert(e[g]);for(g=0;g<l;g+=1)if(!(s&&n[g]<=1)){e[g].resetForce(),y.updateForce(e[g]),t[2*g]-=e[g].fx,t[2*g+1]-=e[g].fy;var b=[i[g].x-a[0],i[g].y-a[1]],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x;var _=o*(n[g]+1);t[2*g]-=_*b[0],t[2*g+1]-=_*b[1]}return t},e.prototype.updatePos=function(t,e,n,r){for(var i=this,o=i.nodes,a=i.ks,l=i.tao,u=i.prune,c=i.ksmax,h=o.length,d=[],f=[],p=0,g=0,m=0;m<h;m+=1)if(!(u&&r[m]<=1)){var v=[t[2*m]-e[2*m],t[2*m+1]-e[2*m+1]],y=Math.hypot(v[0],v[1]),b=[t[2*m]+e[2*m],t[2*m+1]+e[2*m+1]],x=Math.hypot(b[0],b[1]);d[m]=y,f[m]=x/2,p+=(r[m]+1)*d[m],g+=(r[m]+1)*f[m]}var _=n;n=l*g/p,0!==_&&(n=n>1.5*_?1.5*_:n);for(m=0;m<h;m+=1)if(!(u&&r[m]<=1||(0,s.isNumber)(o[m].fx)&&(0,s.isNumber)(o[m].fy))){var w=a*n/(1+n*Math.sqrt(d[m])),S=Math.hypot(t[2*m],t[2*m+1]),M=c/(S=S<1e-4?1e-4:S),k=(w=w>M?M:w)*t[2*m],E=w*t[2*m+1];o[m].x+=k,o[m].y+=E}return{nodes:o,sg:n}},e}(a.Base);e.ForceAtlas2Layout=h},"./node_modules/@antv/layout/lib/layout/forceAtlas2/quad.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}return t.prototype.getLength=function(){return this.length},t.prototype.contains=function(t,e){var n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n},t.prototype.NW=function(){return new t({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},t.prototype.NE=function(){return new t({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},t.prototype.SW=function(){return new t({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},t.prototype.SE=function(){return new t({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},t}();e.default=n},"./node_modules/@antv/layout/lib/layout/forceAtlas2/quadTree.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}return t.prototype.insert=function(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new t(this.quad.NW()),this.NE=new t(this.quad.NE()),this.SW=new t(this.quad.SW()),this.SE=new t(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e},t.prototype._putBody=function(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))},t.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},t.prototype.updateForce=function(t){null!=this.body&&t!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(t)<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t)))},t}();e.default=n},"./node_modules/@antv/layout/lib/layout/force/force-in-a-box.js":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n("./node_modules/d3-force/src/index.js")),s=n("./node_modules/@antv/layout/lib/util/index.js");e.default=function(){function t(t){return function(){return t}}var e,n=function(t){return t.cluster},r=t(1),i=t(-1),o=t(100),l=t(.1),u=[0,0],c=[],h={},d=[],f=100,p=100,g={none:{x:0,y:0}},m=[],v="force",y=!0,b=.1;function x(t){if(!y)return x;e.tick(),w();for(var r=0,i=c.length,o=void 0,a=t*b;r<i;++r)(o=c[r]).vx+=(g[n(o)].x-o.x)*a,o.vy+=(g[n(o)].y-o.y)*a}function _(){c&&function(){if(!c||!c.length)return;if(void 0===n(c[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=(u=[],g=[],v={},y={},b=[],y=function(t){var e={};return t.forEach((function(t){var r=n(t);e[r]||(e[r]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var i=n(t),o=r(t),a=e[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,e[i]=a})),e}(c),b=function(t){var e={},r=[];return t.forEach((function(t){var r=function(t){var e=(0,s.getEdgeTerminal)(t,"source"),r=(0,s.getEdgeTerminal)(t,"target"),i=n(h[e]),o=n(h[r]);return i<=o?"".concat(i,"~").concat(o):"".concat(o,"~").concat(i)}(t),i=0;void 0!==e[r]&&(i=e[r]),i+=1,e[r]=i})),Object.entries(e).forEach((function(t){var e=t[0],n=t[1],i=e.split("~")[0],o=e.split("~")[1];void 0!==i&&void 0!==o&&r.push({source:i,target:o,count:n})})),r}(d),Object.keys(y).forEach((function(t,e){var n=y[t];u.push({id:t,size:n.count,r:Math.sqrt(n.sumforceNodeSize/Math.PI)}),v[t]=e})),b.forEach((function(t){var e=(0,s.getEdgeTerminal)(t,"source"),n=(0,s.getEdgeTerminal)(t,"target"),r=v[e],i=v[n];void 0!==r&&void 0!==i&&g.push({source:r,target:i,count:t.count})})),{nodes:u,links:g});var u,g,v,y,b;e=a.forceSimulation(t.nodes).force("x",a.forceX(f).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide((function(t){return t.r})).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(t.nodes.length?t.links:[]).distance(o).strength(l)),m=e.nodes(),w()}()}function w(){return g={none:{x:0,y:0}},m.forEach((function(t){g[t.id]={x:t.x-u[0],y:t.y-u[1]}})),g}return x.initialize=function(t){c=t,_()},x.template=function(t){return arguments.length?(v=t,_(),x):v},x.groupBy=function(t){return arguments.length?"string"==typeof t?(n=function(e){return e[t]},x):(n=t,x):n},x.enableGrouping=function(t){return arguments.length?(y=t,x):y},x.strength=function(t){return arguments.length?(b=t,x):b},x.centerX=function(t){return arguments.length?(f=t,x):f},x.centerY=function(t){return arguments.length?(p=t,x):p},x.nodes=function(t){return arguments.length?(function(t){h={},t.forEach((function(t){h[t.id]=t}))}(t||[]),c=t||[],x):c},x.links=function(t){return arguments.length?(d=t||[],_(),x):d},x.forceNodeSize=function(e){return arguments.length?(r="function"==typeof e?e:t(+e),_(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),_(),x):i},x.forceLinkDistance=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),_(),x):o},x.forceLinkStrength=function(e){return arguments.length?(l="function"==typeof e?e:t(+e),_(),x):l},x.offset=function(t){return arguments.length?(u=t,x):u},x.getFocis=w,x}},"./node_modules/@antv/layout/lib/layout/force/force.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ForceLayout=void 0;var u=s(n("./node_modules/d3-force/src/index.js")),c=l(n("./node_modules/@antv/layout/lib/layout/force/force-in-a-box.js")),h=n("./node_modules/@antv/layout/lib/util/index.js"),d=n("./node_modules/@antv/layout/lib/layout/base.js"),f=n("./node_modules/@antv/layout/lib/layout/constants.js"),p=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,e&&n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},e.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map((function(t){var e={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(r){n.indexOf(r)>-1||(e[r]=t[r])})),e})),e.ticking=!1},e.prototype.execute=function(t){var e=this,n=e.nodes,r=e.edges;if(!e.ticking){var i=e.forceSimulation,o=e.alphaMin,a=e.alphaDecay,s=e.alpha;if(i){if(t)if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(r)),i.nodes(n),r&&e.edgeForce)e.edgeForce.links(r);else if(r&&!e.edgeForce){d=u.forceLink().id((function(t){return t.id})).links(r);e.edgeStrength&&d.strength(e.edgeStrength),e.linkDistance&&d.distance(e.linkDistance),e.edgeForce=d,i.force("link",d)}e.preventOverlap&&e.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var l=u.forceManyBody();if(e.nodeStrength&&l.strength(e.nodeStrength),i=u.forceSimulation().nodes(n),e.clustering){var h=(0,c.default)();h.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),r&&h.links(r),n&&h.nodes(n),h.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=h,i.force("group",h)}if(i.force("center",u.forceCenter(e.center[0],e.center[1])).force("charge",l).alpha(s).alphaDecay(a).alphaMin(o),e.preventOverlap&&e.overlapProcess(i),r){var d=u.forceLink().id((function(t){return t.id})).links(r);e.edgeStrength&&d.strength(e.edgeStrength),e.linkDistance&&d.distance(e.linkDistance),e.edgeForce=d,i.force("link",d)}if(e.workerEnabled&&!g()&&(e.workerEnabled=!1),e.workerEnabled){i.stop();for(var p=function(t){var e=t.alphaMin(),n=t.alphaTarget(),r=t.alpha(),i=Math.log((e-n)/(r-n))/Math.log(1-t.alphaDecay()),o=Math.ceil(i);return o}(i),m=1;m<=p;m++)i.tick(),postMessage({nodes:n,currentTick:m,totalTicks:p,type:f.LAYOUT_MESSAGE.TICK},void 0);e.ticking=!1}else i.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=i,e.ticking=!0}catch(t){e.ticking=!1}}},e.prototype.overlapProcess=function(t){var e,n,r=this,i=r.nodeSize,o=r.nodeSpacing,a=r.collideStrength;if(n=(0,h.isNumber)(o)?function(){return o}:(0,h.isFunction)(o)?o:function(){return 0},i)if((0,h.isFunction)(i))e=function(t){return i(t)+n(t)};else if((0,h.isArray)(i)){var s=(i[0]>i[1]?i[0]:i[1])/2;e=function(t){return s+n(t)}}else if((0,h.isNumber)(i)){var l=i/2;e=function(t){return l+n(t)}}else e=function(){return 10};else e=function(t){return t.size?(0,h.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+n(t):(0,h.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)/2+n(t):t.size/2+n(t):10+n(t)};t.force("collisionForce",u.forceCollide(e).strength(a))},e.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,Object.assign(e,t)},e.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},e}(d.Base);function g(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}e.ForceLayout=p},"./node_modules/@antv/layout/lib/layout/force/index.js":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("./node_modules/@antv/layout/lib/layout/force/force.js"),e)},"./node_modules/@antv/layout/lib/layout/fruchterman.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanLayout=void 0;var o=n("./node_modules/@antv/layout/lib/layout/base.js"),a=n("./node_modules/@antv/layout/lib/util/index.js"),s=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},e.prototype.execute=function(){var t,e,n=this,r=this,i=r.nodes;if(void 0!==r.timeInterval&&"undefined"!=typeof window&&window.clearInterval(r.timeInterval),i&&0!==i.length){r.width||"undefined"==typeof window||(r.width=window.innerWidth),r.height||"undefined"==typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var o=r.center;if(1===i.length)return i[0].x=o[0],i[0].y=o[1],void(null===(e=r.onLayoutEnd)||void 0===e||e.call(r));var s={},l={};return i.forEach((function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*n.height),s[t.id]=t,l[t.id]=e})),r.nodeMap=s,r.nodeIdxMap=l,r.run()}null===(t=r.onLayoutEnd)||void 0===t||t.call(r)},e.prototype.run=function(){var t,e=this,n=e.nodes;if(n){var r=e.edges,i=e.maxIteration,o=e.workerEnabled,a=e.clustering,s=e.animate,l={};if(a&&n.forEach((function(t){void 0===l[t.cluster]&&(l[t.cluster]={name:t.cluster,cx:0,cy:0,count:0})})),o||!s){for(var u=0;u<i;u++)e.runOneStep(l);null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"==typeof window)return;var c=0;this.timeInterval=window.setInterval((function(){var t;e.runOneStep(l),++c>=i&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval))}),0)}return{nodes:n,edges:r}}},e.prototype.runOneStep=function(t){var e,n=this,r=n.nodes;if(r){var i=n.edges,o=n.center,s=n.gravity,l=n.speed,u=n.clustering,c=n.height*n.width,h=Math.sqrt(c)/10,d=c/(r.length+1),f=Math.sqrt(d),p=[];if(r.forEach((function(t,e){p[e]={x:0,y:0}})),n.applyCalculate(r,i,p,f,d),u){for(var g in t)t[g].cx=0,t[g].cy=0,t[g].count=0;for(var g in r.forEach((function(e){var n=t[e.cluster];(0,a.isNumber)(e.x)&&(n.cx+=e.x),(0,a.isNumber)(e.y)&&(n.cy+=e.y),n.count++})),t)t[g].cx/=t[g].count,t[g].cy/=t[g].count;var m=n.clusterGravity||s;r.forEach((function(e,n){if((0,a.isNumber)(e.x)&&(0,a.isNumber)(e.y)){var r=t[e.cluster],i=Math.sqrt((e.x-r.cx)*(e.x-r.cx)+(e.y-r.cy)*(e.y-r.cy)),o=f*m;p[n].x-=o*(e.x-r.cx)/i,p[n].y-=o*(e.y-r.cy)/i}}))}r.forEach((function(t,e){if((0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)){var n=.01*f*s;p[e].x-=n*(t.x-o[0]),p[e].y-=n*(t.y-o[1])}})),r.forEach((function(t,e){if((0,a.isNumber)(t.fx)&&(0,a.isNumber)(t.fy))return t.x=t.fx,void(t.y=t.fy);if((0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)){var n=Math.sqrt(p[e].x*p[e].x+p[e].y*p[e].y);if(n>0){var r=Math.min(h*(l/800),n);t.x+=p[e].x/n*r,t.y+=p[e].y/n*r}}})),null===(e=n.tick)||void 0===e||e.call(n)}},e.prototype.applyCalculate=function(t,e,n,r,i){this.calRepulsive(t,n,i),e&&this.calAttractive(e,n,r)},e.prototype.calRepulsive=function(t,e,n){t.forEach((function(r,i){e[i]={x:0,y:0},t.forEach((function(t,o){if(i!==o&&(0,a.isNumber)(r.x)&&(0,a.isNumber)(t.x)&&(0,a.isNumber)(r.y)&&(0,a.isNumber)(t.y)){var s=r.x-t.x,l=r.y-t.y,u=s*s+l*l;if(0===u){u=1;var c=i>o?1:-1;s=.01*c,l=.01*c}var h=n/u;e[i].x+=s*h,e[i].y+=l*h}}))}))},e.prototype.calAttractive=function(t,e,n){var r=this;t.forEach((function(t){var i=(0,a.getEdgeTerminal)(t,"source"),o=(0,a.getEdgeTerminal)(t,"target");if(i&&o){var s=r.nodeIdxMap[i],l=r.nodeIdxMap[o];if(s!==l){var u=r.nodeMap[i],c=r.nodeMap[o];if((0,a.isNumber)(c.x)&&(0,a.isNumber)(u.x)&&(0,a.isNumber)(c.y)&&(0,a.isNumber)(u.y)){var h=c.x-u.x,d=c.y-u.y,f=Math.sqrt(h*h+d*d),p=f*f/n;e[l].x-=h/f*p,e[l].y-=d/f*p,e[s].x+=h/f*p,e[s].y+=d/f*p}}}}))},e.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"fruchterman"},e}(o.Base);e.FruchtermanLayout=s},"./node_modules/@antv/layout/lib/layout/gForce.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GForceLayout=void 0;var o=n("./node_modules/@antv/layout/lib/layout/base.js"),a=n("./node_modules/@antv/layout/lib/util/index.js"),s=function(t,e){return t?(0,a.isNumber)(t)?function(e){return t}:t:function(t){return e||1}},l=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t,e,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!=typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var o={},l={};r.forEach((function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,l[t.id]=e})),n.nodeMap=o,n.nodeIdxMap=l,n.linkDistance=s(n.linkDistance,1),n.nodeStrength=s(n.nodeStrength,1),n.edgeStrength=s(n.edgeStrength,1);var u,c=n.nodeSize;if(n.preventOverlap){var h,d=n.nodeSpacing;h=(0,a.isNumber)(d)?function(){return d}:(0,a.isFunction)(d)?d:function(){return 0},u=c?(0,a.isArray)(c)?function(t){return Math.max(c[0],c[1])+h(t)}:function(t){return c+h(t)}:function(t){return t.size?(0,a.isArray)(t.size)?Math.max(t.size[0],t.size[1])+h(t):(0,a.isObject)(t.size)?Math.max(t.size.width,t.size.height)+h(t):t.size+h(t):10+h(t)}}n.nodeSize=u;var f=n.edges;n.degrees=(0,a.getDegree)(r.length,n.nodeIdxMap,f),n.getMass||(n.getMass=function(t){return t.mass||n.degrees[n.nodeIdxMap[t.id]].all||1}),n.run()}else null===(t=n.onLayoutEnd)||void 0===t||t.call(n)},e.prototype.run=function(){var t,e=this,n=e.maxIteration,r=e.nodes,i=e.workerEnabled,o=e.minMovement,a=e.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var l=e.runOneStep(s);if(e.reachMoveThreshold(r,l,o))break}null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"==typeof window)return;var u=0;this.timeInterval=window.setInterval((function(){var t,i;if(r){var a=e.runOneStep(u)||[];e.reachMoveThreshold(r,a,o)&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval)),++u>=n&&(null===(i=e.onLayoutEnd)||void 0===i||i.call(e),window.clearInterval(e.timeInterval))}}),0)}},e.prototype.reachMoveThreshold=function(t,e,n){var r=0;return t.forEach((function(t,n){var i=t.x-e[n].x,o=t.y-e[n].y;r+=Math.sqrt(i*i+o*o)})),(r/=t.length)<n},e.prototype.runOneStep=function(t){var e,n=this,r=n.nodes,i=n.edges,o=[],a=[];if(r){r.forEach((function(t,e){o[2*e]=0,o[2*e+1]=0,a[2*e]=0,a[2*e+1]=0})),n.calRepulsive(o,r),i&&n.calAttractive(o,i),n.calGravity(o,r);var s=Math.max(.02,n.interval-.002*t);n.updateVelocity(o,a,s,r);var l=[];return r.forEach((function(t){l.push({x:t.x,y:t.y})})),n.updatePosition(a,s,r),null===(e=n.tick)||void 0===e||e.call(n),l}},e.prototype.calRepulsive=function(t,e){var n=this,r=n.getMass,i=n.factor,o=n.coulombDisScale,a=n.preventOverlap,s=n.collideStrength,l=void 0===s?1:s,u=n.nodeStrength,c=n.nodeSize;e.forEach((function(n,s){var h=r?r(n):1;e.forEach((function(e,d){if(!(s>=d)){var f=n.x-e.x,p=n.y-e.y;0===f&&0===p&&(f=.01*Math.random(),p=.01*Math.random());var g=f*f+p*p,m=Math.sqrt(g),v=(m+.1)*o,y=f/m,b=p/m,x=.5*(u(n)+u(e))*i/(v*v),_=r?r(e):1;if(t[2*s]+=y*x,t[2*s+1]+=b*x,t[2*d]-=y*x,t[2*d+1]-=b*x,a&&(c(n)+c(e))/2>m){var w=l*(u(n)+u(e))*.5/g;t[2*s]+=y*w/h,t[2*s+1]+=b*w/h,t[2*d]-=y*w/_,t[2*d+1]-=b*w/_}}}))}))},e.prototype.calAttractive=function(t,e){var n=this,r=n.nodeMap,i=n.nodeIdxMap,o=n.linkDistance,s=n.edgeStrength,l=n.nodeSize,u=n.getMass;e.forEach((function(e,n){var c=(0,a.getEdgeTerminal)(e,"source"),h=(0,a.getEdgeTerminal)(e,"target"),d=r[c],f=r[h],p=f.x-d.x,g=f.y-d.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var m=Math.sqrt(p*p+g*g),v=p/m,y=g/m,b=((o(e,d,f)||1+(l(d)+l(f)||0)/2)-m)*s(e),x=i[c],_=i[h],w=u?u(d):1,S=u?u(f):1;t[2*x]-=v*b/w,t[2*x+1]-=y*b/w,t[2*_]+=v*b/S,t[2*_+1]+=y*b/S}))},e.prototype.calGravity=function(t,e){for(var n=this,r=n.center,i=n.gravity,o=n.degrees,s=e.length,l=0;l<s;l++){var u=e[l],c=u.x-r[0],h=u.y-r[1],d=i;if(n.getCenter){var f=n.getCenter(u,o[l].all);f&&(0,a.isNumber)(f[0])&&(0,a.isNumber)(f[1])&&(0,a.isNumber)(f[2])&&(c=u.x-f[0],h=u.y-f[1],d=f[2])}d&&(t[2*l]-=d*c,t[2*l+1]-=d*h)}},e.prototype.updateVelocity=function(t,e,n,r){var i=this,o=n*i.damping;r.forEach((function(n,r){var a=t[2*r]*o||.01,s=t[2*r+1]*o||.01,l=Math.sqrt(a*a+s*s);if(l>i.maxSpeed){var u=i.maxSpeed/l;a*=u,s*=u}e[2*r]=a,e[2*r+1]=s}))},e.prototype.updatePosition=function(t,e,n){n.forEach((function(n,r){if((0,a.isNumber)(n.fx)&&(0,a.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=t[2*r]*e,o=t[2*r+1]*e;n.x+=i,n.y+=o}))},e.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"gForce"},e}(o.Base);e.GForceLayout=l},"./node_modules/@antv/layout/lib/layout/gpu/fruchterman.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanGPULayout=void 0;var s=n("./node_modules/@antv/layout/lib/layout/base.js"),l=n("./node_modules/@antv/layout/lib/util/index.js"),u=n("./node_modules/@antv/g-webgpu/es/index.js"),c=n("./node_modules/@antv/layout/lib/util/gpu.js"),h=n("./node_modules/@antv/layout/lib/layout/gpu/fruchtermanShader.js"),d=n("./node_modules/@antv/layout/lib/layout/constants.js"),f=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return o(this,void 0,void 0,(function(){var t,e,n,r,i,o=this;return a(this,(function(a){switch(a.label){case 0:return(e=(t=this).nodes)&&0!==e.length?(t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,1===e.length?(e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(r={},i={},e.forEach((function(t,e){(0,l.isNumber)(t.x)||(t.x=Math.random()*o.width),(0,l.isNumber)(t.y)||(t.y=Math.random()*o.height),r[t.id]=t,i[t.id]=e})),t.nodeMap=r,t.nodeIdxMap=i,[4,t.run()])):(t.onLayoutEnd&&t.onLayoutEnd(),[2]);case 1:return a.sent(),[2]}}))}))},e.prototype.executeWithWorker=function(t,e){return o(this,void 0,void 0,(function(){var n,r,i,o,s,u=this;return a(this,(function(a){switch(a.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(o={},s={},r.forEach((function(t,e){(0,l.isNumber)(t.x)||(t.x=Math.random()*u.width),(0,l.isNumber)(t.y)||(t.y=Math.random()*u.height),o[t.id]=t,s[t.id]=e})),n.nodeMap=o,n.nodeIdxMap=s,[4,n.run(t,e)]):[2];case 1:return a.sent(),[2]}}))}))},e.prototype.run=function(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,f,p,g,m,v,y,b,x,_,w,S,M,k,E,A,T,I,C,D,N,O,L,P=this;return a(this,(function(R){switch(R.label){case 0:for(r=(n=this).nodes,i=n.edges,s=n.maxIteration,f=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,m=p/(r.length+1),v=Math.sqrt(m),y=n.speed,b=n.clustering,x=(0,c.attributesToTextureData)([n.clusterField],r),_=x.array,w=x.count,r.forEach((function(t,e){var n=0,r=0;(0,l.isNumber)(t.fx)&&(0,l.isNumber)(t.fy)&&(n=t.fx||.001,r=t.fy||.001),_[4*e+1]=n,_[4*e+2]=r})),S=r.length,M=(0,c.buildTextureData)(r,i),k=M.maxEdgePerVetex,E=M.array,A=n.workerEnabled,T=A?u.World.create({canvas:t,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),I=n.onLayoutEnd,C=[],D=0;D<w;D++)C.push(0,0,0,0);return N=T.createKernel(h.fruchtermanBundle).setDispatch([S,1,1]).setBinding({u_Data:E,u_K:v,u_K2:m,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:f,u_AttributeArray:_,u_ClusterCenters:C,MAX_EDGE_PER_VERTEX:k,VERTEX_COUNT:S}),b&&(O=T.createKernel(h.clusterBundle).setDispatch([w,1,1]).setBinding({u_Data:E,u_NodeAttributes:_,u_ClusterCenters:C,VERTEX_COUNT:S,CLUSTER_COUNT:w})),L=function(){return o(P,void 0,void 0,(function(){var n,i;return a(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<s?[4,N.execute()]:[3,6];case 2:return o.sent(),b?(O.setBinding({u_Data:N}),[4,O.execute()]):[3,4];case 3:o.sent(),N.setBinding({u_ClusterCenters:O}),o.label=4;case 4:N.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,N.getOutput()];case 7:return i=o.sent(),t?e.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach((function(t,e){var n=i[4*e],r=i[4*e+1];t.x=n,t.y=r})),I&&I(),[2]}}))}))},[4,L()];case 1:return R.sent(),[2]}}))}))},e.prototype.getType=function(){return"fruchterman-gpu"},e}(s.Base);e.FruchtermanGPULayout=f},"./node_modules/@antv/layout/lib/layout/gpu/fruchtermanShader.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clusterBundle=e.clusterCode=e.fruchtermanBundle=e.fruchtermanCode=void 0,e.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",e.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",e.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},"./node_modules/@antv/layout/lib/layout/gpu/gForce.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GForceGPULayout=void 0;var s=n("./node_modules/@antv/layout/lib/layout/base.js"),l=n("./node_modules/@antv/layout/lib/util/index.js"),u=n("./node_modules/@antv/g-webgpu/es/index.js"),c=n("./node_modules/@antv/layout/lib/util/gpu.js"),h=n("./node_modules/@antv/layout/lib/util/math.js"),d=n("./node_modules/@antv/layout/lib/layout/gpu/gForceShader.js"),f=n("./node_modules/@antv/layout/lib/layout/constants.js"),p=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return o(this,void 0,void 0,(function(){var t,e,n,r,i;return a(this,(function(o){switch(o.label){case 0:return(e=(t=this).nodes)&&0!==e.length?(t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,1===e.length?(e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(r={},i={},e.forEach((function(e,n){(0,l.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,l.isNumber)(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,i[e.id]=n})),t.nodeMap=r,t.nodeIdxMap=i,t.nodeStrength=(0,c.proccessToFunc)(t.nodeStrength,1),t.edgeStrength=(0,c.proccessToFunc)(t.edgeStrength,1),[4,t.run()])):(t.onLayoutEnd&&t.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},e.prototype.executeWithWorker=function(t,e){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach((function(t,e){(0,l.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,l.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,a[t.id]=e})),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,c.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength,1),n.run(t,e)}},e.prototype.run=function(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,p,g,m,v,y,b,x,_,w,S,M,k,E,A,T,I,C,D,N,O,L,P,R,j=this;return a(this,(function(z){switch(z.label){case 0:for(r=(n=this).nodes,i=n.edges,s=n.maxIteration,n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,c.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength),g=(0,c.buildTextureDataWithTwoEdgeAttr)(r,i,n.linkDistance,n.edgeStrength),m=g.maxEdgePerVetex,v=g.array,n.degrees=(0,h.getDegree)(r.length,n.nodeIdxMap,i).map((function(t){return t.all})),y=[],b=[],x=[],_=[],w=[],S=[],M=[],n.getMass||(n.getMass=function(t){return n.degrees[n.nodeIdxMap[t.id]]||1}),k=n.gravity,E=n.center,r.forEach((function(t,e){y.push(n.getMass(t)),b.push(n.nodeStrength(t)),n.degrees[e]||(n.degrees[e]=0);var r=[E[0],E[1],k];if(n.getCenter){var i=n.getCenter(t,n.degrees[e]);i&&(0,l.isNumber)(i[0])&&(0,l.isNumber)(i[1])&&(0,l.isNumber)(i[2])&&(r=i)}x.push(r[0]),_.push(r[1]),w.push(r[2]),(0,l.isNumber)(t.fx)&&(0,l.isNumber)(t.fy)?(S.push(t.fx||.001),M.push(t.fy||.001)):(S.push(0),M.push(0))})),A=(0,c.arrayToTextureData)([y,n.degrees,b,S]),T=(0,c.arrayToTextureData)([x,_,w,M]),I=n.workerEnabled,C=I?u.World.create({canvas:t,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),D=n.onLayoutEnd,N=[],v.forEach((function(t){N.push(t)})),O=0;O<4;O++)N.push(0);return L=C.createKernel(d.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:v,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:A,u_NodeAttributeArray2:T,MAX_EDGE_PER_VERTEX:m,VERTEX_COUNT:p,u_AveMovement:N,u_interval:n.interval}),P=C.createKernel(d.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:v,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),R=function(){return o(j,void 0,void 0,(function(){var i,o,l;return a(this,(function(a){switch(a.label){case 0:i=0,a.label=1;case 1:return i<s?[4,L.execute()]:[3,5];case 2:return a.sent(),P.setBinding({u_Data:L}),[4,P.execute()];case 3:a.sent(),o=Math.max(.02,n.interval-.002*i),L.setBinding({u_interval:o,u_AveMovement:P}),a.label=4;case 4:return i++,[3,1];case 5:return[4,L.getOutput()];case 6:return l=a.sent(),t?e.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:l}):r.forEach((function(t,e){var n=l[4*e],r=l[4*e+1];t.x=n,t.y=r})),D&&D(),[2]}}))}))},[4,R()];case 1:return z.sent(),[2]}}))}))},e.prototype.getType=function(){return"gForce-gpu"},e}(s.Base);e.GForceGPULayout=p},"./node_modules/@antv/layout/lib/layout/gpu/gForceShader.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aveMovementBundle=e.aveMovementCode=e.gForceBundle=e.gForceCode=void 0,e.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i 节点的第 p 条边开始的小格子位置\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // 大格子，大格子位置=小个子位置 / 4，\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // 每个节点属性占两个数组中各一格\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",e.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",e.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},"./node_modules/@antv/layout/lib/layout/grid.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GridLayout=void 0;var o=n("./node_modules/@antv/layout/lib/util/index.js"),a=function(t){function e(e){var n=t.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,r=t.begin,i=e.length;if(0===i)return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};if(1===i)return e[0].x=r[0],e[0].y=r[1],t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};var a=t.sortBy,s=t.width,l=t.height,u=t.condense,c=t.preventOverlapPadding,h=t.preventOverlap,d=t.nodeSpacing,f=t.nodeSize,p=[];e.forEach((function(t){p.push(t)}));var g={};if(p.forEach((function(t,e){g[t.id]=e})),("degree"===a||!(0,o.isString)(a)||void 0===p[0][a])&&(a="degree",(0,o.isNaN)(e[0].degree))){var m=(0,o.getDegree)(p.length,g,n);p.forEach((function(t,e){t.degree=m[e].all}))}p.sort((function(t,e){return e[a]-t[a]})),s||"undefined"==typeof window||(s=window.innerWidth),l||"undefined"==typeof window||(l=window.innerHeight);var v=t.rows,y=null!=t.cols?t.cols:t.columns;if(t.cells=i,null!=v&&null!=y?(t.rows=v,t.cols=y):null!=v&&null==y?(t.rows=v,t.cols=Math.ceil(t.cells/t.rows)):null==v&&null!=y?(t.cols=y,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.rows=Math.max(t.rows,1),t.cols=Math.max(t.cols,1),t.cols*t.rows>t.cells)((x=t.small())-1)*(b=t.large())>=t.cells?t.small(x-1):(b-1)*x>=t.cells&&t.large(b-1);else for(;t.cols*t.rows<t.cells;){var b,x=t.small();((b=t.large())+1)*x>=t.cells?t.large(b+1):t.small(x+1)}if(t.cellWidth=s/t.cols,t.cellHeight=l/t.rows,u&&(t.cellWidth=0,t.cellHeight=0),h||d){var _=(0,o.getFuncByUnknownType)(10,d),w=(0,o.getFuncByUnknownType)(30,f,!1);p.forEach((function(e){e.x&&e.y||(e.x=0,e.y=0);var n,r,i=w(e)||30;(0,o.isArray)(i)?(n=i[0],r=i[1]):(n=i,r=i);var a=void 0!==_?_(e):c,s=n+a,l=r+a;t.cellWidth=Math.max(t.cellWidth,s),t.cellHeight=Math.max(t.cellHeight,l)}))}t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var S=0;S<p.length;S++){var M=p[S],k=void 0;if(t.position&&(k=t.position(M)),k&&(void 0!==k.row||void 0!==k.col)){var E={row:k.row,col:k.col};if(void 0===E.col)for(E.col=0;t.used(E.row,E.col);)E.col++;else if(void 0===E.row)for(E.row=0;t.used(E.row,E.col);)E.row++;t.id2manPos[M.id]=E,t.use(E.row,E.col)}t.getPos(M)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:n,nodes:p}},e.prototype.small=function(t){var e,n=this,r=n.rows||5,i=n.cols||5;null==t?e=Math.min(r,i):Math.min(r,i)===n.rows?n.rows=t:n.cols=t;return e},e.prototype.large=function(t){var e,n=this,r=n.rows||5,i=n.cols||5;null==t?e=Math.max(r,i):Math.max(r,i)===n.rows?n.rows=t:n.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed["c-".concat(t,"-").concat(e)]||!1},e.prototype.use=function(t,e){this.cellUsed["c-".concat(t,"-").concat(e)]=!0},e.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},e.prototype.getPos=function(t){var e,n,r=this,i=r.begin,o=r.cellWidth,a=r.cellHeight,s=r.id2manPos[t.id];if(s)e=s.col*o+o/2+i[0],n=s.row*a+a/2+i[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();e=r.col*o+o/2+i[0],n=r.row*a+a/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}t.x=e,t.y=n},e.prototype.getType=function(){return"grid"},e}(n("./node_modules/@antv/layout/lib/layout/base.js").Base);e.GridLayout=a},"./node_modules/@antv/layout/lib/layout/index.js":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=e.ForceAtlas2Layout=e.ComboCombinedLayout=e.ComboForceLayout=e.GForceGPULayout=e.FruchtermanGPULayout=e.FruchtermanLayout=e.MDSLayout=e.ConcentricLayout=e.RadialLayout=e.DagreCompoundLayout=e.DagreLayout=e.CircularLayout=e.ForceLayout=e.Force2Layout=e.GForceLayout=e.RandomLayout=e.GridLayout=e.Layouts=e.Layout=void 0;var o=n("./node_modules/@antv/layout/lib/layout/grid.js");Object.defineProperty(e,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n("./node_modules/@antv/layout/lib/layout/random.js");Object.defineProperty(e,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n("./node_modules/@antv/layout/lib/layout/gForce.js");Object.defineProperty(e,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var l=n("./node_modules/@antv/layout/lib/layout/force2/index.js");Object.defineProperty(e,"Force2Layout",{enumerable:!0,get:function(){return l.Force2Layout}});var u=n("./node_modules/@antv/layout/lib/layout/force/index.js");Object.defineProperty(e,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var c=n("./node_modules/@antv/layout/lib/layout/circular.js");Object.defineProperty(e,"CircularLayout",{enumerable:!0,get:function(){return c.CircularLayout}});var h=n("./node_modules/@antv/layout/lib/layout/dagre.js");Object.defineProperty(e,"DagreLayout",{enumerable:!0,get:function(){return h.DagreLayout}});var d=n("./node_modules/@antv/layout/lib/layout/dagreCompound.js");Object.defineProperty(e,"DagreCompoundLayout",{enumerable:!0,get:function(){return d.DagreCompoundLayout}});var f=n("./node_modules/@antv/layout/lib/layout/radial/index.js");Object.defineProperty(e,"RadialLayout",{enumerable:!0,get:function(){return f.RadialLayout}});var p=n("./node_modules/@antv/layout/lib/layout/concentric.js");Object.defineProperty(e,"ConcentricLayout",{enumerable:!0,get:function(){return p.ConcentricLayout}});var g=n("./node_modules/@antv/layout/lib/layout/mds.js");Object.defineProperty(e,"MDSLayout",{enumerable:!0,get:function(){return g.MDSLayout}});var m=n("./node_modules/@antv/layout/lib/layout/fruchterman.js");Object.defineProperty(e,"FruchtermanLayout",{enumerable:!0,get:function(){return m.FruchtermanLayout}});var v=n("./node_modules/@antv/layout/lib/layout/gpu/fruchterman.js");Object.defineProperty(e,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var y=n("./node_modules/@antv/layout/lib/layout/gpu/gForce.js");Object.defineProperty(e,"GForceGPULayout",{enumerable:!0,get:function(){return y.GForceGPULayout}});var b=n("./node_modules/@antv/layout/lib/layout/comboForce.js");Object.defineProperty(e,"ComboForceLayout",{enumerable:!0,get:function(){return b.ComboForceLayout}});var x=n("./node_modules/@antv/layout/lib/layout/comboCombined.js");Object.defineProperty(e,"ComboCombinedLayout",{enumerable:!0,get:function(){return x.ComboCombinedLayout}});var _=n("./node_modules/@antv/layout/lib/layout/forceAtlas2/index.js");Object.defineProperty(e,"ForceAtlas2Layout",{enumerable:!0,get:function(){return _.ForceAtlas2Layout}});var w=n("./node_modules/@antv/layout/lib/layout/er/index.js");Object.defineProperty(e,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var S=n("./node_modules/@antv/layout/lib/layout/layout.js");Object.defineProperty(e,"Layout",{enumerable:!0,get:function(){return S.Layout}}),Object.defineProperty(e,"Layouts",{enumerable:!0,get:function(){return S.Layouts}}),i(n("./node_modules/@antv/layout/lib/layout/types.js"),e)},"./node_modules/@antv/layout/lib/layout/layout.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layouts=e.Layout=void 0;var r=n("./node_modules/@antv/layout/lib/registy/index.js"),i=n("./node_modules/@antv/layout/lib/layout/grid.js"),o=n("./node_modules/@antv/layout/lib/layout/random.js"),a=n("./node_modules/@antv/layout/lib/layout/force2/index.js"),s=n("./node_modules/@antv/layout/lib/layout/gForce.js"),l=n("./node_modules/@antv/layout/lib/layout/force/index.js"),u=n("./node_modules/@antv/layout/lib/layout/circular.js"),c=n("./node_modules/@antv/layout/lib/layout/dagre.js"),h=n("./node_modules/@antv/layout/lib/layout/radial/index.js"),d=n("./node_modules/@antv/layout/lib/layout/concentric.js"),f=n("./node_modules/@antv/layout/lib/layout/mds.js"),p=n("./node_modules/@antv/layout/lib/layout/fruchterman.js"),g=n("./node_modules/@antv/layout/lib/layout/gpu/fruchterman.js"),m=n("./node_modules/@antv/layout/lib/layout/gpu/gForce.js"),v=n("./node_modules/@antv/layout/lib/layout/comboForce.js"),y=n("./node_modules/@antv/layout/lib/layout/comboCombined.js"),b=n("./node_modules/@antv/layout/lib/layout/forceAtlas2/index.js"),x=n("./node_modules/@antv/layout/lib/layout/er/index.js"),_=n("./node_modules/@antv/layout/lib/layout/dagreCompound.js"),w=n("./node_modules/@antv/layout/lib/util/index.js"),S=function(){function t(t){var e=(0,r.getLayoutByName)(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.correctLayers(t.nodes),this.layoutInstance.init(t)},t.prototype.correctLayers=function(t){if(null==t?void 0:t.length){var e=1/0,n=[];if(t.forEach((function(t){(0,w.isString)(t.layer)&&(t.layer=parseInt(t.layer,10)),void 0===t.layer||isNaN(t.layer)||(n.push(t),t.layer<e&&(e=t.layer))})),e<=0){var r=Math.abs(e)+1;n.forEach((function(t){return t.layer+=r}))}}},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();e.Layout=S,e.Layouts={force:l.ForceLayout,fruchterman:p.FruchtermanLayout,forceAtlas2:b.ForceAtlas2Layout,gForce:s.GForceLayout,force2:a.Force2Layout,dagre:c.DagreLayout,dagreCompound:_.DagreCompoundLayout,circular:u.CircularLayout,radial:h.RadialLayout,concentric:d.ConcentricLayout,grid:i.GridLayout,mds:f.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:y.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":m.GForceGPULayout,"fruchterman-gpu":g.FruchtermanGPULayout,er:x.ERLayout}},"./node_modules/@antv/layout/lib/layout/mds.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MDSLayout=void 0;var o=n("./node_modules/ml-matrix/src/index.js"),a=n("./node_modules/@antv/layout/lib/util/index.js"),s=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,r=void 0===n?[]:n,i=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=i[0],e[0].y=i[1],void(t.onLayoutEnd&&t.onLayoutEnd());var o=t.linkDistance,s=(0,a.getAdjMatrix)({nodes:e,edges:r},!1),l=(0,a.floydWarshall)(s);t.handleInfinity(l);var u=(0,a.scaleMatrix)(l,o);t.scaledDistances=u;var c=t.runMDS();return t.positions=c,c.forEach((function(t,n){e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:r}}t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.runMDS=function(){var t=this.scaledDistances,e=o.Matrix.mul(o.Matrix.pow(t,2),-.5),n=e.mean("row"),r=e.mean("column"),i=e.mean();e.add(i).subRowVector(n).subColumnVector(r);var a=new o.SingularValueDecomposition(e),s=o.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((function(t){return o.Matrix.mul([t],[s]).toJSON()[0].splice(0,2)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(n,r){n.forEach((function(n,i){n===1/0&&(t[r][i]=e)}))}))},e.prototype.getType=function(){return"mds"},e}(n("./node_modules/@antv/layout/lib/layout/base.js").Base);e.MDSLayout=s},"./node_modules/@antv/layout/lib/layout/radial/index.js":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("./node_modules/@antv/layout/lib/layout/radial/radial.js"),e)},"./node_modules/@antv/layout/lib/layout/radial/mds.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/ml-matrix/src/index.js"),i=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this,e=t.dimension,n=t.distances,i=t.linkDistance;try{var o=r.Matrix.mul(r.Matrix.pow(n,2),-.5),a=o.mean("row"),s=o.mean("column"),l=o.mean();o.add(l).subRowVector(a).subColumnVector(s);var u=new r.SingularValueDecomposition(o),c=r.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(t){return r.Matrix.mul([t],[c]).toJSON()[0].splice(0,e)}))}catch(t){for(var h=[],d=0;d<n.length;d++){var f=Math.random()*i,p=Math.random()*i;h.push([f,p])}return h}},t}();e.default=i},"./node_modules/@antv/layout/lib/layout/radial/radial.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RadialLayout=void 0;var a=n("./node_modules/@antv/layout/lib/util/index.js"),s=n("./node_modules/@antv/layout/lib/layout/base.js"),l=o(n("./node_modules/@antv/layout/lib/layout/radial/mds.js")),u=o(n("./node_modules/@antv/layout/lib/layout/radial/radialNonoverlapForce.js"));function c(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var h=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[];if(e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var r=t.center;if(1===e.length)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var i=t.linkDistance,o=null;if((0,a.isString)(t.focusNode)){for(var s=!1,c=0;c<e.length;c++)e[c].id===t.focusNode&&(o=e[c],t.focusNode=o,s=!0,c=e.length);s||(o=null)}else o=t.focusNode;o||(o=e[0],t.focusNode=o);var h,d,f,p=(h=e,d=o.id,f=-1,h.forEach((function(t,e){t.id===d&&(f=e)})),f);p<0&&(p=0),t.focusIndex=p;var g=(0,a.getAdjMatrix)({nodes:e,edges:n},!1),m=(0,a.floydWarshall)(g),v=t.maxToFocus(m,p);t.handleInfinity(m,p,v+1),t.distances=m;var y=m[p],b=t.width||500,x=t.height||500,_=b-r[0]>r[0]?r[0]:b-r[0],w=x-r[1]>r[1]?r[1]:x-r[1];0===_&&(_=b/2),0===w&&(w=x/2);var S=w>_?_:w,M=Math.max.apply(Math,y),k=[];y.forEach((function(e,n){t.unitRadius||(t.unitRadius=S/M),k[n]=e*t.unitRadius})),t.radii=k;var E=t.eIdealDisMatrix();t.eIdealDistances=E;var A=function(t){for(var e=t.length,n=t[0].length,r=[],i=0;i<e;i++){for(var o=[],a=0;a<n;a++)0!==t[i][a]?o.push(1/(t[i][a]*t[i][a])):o.push(0);r.push(o)}return r}(E);t.weights=A;var T=new l.default({linkDistance:i,distances:E}).layout();T.forEach((function(t){(0,a.isNaN)(t[0])&&(t[0]=Math.random()*i),(0,a.isNaN)(t[1])&&(t[1]=Math.random()*i)})),t.positions=T,T.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),T.forEach((function(t){t[0]-=T[p][0],t[1]-=T[p][1]})),t.run();var I,C=t.preventOverlap,D=t.nodeSize,N=t.strictRadial;if(C){var O,L=t.nodeSpacing;O=(0,a.isNumber)(L)?function(){return L}:(0,a.isFunction)(L)?L:function(){return 0},I=D?(0,a.isArray)(D)?function(t){return(D[0]>D[1]?D[0]:D[1])+O(t)}:function(t){return D+O(t)}:function(t){return t.size?(0,a.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+O(t):(0,a.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)+O(t):t.size+O(t):10+O(t)};var P={nodes:e,nodeSizeFunc:I,adjMatrix:g,positions:T,radii:k,height:x,width:b,strictRadial:N,focusID:p,iterations:t.maxPreventOverlapIteration||200,k:T.length/4.5},R=new u.default(P);T=R.layout()}return T.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],r=t.weights||[],i=t.eIdealDistances||[],o=t.radii||[],a=0;a<=e;a++){var s=a/e;t.oneIteration(s,n,o,i,r)}},e.prototype.oneIteration=function(t,e,n,r,i){var o=1-t,a=this.focusIndex;e.forEach((function(s,l){var u=c(s,[0,0]),h=0===u?0:1/u;if(l!==a){var d=0,f=0,p=0;e.forEach((function(t,e){if(l!==e){var n=c(s,t),o=0===n?0:1/n,a=r[e][l];p+=i[l][e],d+=i[l][e]*(t[0]+a*(s[0]-t[0])*o),f+=i[l][e]*(t[1]+a*(s[1]-t[1])*o)}}));var g=0===n[l]?0:1/n[l];p*=o,p+=t*g*g,d*=o,d+=t*g*s[0]*h,s[0]=d/p,f*=o,f+=t*g*s[1]*h,s[1]=f/p}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,r=t.linkDistance,i=t.radii||[],o=t.unitRadius||50,s=[];return n&&n.forEach((function(n,l){var u=[];n.forEach((function(n,s){if(l===s)u.push(0);else if(i[l]===i[s])if("data"===t.sortBy)u.push(n*(Math.abs(l-s)*t.sortStrength)/(i[l]/o));else if(t.sortBy){var c=e[l][t.sortBy]||0,h=e[s][t.sortBy]||0;(0,a.isString)(c)&&(c=c.charCodeAt(0)),(0,a.isString)(h)&&(h=h.charCodeAt(0)),u.push(n*(Math.abs(c-h)*t.sortStrength)/(i[l]/o))}else u.push(n*r/(i[l]/o));else{var d=(r+o)/2;u.push(n*d)}})),s.push(u)})),s},e.prototype.handleInfinity=function(t,e,n){for(var r=t.length,i=0;i<r;i++)if(t[e][i]===1/0){t[e][i]=n,t[i][e]=n;for(var o=0;o<r;o++)t[i][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[i][o],t[o][e]=n+t[i][o])}for(i=0;i<r;i++)if(i!==e)for(o=0;o<r;o++)if(t[i][o]===1/0){var a=Math.abs(t[e][i]-t[e][o]);a=0===a?1:a,t[i][o]=a}},e.prototype.maxToFocus=function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n},e.prototype.getType=function(){return"radial"},e}(s.Base);e.RadialLayout=h},"./node_modules/@antv/layout/lib/layout/radial/radialNonoverlapForce.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this,e=t.positions,n=[],r=t.iterations,i=t.width/10;t.maxDisplace=i,t.disp=n;for(var o=0;o<r;o++)e.forEach((function(t,e){n[e]={x:0,y:0}})),t.getRepulsion(),t.updatePositions();return e},t.prototype.getRepulsion=function(){var t=this,e=t.positions,n=t.nodes,r=t.disp,i=t.k,o=t.radii||[];e.forEach((function(a,s){r[s]={x:0,y:0},e.forEach((function(e,l){if(s!==l&&o[s]===o[l]){var u=a[0]-e[0],c=a[1]-e[1],h=Math.sqrt(u*u+c*c);if(0===h){h=1;var d=s>l?1:-1;u=.01*d,c=.01*d}if(h<t.nodeSizeFunc(n[s])/2+t.nodeSizeFunc(n[l])/2){var f=i*i/h;r[s].x+=u/h*f,r[s].y+=c/h*f}}}))}))},t.prototype.updatePositions=function(){var t=this,e=t.positions,n=t.disp,r=t.speed,i=t.strictRadial,o=t.focusID,a=t.maxDisplace||t.width/10;i&&n.forEach((function(t,n){var r=e[n][0]-e[o][0],i=e[n][1]-e[o][1],a=Math.sqrt(r*r+i*i),s=i/a,l=-r/a,u=Math.sqrt(t.x*t.x+t.y*t.y),c=Math.acos((s*t.x+l*t.y)/u);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,l*=-1);var h=Math.cos(c)*u;t.x=s*h,t.y=l*h}));var s=t.radii;e.forEach((function(t,l){if(l!==o){var u=Math.sqrt(n[l].x*n[l].x+n[l].y*n[l].y);if(u>0&&l!==o){var c=Math.min(a*(r/800),u);if(t[0]+=n[l].x/u*c,t[1]+=n[l].y/u*c,i){var h=t[0]-e[o][0],d=t[1]-e[o][1],f=Math.sqrt(h*h+d*d);h=h/f*s[l],d=d/f*s[l],t[0]=e[o][0]+h,t[1]=e[o][1]+d}}}}))},t}();e.default=n},"./node_modules/@antv/layout/lib/layout/random.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RandomLayout=void 0;var o=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return"random"},e}(n("./node_modules/@antv/layout/lib/layout/base.js").Base);e.RandomLayout=o},"./node_modules/@antv/layout/lib/layout/types.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"./node_modules/@antv/layout/lib/registy/index.js":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n("./node_modules/@antv/layout/lib/layout/base.js"),a=n("./node_modules/@antv/layout/lib/util/index.js"),s=new Map;e.registerLayout=function(t,e){if(s.get(t),(0,a.isObject)(e)){var n=function(t){function n(n){var r,i,o=r=t.call(this)||this,a={},s=Object.assign({},o.getDefaultCfg(),(null===(i=e.getDefaultCfg)||void 0===i?void 0:i.call(e))||{});return Object.assign(a,s,e,n),Object.keys(a).forEach((function(t){var e=a[t];o[t]=e})),r}return i(n,t),n}(o.Base);s.set(t,n)}else s.set(t,e);return s.get(t)};e.unRegisterLayout=function(t){s.has(t)&&s.delete(t)};e.getLayoutByName=function(t){return s.has(t)?s.get(t):null}},"./node_modules/@antv/layout/lib/util/array.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray},"./node_modules/@antv/layout/lib/util/function.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFuncByUnknownType=e.getFunc=e.isFunction=void 0;var r=n("./node_modules/@antv/layout/lib/util/index.js"),i=n("./node_modules/@antv/layout/lib/util/number.js");e.isFunction=function(t){return"function"==typeof t};e.getFunc=function(t,e,n){return n||((0,i.isNumber)(t)?function(){return t}:function(){return e})};e.getFuncByUnknownType=function(t,n,o){return void 0===o&&(o=!0),n||0===n?(0,e.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var e=Math.max.apply(Math,n);return isNaN(e)?t:e}return n}:(0,r.isObject)(n)?function(){if(o){var e=Math.max(n.width,n.height);return isNaN(e)?t:e}return[n.width,n.height]}:function(){return t}:function(e){return e.size?(0,r.isArray)(e.size)?e.size[0]>e.size[1]?e.size[0]:e.size[1]:(0,r.isObject)(e.size)?e.size.width>e.size.height?e.size.width:e.size.height:e.size:t}}},"./node_modules/@antv/layout/lib/util/gpu.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayToTextureData=e.attributesToTextureData=e.buildTextureDataWithTwoEdgeAttr=e.buildTextureData=e.proccessToFunc=void 0;var r=n("./node_modules/@antv/layout/lib/util/index.js"),i=n("./node_modules/@antv/layout/lib/util/math.js");e.proccessToFunc=function(t,e){return t?(0,r.isNumber)(t)?function(){return t}:t:function(){return e||1}};e.buildTextureData=function(t,e){var n=[],r=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<e.length;a++){var l=e[a],u=(0,i.getEdgeTerminal)(l,"source"),c=(0,i.getEdgeTerminal)(l,"target");isNaN(o[u])||isNaN(o[c])||(r[o[u]].push(o[c]),r[o[c]].push(o[u]))}var h=0;for(a=0;a<t.length;a++){var d=n.length,f=r[a],p=f.length;n[4*a+2]=d,n[4*a+3]=p,h=Math.max(h,p);for(var g=0;g<p;++g){var m=f[g];n.push(+m)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:h,array:new Float32Array(n)}};e.buildTextureDataWithTwoEdgeAttr=function(t,e,n,r){var o=[],a=[],s={},l=0;for(l=0;l<t.length;l++){var u=t[l];s[u.id]=l,o.push(u.x),o.push(u.y),o.push(0),o.push(0),a.push([])}for(l=0;l<e.length;l++){var c=e[l],h=(0,i.getEdgeTerminal)(c,"source"),d=(0,i.getEdgeTerminal)(c,"target");a[s[h]].push(s[d]),a[s[h]].push(n(c)),a[s[h]].push(r(c)),a[s[h]].push(0),a[s[d]].push(s[h]),a[s[d]].push(n(c)),a[s[d]].push(r(c)),a[s[d]].push(0)}var f=0;for(l=0;l<t.length;l++){var p=o.length,g=a[l],m=g.length;o[4*l+2]=p+1048576*m/4,o[4*l+3]=0,f=Math.max(f,m/4);for(var v=0;v<m;++v){var y=g[v];o.push(+y)}}for(;o.length%4!=0;)o.push(0);return{maxEdgePerVetex:f,array:new Float32Array(o)}};e.attributesToTextureData=function(t,e){var n=[],r=t.length,i={};return e.forEach((function(e){t.forEach((function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)for(;n.length%4!=0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}};e.arrayToTextureData=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach((function(t,i){if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(e)}},"./node_modules/@antv/layout/lib/util/index.js":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("./node_modules/@antv/layout/lib/util/string.js"),e),i(n("./node_modules/@antv/layout/lib/util/array.js"),e),i(n("./node_modules/@antv/layout/lib/util/number.js"),e),i(n("./node_modules/@antv/layout/lib/util/math.js"),e),i(n("./node_modules/@antv/layout/lib/util/object.js"),e),i(n("./node_modules/@antv/layout/lib/util/function.js"),e)},"./node_modules/@antv/layout/lib/util/math.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoreNodeAndRelativeLeafNodes=e.getAvgNodePosition=e.getLayoutBBox=e.traverseTreeUp=e.scaleMatrix=e.getAdjMatrix=e.floydWarshall=e.getDegreeMap=e.getDegree=e.getEdgeTerminal=void 0;var r=n("./node_modules/@antv/layout/lib/util/array.js"),i=n("./node_modules/@antv/layout/lib/util/number.js"),o=n("./node_modules/@antv/layout/lib/util/object.js");e.getEdgeTerminal=function(t,e){var n=t[e];return(0,o.isObject)(n)?n.cell:n};e.getDegree=function(t,n,r){for(var i=[],o=0;o<t;o++)i[o]={in:0,out:0,all:0};return r?(r.forEach((function(t){var r=(0,e.getEdgeTerminal)(t,"source"),o=(0,e.getEdgeTerminal)(t,"target");r&&i[n[r]]&&(i[n[r]].out+=1,i[n[r]].all+=1),o&&i[n[o]]&&(i[n[o]].in+=1,i[n[o]].all+=1)})),i):i};e.getDegreeMap=function(t,n){var r={};return t.forEach((function(t){r[t.id]={in:0,out:0,all:0}})),n?(n.forEach((function(t){var n=(0,e.getEdgeTerminal)(t,"source"),i=(0,e.getEdgeTerminal)(t,"target");n&&(r[n].out+=1,r[n].all+=1),i&&(r[i].in+=1,r[i].all+=1)})),r):r};e.floydWarshall=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e};e.getAdjMatrix=function(t,n){var r=t.nodes,i=t.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(t,e){a[t.id]=e;o.push([])})),null==i||i.forEach((function(t){var r=(0,e.getEdgeTerminal)(t,"source"),i=(0,e.getEdgeTerminal)(t,"target"),s=a[r],l=a[i];void 0!==s&&void 0!==l&&(o[s][l]=1,n||(o[l][s]=1))})),o};e.scaleMatrix=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n};var a=function(t,e){if(t&&t.children)for(var n=t.children.length-1;n>=0;n--)if(!a(t.children[n],e))return;return!!e(t)};e.traverseTreeUp=function(t,e){"function"==typeof e&&a(t,e)};e.getLayoutBBox=function(t){var e=1/0,n=1/0,o=-1/0,a=-1/0;return t.forEach((function(t){var s=t.size;(0,r.isArray)(s)?1===s.length&&(s=[s[0],s[0]]):(0,i.isNumber)(s)?s=[s,s]:(void 0===s||isNaN(s))&&(s=[30,30]);var l=[s[0]/2,s[1]/2],u=t.x-l[0],c=t.x+l[0],h=t.y-l[1],d=t.y+l[1];e>u&&(e=u),n>h&&(n=h),o<c&&(o=c),a<d&&(a=d)})),{minX:e,minY:n,maxX:o,maxY:a}};e.getAvgNodePosition=function(t){var e={x:0,y:0};t.forEach((function(t){e.x+=t.x||0,e.y+=t.y||0}));var n=t.length||1;return{x:e.x/n,y:e.y/n}};var s=function(t,e,n){var r,i;return"source"===t?(null===(r=null==n?void 0:n.find((function(t){return t.target===e.id})))||void 0===r?void 0:r.source)||{}:(null===(i=null==n?void 0:n.find((function(t){return t.source===e.id})))||void 0===i?void 0:i.target)||{}},l=function(t,e,n){var r=[];switch(t){case"source":r=null==n?void 0:n.filter((function(t){return t.source===e.id})).map((function(t){return t.target}));break;case"target":r=null==n?void 0:n.filter((function(t){return t.target===e.id})).map((function(t){return t.source}));break;case"both":r=null==n?void 0:n.filter((function(t){return t.source===e.id})).map((function(t){return t.target})).concat(null==n?void 0:n.filter((function(t){return t.target===e.id})).map((function(t){return t.source})))}var i=new Set(r);return Array.from(i)};e.getCoreNodeAndRelativeLeafNodes=function(t,e,n,r,i,o){var a=i[e.id],u=a.in,c=a.out,h=e,d=[];0===u?(h=s("source",e,n),d=l("both",h,n).map((function(t){return o[t]}))):0===c&&(h=s("target",e,n),d=l("both",h,n).map((function(t){return o[t]}))),d=d.filter((function(t){return i[t.id]&&(0===i[t.id].in||0===i[t.id].out)}));var f=function(t,e,n,r,i){var o=n[e]||"",a=(null==r?void 0:r.filter((function(t){return t[e]===o})))||[];return"leaf"===t&&(a=a.filter((function(t){var e,n;return 0===(null===(e=i[t.id])||void 0===e?void 0:e.in)||0===(null===(n=i[t.id])||void 0===n?void 0:n.out)}))),a}(t,r,e,d,i);return{coreNode:h,relativeLeafNodes:d,sameTypeLeafNodes:f}}},"./node_modules/@antv/layout/lib/util/number.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=e.isNaN=e.isNumber=void 0;e.isNumber=function(t){return"number"==typeof t};e.isNaN=function(t){return Number.isNaN(Number(t))};e.toNumber=function(t){var n=parseFloat(t);return(0,e.isNaN)(n)?t:n}},"./node_modules/@antv/layout/lib/util/object.js":function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.isObject=void 0;e.isObject=function(t){return null!==t&&"object"==typeof t};e.clone=function(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var r=[];return t.forEach((function(t){r.push(t)})),r.map((function(t){return(0,e.clone)(t)}))}if("object"==typeof t&&Object.keys(t).length){var i=n({},t);return Object.keys(i).forEach((function(t){i[t]=(0,e.clone)(i[t])})),i}return t}},"./node_modules/@antv/layout/lib/util/string.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=e.isString=void 0;e.isString=function(t){return"string"==typeof t};var n,r,i=/-(\w)/g;e.camelize=(n=function(t){return t.replace(i,(function(t,e){return e?e.toUpperCase():""}))},r=Object.create(null),function(t){return r[t]||(r[t]=n(t))})},"./node_modules/@antv/layout/node_modules/@antv/util/esm/index.js":function(t,e,n){"use strict";function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function i(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function o(t){return"#"+i(t[0])+i(t[1])+i(t[2])}n.r(e),n.d(e,{Cache:function(){return Fn},angleTo:function(){return w},arcToCubic:function(){return W},assign:function(){return cn},augment:function(){return hn},clamp:function(){return ve},clearAnimationFrame:function(){return ln},clone:function(){return fn},clonePath:function(){return M},contains:function(){return xt},debounce:function(){return pn},deepMix:function(){return vn},difference:function(){return wt},direction:function(){return _},distanceSquareRoot:function(){return X},each:function(){return It},endsWith:function(){return oe},equalizeSegments:function(){return yt},every:function(){return ae},extend:function(){return yn},filter:function(){return _t},find:function(){return Lt},findIndex:function(){return Pt},firstValue:function(){return Rt},fixedBase:function(){return ye},flatten:function(){return jt},flattenDeep:function(){return Bt},forIn:function(){return Re},get:function(){return Tn},getDrawDirection:function(){return ft},getPathArea:function(){return dt},getPathBBox:function(){return lt},getPathBBoxTotalLength:function(){return ct},getPointAtLength:function(){return pt},getRange:function(){return Vt},getRotatedCurve:function(){return ht},getTotalLength:function(){return ut},getType:function(){return Xe},getWrapBehavior:function(){return de},gradient:function(){return c},group:function(){return he},groupBy:function(){return ue},groupToMap:function(){return ce},has:function(){return je},hasKey:function(){return ze},hasValue:function(){return Fe},head:function(){return ne},identity:function(){return zn},includes:function(){return xt},indexOf:function(){return bn},isArguments:function(){return qe},isArray:function(){return At},isArrayLike:function(){return bt},isBoolean:function(){return Ke},isDate:function(){return $e},isDecimal:function(){return xe},isElement:function(){return an},isEmpty:function(){return _n},isEqual:function(){return Sn},isEqualWith:function(){return Mn},isError:function(){return Je},isEven:function(){return _e},isFinite:function(){return Qe},isFunction:function(){return St},isInteger:function(){return we},isMatch:function(){return Dt},isNegative:function(){return Se},isNil:function(){return Mt},isNull:function(){return tn},isNumber:function(){return be},isNumberEqual:function(){return ke},isObject:function(){return Tt},isObjectLike:function(){return Nt},isOdd:function(){return Ee},isPlainObject:function(){return Ot},isPointInPolygon:function(){return Un},isPointInStroke:function(){return mt},isPolygonsIntersect:function(){return qn},isPositive:function(){return Ae},isPrototype:function(){return nn},isRegExp:function(){return rn},isString:function(){return $t},isType:function(){return Et},isUndefined:function(){return on},keys:function(){return Ct},last:function(){return re},lowerCase:function(){return Ve},lowerFirst:function(){return Ze},map:function(){return kn},mapValues:function(){return An},max:function(){return Ft},maxBy:function(){return Te},memoize:function(){return gn},min:function(){return Gt},minBy:function(){return Ie},mix:function(){return cn},mod:function(){return Ce},noop:function(){return jn},normalizePath:function(){return U},number2color:function(){return ge},omit:function(){return Nn},parseRadius:function(){return me},path2Absolute:function(){return V},path2Curve:function(){return J},path2String:function(){return k},pick:function(){return Dn},pull:function(){return Wt},pullAt:function(){return Xt},reduce:function(){return qt},remove:function(){return Kt},requestAnimationFrame:function(){return sn},reverseCurve:function(){return Q},rgb2arr:function(){return r},set:function(){return In},size:function(){return Bn},some:function(){return se},sortBy:function(){return Jt},startsWith:function(){return ie},substitute:function(){return Ue},throttle:function(){return On},toArray:function(){return Ln},toCSSGradient:function(){return p},toDegree:function(){return Ne},toInteger:function(){return Oe},toRGB:function(){return l},toRadian:function(){return Pe},toString:function(){return Ge},transform:function(){return x},union:function(){return te},uniq:function(){return Qt},uniqueId:function(){return Rn},upperCase:function(){return He},upperFirst:function(){return We},values:function(){return Be},valuesOfKey:function(){return ee},vertical:function(){return S},wrapBehavior:function(){return fe}});var a,s=/rgba?\(([\s.,0-9]+)\)/;function l(t){if("#"===t[0]&&7===t.length)return t;var e;a||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),a=e),a.style.color=t;var n=document.defaultView.getComputedStyle(a,"").getPropertyValue("color");return n=o(s.exec(n)[1].split(/\s*,\s*/).map((function(t){return Number(t)})))}function u(t,e,n,r){return t[r]+(e[r]-t[r])*n}function c(t){var e=("string"==typeof t?t.split("-"):t).map((function(t){return r(-1===t.indexOf("#")?l(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,i=Math.floor(r*n),a=r*n-i,s=t[i],l=i===r?s:t[i+1];return o([u(s,l,a,0),u(s,l,a,1),u(s,l,a,2)])}(e,t)}}var h=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,d=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function p(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var r=+(i=h.exec(t))[1]+90;n=i[2],e="linear-gradient("+r+"deg, "}else if("r"===t[0]){var i;e="radial-gradient(",n=(i=d.exec(t))[4]}var o=n.match(f);return o.forEach((function(t,n){var r=t.split(":");e+=r[1]+" "+100*Number(r[0])+"%",n!==o.length-1&&(e+=", ")})),e+=")"}return t}var g=n("./node_modules/gl-matrix/esm/mat3.js"),m=n("./node_modules/gl-matrix/esm/vec2.js");function v(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return g.fromRotation(r,n),g.multiply(t,r,e)}function y(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return g.fromScaling(r,n),g.multiply(t,r,e)}function b(t,e,n){return g.multiply(t,n,e)}function x(t,e){for(var n,r,i,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,l=e.length;s<l;s++){var u=e[s];switch(u[0]){case"t":n=a,r=a,i=[u[1],u[2]],o=void 0,o=[0,0,0,0,0,0,0,0,0],g.fromTranslation(o,i),g.multiply(n,o,r);break;case"s":y(a,a,[u[1],u[2]]);break;case"r":v(a,a,u[1]);break;case"m":b(a,a,u[1])}}return a}function _(t,e){return t[0]*e[1]-e[0]*t[1]}function w(t,e,n){var r=m.angle(t,e),i=_(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function S(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function M(t){return t.map((function(t){return Array.isArray(t)?[].concat(t):t}))}function k(t,e){return void 0===e&&(e="off"),function(t,e){if("off"===e)return M(t);var n="number"==typeof e&&e>=1?Math.pow(10,e):1;return t.map((function(t){var r=t.slice(1).map(Number).map((function(t){return e?Math.round(t*n)/n:Math.round(t)}));return[t[0]].concat(r)}))}(t,e).map((function(t){return t[0]+t.slice(1).join(" ")})).join("")}var E=n("./node_modules/tslib/tslib.es6.mjs"),A={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function T(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var I={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function C(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return I[e]===t.length-1&&"achlmqstvz".includes(e)}))}function D(t){return C(t)&&t.every((function(t){var e=t[0];return e===e.toUpperCase()}))}function N(t){return D(t)&&t.every((function(t){var e=t[0];return"ACLMQZ".includes(e)}))}function O(t){for(var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;r.length>=I[n]&&("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,I[n]))),I[n]););}function L(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e)}function P(t){return t>=48&&t<=57||43===t||45===t||46===t}function R(t){return t>=48&&t<=57}function j(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,a=!1,s=!1,l=!1,u=!1;if(o>=n)t.err="[path-util]: Invalid path value at index "+o+', "pathValue" is missing param';else if(43!==(e=r.charCodeAt(o))&&45!==e||(o+=1,e=r.charCodeAt(o)),R(e)||46===e){if(46!==e){if(a=48===e,o+=1,e=r.charCodeAt(o),a&&o<n&&e&&R(e))return void(t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number');for(;o<n&&R(r.charCodeAt(o));)o+=1,s=!0;e=r.charCodeAt(o)}if(46===e){for(u=!0,o+=1;R(r.charCodeAt(o));)o+=1,l=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(u&&!s&&!l)return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid float exponent');if(o+=1,43!==(e=r.charCodeAt(o))&&45!==e||(o+=1),!(o<n&&R(r.charCodeAt(o))))return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid integer exponent');for(;o<n&&R(r.charCodeAt(o));)o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" is not a number'}function z(t){for(var e,n=t.pathValue,r=t.max;t.index<r&&(10===(e=n.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e));)t.index+=1}function B(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=I[n[r].toLowerCase()];if(t.segmentStart=r,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(i))if(t.index+=1,z(t),t.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(97!=(32|i)||3!==a&&4!==a?j(t):L(t),t.err.length)return;t.data.push(t.param),z(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,z(t))}if(t.index>=t.max)break;if(!P(n.charCodeAt(t.index)))break}O(t)}else O(t);else t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command'}var F=function(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""};function G(t){if(C(t))return M(t);var e=new F(t);for(z(e);e.index<e.max&&!e.err.length;)B(e);return e.err?e.err:e.segments}function V(t){if(D(t))return M(t);var e=G(t),n=0,r=0,i=0,o=0;return e.map((function(t){var e,a=t.slice(1).map(Number),s=t[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":e=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":e=[l,a[0]+r];break;case"H":e=[l,a[0]+n];break;default:var u=a.map((function(t,e){return t+(e%2?r:n)}));e=[l].concat(u)}else e=[l].concat(a);var c=e.length;switch(l){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[c-2],r=e[c-1],"M"===l&&(i=n,o=r)}return e}))}function Z(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],i];else if("V"===n)l=["L",r,t[1]];else if("S"===n){var u=2*r-o,c=2*i-a;e.x1=u,e.y1=c,l=["C",u,c].concat(s)}else if("T"===n){var h=2*r-e.qx,d=2*i-e.qy;e.qx=h,e.qy=d,l=["Q",h,d].concat(s)}else if("Q"===n){var f=s[0],p=s[1];e.qx=f,e.qy=p}return l}function U(t){if(N(t))return M(t);for(var e=V(t),n=(0,E.__assign)({},A),r=0;r<e.length;r+=1){e[r]=Z(e[r],n);var i=e[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return e}function H(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function W(t,e,n,r,i,o,a,s,l,u){var c,h,d,f,p,g=t,m=e,v=n,y=r,b=s,x=l,_=120*Math.PI/180,w=Math.PI/180*(+i||0),S=[];if(u)h=u[0],d=u[1],f=u[2],p=u[3];else{g=(c=H(g,m,-w)).x,m=c.y;var M=(g-(b=(c=H(b,x,-w)).x))/2,k=(m-(x=c.y))/2,E=M*M/(v*v)+k*k/(y*y);E>1&&(v*=E=Math.sqrt(E),y*=E);var A=v*v,T=y*y,I=(o===a?-1:1)*Math.sqrt(Math.abs((A*T-A*k*k-T*M*M)/(A*k*k+T*M*M)));f=I*v*k/y+(g+b)/2,p=I*-y*M/v+(m+x)/2,h=Math.asin(((m-p)/y*Math.pow(10,9)>>0)/Math.pow(10,9)),d=Math.asin(((x-p)/y*Math.pow(10,9)>>0)/Math.pow(10,9)),h=g<f?Math.PI-h:h,d=b<f?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),a&&h>d&&(h-=2*Math.PI),!a&&d>h&&(d-=2*Math.PI)}var C=d-h;if(Math.abs(C)>_){var D=d,N=b,O=x;d=h+_*(a&&d>h?1:-1),S=W(b=f+v*Math.cos(d),x=p+y*Math.sin(d),v,y,i,0,a,N,O,[d,D,f,p])}C=d-h;var L=Math.cos(h),P=Math.sin(h),R=Math.cos(d),j=Math.sin(d),z=Math.tan(C/4),B=4/3*v*z,F=4/3*y*z,G=[g,m],V=[g+B*P,m-F*L],Z=[b+B*j,x-F*R],U=[b,x];if(V[0]=2*G[0]-V[0],V[1]=2*G[1]-V[1],u)return V.concat(Z,U,S);for(var Y=[],X=0,q=(S=V.concat(Z,U,S)).length;X<q;X+=1)Y[X]=X%2?H(S[X-1],S[X],w).y:H(S[X],S[X+1],w).x;return Y}function Y(t,e,n){var r=t[0],i=t[1];return[r+(e[0]-r)*n,i+(e[1]-i)*n]}function X(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function q(t,e,n,r,i){var o=X([t,e],[n,r]),a={x:0,y:0};if("number"==typeof i)if(i<=0)a={x:t,y:e};else if(i>=o)a={x:n,y:r};else{var s=Y([t,e],[n,r],i/o);a={x:s[0],y:s[1]}}return{length:o,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function K(t,e,n,r){var i=.5,o=[t,e],a=[n,r],s=Y(o,a,i),l=Y(a,s,i),u=Y(s,l,i),c=Y(l,u,i),h=Y(u,c,i),d=q(o[0],o[1],s[0],s[1],u[0]).point,f=q(h[0],h[1],c[0],c[1],l[0]).point;return[d.x,d.y,f.x,f.y,n,r]}function $(t,e){var n,r,i,o,a,s,l,u,c,h=t[0],d=t.slice(1).map(Number),f=d[0],p=d[1],g=e.x1,m=e.y1,v=e.x,y=e.y;switch("TQ".includes(h)||(e.qx=null,e.qy=null),h){case"M":return e.x=f,e.y=p,t;case"A":return n=[g,m].concat(d),["C"].concat(W(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return e.qx=f,e.qy=p,n=[g,m].concat(d),["C"].concat((r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],[(u=1/3)*r+(c=2/3)*o,u*i+c*a,u*s+c*o,u*l+c*a,s,l]));case"L":return["C"].concat(K(g,m,f,p));case"Z":return g===v&&m===y?["C",g,m,v,y,v,y]:["C"].concat(K(g,m,v,y))}return t}function J(t,e){if(void 0===e&&(e=!1),function(t){return N(t)&&t.every((function(t){var e=t[0];return"MC".includes(e)}))}(t)){var n=M(t);return e?[n,[]]:n}for(var r,i,o=U(t),a=(0,E.__assign)({},A),s=[],l="",u=o.length,c=[],h=0;h<u;h+=1){o[h]&&(l=o[h][0]),s[h]=l;var d=$(o[h],a);o[h]=d,T(o,s,h),u=o.length,"Z"===l&&c.push(h),i=(r=o[h]).length,a.x1=+r[i-2],a.y1=+r[i-1],a.x2=+r[i-4]||a.x1,a.y2=+r[i-3]||a.y1}return e?[o,c]:o}function Q(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))}function tt(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2)));return(n*o-r*i<0?-1:1)*Math.acos(a/s)}function et(t,e,n,r,i,o,a,s,l,u){var c=Math.abs,h=Math.sin,d=Math.cos,f=Math.sqrt,p=Math.PI,g=c(n),m=c(r),v=(i%360+360)%360*(p/180);if(t===s&&e===l)return{x:t,y:e};if(0===g||0===m)return q(t,e,s,l,u).point;var y=(t-s)/2,b=(e-l)/2,x={x:d(v)*y+h(v)*b,y:-h(v)*y+d(v)*b},_=Math.pow(x.x,2)/Math.pow(g,2)+Math.pow(x.y,2)/Math.pow(m,2);_>1&&(g*=f(_),m*=f(_));var w=(Math.pow(g,2)*Math.pow(m,2)-Math.pow(g,2)*Math.pow(x.y,2)-Math.pow(m,2)*Math.pow(x.x,2))/(Math.pow(g,2)*Math.pow(x.y,2)+Math.pow(m,2)*Math.pow(x.x,2)),S=(o!==a?1:-1)*f(w=w<0?0:w),M=S*(g*x.y/m),k=S*(-m*x.x/g),E=d(v)*M-h(v)*k+(t+s)/2,A=h(v)*M+d(v)*k+(e+l)/2,T={x:(x.x-M)/g,y:(x.y-k)/m},I=tt({x:1,y:0},T),C=tt(T,{x:(-x.x-M)/g,y:(-x.y-k)/m});!a&&C>0?C-=2*p:a&&C<0&&(C+=2*p);var D=I+(C%=2*p)*u,N=g*d(D),O=m*h(D);return{x:d(v)*N-h(v)*O+E,y:h(v)*N+d(v)*O+A}}function nt(t,e,n,r,i,o,a,s,l,u,c){var h,d=c.bbox,f=void 0===d||d,p=c.length,g=void 0===p||p,m=c.sampleSize,v=void 0===m?30:m,y="number"==typeof u,b=t,x=e,_=0,w=[b,x,_],S=[b,x],M={x:0,y:0},k=[{x:b,y:x}];y&&u<=0&&(M={x:b,y:x});for(var E=0;E<=v;E+=1){if(b=(h=et(t,e,n,r,i,o,a,s,l,E/v)).x,x=h.y,f&&k.push({x:b,y:x}),g&&(_+=X(S,[b,x])),S=[b,x],y&&_>=u&&u>w[2]){var A=(_-u)/(_-w[2]);M={x:S[0]*(1-A)+w[0]*A,y:S[1]*(1-A)+w[1]*A}}w=[b,x,_]}return y&&u>=_&&(M={x:s,y:l}),{length:_,point:M,min:{x:Math.min.apply(null,k.map((function(t){return t.x}))),y:Math.min.apply(null,k.map((function(t){return t.y})))},max:{x:Math.max.apply(null,k.map((function(t){return t.x}))),y:Math.max.apply(null,k.map((function(t){return t.y})))}}}function rt(t,e,n,r,i,o,a,s,l){var u=1-l;return{x:Math.pow(u,3)*t+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(u,3)*e+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*o+Math.pow(l,3)*s}}function it(t,e,n,r,i,o,a,s,l,u){var c,h=u.bbox,d=void 0===h||h,f=u.length,p=void 0===f||f,g=u.sampleSize,m=void 0===g?10:g,v="number"==typeof l,y=t,b=e,x=0,_=[y,b,x],w=[y,b],S={x:0,y:0},M=[{x:y,y:b}];v&&l<=0&&(S={x:y,y:b});for(var k=0;k<=m;k+=1){if(y=(c=rt(t,e,n,r,i,o,a,s,k/m)).x,b=c.y,d&&M.push({x:y,y:b}),p&&(x+=X(w,[y,b])),w=[y,b],v&&x>=l&&l>_[2]){var E=(x-l)/(x-_[2]);S={x:w[0]*(1-E)+_[0]*E,y:w[1]*(1-E)+_[1]*E}}_=[y,b,x]}return v&&l>=x&&(S={x:a,y:s}),{length:x,point:S,min:{x:Math.min.apply(null,M.map((function(t){return t.x}))),y:Math.min.apply(null,M.map((function(t){return t.y})))},max:{x:Math.max.apply(null,M.map((function(t){return t.x}))),y:Math.max.apply(null,M.map((function(t){return t.y})))}}}function ot(t,e,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*t+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*e+2*s*a*r+Math.pow(a,2)*o}}function at(t,e,n,r,i,o,a,s){var l,u=s.bbox,c=void 0===u||u,h=s.length,d=void 0===h||h,f=s.sampleSize,p=void 0===f?10:f,g="number"==typeof a,m=t,v=e,y=0,b=[m,v,y],x=[m,v],_={x:0,y:0},w=[{x:m,y:v}];g&&a<=0&&(_={x:m,y:v});for(var S=0;S<=p;S+=1){if(m=(l=ot(t,e,n,r,i,o,S/p)).x,v=l.y,c&&w.push({x:m,y:v}),d&&(y+=X(x,[m,v])),x=[m,v],g&&y>=a&&a>b[2]){var M=(y-a)/(y-b[2]);_={x:x[0]*(1-M)+b[0]*M,y:x[1]*(1-M)+b[1]*M}}b=[m,v,y]}return g&&a>=y&&(_={x:i,y:o}),{length:y,point:_,min:{x:Math.min.apply(null,w.map((function(t){return t.x}))),y:Math.min.apply(null,w.map((function(t){return t.y})))},max:{x:Math.max.apply(null,w.map((function(t){return t.x}))),y:Math.max.apply(null,w.map((function(t){return t.y})))}}}function st(t,e,n){for(var r,i,o,a,s,l,u,c,h,d=U(t),f="number"==typeof e,p=[],g=0,m=0,v=0,y=0,b=[],x=[],_=0,w={x:0,y:0},S=w,M=w,k=w,E=0,A=0,T=d.length;A<T;A+=1)p=(u="M"===(c=(h=d[A])[0]))?p:[g,m].concat(h.slice(1)),u?(S=w={x:v=h[1],y:y=h[2]},_=0,f&&e<.001&&(k=w)):"L"===c?(_=(r=q(p[0],p[1],p[2],p[3],(e||0)-E)).length,w=r.min,S=r.max,M=r.point):"A"===c?(_=(i=nt(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(e||0)-E,n||{})).length,w=i.min,S=i.max,M=i.point):"C"===c?(_=(o=it(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(e||0)-E,n||{})).length,w=o.min,S=o.max,M=o.point):"Q"===c?(_=(a=at(p[0],p[1],p[2],p[3],p[4],p[5],(e||0)-E,n||{})).length,w=a.min,S=a.max,M=a.point):"Z"===c&&(_=(s=q((p=[g,m,v,y])[0],p[1],p[2],p[3],(e||0)-E)).length,w=s.min,S=s.max,M=s.point),f&&E<e&&E+_>=e&&(k=M),x.push(S),b.push(w),E+=_,g=(l="Z"!==c?h.slice(-2):[v,y])[0],m=l[1];return f&&e>=E&&(k={x:g,y:m}),{length:E,point:k,min:{x:Math.min.apply(null,b.map((function(t){return t.x}))),y:Math.min.apply(null,b.map((function(t){return t.y})))},max:{x:Math.max.apply(null,x.map((function(t){return t.x}))),y:Math.max.apply(null,x.map((function(t){return t.y})))}}}function lt(t,e){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var n=st(t,void 0,(0,E.__assign)((0,E.__assign)({},e),{length:!1})),r=n.min,i=r.x,o=r.y,a=n.max,s=a.x,l=a.y,u=s-i,c=l-o;return{width:u,height:c,x:i,y:o,x2:s,y2:l,cx:i+u/2,cy:o+c/2,cz:Math.max(u,c)+Math.min(u,c)/2}}function ut(t,e){return st(t,void 0,(0,E.__assign)((0,E.__assign)({},e),{bbox:!1,length:!0})).length}function ct(t,e){if(!t)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var n=st(t,void 0,(0,E.__assign)((0,E.__assign)({},e),{bbox:!0,length:!0})),r=n.length,i=n.min,o=i.x,a=i.y,s=n.max,l=s.x,u=s.y,c=l-o,h=u-a;return{length:r,width:c,height:h,x:o,y:a,x2:l,y2:u,cx:o+c/2,cy:a+h/2,cz:Math.max(c,h)+Math.min(c,h)/2}}function ht(t,e){var n=t.length-1,r=[],i=0,o=function(t){var e=t.length,n=e-1;return t.map((function(r,i){return t.map((function(r,o){var a,s=i+o;return 0===o||t[s]&&"M"===t[s][0]?(a=t[s],["M"].concat(a.slice(-2))):(s>=e&&(s-=n),t[s])}))}))}(t);return o.forEach((function(o,a){t.slice(1).forEach((function(r,o){i+=X(t[(a+o)%n].slice(-2),e[o%n].slice(-2))})),r[a]=i,i=0})),o[r.indexOf(Math.min.apply(null,r))]}function dt(t){var e=0,n=0,r=0;return J(t).map((function(t){var i;if("M"===t[0])return e=t[1],n=t[2],0;var o=t.slice(1),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5];return r=function(t,e,n,r,i,o,a,s){return 3*((s-e)*(n+i)-(a-t)*(r+o)+r*(t-i)-n*(e-o)+s*(i+t/3)-a*(o+e/3))/20}(e,n,a,s,l,u,c,h),i=t.slice(-2),e=i[0],n=i[1],r})).reduce((function(t,e){return t+e}),0)}function ft(t){return dt(t)>=0}function pt(t,e,n){return st(t,e,(0,E.__assign)((0,E.__assign)({},n),{bbox:!1,length:!0})).point}function gt(t,e){for(var n,r,i,o,a=G(t),s=U(a),l=ut(a),u=function(t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},c=8,h=0,d=0,f=1/0,p=0;p<=l;p+=c)(h=u(n=pt(s,p)))<f&&(r=n,d=p,f=h);c/=2;for(var g=0,m=0,v=0,y=0;c>.5;)v=u(i=pt(s,g=d-c)),y=u(o=pt(s,m=d+c)),g>=0&&v<f?(r=i,d=g,f=v):m<=l&&y<f?(r=o,d=m,f=y):c/=2;var b=function(t,e){var n=G(t);if("string"==typeof n)throw TypeError(n);var r=n.slice(),i=ut(r),o=r.length-1,a=0,s=0,l=n[0],u=l.slice(-2),c={x:u[0],y:u[1]};if(o<=0||!e||!Number.isFinite(e))return{segment:l,index:0,length:s,point:c,lengthAtSegment:a};if(e>=i)return s=i-(a=ut(r=n.slice(0,-1))),{segment:n[o],index:o,length:s,lengthAtSegment:a};for(var h=[];o>0;)l=r[o],s=i-(a=ut(r=r.slice(0,-1))),i=a,h.push({segment:l,index:o,length:s,lengthAtSegment:a}),o-=1;return h.find((function(t){return t.lengthAtSegment<=e}))}(a,d);return{closest:r,distance:Math.sqrt(f),segment:b}}function mt(t,e){var n=gt(t,e).distance;return Math.abs(n)<.001}function vt(t){return t.map((function(t,e,n){var r=e&&n[e-1].slice(-2).concat(t.slice(1)),i=e?it(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],{bbox:!1}).length:0;return{s:t,ss:e?i?function(t,e){void 0===e&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),a=Y(n,r,e),s=Y(r,i,e),l=Y(i,o,e),u=Y(a,s,e),c=Y(s,l,e),h=Y(u,c,e);return[["C"].concat(a,u,h),["C"].concat(c,l,o)]}(r):[t,t]:[t],l:i}}))}function yt(t,e,n){var r=vt(t),i=vt(e),o=r.length,a=i.length,s=r.filter((function(t){return t.l})).length,l=i.filter((function(t){return t.l})).length,u=r.filter((function(t){return t.l})).reduce((function(t,e){return t+e.l}),0)/s||0,c=i.filter((function(t){return t.l})).reduce((function(t,e){return t+e.l}),0)/l||0,h=n||Math.max(o,a),d=[u,c],f=[h-o,h-a],p=0,g=[r,i].map((function(t,e){return t.l===h?t.map((function(t){return t.s})):t.map((function(t,n){return p=n&&f[e]&&t.l>=d[e],f[e]-=p?1:0,p?t.ss:[t.s]})).flat()}));return g[0].length===g[1].length?g:yt(g[0],g[1],h)}var bt=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},xt=function(t,e){return!!bt(t)&&t.indexOf(e)>-1},_t=function(t,e){if(!bt(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},wt=function(t,e){return void 0===e&&(e=[]),_t(t,(function(t){return!xt(e,t)}))},St=function(t){return"function"==typeof t},Mt=function(t){return null==t},kt={}.toString,Et=function(t,e){return kt.call(t)==="[object "+e+"]"},At=function(t){return Array.isArray?Array.isArray(t):Et(t,"Array")},Tt=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var It=function(t,e){if(t)if(At(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(Tt(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},Ct=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return It(t,(function(n,r){St(t)&&"prototype"===r||e.push(r)})),e};var Dt=function(t,e){var n=Ct(e),r=n.length;if(Mt(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},Nt=function(t){return"object"==typeof t&&null!==t},Ot=function(t){if(!Nt(t)||!Et(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var Lt=function(t,e){if(!At(t))return null;var n;if(St(e)&&(n=e),Ot(e)&&(n=function(t){return Dt(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var Pt=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},Rt=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!Mt(i)){n=At(i)?i[0]:i;break}}return n},jt=function(t){if(!At(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},zt=function(t,e){if(void 0===e&&(e=[]),At(t))for(var n=0;n<t.length;n+=1)zt(t[n],e);else e.push(t);return e},Bt=zt,Ft=function(t){if(At(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},Gt=function(t){if(At(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},Vt=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(At(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=Ft(e);return{min:Gt(e),max:i}},Zt=Array.prototype,Ut=Zt.splice,Ht=Zt.indexOf,Wt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=-1;(o=Ht.call(t,i))>-1;)Ut.call(t,o,1);return t},Yt=Array.prototype.splice,Xt=function(t,e){if(!bt(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||(i=o,Yt.call(t,o,1))}return t},qt=function(t,e,n){if(!At(t)&&!Ot(t))return t;var r=n;return It(t,(function(t,n){r=e(r,t,n)})),r},Kt=function(t,e){var n=[];if(!bt(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Xt(t,i),n},$t=function(t){return Et(t,"String")};var Jt=function(t,e){var n;if(St(e))n=function(t,n){return e(t)-e(n)};else{var r=[];$t(e)?r.push(e):At(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function Qt(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var te=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qt([].concat.apply([],t))},ee=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!Mt(o)){At(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function ne(t){if(bt(t))return t[0]}function re(t){if(bt(t)){return t[t.length-1]}}var ie=function(t,e){return!(!At(t)&&!$t(t))&&t[0]===e};var oe=function(t,e){return!(!At(t)&&!$t(t))&&t[t.length-1]===e},ae=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},se=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},le=Object.prototype.hasOwnProperty;var ue=function(t,e){if(!e||!At(t))return{};for(var n,r={},i=St(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),le.call(r,n)?r[n].push(a):r[n]=[a]}return r};function ce(t,e){if(!e)return{0:t};if(!St(e)){var n=At(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return ue(t,e)}var he=function(t,e){if(!e)return[t];var n=ce(t,e),r=[];for(var i in n)r.push(n[i]);return r};var de=function(t,e){return t["_wrap_"+e]};var fe=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},pe={};var ge=function(t){var e=pe[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,pe[t]=e}return e};var me=function(t){var e=0,n=0,r=0,i=0;return At(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},ve=function(t,e,n){return t<e?e:t>n?n:t},ye=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},be=function(t){return Et(t,"Number")},xe=function(t){return be(t)&&t%1!=0},_e=function(t){return be(t)&&t%2==0},we=Number.isInteger?Number.isInteger:function(t){return be(t)&&t%1==0},Se=function(t){return be(t)&&t<0},Me=1e-5;function ke(t,e,n){return void 0===n&&(n=Me),Math.abs(t-e)<n}var Ee=function(t){return be(t)&&t%2!=0},Ae=function(t){return be(t)&&t>0},Te=function(t,e){if(At(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=St(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},Ie=function(t,e){if(At(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=St(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},Ce=function(t,e){return(t%e+e)%e},De=180/Math.PI,Ne=function(t){return De*t},Oe=parseInt,Le=Math.PI/180,Pe=function(t){return Le*t},Re=It,je=function(t,e){return t.hasOwnProperty(e)},ze=je,Be=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return It(t,(function(n,r){St(t)&&"prototype"===r||e.push(n)})),e},Fe=function(t,e){return xt(Be(t),e)},Ge=function(t){return Mt(t)?"":t.toString()},Ve=function(t){return Ge(t).toLowerCase()},Ze=function(t){var e=Ge(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Ue=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},He=function(t){return Ge(t).toUpperCase()},We=function(t){var e=Ge(t);return e.charAt(0).toUpperCase()+e.substring(1)},Ye={}.toString,Xe=function(t){return Ye.call(t).replace(/^\[object /,"").replace(/]$/,"")},qe=function(t){return Et(t,"Arguments")},Ke=function(t){return Et(t,"Boolean")},$e=function(t){return Et(t,"Date")},Je=function(t){return Et(t,"Error")};function Qe(t){return be(t)&&isFinite(t)}var tn=function(t){return null===t},en=Object.prototype,nn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||en)},rn=function(t){return Et(t,"RegExp")},on=function(t){return void 0===t},an=function(t){return t instanceof Element||t instanceof HTMLDocument};function sn(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function ln(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function un(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function cn(t,e,n,r){return e&&un(t,e),n&&un(t,n),r&&un(t,r),t}var hn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];St(i)&&(i=i.prototype),cn(n.prototype,i)}},dn=function(t){if("object"!=typeof t||null===t)return t;var e;if(At(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=dn(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=dn(t[i]):e[i]=t[i];return e},fn=dn;var pn=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}},gn=function(t,e){if(!St(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function mn(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&Ot(o)?(Ot(t[i])||(t[i]={}),n<r?mn(t[i],o,n+1,r):t[i]=e[i]):At(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var vn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)mn(t,e[r]);return t},yn=function(t,e,n,r){St(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=cn(o,t.prototype),t.superclass=i(e.prototype,e),cn(o,n),cn(t,r),t},bn=function(t,e){if(!bt(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},xn=Object.prototype.hasOwnProperty;var _n=function(t){if(Mt(t))return!0;if(bt(t))return!t.length;var e=Xe(t);if("Map"===e||"Set"===e)return!t.size;if(nn(t))return!Object.keys(t).length;for(var n in t)if(xn.call(t,n))return!1;return!0},wn=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if($t(t)||$t(e))return!1;if(bt(t)||bt(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=wn(t[r],e[r]));r++);return n}if(Nt(t)||Nt(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=wn(t[i[r]],e[i[r]]));r++);return n}return!1},Sn=wn,Mn=function(t,e,n){return St(n)?!!n(t,e):Sn(t,e)},kn=function(t,e){if(!bt(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},En=function(t){return t},An=function(t,e){void 0===e&&(e=En);var n={};return Tt(t)&&!Mt(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},Tn=function(t,e,n){for(var r=0,i=$t(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},In=function(t,e,n){var r=t,i=$t(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(Tt(r[t])||(r[t]=be(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},Cn=Object.prototype.hasOwnProperty,Dn=function(t,e){if(null===t||!Ot(t))return{};var n={};return It(e,(function(e){Cn.call(t,e)&&(n[e]=t[e])})),n},Nn=function(t,e){return qt(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},On=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},Ln=function(t){return bt(t)?Array.prototype.slice.call(t):[]},Pn={},Rn=function(t){return Pn[t=t||"g"]?Pn[t]+=1:Pn[t]=1,t+Pn[t]},jn=function(){},zn=function(t){return t};function Bn(t){return Mt(t)?0:bt(t)?t.length:Object.keys(t).length}var Fn=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),Gn=1e-6;function Vn(t){return Math.abs(t)<Gn?0:t<0?-1:1}function Zn(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Un(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Zn(a,s,[e,n]))return!0;Vn(a[1]-n)>0!=Vn(s[1]-n)>0&&Vn(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}var Hn=function(t,e,n){return t>=e&&t<=n};function Wn(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e}function Yn(t,e){var n=!1;return t.forEach((function(t){if(function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,l=r.x-n.x,u=r.y-n.y,c=a*u-s*l,h=null;if(c*c>.001*(a*a+s*s)*(l*l+u*u)){var d=(i*u-o*l)/c,f=(i*s-o*a)/c;Hn(d,0,1)&&Hn(f,0,1)&&(h={x:t.x+d*a,y:t.y+d*s})}return h}(t.from,t.to,e.from,e.to))return n=!0,!1})),n}function Xn(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function qn(t,e){if(t.length<2||e.length<2)return!1;var n,r,i=Xn(t),o=Xn(e);if(n=i,(r=o).minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY)return!1;var a=!1;if(e.forEach((function(e){if(Un(t,e[0],e[1]))return a=!0,!1})),a)return!0;if(t.forEach((function(t){if(Un(e,t[0],t[1]))return a=!0,!1})),a)return!0;var s=Wn(t),l=Wn(e),u=!1;return l.forEach((function(t){if(Yn(s,t))return u=!0,!1})),u}},"./node_modules/@antv/matrix-util/lib/ext.js":function(t,e,n){"use strict";var r=n("./node_modules/gl-matrix/esm/index.js");function i(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromTranslation(i,n),r.mat3.multiply(t,i,e)}function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromRotation(i,n),r.mat3.multiply(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromScaling(i,n),r.mat3.multiply(t,i,e)}function s(t,e){return t[0]*e[1]-e[0]*t[1]}e.vs=function(t,e){for(var n,s,l,u=t?[].concat(t):[1,0,0,0,1,0,0,0,1],c=0,h=e.length;c<h;c++){var d=e[c];switch(d[0]){case"t":i(u,u,[d[1],d[2]]);break;case"s":a(u,u,[d[1],d[2]]);break;case"r":o(u,u,d[1]);break;case"m":n=u,s=u,l=d[1],r.mat3.multiply(n,l,s)}}return u}},"./node_modules/@antv/util/esm/index.js":function(t,e,n){"use strict";n.r(e),n.d(e,{Cache:function(){return Ae},assign:function(){return Yt},augment:function(){return Xt},clamp:function(){return et},clearAnimationFrame:function(){return Ht},clone:function(){return Kt},contains:function(){return i},debounce:function(){return $t},deepMix:function(){return te},difference:function(){return a},each:function(){return f},endsWith:function(){return Z},every:function(){return U},extend:function(){return ee},filter:function(){return o},find:function(){return y},findIndex:function(){return b},firstValue:function(){return x},fixedBase:function(){return nt},flatten:function(){return _},flattenDeep:function(){return S},forIn:function(){return xt},get:function(){return he},getEllipsisText:function(){return Ee},getRange:function(){return E},getType:function(){return Nt},getWrapBehavior:function(){return K},group:function(){return q},groupBy:function(){return Y},groupToMap:function(){return X},has:function(){return _t},hasKey:function(){return wt},hasValue:function(){return Mt},head:function(){return F},identity:function(){return _e},includes:function(){return i},indexOf:function(){return ne},isArguments:function(){return Ot},isArray:function(){return h},isArrayLike:function(){return r},isBoolean:function(){return Lt},isDate:function(){return Pt},isDecimal:function(){return it},isElement:function(){return Zt},isEmpty:function(){return ie},isEqual:function(){return ae},isEqualWith:function(){return se},isError:function(){return Rt},isEven:function(){return ot},isFinite:function(){return jt},isFunction:function(){return u},isInteger:function(){return at},isMatch:function(){return g},isNegative:function(){return st},isNil:function(){return c},isNull:function(){return zt},isNumber:function(){return rt},isNumberEqual:function(){return ut},isObject:function(){return d},isObjectLike:function(){return m},isOdd:function(){return ct},isPlainObject:function(){return v},isPositive:function(){return ht},isPrototype:function(){return Ft},isRegExp:function(){return Gt},isString:function(){return P},isType:function(){return l},isUndefined:function(){return Vt},keys:function(){return p},last:function(){return G},lowerCase:function(){return Et},lowerFirst:function(){return At},map:function(){return le},mapValues:function(){return ce},max:function(){return M},maxBy:function(){return dt},measureTextWidth:function(){return ke},memoize:function(){return Jt},min:function(){return k},minBy:function(){return ft},mix:function(){return Yt},mod:function(){return pt},noop:function(){return xe},number2color:function(){return Q},omit:function(){return ge},parseRadius:function(){return tt},pick:function(){return pe},pull:function(){return C},pullAt:function(){return N},reduce:function(){return O},remove:function(){return L},requestAnimationFrame:function(){return Ut},set:function(){return de},size:function(){return we},some:function(){return H},sortBy:function(){return R},startsWith:function(){return V},substitute:function(){return Tt},throttle:function(){return me},toArray:function(){return ve},toDegree:function(){return mt},toInteger:function(){return vt},toRadian:function(){return bt},toString:function(){return kt},union:function(){return z},uniq:function(){return j},uniqueId:function(){return be},upperCase:function(){return It},upperFirst:function(){return Ct},values:function(){return St},valuesOfKey:function(){return B},wrapBehavior:function(){return $}});var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},o=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null==t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(h(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return f(t,(function(n,r){u(t)&&"prototype"===r||e.push(r)})),e};var g=function(t,e){var n=p(e),r=n.length;if(c(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},m=function(t){return"object"==typeof t&&null!==t},v=function(t){if(!m(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!h(t))return null;var n;if(u(e)&&(n=e),v(e)&&(n=function(t){return g(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},x=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!c(i)){n=h(i)?i[0]:i;break}}return n},_=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},w=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)w(t[n],e);else e.push(t);return e},S=w,M=function(t){if(h(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},k=function(t){if(h(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},E=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=M(e);return{min:k(e),max:i}},A=Array.prototype,T=A.splice,I=A.indexOf,C=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=-1;(o=I.call(t,i))>-1;)T.call(t,o,1);return t},D=Array.prototype.splice,N=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,D.call(t,a,1))}return t},O=function(t,e,n){if(!h(t)&&!v(t))return t;var r=n;return f(t,(function(t,n){r=e(r,t,n)})),r},L=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return N(t,o),n},P=function(t){return l(t,"String")};var R=function(t,e){var n;if(u(e))n=function(t,n){return e(t)-e(n)};else{var r=[];P(e)?r.push(e):h(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function j(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return j([].concat.apply([],t))},B=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function F(t){if(r(t))return t[0]}function G(t){if(r(t)){return t[t.length-1]}}var V=function(t,e){return!(!h(t)&&!P(t))&&t[0]===e};var Z=function(t,e){return!(!h(t)&&!P(t))&&t[t.length-1]===e},U=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},H=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},W=Object.prototype.hasOwnProperty;var Y=function(t,e){if(!e||!h(t))return{};for(var n,r={},i=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),W.call(r,n)?r[n].push(a):r[n]=[a]}return r};function X(t,e){if(!e)return{0:t};if(!u(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return Y(t,e)}var q=function(t,e){if(!e)return[t];var n=X(t,e),r=[];for(var i in n)r.push(n[i]);return r};var K=function(t,e){return t["_wrap_"+e]};var $=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},J={};var Q=function(t){var e=J[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,J[t]=e}return e};var tt=function(t){var e=0,n=0,r=0,i=0;return h(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},et=function(t,e,n){return t<e?e:t>n?n:t},nt=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},rt=function(t){return l(t,"Number")},it=function(t){return rt(t)&&t%1!=0},ot=function(t){return rt(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return rt(t)&&t%1==0},st=function(t){return rt(t)&&t<0},lt=1e-5;function ut(t,e,n){return void 0===n&&(n=lt),Math.abs(t-e)<n}var ct=function(t){return rt(t)&&t%2!=0},ht=function(t){return rt(t)&&t>0},dt=function(t,e){if(h(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=u(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},ft=function(t,e){if(h(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=u(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,mt=function(t){return gt*t},vt=parseInt,yt=Math.PI/180,bt=function(t){return yt*t},xt=f,_t=function(t,e){return t.hasOwnProperty(e)},wt=_t,St=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return f(t,(function(n,r){u(t)&&"prototype"===r||e.push(n)})),e},Mt=function(t,e){return i(St(t),e)},kt=function(t){return c(t)?"":t.toString()},Et=function(t){return kt(t).toLowerCase()},At=function(t){var e=kt(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Tt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},It=function(t){return kt(t).toUpperCase()},Ct=function(t){var e=kt(t);return e.charAt(0).toUpperCase()+e.substring(1)},Dt={}.toString,Nt=function(t){return Dt.call(t).replace(/^\[object /,"").replace(/]$/,"")},Ot=function(t){return l(t,"Arguments")},Lt=function(t){return l(t,"Boolean")},Pt=function(t){return l(t,"Date")},Rt=function(t){return l(t,"Error")};function jt(t){return rt(t)&&isFinite(t)}var zt=function(t){return null===t},Bt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)},Gt=function(t){return l(t,"RegExp")},Vt=function(t){return void 0===t},Zt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ut(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Ht(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Wt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Yt(t,e,n,r){return e&&Wt(t,e),n&&Wt(t,n),r&&Wt(t,r),t}var Xt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];u(i)&&(i=i.prototype),Yt(n.prototype,i)}},qt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=qt(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=qt(t[i]):e[i]=t[i];return e},Kt=qt;var $t=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}},Jt=function(t,e){if(!u(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function Qt(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&v(o)?(v(t[i])||(t[i]={}),n<r?Qt(t[i],o,n+1,r):t[i]=e[i]):h(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var te=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Qt(t,e[r]);return t},ee=function(t,e,n,r){u(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=Yt(o,t.prototype),t.superclass=i(e.prototype,e),Yt(o,n),Yt(t,r),t},ne=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},re=Object.prototype.hasOwnProperty;var ie=function(t){if(c(t))return!0;if(r(t))return!t.length;var e=Nt(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},oe=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(P(t)||P(e))return!1;if(r(t)||r(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=oe(t[i],e[i]));i++);return n}if(m(t)||m(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,i=0;i<o.length&&(n=oe(t[o[i]],e[o[i]]));i++);return n}return!1},ae=oe,se=function(t,e,n){return u(n)?!!n(t,e):ae(t,e)},le=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},ue=function(t){return t},ce=function(t,e){void 0===e&&(e=ue);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},he=function(t,e,n){for(var r=0,i=P(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},de=function(t,e,n){var r=t,i=P(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(d(r[t])||(r[t]=rt(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},fe=Object.prototype.hasOwnProperty,pe=function(t,e){if(null===t||!v(t))return{};var n={};return f(e,(function(e){fe.call(t,e)&&(n[e]=t[e])})),n},ge=function(t,e){return O(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},me=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},ve=function(t){return r(t)?Array.prototype.slice.call(t):[]},ye={},be=function(t){return ye[t=t||"g"]?ye[t]+=1:ye[t]=1,t+ye[t]},xe=function(){},_e=function(t){return t};function we(t){return c(t)?0:r(t)?t.length:Object.keys(t).length}var Se,Me=n("./node_modules/tslib/tslib.es6.mjs"),ke=Jt((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Se||(Se=document.createElement("canvas").getContext("2d")),Se.font=[o,a,i,n+"px",r].join(" "),Se.measureText(P(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,Me.__spreadArrays)([t],St(e)).join("")})),Ee=function(t,e,n,r){void 0===r&&(r="...");var i,o,a=ke(r,n),s=P(t)?t:kt(t),l=e,u=[];if(ke(t,n)<=e)return t;for(;i=s.substr(0,16),!((o=ke(i,n))+a>l&&o>l);)if(u.push(i),l-=o,!(s=s.substr(16)))return u.join("");for(;i=s.substr(0,1),!((o=ke(i,n))+a>l);)if(u.push(i),l-=o,!(s=s.substr(1)))return u.join("");return""+u.join("")+r},Ae=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},"./src/api/axionInstance.tsx":function(t,e,n){"use strict";function r(t,e){return function(){return t.apply(e,arguments)}}n.d(e,{e:function(){return Ut}});const{toString:i}=Object.prototype,{getPrototypeOf:o}=Object,a=(s=Object.create(null),t=>{const e=i.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())});var s;const l=t=>(t=t.toLowerCase(),e=>a(e)===t),u=t=>e=>typeof e===t,{isArray:c}=Array,h=u("undefined");const d=l("ArrayBuffer");const f=u("string"),p=u("function"),g=u("number"),m=t=>null!==t&&"object"==typeof t,v=t=>{if("object"!==a(t))return!1;const e=o(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},y=l("Date"),b=l("File"),x=l("Blob"),_=l("FileList"),w=l("URLSearchParams");function S(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,i;if("object"!=typeof t&&(t=[t]),c(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function M(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,E=t=>!h(t)&&t!==k;const A=(T="undefined"!=typeof Uint8Array&&o(Uint8Array),t=>T&&t instanceof T);var T;const I=l("HTMLFormElement"),C=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),D=l("RegExp"),N=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};S(n,((n,i)=>{!1!==e(n,i,t)&&(r[i]=n)})),Object.defineProperties(t,r)},O="abcdefghijklmnopqrstuvwxyz",L="0123456789",P={DIGIT:L,ALPHA:O,ALPHA_DIGIT:O+O.toUpperCase()+L};const R=l("AsyncFunction");var j={isArray:c,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&p(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||p(t.append)&&("formdata"===(e=a(t))||"object"===e&&p(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:f,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:m,isPlainObject:v,isUndefined:h,isDate:y,isFile:b,isBlob:x,isRegExp:D,isFunction:p,isStream:t=>m(t)&&p(t.pipe),isURLSearchParams:w,isTypedArray:A,isFileList:_,forEach:S,merge:function t(){const{caseless:e}=E(this)&&this||{},n={},r=(r,i)=>{const o=e&&M(n,i)||i;v(n[o])&&v(r)?n[o]=t(n[o],r):v(r)?n[o]=t({},r):c(r)?n[o]=r.slice():n[o]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&S(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:i}={})=>(S(e,((e,i)=>{n&&p(e)?t[i]=r(e,n):t[i]=e}),{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,a,s;const l={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],r&&!r(s,t,e)||l[s]||(e[s]=t[s],l[s]=!0);t=!1!==n&&o(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:l,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(c(t))return t;let e=t.length;if(!g(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:I,hasOwnProperty:C,hasOwnProp:C,reduceDescriptors:N,freezeMethods:t=>{N(t,((e,n)=>{if(p(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];p(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return c(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:M,global:k,isContextDefined:E,ALPHABET:P,generateString:(t=16,e=P.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&p(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(m(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=c(t)?[]:{};return S(t,((t,e)=>{const o=n(t,r+1);!h(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:R,isThenable:t=>t&&(m(t)||p(t))&&p(t.then)&&p(t.catch)};function z(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}j.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B=z.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{F[t]={value:t}})),Object.defineProperties(z,F),Object.defineProperty(B,"isAxiosError",{value:!0}),z.from=(t,e,n,r,i,o)=>{const a=Object.create(B);return j.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),z.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var G=z;function V(t){return j.isPlainObject(t)||j.isArray(t)}function Z(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function U(t,e,n){return t?t.concat(e).map((function(t,e){return t=Z(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const H=j.toFlatObject(j,{},null,(function(t){return/^is[A-Z]/.test(t)}));var W=function(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!j.isUndefined(e[t])}))).metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(j.isDate(t))return t.toISOString();if(!s&&j.isBlob(t))throw new G("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(t)||j.isTypedArray(t)?s&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,n,i){let s=t;if(t&&!i&&"object"==typeof t)if(j.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(j.isArray(t)&&function(t){return j.isArray(t)&&!t.some(V)}(t)||(j.isFileList(t)||j.endsWith(n,"[]"))&&(s=j.toArray(t)))return n=Z(n),s.forEach((function(t,r){!j.isUndefined(t)&&null!==t&&e.append(!0===a?U([n],r,o):null===a?n:n+"[]",l(t))})),!1;return!!V(t)||(e.append(U(i,n,o),l(t)),!1)}const c=[],h=Object.assign(H,{defaultVisitor:u,convertValue:l,isVisitable:V});if(!j.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!j.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),j.forEach(n,(function(n,o){!0===(!(j.isUndefined(n)||null===n)&&i.call(e,n,j.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),c.pop()}}(t),e};function Y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function X(t,e){this._pairs=[],t&&W(t,this,e)}const q=X.prototype;q.append=function(t,e){this._pairs.push([t,e])},q.toString=function(t){const e=t?function(e){return t.call(this,e,Y)}:Y;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var K=X;function $(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J(t,e,n){if(!e)return t;const r=n&&n.encode||$,i=n&&n.serialize;let o;if(o=i?i(e,n):j.isURLSearchParams(e)?e.toString():new K(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}var Q=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){j.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},tt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var et={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:K,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var nt=function(t){function e(t,n,r,i){let o=t[i++];const a=Number.isFinite(+o),s=i>=t.length;if(o=!o&&j.isArray(r)?r.length:o,s)return j.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&j.isObject(r[o])||(r[o]=[]);return e(t,n,r[o],i)&&j.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!a}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,((t,r)=>{e(function(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const rt={"Content-Type":void 0};const it={transitional:tt,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=j.isObject(t);i&&j.isHTMLForm(t)&&(t=new FormData(t));if(j.isFormData(t))return r&&r?JSON.stringify(nt(t)):t;if(j.isArrayBuffer(t)||j.isBuffer(t)||j.isStream(t)||j.isFile(t)||j.isBlob(t))return t;if(j.isArrayBufferView(t))return t.buffer;if(j.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return W(t,new et.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return et.isNode&&j.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=j.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return W(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||it.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&j.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw G.from(t,G.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:et.classes.FormData,Blob:et.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};j.forEach(["delete","get","head"],(function(t){it.headers[t]={}})),j.forEach(["post","put","patch"],(function(t){it.headers[t]=j.merge(rt)}));var ot=it;const at=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const st=Symbol("internals");function lt(t){return t&&String(t).trim().toLowerCase()}function ut(t){return!1===t||null==t?t:j.isArray(t)?t.map(ut):String(t)}function ct(t,e,n,r,i){return j.isFunction(r)?r.call(this,e,n):(i&&(e=n),j.isString(e)?j.isString(r)?-1!==e.indexOf(r):j.isRegExp(r)?r.test(e):void 0:void 0)}class ht{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=lt(e);if(!i)throw new Error("header name must be a non-empty string");const o=j.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=ut(t))}const o=(t,e)=>j.forEach(t,((t,n)=>i(t,n,e)));return j.isPlainObject(t)||t instanceof this.constructor?o(t,e):j.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&at[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&i(e,t,n),this}get(t,e){if(t=lt(t)){const n=j.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(j.isFunction(e))return e.call(this,t,n);if(j.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=lt(t)){const n=j.findKey(this,t);return!(!n||void 0===this[n]||e&&!ct(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=lt(t)){const i=j.findKey(n,t);!i||e&&!ct(0,n[i],i,e)||(delete n[i],r=!0)}}return j.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!ct(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return j.forEach(this,((r,i)=>{const o=j.findKey(n,i);if(o)return e[o]=ut(r),void delete e[i];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete e[i],e[a]=ut(r),n[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return j.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&j.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[st]=this[st]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=lt(t);e[r]||(!function(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return j.isArray(t)?t.forEach(r):r(t),this}}ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),j.freezeMethods(ht.prototype),j.freezeMethods(ht);var dt=ht;function ft(t,e){const n=this||ot,r=e||n,i=dt.from(r.headers);let o=r.data;return j.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function pt(t){return!(!t||!t.__CANCEL__)}function gt(t,e,n){G.call(this,null==t?"canceled":t,G.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(gt,G,{__CANCEL__:!0});var mt=gt;var vt=et.isStandardBrowserEnv?{write:function(t,e,n,r,i,o){const a=[];a.push(t+"="+encodeURIComponent(e)),j.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),j.isString(r)&&a.push("path="+r),j.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function yt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var bt=et.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=j.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};var xt=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,a=0;return e=void 0!==e?e:1e3,function(s){const l=Date.now(),u=r[a];i||(i=l),n[o]=s,r[o]=l;let c=a,h=0;for(;c!==o;)h+=n[c++],c%=t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),l-i<e)return;const d=u&&l-u;return d?Math.round(1e3*h/d):void 0}};function _t(t,e){let n=0;const r=xt(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,l=r(s);n=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const wt={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const i=dt.from(t.headers).normalize(),o=t.responseType;let a;function s(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}j.isFormData(r)&&(et.isStandardBrowserEnv||et.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+n))}const u=yt(t.baseURL,t.url);function c(){if(!l)return;const r=dt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),s()}),(function(t){n(t),s()}),{data:o&&"text"!==o&&"json"!==o?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),J(u,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=c:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(c)},l.onabort=function(){l&&(n(new G("Request aborted",G.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new G("Network Error",G.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||tt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new G(e,r.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,t,l)),l=null},et.isStandardBrowserEnv){const e=(t.withCredentials||bt(u))&&t.xsrfCookieName&&vt.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&j.forEach(i.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),j.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&"json"!==o&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",_t(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",_t(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=e=>{l&&(n(!e||e.type?new mt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(u);h&&-1===et.protocols.indexOf(h)?n(new G("Unsupported protocol "+h+":",G.ERR_BAD_REQUEST,t)):l.send(r||null)}))}};j.forEach(wt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));var St=t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=j.isString(n)?wt[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new G(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(j.hasOwnProp(wt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!j.isFunction(r))throw new TypeError("adapter is not a function");return r};function Mt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mt(null,t)}function kt(t){Mt(t),t.headers=dt.from(t.headers),t.data=ft.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return St(t.adapter||ot.adapter)(t).then((function(e){return Mt(t),e.data=ft.call(t,t.transformResponse,e),e.headers=dt.from(e.headers),e}),(function(e){return pt(e)||(Mt(t),e&&e.response&&(e.response.data=ft.call(t,t.transformResponse,e.response),e.response.headers=dt.from(e.response.headers))),Promise.reject(e)}))}const Et=t=>t instanceof dt?t.toJSON():t;function At(t,e){e=e||{};const n={};function r(t,e,n){return j.isPlainObject(t)&&j.isPlainObject(e)?j.merge.call({caseless:n},t,e):j.isPlainObject(e)?j.merge({},e):j.isArray(e)?e.slice():e}function i(t,e,n){return j.isUndefined(e)?j.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!j.isUndefined(e))return r(void 0,e)}function a(t,e){return j.isUndefined(e)?j.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>i(Et(t),Et(e),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=l[r]||i,a=o(t[r],e[r],r);j.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Tt="1.4.0",It={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{It[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Ct={};It.transitional=function(t,e,n){return(r,i,o)=>{if(!1===t)throw new G(function(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}(i," has been removed"+(e?" in "+e:"")),G.ERR_DEPRECATED);return e&&!Ct[i]&&(Ct[i]=!0),!t||t(r,i,o)}};var Dt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const e=t[o],n=void 0===e||a(e,o,t);if(!0!==n)throw new G("option "+o+" must be "+n,G.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new G("Unknown option "+o,G.ERR_BAD_OPTION)}},validators:It};const Nt=Dt.validators;class Ot{constructor(t){this.defaults=t,this.interceptors={request:new Q,response:new Q}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=At(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;let o;void 0!==n&&Dt.assertOptions(n,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),null!=r&&(j.isFunction(r)?e.paramsSerializer={serialize:r}:Dt.assertOptions(r,{encode:Nt.function,serialize:Nt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),o=i&&j.merge(i.common,i[e.method]),o&&j.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=dt.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let c,h=0;if(!s){const t=[kt.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,l),c=t.length,u=Promise.resolve(e);h<c;)u=u.then(t[h++],t[h++]);return u}c=a.length;let d=e;for(h=0;h<c;){const t=a[h++],e=a[h++];try{d=t(d)}catch(t){e.call(this,t);break}}try{u=kt.call(this,d)}catch(t){return Promise.reject(t)}for(h=0,c=l.length;h<c;)u=u.then(l[h++],l[h++]);return u}getUri(t){return J(yt((t=At(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}j.forEach(["delete","get","head","options"],(function(t){Ot.prototype[t]=function(e,n){return this.request(At(n||{},{method:t,url:e,data:(n||{}).data}))}})),j.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(At(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ot.prototype[t]=e(),Ot.prototype[t+"Form"]=e(!0)}));var Lt=Ot;class Pt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new mt(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Pt((function(e){t=e})),cancel:t}}}var Rt=Pt;const jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jt).forEach((([t,e])=>{jt[e]=t}));var zt=jt;const Bt=function t(e){const n=new Lt(e),i=r(Lt.prototype.request,n);return j.extend(i,Lt.prototype,n,{allOwnKeys:!0}),j.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(At(e,n))},i}(ot);Bt.Axios=Lt,Bt.CanceledError=mt,Bt.CancelToken=Rt,Bt.isCancel=pt,Bt.VERSION=Tt,Bt.toFormData=W,Bt.AxiosError=G,Bt.Cancel=Bt.CanceledError,Bt.all=function(t){return Promise.all(t)},Bt.spread=function(t){return function(e){return t.apply(null,e)}},Bt.isAxiosError=function(t){return j.isObject(t)&&!0===t.isAxiosError},Bt.mergeConfig=At,Bt.AxiosHeaders=dt,Bt.formToJSON=t=>nt(j.isHTMLForm(t)?new FormData(t):t),Bt.HttpStatusCode=zt,Bt.default=Bt;var Ft=Bt,Gt=n("./node_modules/@s-ekin/web/lib/index.js"),Vt=n("./src/js/globalConst.ts");Ft.CancelToken.source();const Zt=Vt.z3,Ut=Ft.create({baseURL:Zt,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-Custom-Header":"foobar"}});Ut.interceptors.response.use((function(t){var e;if(Gt.loadFn.close(t.config.headers._id),null!==(e=t.config.url)&&void 0!==e&&e.includes("/baidu/")){return t.data.errno?Promise.reject(t):Promise.resolve(t)}{const e=t.data;return 100===e.code||101===e.code?(101===e.code&&Gt.notice.add(e.msg,"warn"),t.data):666===e.code||200===e.code?(Gt.notice.add(e.msg,"warn",!0),Promise.resolve(e)):(Gt.notice.add("操作失败！","error",!0),Promise.resolve(e))}}),(function(t){return Gt.notice.add("操作失败！","error",!0),Promise.reject(t)}));let Ht=1;Ut.interceptors.request.use((function(t){return Ht++,t.headers._id=Ht,Gt.loadFn.open(String(Ht)),t}))},"./src/api/main.tsx":function(t,e,n){"use strict";var r=n("./node_modules/@s-ekin/web/lib/index.js"),i=n("./src/api/axionInstance.tsx");e.Z={getDataJson:function(t){return i.e.get("getDataJson",{params:{name:t}}).catch((()=>this.getJson(t)))},writeLog:function(t){return i.e.post("writeLog",t)},writeProgress:function(t){return i.e.post("writeCourseProgress",t)},writeTaskTip:function(t){return i.e.post("writeTaskTip",t)},getJson:function(t){return r.loadFn.open(t),n("./src/data lazy recursive ^\\.\\/.*\\.json$")("./"+t+".json").then((e=>(r.loadFn.close(t),Promise.resolve({data:JSON.parse(JSON.stringify(e.default))}))))}}},"./src/js/globalConst.ts":function(t,e,n){"use strict";n.d(e,{RJ:function(){return o},q6:function(){return i},rB:function(){return a},z3:function(){return r}});const r="/",i=["204","301","408","101"],o=["英语","数学","计算机","政治"],a=["english","math","computer","politics"]},"./src/js/study/math/line/variate.ts":function(t,e,n){"use strict";n.d(e,{_x:function(){return r},si:function(){return i}});const r={det:"|A|",zeroMatrix:"\\bold{O}",argumentdet:"\\bold{D}",reverseNum:"\\color{red}\\tau (i_1,i_2,i_3,\\dots \\, i_n)",cofactor:" \\Mu_{ij} ",adjunct:" \\Alpha_{ij} ",angleDet:"|\\ddots|",matrix:"(a_{ij})_{m\\times n}",withMatrix:"\\bold{A^*}",unitMatrix:"\\bold{\\Epsilon}",tranMatrix:"A^T",matrixTrack:"tr(A)",homoEquation:"\\bold{AX=0}",inhomoEquation:"\\bold{AX=b}",inverseMatrix:"A^{-1}",augmentMatrix:"\\overline{A}",eleMatrix:"E_{i,j},\\,E_i(c),\\,E_{ij}(k)",rankMatrix:"r(A)",vectorModel:"|\\bold{\\alpha}|",vectorInner:"(\\alpha,\\beta)",vectorAdd:"{\\alpha}'",vectorSpace:"R^n",quadricForm:"\\bold{X^TAX}",quadricEquation:"|\\lambda E -A|=0",matrixCongruence:"A\\backsimeq B",matrixSimilar:"A\\backsim B",eigenValueAndVector:"A\\alpha = \\lambda \\alpha",matrixSimilarAngle:"P^{-1}AP"},i={det:"\\begin{vmatrix}\n         a_{11} & a_{12} &  ... & a_{1n} \\\\ \n                  a_{21} & a_{22}  & ... & a_{2n} \\\\ \n                  \\vdots&   \\vdots & & \\vdots \\\\ \n                  a_{n1} & a_{n2}  & ... & a_{nn} \n\t\t\t \\end{vmatrix} ",angleDet:"\\begin{vmatrix}\n              l_1 &  &  &  \\\\ \n              & l_2  &  &  \\\\ \n              & & \\ddots &  \\\\ \n              & & & l_n  \\\\ \n            \\end{vmatrix}",Vdet:"\\begin{vmatrix}\n\t\t\t\t1 & 1  & \\mathellipsis  & 1 \\\\ \n\t\t\t\t\\color{red}a_1 & \\color{red}a_2  & \\color{red}\\mathellipsis & \\color{red}a_n  \\\\ \n\t\t\t\t\\vdots& \\vdots &  & \\vdots \\\\ \n\t\t\t\ta_1^{n-1}&a_2^{n-1} & \\cdots & a_n^{n-1}  \\\\ \n\t\t\t \\end{vmatrix}",separtDet:"\\begin{vmatrix}\n\t\t\t\t ⟮A_1⟯&  &  &  \\\\ \n\t\t\t\t& ⟮A_2⟯ &  &  \\\\ \n\t\t\t\t& & \\ddots &  \\\\ \n\t\t\t\t& & & ⟮A_n⟯  \\\\ \n\t\t\t \\end{vmatrix}",matrix:"\\begin{bmatrix} \n            a_{11} & a_{12} &  ... & a_{1n} \\\\ \n            a_{21} & a_{22} &  ... & a_{2n} \\\\ \n            \\vdots  & \\vdots &   & \\vdots  \\\\ \n            a_{m1} & a_{m2} &  ... & a_{mn} \n                \\end{bmatrix} ",tranMatrix:"\\begin{bmatrix}\n            a_{11} & a_{21} &  ... & a_{m1} \\\\ \n            a_{12} & a_{22} &  ... & a_{m2} \\\\ \n              \\vdots& \\vdots  & & \\vdots \\\\ \n            a_{1n} & a_{2n} &  ... & a_{mn} \n\t\t\t   \\end{bmatrix} ",unitMatrix:"\\begin{bmatrix}\n                1 & 0 &  ... & 0 \\\\ \n                0 & 1 &  ... & 0 \\\\ \n              \\vdots&   \\vdots & & \\vdots \\\\ \n                0 & 0  & ... & 1\n              \\end{bmatrix}",colVector:"\\begin{bmatrix}\n                a_1 \\\\\n                a_2 \\\\\n                \\vdots \\\\\n                a_n \n              \\end{bmatrix}",lineEquation:"a_{11}x_1 + a_{12}x_2+\\cdots+a_{1n}x_n=0",vectorEquation:"x_1\\alpha_1 + x_2\\alpha_2 + \\cdots + x_n\\alpha_n = \\bold{0}",vectorArr:"\\alpha_1,\\alpha_2,\\cdots,\\alpha_n",vectorXArr:"X_1,X_2,\\cdots,X_s"};e.ZP={dets:{txt:"行列式"},matrix:{txt:"矩阵"},vector:{txt:"向量"},lineEquation:{txt:"线性方程组"},eigenValueAndVector:{txt:"特征值和特征向量",keyword:["eigenvalue","eigenVector"]},quadricForm:{txt:"二次性"}}},"./src/js/study/politics/page/XMind.tsx":function(t,e,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("./node_modules/react/index.js"),o=n("./node_modules/@antv/g6/es/index.js"),a=n("./src/js/util/utilCom.tsx"),s=n("./src/js/util/utilfn.ts"),l=n("./node_modules/@s-ekin/web/lib/index.js"),u=n("./node_modules/react/jsx-runtime.js");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}o.ZP.registerNode("tree-node",{drawShape:function(t,e){const n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:h(h({},n),{},{stroke:"",x:20,y:0,width:1,height:1}),name:"rect-shape"}),i=t.children&&t.children.length>0,a=20,s=16*[...t.label].reduce(((t,e)=>t=/[0-9a-zA-Z,:!*.()+]/.test(e)?t+.5:t+1),.5)+12+(i?26:12);return r.attr({x:20,y:-a/2-6,width:s,height:a+12}),i&&e.addShape("marker",{attrs:{x:s+10,y:0,r:6,symbol:t.collapsed?o.ZP.Marker.expand:o.ZP.Marker.collapse,stroke:"#3120E0",lineWidth:2},name:"collapse-icon"}),r},update:(t,e)=>{e.getContainer().find((t=>"collapse-icon"===t.get("name"))).attr("symbol",t.collapsed?o.ZP.Marker.expand:o.ZP.Marker.collapse)}},"single-node");const d=t=>{let e=1;return JSON.parse(JSON.stringify(t),((t,n)=>("[object Object]"===Object.prototype.toString.call(n)&&(n.id=e++),n)))};class f extends i.PureComponent{constructor(...t){super(...t),(0,r.Z)(this,"domRef",(0,i.createRef)()),(0,r.Z)(this,"id",1),(0,r.Z)(this,"state",{show:!1,txtArr:this.props.data[0],oldData:this.props.data,treeData:d(this.props.data),slide:!1}),(0,r.Z)(this,"graph",void 0),(0,r.Z)(this,"active",null),(0,r.Z)(this,"clickback",((t,e,n)=>{if(n){const t=n.toJS();this.setState({txtArr:{label:t.label,content:t.content,article:t.article}})}}))}static getDerivedStateFromProps(t,e){return t.data!==e.oldData?{oldData:t.data,treeData:d(t.data)}:null}componentDidMount(){this.active=null,this.graphRender()}createTreeData(){const{rootName:t,data:e,fold:n}=this.props;this.id=1;const r=(t,e)=>{t.map(((t,i)=>{var o;const a=t.children;t.label=t.label.replace(/^(\*+)/,((t,e)=>e.replace(/\*/g,"★")));let s={};t.label=null!==(o=t.article)&&void 0!==o&&o.length||t.content.length?`${i+1}.`+t.label+"▼":`${i+1}.`+t.label,null!=a&&a.length?(r(a,e+1),s={id:String(this.id++),style:{fill:"#0078AA",stroke:""},collapsed:!(!n||e%2!=0&&i%2!=0)||t.collapsed,name:t.label,labelCfg:{style:{fill:"#FFFFFF"}}}):s={id:String(this.id++),children:[],name:t.label,labelCfg:{style:{fill:"#3120E0"}}},Object.assign(t,s)}))},i=JSON.parse(JSON.stringify(e));r(i,0);return{id:"root",children:i,content:[],type:"circle",size:30*t.length,style:{fill:"#fdeaab",stroke:""},label:t,labelCfg:{position:"center",offset:0,style:{fontSize:17,fontWeight:"bold",fill:"#8DC8CC"}}}}componentDidUpdate(t,e){this.graph&&this.props.data!==e.oldData&&(this.active=null,this.graph.read(this.createTreeData()),this.graph.refresh(),this.graph.fitView())}componentWillUnmount(){this.active=null,this.graph&&this.graph.destroy()}graphRender(){const t=this.getTreeConfig(),e=new o.F(t);this.graph=e;const n=this.createTreeData();e.data(n),e.render(),e.fitView(),e.on("node:click",(t=>{const{item:n}=t,r=null==n?void 0:n.getModel();this.active&&e.setItemState(this.active,"active",!1),this.active=n,e.setItemState(n,"active",!0),"marker"!=t.target.cfg.type&&this.setState({txtArr:{label:r.label,content:r.content,article:r.article,remark:r.remark}})})),e.on("node:touchstart",(t=>{const{item:n}=t,r=null==n?void 0:n.getModel();this.active&&e.setItemState(this.active,"active",!1),this.active=n,e.setItemState(n,"active",!0),"marker"!=t.target.cfg.type&&this.setState({txtArr:{label:r.label,content:r.content,article:r.article}})}))}getCommonCfg(t){const e=this.domRef.current,n=["drag-canvas","zoom-canvas"];return n.push({type:"collapse-expand",shouldBegin:t=>(this.active&&this.graph&&this.graph.setItemState(this.active,"active",!1),"marker"===t.target.cfg.type),onChange:(t,e)=>{const n=this.graph;return n&&n.updateItem(t,{collapsed:e}),!0}}),{container:e,width:e.clientWidth,height:e.clientHeight,defaultEdge:{type:"cubic-horizontal",style:{stroke:"#fdc702",lineWidth:2}},defaultNode:{type:"tree-node",anchorPoints:[[0,.5],[1,.5]],size:[20,20],style:{stroke:""},stateStyles:{active:{fill:"#1677ff26",stroke:"","text-shape":{fill:"#ff894c"}}},labelCfg:{position:"right",offset:20,style:{fontSize:16}}},layout:t,modes:{default:n},plugins:[]}}getTreeConfig(){return this.getCommonCfg({type:"compactBox",direction:"LR",getHeight:function(){return 16},getVGap:function(t){return t.children&&t.children.length?12:7},getHGap:function(t){return t.children&&t.children.length?40:20},getId:t=>t.id})}getTxt(){var t;const{txtArr:e}=this.state;return e?(0,u.jsxs)("div",{className:"no-katex",children:[(0,u.jsxs)("p",{className:"title tit5",children:[e.label," ",e.remark||""]}),(0,u.jsx)("p",{className:"tit1 sub-tit",children:"简要"}),e.content.map(((t,e)=>(0,u.jsx)(a.kt,{children:`${e+1}、`+t},e))),(0,u.jsx)("p",{className:"tit4 sub-tit",children:"重点"}),null===(t=e.article)||void 0===t?void 0:t.map(((t,e)=>(0,u.jsx)("div",{className:"item",children:t.map(((t,n)=>(0,u.jsx)(a.kt,{className:"word",children:""+(0==n?s.Y$[e]+"、":`${n}.`)+t},n)))},e)))]}):(0,u.jsx)(u.Fragment,{})}render(){const{slide:t}=this.state;return(0,u.jsxs)("div",{className:"xmind-box paper-bg",children:[(0,u.jsx)("div",{ref:this.domRef,className:"xmind",onDoubleClick:()=>{this.setState((t=>({slide:!t.slide})))}}),(0,u.jsxs)("div",{className:"comment-box "+(t?"slide":""),children:[(0,u.jsx)(l.ComboTree,{textField:"label",data:this.state.treeData,field:"tree",itemIcon:"file",width:330,dropWidth:370,noautoFold:!0,parAbleClick:!0,maxHeight:400,clickCallback:this.clickback}),this.getTxt()]})]})}}e.Z=f},"./src/js/util/HighLight.tsx":function(t,e,n){"use strict";n.d(e,{v:function(){return W}});var r=n("./node_modules/highlight.js/lib/core.js");const i="[A-Za-z$_][0-9A-Za-z$_]*",o=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],a=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],l=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],u=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],h=[].concat(u,s,l);function d(t){const e=t.regex,n=i,r="<>",d="</>",f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const o=t.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},p={$pattern:i,keyword:o,literal:a,built_in:h,"variable.language":c},g="[0-9](_?[0-9])*",m=`\\.(${g})`,v="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",y={className:"number",variants:[{begin:`(\\b(${v})((${m})|\\.)?|(${m}))[eE][+-]?(${g})\\b`},{begin:`\\b(${v})\\b((${m})\\b|\\.)?|(${m})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:p,contains:[]},x={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},_={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"css"}},w={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"graphql"}},S={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,b]},M={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},k=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,x,_,w,S,{match:/\$\d+/},y];b.contains=k.concat({begin:/\{/,end:/\}/,keywords:p,contains:["self"].concat(k)});const E=[].concat(M,b.contains),A=E.concat([{begin:/\(/,end:/\)/,keywords:p,contains:["self"].concat(E)}]),T={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:A},I={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...s,...l]}},D={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/};const N={match:e.concat(/\b/,(O=[...u,"super","import"],e.concat("(?!",O.join("|"),")")),n,e.lookahead(/\(/)),className:"title.function",relevance:0};var O;const L={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},P={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},R="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",j={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(R)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:p,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,x,_,w,S,M,{match:/\$\d+/},y,C,{className:"attr",begin:n+e.lookahead(":"),relevance:0},j,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[M,t.REGEXP_MODE,{className:"function",begin:R,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:d},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},L,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},I,P,{match:/\$[(.]/}]}}const f="[A-Za-z$_][0-9A-Za-z$_]*",p=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],g=["true","false","null","undefined","NaN","Infinity"],m=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],v=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],y=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],b=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],x=[].concat(y,m,v);const _=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],w=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],S=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],M=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],k=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();n("./node_modules/highlight.js/scss/atom-one-dark.scss");var E=n("./node_modules/react/index.js"),A=n("./src/js/util/myKatex.tsx");const T="hljs-ln",I="hljs-ln-line",C="hljs-ln-code",D="hljs-ln-numbers",N="hljs-ln-n",O="data-line-number",L=/\r\n|\r|\n/g;var P;function R(t,e){var n;"object"==typeof t&&(n=function(){t.innerHTML=j(t,e)},window.setTimeout(n,0))}function j(t,e){var n=function(t,e){return e=e||{},{singleLine:z(e),startFrom:B(t,e)}}(t,e);return F(t),function(t,e){var n=V(t);""===n[n.length-1].trim()&&n.pop();if(n.length>1||e.singleLine){for(var r="",i=0,o=n.length;i<o;i++)r+=Z('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[I,D,N,O,C,i+e.startFrom,n[i].length>0?n[i]:" "]);return Z('<table class="{0}">{1}</table>',[T,r])}return t}(t.innerHTML,n)}function z(t){return!!t.singleLine&&t.singleLine}function B(t,e){var n=1;isFinite(e.startFrom)&&(n=e.startFrom);var r=function(t,e){return t.hasAttribute(e)?t.getAttribute(e):null}(t,"data-ln-start-from");return null!==r&&(n=function(t,e){if(!t)return e;var n=Number(t);return isFinite(n)?n:e}(r,1)),n}function F(t){var e=t.childNodes;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];(r.textContent.trim().match(L)||[]).length>0&&(r.childNodes.length>0?F(r):G(r.parentNode))}}function G(t){var e=t.className;if(/hljs-/.test(e)){for(var n=V(t.innerHTML),r=0,i="";r<n.length;r++){i+=Z('<span class="{0}">{1}</span>\n',[e,n[r].length>0?n[r]:" "])}t.innerHTML=i.trim()}}function V(t){return 0===t.length?[]:t.split(L)}function Z(t,e){return t.replace(/\{(\d+)\}/g,(function(t,n){return void 0!==e[n]?e[n]:t}))}window.hljs&&((P=document.createElement("style")).type="text/css",P.innerHTML=Z(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[T,N,O]),document.getElementsByTagName("head")[0].appendChild(P)),document.addEventListener("copy",(function(t){var e,n=window.getSelection();(function(t){for(var e=t;e;){if(e.className&&-1!==e.className.indexOf("hljs-ln-code"))return!0;e=e.parentNode}return!1})(n.anchorNode)&&(e=-1!==window.navigator.userAgent.indexOf("Edge")?function(t){for(var e=t.toString(),n=t.anchorNode;"TD"!==n.nodeName;)n=n.parentNode;for(var r=t.focusNode;"TD"!==r.nodeName;)r=r.parentNode;var i=parseInt(n.dataset.lineNumber),o=parseInt(r.dataset.lineNumber);if(i!=o){var a=n.textContent,s=r.textContent;if(i>o){var l=i;i=o,o=l,l=a,a=s,s=l}for(;0!==e.indexOf(a);)a=a.slice(1);for(;-1===e.lastIndexOf(s);)s=s.slice(0,-1);for(var u=a,c=function(t){let e=t;for(;"TABLE"!==e.nodeName;)e=e.parentNode;return e}(n),h=i+1;h<o;++h){var d=Z('.{0}[{1}="{2}"]',[C,O,h]);u+="\n"+c.querySelector(d).textContent}return u+"\n"+s}return e}(n):n.toString(),t.clipboardData.setData("text/plain",e),t.preventDefault())}));var U=n("./src/js/util/utilfn.ts"),H=n("./node_modules/react/jsx-runtime.js");r.configure({ignoreUnescapedHTML:!0}),r.registerLanguage("cpp",(function(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},h=e.optional(i)+t.IDENT_RE+"\\s*\\(",d={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},f={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},p=[f,u,a,n,t.C_BLOCK_COMMENT_MODE,l,s],g={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:d,contains:p.concat([{begin:/\(/,end:/\)/,keywords:d,contains:p.concat(["self"]),relevance:0}]),relevance:0},m={className:"function",begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:d,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:d,relevance:0},{begin:h,returnBegin:!0,contains:[c],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[s,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,s,l,a,{begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,s,l,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:d,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(g,m,f,p,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:d,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:d},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}})),r.registerLanguage("json",(function(t){const e=["true","false","null"],n={scope:"literal",beginKeywords:e.join(" ")};return{name:"JSON",keywords:{literal:e},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},t.QUOTE_STRING_MODE,n,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}})),r.registerLanguage("scss",(function(t){const e=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),n=M,r=S,i="@[a-z-]+",o={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+_.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+k.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,o,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:w.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}})),r.registerLanguage("typescript",(function(t){const e=d(t),n=i,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[e.exports.CLASS_REFERENCE]},u={$pattern:i,keyword:o.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:a,built_in:h.concat(r),"variable.language":c},f={className:"meta",begin:"@"+n},p=(t,e,n)=>{const r=t.contains.findIndex((t=>t.label===e));if(-1===r)throw new Error("can not find mode to replace");t.contains.splice(r,1,n)};return Object.assign(e.keywords,u),e.exports.PARAMS_CONTAINS.push(f),e.contains=e.contains.concat([f,s,l]),p(e,"shebang",t.SHEBANG()),p(e,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),e.contains.find((t=>"func.def"===t.label)).relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),e})),r.registerLanguage("javascript",(function(t){const e=t.regex,n=f,r="<>",i="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const o=t.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},a={$pattern:f,keyword:p,literal:g,built_in:x,"variable.language":b},s="[0-9](_?[0-9])*",l=`\\.(${s})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",c={className:"number",variants:[{begin:`(\\b(${u})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${u})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},d={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},_={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"css"}},w={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},S={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,h]},M={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},k=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,_,w,S,{match:/\$\d+/},c];h.contains=k.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(k)});const E=[].concat(M,h.contains),A=E.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(E)}]),T={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:A},I={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...m,...v]}},D={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},N={match:e.concat(/\b/,(O=[...y,"super","import"],e.concat("(?!",O.join("|"),")")),n,e.lookahead(/\(/)),className:"title.function",relevance:0};var O;const L={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},P={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},R="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",j={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(R)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,_,w,S,M,{match:/\$\d+/},c,C,{className:"attr",begin:n+e.lookahead(":"),relevance:0},j,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[M,t.REGEXP_MODE,{className:"function",begin:R,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:i},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},L,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},I,P,{match:/\$[(.]/}]}})),r.registerLanguage("shell",(function(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}})),r.registerLanguage("vim",(function(t){return{name:"Vim Script",keywords:{$pattern:/[!#@\w]+/,keyword:"N|0 P|0 X|0 a|0 ab abc abo al am an|0 ar arga argd arge argdo argg argl argu as au aug aun b|0 bN ba bad bd be bel bf bl bm bn bo bp br brea breaka breakd breakl bro bufdo buffers bun bw c|0 cN cNf ca cabc caddb cad caddf cal cat cb cc ccl cd ce cex cf cfir cgetb cgete cg changes chd che checkt cl cla clo cm cmapc cme cn cnew cnf cno cnorea cnoreme co col colo com comc comp con conf cope cp cpf cq cr cs cst cu cuna cunme cw delm deb debugg delc delf dif diffg diffo diffp diffpu diffs diffthis dig di dl dell dj dli do doautoa dp dr ds dsp e|0 ea ec echoe echoh echom echon el elsei em en endfo endf endt endw ene ex exe exi exu f|0 files filet fin fina fini fir fix fo foldc foldd folddoc foldo for fu go gr grepa gu gv ha helpf helpg helpt hi hid his ia iabc if ij il im imapc ime ino inorea inoreme int is isp iu iuna iunme j|0 ju k|0 keepa kee keepj lN lNf l|0 lad laddb laddf la lan lat lb lc lch lcl lcs le lefta let lex lf lfir lgetb lgete lg lgr lgrepa lh ll lla lli lmak lm lmapc lne lnew lnf ln loadk lo loc lockv lol lope lp lpf lr ls lt lu lua luad luaf lv lvimgrepa lw m|0 ma mak map mapc marks mat me menut mes mk mks mksp mkv mkvie mod mz mzf nbc nb nbs new nm nmapc nme nn nnoreme noa no noh norea noreme norm nu nun nunme ol o|0 om omapc ome on ono onoreme opt ou ounme ow p|0 profd prof pro promptr pc ped pe perld po popu pp pre prev ps pt ptN ptf ptj ptl ptn ptp ptr pts pu pw py3 python3 py3d py3f py pyd pyf quita qa rec red redi redr redraws reg res ret retu rew ri rightb rub rubyd rubyf rund ru rv sN san sa sal sav sb sbN sba sbf sbl sbm sbn sbp sbr scrip scripte scs se setf setg setl sf sfir sh sim sig sil sl sla sm smap smapc sme sn sni sno snor snoreme sor so spelld spe spelli spellr spellu spellw sp spr sre st sta startg startr star stopi stj sts sun sunm sunme sus sv sw sy synti sync tN tabN tabc tabdo tabe tabf tabfir tabl tabm tabnew tabn tabo tabp tabr tabs tab ta tags tc tcld tclf te tf th tj tl tm tn to tp tr try ts tu u|0 undoj undol una unh unl unlo unm unme uns up ve verb vert vim vimgrepa vi viu vie vm vmapc vme vne vn vnoreme vs vu vunme windo w|0 wN wa wh wi winc winp wn wp wq wqa ws wu wv x|0 xa xmapc xm xme xn xnoreme xu xunme y|0 z|0 ~ Next Print append abbreviate abclear aboveleft all amenu anoremenu args argadd argdelete argedit argglobal arglocal argument ascii autocmd augroup aunmenu buffer bNext ball badd bdelete behave belowright bfirst blast bmodified bnext botright bprevious brewind break breakadd breakdel breaklist browse bunload bwipeout change cNext cNfile cabbrev cabclear caddbuffer caddexpr caddfile call catch cbuffer cclose center cexpr cfile cfirst cgetbuffer cgetexpr cgetfile chdir checkpath checktime clist clast close cmap cmapclear cmenu cnext cnewer cnfile cnoremap cnoreabbrev cnoremenu copy colder colorscheme command comclear compiler continue confirm copen cprevious cpfile cquit crewind cscope cstag cunmap cunabbrev cunmenu cwindow delete delmarks debug debuggreedy delcommand delfunction diffupdate diffget diffoff diffpatch diffput diffsplit digraphs display deletel djump dlist doautocmd doautoall deletep drop dsearch dsplit edit earlier echo echoerr echohl echomsg else elseif emenu endif endfor endfunction endtry endwhile enew execute exit exusage file filetype find finally finish first fixdel fold foldclose folddoopen folddoclosed foldopen function global goto grep grepadd gui gvim hardcopy help helpfind helpgrep helptags highlight hide history insert iabbrev iabclear ijump ilist imap imapclear imenu inoremap inoreabbrev inoremenu intro isearch isplit iunmap iunabbrev iunmenu join jumps keepalt keepmarks keepjumps lNext lNfile list laddexpr laddbuffer laddfile last language later lbuffer lcd lchdir lclose lcscope left leftabove lexpr lfile lfirst lgetbuffer lgetexpr lgetfile lgrep lgrepadd lhelpgrep llast llist lmake lmap lmapclear lnext lnewer lnfile lnoremap loadkeymap loadview lockmarks lockvar lolder lopen lprevious lpfile lrewind ltag lunmap luado luafile lvimgrep lvimgrepadd lwindow move mark make mapclear match menu menutranslate messages mkexrc mksession mkspell mkvimrc mkview mode mzscheme mzfile nbclose nbkey nbsart next nmap nmapclear nmenu nnoremap nnoremenu noautocmd noremap nohlsearch noreabbrev noremenu normal number nunmap nunmenu oldfiles open omap omapclear omenu only onoremap onoremenu options ounmap ounmenu ownsyntax print profdel profile promptfind promptrepl pclose pedit perl perldo pop popup ppop preserve previous psearch ptag ptNext ptfirst ptjump ptlast ptnext ptprevious ptrewind ptselect put pwd py3do py3file python pydo pyfile quit quitall qall read recover redo redir redraw redrawstatus registers resize retab return rewind right rightbelow ruby rubydo rubyfile rundo runtime rviminfo substitute sNext sandbox sargument sall saveas sbuffer sbNext sball sbfirst sblast sbmodified sbnext sbprevious sbrewind scriptnames scriptencoding scscope set setfiletype setglobal setlocal sfind sfirst shell simalt sign silent sleep slast smagic smapclear smenu snext sniff snomagic snoremap snoremenu sort source spelldump spellgood spellinfo spellrepall spellundo spellwrong split sprevious srewind stop stag startgreplace startreplace startinsert stopinsert stjump stselect sunhide sunmap sunmenu suspend sview swapname syntax syntime syncbind tNext tabNext tabclose tabedit tabfind tabfirst tablast tabmove tabnext tabonly tabprevious tabrewind tag tcl tcldo tclfile tearoff tfirst throw tjump tlast tmenu tnext topleft tprevious trewind tselect tunmenu undo undojoin undolist unabbreviate unhide unlet unlockvar unmap unmenu unsilent update vglobal version verbose vertical vimgrep vimgrepadd visual viusage view vmap vmapclear vmenu vnew vnoremap vnoremenu vsplit vunmap vunmenu write wNext wall while winsize wincmd winpos wnext wprevious wqall wsverb wundo wviminfo xit xall xmapclear xmap xmenu xnoremap xnoremenu xunmap xunmenu yank",built_in:"synIDtrans atan2 range matcharg did_filetype asin feedkeys xor argv complete_check add getwinposx getqflist getwinposy screencol clearmatches empty extend getcmdpos mzeval garbagecollect setreg ceil sqrt diff_hlID inputsecret get getfperm getpid filewritable shiftwidth max sinh isdirectory synID system inputrestore winline atan visualmode inputlist tabpagewinnr round getregtype mapcheck hasmapto histdel argidx findfile sha256 exists toupper getcmdline taglist string getmatches bufnr strftime winwidth bufexists strtrans tabpagebuflist setcmdpos remote_read printf setloclist getpos getline bufwinnr float2nr len getcmdtype diff_filler luaeval resolve libcallnr foldclosedend reverse filter has_key bufname str2float strlen setline getcharmod setbufvar index searchpos shellescape undofile foldclosed setqflist buflisted strchars str2nr virtcol floor remove undotree remote_expr winheight gettabwinvar reltime cursor tabpagenr finddir localtime acos getloclist search tanh matchend rename gettabvar strdisplaywidth type abs py3eval setwinvar tolower wildmenumode log10 spellsuggest bufloaded synconcealed nextnonblank server2client complete settabwinvar executable input wincol setmatches getftype hlID inputsave searchpair or screenrow line settabvar histadd deepcopy strpart remote_peek and eval getftime submatch screenchar winsaveview matchadd mkdir screenattr getfontname libcall reltimestr getfsize winnr invert pow getbufline byte2line soundfold repeat fnameescape tagfiles sin strwidth spellbadword trunc maparg log lispindent hostname setpos globpath remote_foreground getchar synIDattr fnamemodify cscope_connection stridx winbufnr indent min complete_add nr2char searchpairpos inputdialog values matchlist items hlexists strridx browsedir expand fmod pathshorten line2byte argc count getwinvar glob foldtextresult getreg foreground cosh matchdelete has char2nr simplify histget searchdecl iconv winrestcmd pumvisible writefile foldlevel haslocaldir keys cos matchstr foldtext histnr tan tempname getcwd byteidx getbufvar islocked escape eventhandler remote_send serverlist winrestview synstack pyeval prevnonblank readfile cindent filereadable changenr exp"},illegal:/;/,contains:[t.NUMBER_MODE,{className:"string",begin:"'",end:"'",illegal:"\\n"},{className:"string",begin:/"(\\"|\n\\|[^"\n])*"/},t.COMMENT('"',"$"),{className:"variable",begin:/[bwtglsav]:[\w\d_]+/},{begin:[/\b(?:function|function!)/,/\s+/,t.IDENT_RE],className:{1:"keyword",3:"title"},end:"$",relevance:0,contains:[{className:"params",begin:"\\(",end:"\\)"}]},{className:"symbol",begin:/<[\w-]+>/}]}})),r.registerLanguage("html",(function(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(i,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),s=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,s,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,s,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),r.debugMode();const W=({children:t,className:e})=>{const n=(0,E.useRef)(null),i=t.match(/\$@([a-z]+)@/);(0,E.useEffect)((()=>{n.current&&n.current.querySelectorAll(".my-code").forEach(((t,e)=>{const n=t,i=u[e],o=r.highlight(i.tit,i.str).value;n.innerHTML=o,R(n)}))}),[t]);let o=t;o=t.replace(/\[@([\s\S]*?)\]/g,((t,e)=>`${(0,A.d)(e.replace(/<b class="searchSign">(.*?)<\/b>/g,((t,e)=>`\\colorbox{#FF0}{${e}}`)))}`));const a=!!t.match(/\n/)&&/^\$/.test(t);if(a){var s,l;const e=null===(l=t=null===(s=t)||void 0===s?void 0:s.replace(/\t/g,""))||void 0===l?void 0:l.match(/\n(\s+)/);let n=0;e&&(n=e[1].lastIndexOf(" "));const r=new RegExp(`\n( {${n+1}})`,"g");o=o.replace(/\s*\n\s*/,"").replace(/\n\s+\$/,"$").replace(r,"\n")}const u=[];o=i&&"txt"===i[1]?o.replace(/\$(@[a-z]+@)?([\s\S]*?)\$/g,((t,e,n)=>{let r=n.replace(/<(.*?)>/g,((t,e)=>`<span class="hljs-symbol">&lt;</span><span class="hljs-template-tag">${e}</span><span class="hljs-symbol">&gt;</span>`));return r=r.replace(/\*(.+)\*/g,'<span class="hljs-doctag">$1</span>'),r=r.replace(/#(.+)/g,'<span class="hljs-section">$1</span>'),r=r.replace(/\{([\s\S]*?)\}/g,'<span class="hljs-type">{</span><span class="data-structure">$1</span><span class="hljs-type">}</span>'),r=r.replace(/\.([a-zA-Z0-9]+\s*=)/g,'<span class="hljs-variable">$1</span>'),r=r.replace(/\[(.*?)\]/g,'<span class="remark-p">$1</span>'),r=r.replace(/\/\//g,"\n"),r=r.replace(/\\(.+)/g,'<span class="txt-comment">// $1</span>'),`<code class="hljs my-txt">${r}</code>`})):o.replace(a?/^\$(@[a-z]+@)?([\s\S]*?)\$$/g:/\$(@[a-z]+@)?([\s\S]*?)\$/g,((t,e,n)=>(u.push({tit:e?e.split("@")[1]:"cpp",str:n.replace(/￥/g,"$")}),"~#~")));let c=!1;return o=o.replace(/<br>/g,'<br /><span class="br-tag"></span>').replace(/\\img\{(.*?)\}(\[(\d*[em%]+?)(left)?\])/g,((t,e,n,r,i)=>(c=!!i,`<img class="img" style="width:${r}" src="./assert/imgs/${e}.png" />`))).replace(/\[(.*?)\]/g,((t,e)=>`<span class="remark-p">${(0,U.u_)(e)}</span>`)),(0,H.jsxs)("div",{className:`${e||""} ${c?"left-img":""} ${a?"code-block":""}`,ref:n,children:[a?(0,H.jsx)("span",{className:"lang-tit",children:i?i[1]:"cpp"}):null,o.split("~#~").map(((t,e)=>{const n=u[e]||null;return(0,H.jsxs)(E.Fragment,{children:[t?(0,H.jsx)("span",{dangerouslySetInnerHTML:{__html:t}}):void 0,n?(0,H.jsx)("code",{className:`language-${n.tit} my-code hljs`}):void 0]},e)}))]})};W.defaultProps={children:""}},"./src/js/util/Notes.tsx":function(t,e,n){"use strict";n.d(e,{o:function(){return l}});var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("./node_modules/react/index.js"),o=n("./src/js/util/utilCom.tsx"),a=n("./node_modules/@s-ekin/web/lib/index.js"),s=n("./node_modules/react/jsx-runtime.js");class l extends i.PureComponent{constructor(...t){super(...t),(0,r.Z)(this,"state",{showNav:!1}),(0,r.Z)(this,"boxRef",(0,i.createRef)()),(0,r.Z)(this,"toggleMenu",(()=>{this.setState((t=>({showNav:!t.showNav})))})),(0,r.Z)(this,"navFn",(t=>{const e=t.currentTarget.dataset.index,n=document.querySelector(`div.item[data-id='${e}']`).offsetTop;this.boxRef.current.scrollTop=n}))}getItem(t,e){return(0,s.jsx)("div",{className:"explain",children:t.map(((t,n)=>{const r=t.slice(1);return(0,s.jsxs)("div",{className:"item pointer-bg","data-id":`${n+(e||0)}`,children:[(0,s.jsx)("p",{children:`${n+1+(e||0)}、${t[0]}`}),(0,s.jsx)("div",{style:{paddingLeft:"1.5em"},children:(0,s.jsx)(o.CZ,{data:r,lev:1,parseType:"custom"})})]},n)}))})}render(){const{data:t}=this.props,e=Math.ceil(t.length/2),n=t.slice(0,e),r=t.slice(e,t.length),{showNav:i}=this.state;return(0,s.jsxs)("div",{className:"note-view-page ",onDoubleClick:this.toggleMenu,children:[(0,s.jsx)("div",{className:" box",ref:this.boxRef,children:(0,s.jsxs)("div",{className:"article paper-bg",children:[this.getItem(n),this.getItem(r,n.length)]})}),(0,s.jsxs)("div",{className:"nav-menu-box slide-bar-menu",children:[(0,s.jsx)("span",{className:"toggle-icon",onClick:this.toggleMenu,children:(0,s.jsx)(a.SvgIcon,{className:"postgraduate"})}),(0,s.jsx)(a.Animate,{animation:i?{width:160,height:"auto",opacity:1}:{width:0,opacity:0,height:0},children:(0,s.jsxs)("div",{className:"menu-list",style:{width:160},children:[n.map(((t,e)=>(0,s.jsxs)("div",{onClick:this.navFn,className:"item","data-index":`${e}`,children:[e+1,"、",t[0]]},`${e}`))),r.map(((t,n)=>(0,s.jsxs)("div",{onClick:this.navFn,className:"item","data-index":`${n+e}`,children:[n+1+e,"、",t[0]]},`${n+e}`)))]})})]})]})}}},"./src/js/util/myKatex.tsx":function(t,e,n){"use strict";n.d(e,{G:function(){return ii},d:function(){return ri}});var r=n("./node_modules/react/index.js");n("./node_modules/katex/dist/katex.min.css");class i{constructor(t,e,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=e,this.end=n}static range(t,e){return e?t&&t.loc&&e.loc&&t.loc.lexer===e.loc.lexer?new i(t.loc.lexer,t.loc.start,e.loc.end):null:t&&t.loc}}class o{constructor(t,e){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=e}range(t,e){return new o(e,i.range(this,t))}}class a{constructor(t,e){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n,r,i="KaTeX parse error: "+t,o=e&&e.loc;if(o&&o.start<=o.end){var s=o.lexer.input;n=o.start,r=o.end,n===s.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=s.slice(n,r).replace(/[^]/g,"$&̲");i+=(n>15?"…"+s.slice(n-15,n):s.slice(0,n))+l+(r+15<s.length?s.slice(r,r+15)+"…":s.slice(r))}var u=new Error(i);return u.name="ParseError",u.__proto__=a.prototype,u.position=n,null!=n&&null!=r&&(u.length=r-n),u.rawMessage=t,u}}a.prototype.__proto__=Error.prototype;var s=/([A-Z])/g,l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},u=/[&><"']/g;var c=function t(e){return"ordgroup"===e.type||"color"===e.type?1===e.body.length?t(e.body[0]):e:"font"===e.type?t(e.body):e},h={contains:function(t,e){return-1!==t.indexOf(e)},deflt:function(t,e){return void 0===t?e:t},escape:function(t){return String(t).replace(u,(t=>l[t]))},hyphenate:function(t){return t.replace(s,"-$1").toLowerCase()},getBaseElem:c,isCharacterBox:function(t){var e=c(t);return"mathord"===e.type||"textord"===e.type||"atom"===e.type},protocolFromUrl:function(t){var e=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return null!=e?e[1]:"_relative"}},d={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>"Infinity"===t?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function f(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class p{constructor(t){for(var e in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{},d)if(d.hasOwnProperty(e)){var n=d[e];this[e]=void 0!==t[e]?n.processor?n.processor(t[e]):t[e]:f(n)}}reportNonstrict(t,e,n){var r=this.strict;if("function"==typeof r&&(r=r(t,e,n)),r&&"ignore"!==r&&(!0===r||"error"===r))throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+e+" ["+t+"]",n)}useStrictBehavior(t,e,n){var r=this.strict;if("function"==typeof r)try{r=r(t,e,n)}catch(t){r="error"}return!(!r||"ignore"===r)&&(!0===r||"error"===r)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=h.protocolFromUrl(t.url));var e="function"==typeof this.trust?this.trust(t):this.trust;return Boolean(e)}}class g{constructor(t,e,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=e,this.cramped=n}sup(){return m[v[this.id]]}sub(){return m[y[this.id]]}fracNum(){return m[b[this.id]]}fracDen(){return m[x[this.id]]}cramp(){return m[_[this.id]]}text(){return m[w[this.id]]}isTight(){return this.size>=2}}var m=[new g(0,0,!1),new g(1,0,!0),new g(2,1,!1),new g(3,1,!0),new g(4,2,!1),new g(5,2,!0),new g(6,3,!1),new g(7,3,!0)],v=[4,5,4,5,6,7,6,7],y=[5,5,5,5,7,7,7,7],b=[2,3,4,5,6,7,6,7],x=[3,3,5,5,7,7,7,7],_=[1,1,3,3,5,5,7,7],w=[0,1,2,3,2,3,2,3],S={DISPLAY:m[0],TEXT:m[2],SCRIPT:m[4],SCRIPTSCRIPT:m[6]},M=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var k=[];function E(t){for(var e=0;e<k.length;e+=2)if(t>=k[e]&&t<=k[e+1])return!0;return!1}M.forEach((t=>t.blocks.forEach((t=>k.push(...t)))));var A=80,T={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class I{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return h.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}toText(){return this.children.map((t=>t.toText())).join("")}}var C={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},D={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},N={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function O(t,e,n){if(!C[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=C[e][r];if(!i&&t[0]in N&&(r=N[t[0]].charCodeAt(0),i=C[e][r]),i||"text"!==n||E(r)&&(i=C[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var L={};var P=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],R=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],j=function(t,e){return e.size<2?t:P[t-1][e.size-1]};class z{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||z.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=R[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var e={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return new z(e)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:j(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:R[t-1]})}havingBaseStyle(t){t=t||this.style.text();var e=j(z.BASESIZE,t);return this.size===e&&this.textSize===z.BASESIZE&&this.style===t?this:this.extend({style:t,size:e})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==z.BASESIZE?["sizing","reset-size"+this.size,"size"+z.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(t){var e;if(!L[e=t>=5?0:t>=3?1:2]){var n=L[e]={cssEmPerMu:D.quad[e]/18};for(var r in D)D.hasOwnProperty(r)&&(n[r]=D[r][e])}return L[e]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}z.BASESIZE=6;var B={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},F={ex:!0,em:!0,mu:!0},G=function(t){return"string"!=typeof t&&(t=t.unit),t in B||t in F||"ex"===t},V=function(t,e){var n;if(t.unit in B)n=B[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if("mu"===t.unit)n=e.fontMetrics().cssEmPerMu;else{var r;if(r=e.style.isTight()?e.havingStyle(e.style.text()):e,"ex"===t.unit)n=r.fontMetrics().xHeight;else{if("em"!==t.unit)throw new a("Invalid unit: '"+t.unit+"'");n=r.fontMetrics().quad}r!==e&&(n*=r.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*n,e.maxSize)},Z=function(t){return+t.toFixed(4)+"em"},U=function(t){return t.filter((t=>t)).join(" ")},H=function(t,e,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},e){e.style.isTight()&&this.classes.push("mtight");var r=e.getColor();r&&(this.style.color=r)}},W=function(t){var e=document.createElement(t);for(var n in e.className=U(this.classes),this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&e.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e},Y=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+h.escape(U(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=h.hyphenate(r)+":"+this.style[r]+";");for(var i in n&&(e+=' style="'+h.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(e+=" "+i+'="'+h.escape(this.attributes[i])+'"');e+=">";for(var o=0;o<this.children.length;o++)e+=this.children[o].toMarkup();return e+="</"+t+">"};class X{constructor(t,e,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,H.call(this,t,n,r),this.children=e||[]}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return h.contains(this.classes,t)}toNode(){return W.call(this,"span")}toMarkup(){return Y.call(this,"span")}}class q{constructor(t,e,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,H.call(this,e,r),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return h.contains(this.classes,t)}toNode(){return W.call(this,"a")}toMarkup(){return Y.call(this,"a")}}class K{constructor(t,e,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=e,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return h.contains(this.classes,t)}toNode(){var t=document.createElement("img");for(var e in t.src=this.src,t.alt=this.alt,t.className="mord",this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",e="";for(var n in this.style)this.style.hasOwnProperty(n)&&(e+=h.hyphenate(n)+":"+this.style[n]+";");return e&&(t+=' style="'+h.escape(e)+'"'),t+="'/>"}}var $={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"};class J{constructor(t,e,n,r,i,o,a,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=e||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=o||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0;var l=function(t){for(var e=0;e<M.length;e++)for(var n=M[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=$[this.text])}hasClass(t){return h.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),e=null;for(var n in this.italic>0&&((e=document.createElement("span")).style.marginRight=Z(this.italic)),this.classes.length>0&&((e=e||document.createElement("span")).className=U(this.classes)),this.style)this.style.hasOwnProperty(n)&&((e=e||document.createElement("span")).style[n]=this.style[n]);return e?(e.appendChild(t),e):t}toMarkup(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=h.escape(U(this.classes)),e+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=h.hyphenate(r)+":"+this.style[r]+";");n&&(t=!0,e+=' style="'+h.escape(n)+'"');var i=h.escape(this.text);return t?(e+=">",e+=i,e+="</span>"):i}}class Q{constructor(t,e){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=e||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>"}}class tt{constructor(t,e){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=e}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",T[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+T[this.pathName]+"'/>"}}class et{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);return t}toMarkup(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");return t+="/>"}}function nt(t){if(t instanceof J)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}var rt={bin:1,close:1,inner:1,open:1,punct:1,rel:1},it={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ot={math:{},text:{}};function at(t,e,n,r,i,o){ot[t][i]={font:e,group:n,replace:r},o&&r&&(ot[t][r]=ot[t][i])}var st="math",lt="text",ut="main",ct="ams",ht="accent-token",dt="bin",ft="close",pt="inner",gt="mathord",mt="op-token",vt="open",yt="punct",bt="rel",xt="spacing",_t="textord";at(st,ut,bt,"≡","\\equiv",!0),at(st,ut,bt,"≺","\\prec",!0),at(st,ut,bt,"≻","\\succ",!0),at(st,ut,bt,"∼","\\sim",!0),at(st,ut,bt,"⊥","\\perp"),at(st,ut,bt,"⪯","\\preceq",!0),at(st,ut,bt,"⪰","\\succeq",!0),at(st,ut,bt,"≃","\\simeq",!0),at(st,ut,bt,"∣","\\mid",!0),at(st,ut,bt,"≪","\\ll",!0),at(st,ut,bt,"≫","\\gg",!0),at(st,ut,bt,"≍","\\asymp",!0),at(st,ut,bt,"∥","\\parallel"),at(st,ut,bt,"⋈","\\bowtie",!0),at(st,ut,bt,"⌣","\\smile",!0),at(st,ut,bt,"⊑","\\sqsubseteq",!0),at(st,ut,bt,"⊒","\\sqsupseteq",!0),at(st,ut,bt,"≐","\\doteq",!0),at(st,ut,bt,"⌢","\\frown",!0),at(st,ut,bt,"∋","\\ni",!0),at(st,ut,bt,"∝","\\propto",!0),at(st,ut,bt,"⊢","\\vdash",!0),at(st,ut,bt,"⊣","\\dashv",!0),at(st,ut,bt,"∋","\\owns"),at(st,ut,yt,".","\\ldotp"),at(st,ut,yt,"⋅","\\cdotp"),at(st,ut,_t,"#","\\#"),at(lt,ut,_t,"#","\\#"),at(st,ut,_t,"&","\\&"),at(lt,ut,_t,"&","\\&"),at(st,ut,_t,"ℵ","\\aleph",!0),at(st,ut,_t,"∀","\\forall",!0),at(st,ut,_t,"ℏ","\\hbar",!0),at(st,ut,_t,"∃","\\exists",!0),at(st,ut,_t,"∇","\\nabla",!0),at(st,ut,_t,"♭","\\flat",!0),at(st,ut,_t,"ℓ","\\ell",!0),at(st,ut,_t,"♮","\\natural",!0),at(st,ut,_t,"♣","\\clubsuit",!0),at(st,ut,_t,"℘","\\wp",!0),at(st,ut,_t,"♯","\\sharp",!0),at(st,ut,_t,"♢","\\diamondsuit",!0),at(st,ut,_t,"ℜ","\\Re",!0),at(st,ut,_t,"♡","\\heartsuit",!0),at(st,ut,_t,"ℑ","\\Im",!0),at(st,ut,_t,"♠","\\spadesuit",!0),at(st,ut,_t,"§","\\S",!0),at(lt,ut,_t,"§","\\S"),at(st,ut,_t,"¶","\\P",!0),at(lt,ut,_t,"¶","\\P"),at(st,ut,_t,"†","\\dag"),at(lt,ut,_t,"†","\\dag"),at(lt,ut,_t,"†","\\textdagger"),at(st,ut,_t,"‡","\\ddag"),at(lt,ut,_t,"‡","\\ddag"),at(lt,ut,_t,"‡","\\textdaggerdbl"),at(st,ut,ft,"⎱","\\rmoustache",!0),at(st,ut,vt,"⎰","\\lmoustache",!0),at(st,ut,ft,"⟯","\\rgroup",!0),at(st,ut,vt,"⟮","\\lgroup",!0),at(st,ut,dt,"∓","\\mp",!0),at(st,ut,dt,"⊖","\\ominus",!0),at(st,ut,dt,"⊎","\\uplus",!0),at(st,ut,dt,"⊓","\\sqcap",!0),at(st,ut,dt,"∗","\\ast"),at(st,ut,dt,"⊔","\\sqcup",!0),at(st,ut,dt,"◯","\\bigcirc",!0),at(st,ut,dt,"∙","\\bullet",!0),at(st,ut,dt,"‡","\\ddagger"),at(st,ut,dt,"≀","\\wr",!0),at(st,ut,dt,"⨿","\\amalg"),at(st,ut,dt,"&","\\And"),at(st,ut,bt,"⟵","\\longleftarrow",!0),at(st,ut,bt,"⇐","\\Leftarrow",!0),at(st,ut,bt,"⟸","\\Longleftarrow",!0),at(st,ut,bt,"⟶","\\longrightarrow",!0),at(st,ut,bt,"⇒","\\Rightarrow",!0),at(st,ut,bt,"⟹","\\Longrightarrow",!0),at(st,ut,bt,"↔","\\leftrightarrow",!0),at(st,ut,bt,"⟷","\\longleftrightarrow",!0),at(st,ut,bt,"⇔","\\Leftrightarrow",!0),at(st,ut,bt,"⟺","\\Longleftrightarrow",!0),at(st,ut,bt,"↦","\\mapsto",!0),at(st,ut,bt,"⟼","\\longmapsto",!0),at(st,ut,bt,"↗","\\nearrow",!0),at(st,ut,bt,"↩","\\hookleftarrow",!0),at(st,ut,bt,"↪","\\hookrightarrow",!0),at(st,ut,bt,"↘","\\searrow",!0),at(st,ut,bt,"↼","\\leftharpoonup",!0),at(st,ut,bt,"⇀","\\rightharpoonup",!0),at(st,ut,bt,"↙","\\swarrow",!0),at(st,ut,bt,"↽","\\leftharpoondown",!0),at(st,ut,bt,"⇁","\\rightharpoondown",!0),at(st,ut,bt,"↖","\\nwarrow",!0),at(st,ut,bt,"⇌","\\rightleftharpoons",!0),at(st,ct,bt,"≮","\\nless",!0),at(st,ct,bt,"","\\@nleqslant"),at(st,ct,bt,"","\\@nleqq"),at(st,ct,bt,"⪇","\\lneq",!0),at(st,ct,bt,"≨","\\lneqq",!0),at(st,ct,bt,"","\\@lvertneqq"),at(st,ct,bt,"⋦","\\lnsim",!0),at(st,ct,bt,"⪉","\\lnapprox",!0),at(st,ct,bt,"⊀","\\nprec",!0),at(st,ct,bt,"⋠","\\npreceq",!0),at(st,ct,bt,"⋨","\\precnsim",!0),at(st,ct,bt,"⪹","\\precnapprox",!0),at(st,ct,bt,"≁","\\nsim",!0),at(st,ct,bt,"","\\@nshortmid"),at(st,ct,bt,"∤","\\nmid",!0),at(st,ct,bt,"⊬","\\nvdash",!0),at(st,ct,bt,"⊭","\\nvDash",!0),at(st,ct,bt,"⋪","\\ntriangleleft"),at(st,ct,bt,"⋬","\\ntrianglelefteq",!0),at(st,ct,bt,"⊊","\\subsetneq",!0),at(st,ct,bt,"","\\@varsubsetneq"),at(st,ct,bt,"⫋","\\subsetneqq",!0),at(st,ct,bt,"","\\@varsubsetneqq"),at(st,ct,bt,"≯","\\ngtr",!0),at(st,ct,bt,"","\\@ngeqslant"),at(st,ct,bt,"","\\@ngeqq"),at(st,ct,bt,"⪈","\\gneq",!0),at(st,ct,bt,"≩","\\gneqq",!0),at(st,ct,bt,"","\\@gvertneqq"),at(st,ct,bt,"⋧","\\gnsim",!0),at(st,ct,bt,"⪊","\\gnapprox",!0),at(st,ct,bt,"⊁","\\nsucc",!0),at(st,ct,bt,"⋡","\\nsucceq",!0),at(st,ct,bt,"⋩","\\succnsim",!0),at(st,ct,bt,"⪺","\\succnapprox",!0),at(st,ct,bt,"≆","\\ncong",!0),at(st,ct,bt,"","\\@nshortparallel"),at(st,ct,bt,"∦","\\nparallel",!0),at(st,ct,bt,"⊯","\\nVDash",!0),at(st,ct,bt,"⋫","\\ntriangleright"),at(st,ct,bt,"⋭","\\ntrianglerighteq",!0),at(st,ct,bt,"","\\@nsupseteqq"),at(st,ct,bt,"⊋","\\supsetneq",!0),at(st,ct,bt,"","\\@varsupsetneq"),at(st,ct,bt,"⫌","\\supsetneqq",!0),at(st,ct,bt,"","\\@varsupsetneqq"),at(st,ct,bt,"⊮","\\nVdash",!0),at(st,ct,bt,"⪵","\\precneqq",!0),at(st,ct,bt,"⪶","\\succneqq",!0),at(st,ct,bt,"","\\@nsubseteqq"),at(st,ct,dt,"⊴","\\unlhd"),at(st,ct,dt,"⊵","\\unrhd"),at(st,ct,bt,"↚","\\nleftarrow",!0),at(st,ct,bt,"↛","\\nrightarrow",!0),at(st,ct,bt,"⇍","\\nLeftarrow",!0),at(st,ct,bt,"⇏","\\nRightarrow",!0),at(st,ct,bt,"↮","\\nleftrightarrow",!0),at(st,ct,bt,"⇎","\\nLeftrightarrow",!0),at(st,ct,bt,"△","\\vartriangle"),at(st,ct,_t,"ℏ","\\hslash"),at(st,ct,_t,"▽","\\triangledown"),at(st,ct,_t,"◊","\\lozenge"),at(st,ct,_t,"Ⓢ","\\circledS"),at(st,ct,_t,"®","\\circledR"),at(lt,ct,_t,"®","\\circledR"),at(st,ct,_t,"∡","\\measuredangle",!0),at(st,ct,_t,"∄","\\nexists"),at(st,ct,_t,"℧","\\mho"),at(st,ct,_t,"Ⅎ","\\Finv",!0),at(st,ct,_t,"⅁","\\Game",!0),at(st,ct,_t,"‵","\\backprime"),at(st,ct,_t,"▲","\\blacktriangle"),at(st,ct,_t,"▼","\\blacktriangledown"),at(st,ct,_t,"■","\\blacksquare"),at(st,ct,_t,"⧫","\\blacklozenge"),at(st,ct,_t,"★","\\bigstar"),at(st,ct,_t,"∢","\\sphericalangle",!0),at(st,ct,_t,"∁","\\complement",!0),at(st,ct,_t,"ð","\\eth",!0),at(lt,ut,_t,"ð","ð"),at(st,ct,_t,"╱","\\diagup"),at(st,ct,_t,"╲","\\diagdown"),at(st,ct,_t,"□","\\square"),at(st,ct,_t,"□","\\Box"),at(st,ct,_t,"◊","\\Diamond"),at(st,ct,_t,"¥","\\yen",!0),at(lt,ct,_t,"¥","\\yen",!0),at(st,ct,_t,"✓","\\checkmark",!0),at(lt,ct,_t,"✓","\\checkmark"),at(st,ct,_t,"ℶ","\\beth",!0),at(st,ct,_t,"ℸ","\\daleth",!0),at(st,ct,_t,"ℷ","\\gimel",!0),at(st,ct,_t,"ϝ","\\digamma",!0),at(st,ct,_t,"ϰ","\\varkappa"),at(st,ct,vt,"┌","\\@ulcorner",!0),at(st,ct,ft,"┐","\\@urcorner",!0),at(st,ct,vt,"└","\\@llcorner",!0),at(st,ct,ft,"┘","\\@lrcorner",!0),at(st,ct,bt,"≦","\\leqq",!0),at(st,ct,bt,"⩽","\\leqslant",!0),at(st,ct,bt,"⪕","\\eqslantless",!0),at(st,ct,bt,"≲","\\lesssim",!0),at(st,ct,bt,"⪅","\\lessapprox",!0),at(st,ct,bt,"≊","\\approxeq",!0),at(st,ct,dt,"⋖","\\lessdot"),at(st,ct,bt,"⋘","\\lll",!0),at(st,ct,bt,"≶","\\lessgtr",!0),at(st,ct,bt,"⋚","\\lesseqgtr",!0),at(st,ct,bt,"⪋","\\lesseqqgtr",!0),at(st,ct,bt,"≑","\\doteqdot"),at(st,ct,bt,"≓","\\risingdotseq",!0),at(st,ct,bt,"≒","\\fallingdotseq",!0),at(st,ct,bt,"∽","\\backsim",!0),at(st,ct,bt,"⋍","\\backsimeq",!0),at(st,ct,bt,"⫅","\\subseteqq",!0),at(st,ct,bt,"⋐","\\Subset",!0),at(st,ct,bt,"⊏","\\sqsubset",!0),at(st,ct,bt,"≼","\\preccurlyeq",!0),at(st,ct,bt,"⋞","\\curlyeqprec",!0),at(st,ct,bt,"≾","\\precsim",!0),at(st,ct,bt,"⪷","\\precapprox",!0),at(st,ct,bt,"⊲","\\vartriangleleft"),at(st,ct,bt,"⊴","\\trianglelefteq"),at(st,ct,bt,"⊨","\\vDash",!0),at(st,ct,bt,"⊪","\\Vvdash",!0),at(st,ct,bt,"⌣","\\smallsmile"),at(st,ct,bt,"⌢","\\smallfrown"),at(st,ct,bt,"≏","\\bumpeq",!0),at(st,ct,bt,"≎","\\Bumpeq",!0),at(st,ct,bt,"≧","\\geqq",!0),at(st,ct,bt,"⩾","\\geqslant",!0),at(st,ct,bt,"⪖","\\eqslantgtr",!0),at(st,ct,bt,"≳","\\gtrsim",!0),at(st,ct,bt,"⪆","\\gtrapprox",!0),at(st,ct,dt,"⋗","\\gtrdot"),at(st,ct,bt,"⋙","\\ggg",!0),at(st,ct,bt,"≷","\\gtrless",!0),at(st,ct,bt,"⋛","\\gtreqless",!0),at(st,ct,bt,"⪌","\\gtreqqless",!0),at(st,ct,bt,"≖","\\eqcirc",!0),at(st,ct,bt,"≗","\\circeq",!0),at(st,ct,bt,"≜","\\triangleq",!0),at(st,ct,bt,"∼","\\thicksim"),at(st,ct,bt,"≈","\\thickapprox"),at(st,ct,bt,"⫆","\\supseteqq",!0),at(st,ct,bt,"⋑","\\Supset",!0),at(st,ct,bt,"⊐","\\sqsupset",!0),at(st,ct,bt,"≽","\\succcurlyeq",!0),at(st,ct,bt,"⋟","\\curlyeqsucc",!0),at(st,ct,bt,"≿","\\succsim",!0),at(st,ct,bt,"⪸","\\succapprox",!0),at(st,ct,bt,"⊳","\\vartriangleright"),at(st,ct,bt,"⊵","\\trianglerighteq"),at(st,ct,bt,"⊩","\\Vdash",!0),at(st,ct,bt,"∣","\\shortmid"),at(st,ct,bt,"∥","\\shortparallel"),at(st,ct,bt,"≬","\\between",!0),at(st,ct,bt,"⋔","\\pitchfork",!0),at(st,ct,bt,"∝","\\varpropto"),at(st,ct,bt,"◀","\\blacktriangleleft"),at(st,ct,bt,"∴","\\therefore",!0),at(st,ct,bt,"∍","\\backepsilon"),at(st,ct,bt,"▶","\\blacktriangleright"),at(st,ct,bt,"∵","\\because",!0),at(st,ct,bt,"⋘","\\llless"),at(st,ct,bt,"⋙","\\gggtr"),at(st,ct,dt,"⊲","\\lhd"),at(st,ct,dt,"⊳","\\rhd"),at(st,ct,bt,"≂","\\eqsim",!0),at(st,ut,bt,"⋈","\\Join"),at(st,ct,bt,"≑","\\Doteq",!0),at(st,ct,dt,"∔","\\dotplus",!0),at(st,ct,dt,"∖","\\smallsetminus"),at(st,ct,dt,"⋒","\\Cap",!0),at(st,ct,dt,"⋓","\\Cup",!0),at(st,ct,dt,"⩞","\\doublebarwedge",!0),at(st,ct,dt,"⊟","\\boxminus",!0),at(st,ct,dt,"⊞","\\boxplus",!0),at(st,ct,dt,"⋇","\\divideontimes",!0),at(st,ct,dt,"⋉","\\ltimes",!0),at(st,ct,dt,"⋊","\\rtimes",!0),at(st,ct,dt,"⋋","\\leftthreetimes",!0),at(st,ct,dt,"⋌","\\rightthreetimes",!0),at(st,ct,dt,"⋏","\\curlywedge",!0),at(st,ct,dt,"⋎","\\curlyvee",!0),at(st,ct,dt,"⊝","\\circleddash",!0),at(st,ct,dt,"⊛","\\circledast",!0),at(st,ct,dt,"⋅","\\centerdot"),at(st,ct,dt,"⊺","\\intercal",!0),at(st,ct,dt,"⋒","\\doublecap"),at(st,ct,dt,"⋓","\\doublecup"),at(st,ct,dt,"⊠","\\boxtimes",!0),at(st,ct,bt,"⇢","\\dashrightarrow",!0),at(st,ct,bt,"⇠","\\dashleftarrow",!0),at(st,ct,bt,"⇇","\\leftleftarrows",!0),at(st,ct,bt,"⇆","\\leftrightarrows",!0),at(st,ct,bt,"⇚","\\Lleftarrow",!0),at(st,ct,bt,"↞","\\twoheadleftarrow",!0),at(st,ct,bt,"↢","\\leftarrowtail",!0),at(st,ct,bt,"↫","\\looparrowleft",!0),at(st,ct,bt,"⇋","\\leftrightharpoons",!0),at(st,ct,bt,"↶","\\curvearrowleft",!0),at(st,ct,bt,"↺","\\circlearrowleft",!0),at(st,ct,bt,"↰","\\Lsh",!0),at(st,ct,bt,"⇈","\\upuparrows",!0),at(st,ct,bt,"↿","\\upharpoonleft",!0),at(st,ct,bt,"⇃","\\downharpoonleft",!0),at(st,ut,bt,"⊶","\\origof",!0),at(st,ut,bt,"⊷","\\imageof",!0),at(st,ct,bt,"⊸","\\multimap",!0),at(st,ct,bt,"↭","\\leftrightsquigarrow",!0),at(st,ct,bt,"⇉","\\rightrightarrows",!0),at(st,ct,bt,"⇄","\\rightleftarrows",!0),at(st,ct,bt,"↠","\\twoheadrightarrow",!0),at(st,ct,bt,"↣","\\rightarrowtail",!0),at(st,ct,bt,"↬","\\looparrowright",!0),at(st,ct,bt,"↷","\\curvearrowright",!0),at(st,ct,bt,"↻","\\circlearrowright",!0),at(st,ct,bt,"↱","\\Rsh",!0),at(st,ct,bt,"⇊","\\downdownarrows",!0),at(st,ct,bt,"↾","\\upharpoonright",!0),at(st,ct,bt,"⇂","\\downharpoonright",!0),at(st,ct,bt,"⇝","\\rightsquigarrow",!0),at(st,ct,bt,"⇝","\\leadsto"),at(st,ct,bt,"⇛","\\Rrightarrow",!0),at(st,ct,bt,"↾","\\restriction"),at(st,ut,_t,"‘","`"),at(st,ut,_t,"$","\\$"),at(lt,ut,_t,"$","\\$"),at(lt,ut,_t,"$","\\textdollar"),at(st,ut,_t,"%","\\%"),at(lt,ut,_t,"%","\\%"),at(st,ut,_t,"_","\\_"),at(lt,ut,_t,"_","\\_"),at(lt,ut,_t,"_","\\textunderscore"),at(st,ut,_t,"∠","\\angle",!0),at(st,ut,_t,"∞","\\infty",!0),at(st,ut,_t,"′","\\prime"),at(st,ut,_t,"△","\\triangle"),at(st,ut,_t,"Γ","\\Gamma",!0),at(st,ut,_t,"Δ","\\Delta",!0),at(st,ut,_t,"Θ","\\Theta",!0),at(st,ut,_t,"Λ","\\Lambda",!0),at(st,ut,_t,"Ξ","\\Xi",!0),at(st,ut,_t,"Π","\\Pi",!0),at(st,ut,_t,"Σ","\\Sigma",!0),at(st,ut,_t,"Υ","\\Upsilon",!0),at(st,ut,_t,"Φ","\\Phi",!0),at(st,ut,_t,"Ψ","\\Psi",!0),at(st,ut,_t,"Ω","\\Omega",!0),at(st,ut,_t,"A","Α"),at(st,ut,_t,"B","Β"),at(st,ut,_t,"E","Ε"),at(st,ut,_t,"Z","Ζ"),at(st,ut,_t,"H","Η"),at(st,ut,_t,"I","Ι"),at(st,ut,_t,"K","Κ"),at(st,ut,_t,"M","Μ"),at(st,ut,_t,"N","Ν"),at(st,ut,_t,"O","Ο"),at(st,ut,_t,"P","Ρ"),at(st,ut,_t,"T","Τ"),at(st,ut,_t,"X","Χ"),at(st,ut,_t,"¬","\\neg",!0),at(st,ut,_t,"¬","\\lnot"),at(st,ut,_t,"⊤","\\top"),at(st,ut,_t,"⊥","\\bot"),at(st,ut,_t,"∅","\\emptyset"),at(st,ct,_t,"∅","\\varnothing"),at(st,ut,gt,"α","\\alpha",!0),at(st,ut,gt,"β","\\beta",!0),at(st,ut,gt,"γ","\\gamma",!0),at(st,ut,gt,"δ","\\delta",!0),at(st,ut,gt,"ϵ","\\epsilon",!0),at(st,ut,gt,"ζ","\\zeta",!0),at(st,ut,gt,"η","\\eta",!0),at(st,ut,gt,"θ","\\theta",!0),at(st,ut,gt,"ι","\\iota",!0),at(st,ut,gt,"κ","\\kappa",!0),at(st,ut,gt,"λ","\\lambda",!0),at(st,ut,gt,"μ","\\mu",!0),at(st,ut,gt,"ν","\\nu",!0),at(st,ut,gt,"ξ","\\xi",!0),at(st,ut,gt,"ο","\\omicron",!0),at(st,ut,gt,"π","\\pi",!0),at(st,ut,gt,"ρ","\\rho",!0),at(st,ut,gt,"σ","\\sigma",!0),at(st,ut,gt,"τ","\\tau",!0),at(st,ut,gt,"υ","\\upsilon",!0),at(st,ut,gt,"ϕ","\\phi",!0),at(st,ut,gt,"χ","\\chi",!0),at(st,ut,gt,"ψ","\\psi",!0),at(st,ut,gt,"ω","\\omega",!0),at(st,ut,gt,"ε","\\varepsilon",!0),at(st,ut,gt,"ϑ","\\vartheta",!0),at(st,ut,gt,"ϖ","\\varpi",!0),at(st,ut,gt,"ϱ","\\varrho",!0),at(st,ut,gt,"ς","\\varsigma",!0),at(st,ut,gt,"φ","\\varphi",!0),at(st,ut,dt,"∗","*",!0),at(st,ut,dt,"+","+"),at(st,ut,dt,"−","-",!0),at(st,ut,dt,"⋅","\\cdot",!0),at(st,ut,dt,"∘","\\circ",!0),at(st,ut,dt,"÷","\\div",!0),at(st,ut,dt,"±","\\pm",!0),at(st,ut,dt,"×","\\times",!0),at(st,ut,dt,"∩","\\cap",!0),at(st,ut,dt,"∪","\\cup",!0),at(st,ut,dt,"∖","\\setminus",!0),at(st,ut,dt,"∧","\\land"),at(st,ut,dt,"∨","\\lor"),at(st,ut,dt,"∧","\\wedge",!0),at(st,ut,dt,"∨","\\vee",!0),at(st,ut,_t,"√","\\surd"),at(st,ut,vt,"⟨","\\langle",!0),at(st,ut,vt,"∣","\\lvert"),at(st,ut,vt,"∥","\\lVert"),at(st,ut,ft,"?","?"),at(st,ut,ft,"!","!"),at(st,ut,ft,"⟩","\\rangle",!0),at(st,ut,ft,"∣","\\rvert"),at(st,ut,ft,"∥","\\rVert"),at(st,ut,bt,"=","="),at(st,ut,bt,":",":"),at(st,ut,bt,"≈","\\approx",!0),at(st,ut,bt,"≅","\\cong",!0),at(st,ut,bt,"≥","\\ge"),at(st,ut,bt,"≥","\\geq",!0),at(st,ut,bt,"←","\\gets"),at(st,ut,bt,">","\\gt",!0),at(st,ut,bt,"∈","\\in",!0),at(st,ut,bt,"","\\@not"),at(st,ut,bt,"⊂","\\subset",!0),at(st,ut,bt,"⊃","\\supset",!0),at(st,ut,bt,"⊆","\\subseteq",!0),at(st,ut,bt,"⊇","\\supseteq",!0),at(st,ct,bt,"⊈","\\nsubseteq",!0),at(st,ct,bt,"⊉","\\nsupseteq",!0),at(st,ut,bt,"⊨","\\models"),at(st,ut,bt,"←","\\leftarrow",!0),at(st,ut,bt,"≤","\\le"),at(st,ut,bt,"≤","\\leq",!0),at(st,ut,bt,"<","\\lt",!0),at(st,ut,bt,"→","\\rightarrow",!0),at(st,ut,bt,"→","\\to"),at(st,ct,bt,"≱","\\ngeq",!0),at(st,ct,bt,"≰","\\nleq",!0),at(st,ut,xt," ","\\ "),at(st,ut,xt," ","\\space"),at(st,ut,xt," ","\\nobreakspace"),at(lt,ut,xt," ","\\ "),at(lt,ut,xt," "," "),at(lt,ut,xt," ","\\space"),at(lt,ut,xt," ","\\nobreakspace"),at(st,ut,xt,null,"\\nobreak"),at(st,ut,xt,null,"\\allowbreak"),at(st,ut,yt,",",","),at(st,ut,yt,";",";"),at(st,ct,dt,"⊼","\\barwedge",!0),at(st,ct,dt,"⊻","\\veebar",!0),at(st,ut,dt,"⊙","\\odot",!0),at(st,ut,dt,"⊕","\\oplus",!0),at(st,ut,dt,"⊗","\\otimes",!0),at(st,ut,_t,"∂","\\partial",!0),at(st,ut,dt,"⊘","\\oslash",!0),at(st,ct,dt,"⊚","\\circledcirc",!0),at(st,ct,dt,"⊡","\\boxdot",!0),at(st,ut,dt,"△","\\bigtriangleup"),at(st,ut,dt,"▽","\\bigtriangledown"),at(st,ut,dt,"†","\\dagger"),at(st,ut,dt,"⋄","\\diamond"),at(st,ut,dt,"⋆","\\star"),at(st,ut,dt,"◃","\\triangleleft"),at(st,ut,dt,"▹","\\triangleright"),at(st,ut,vt,"{","\\{"),at(lt,ut,_t,"{","\\{"),at(lt,ut,_t,"{","\\textbraceleft"),at(st,ut,ft,"}","\\}"),at(lt,ut,_t,"}","\\}"),at(lt,ut,_t,"}","\\textbraceright"),at(st,ut,vt,"{","\\lbrace"),at(st,ut,ft,"}","\\rbrace"),at(st,ut,vt,"[","\\lbrack",!0),at(lt,ut,_t,"[","\\lbrack",!0),at(st,ut,ft,"]","\\rbrack",!0),at(lt,ut,_t,"]","\\rbrack",!0),at(st,ut,vt,"(","\\lparen",!0),at(st,ut,ft,")","\\rparen",!0),at(lt,ut,_t,"<","\\textless",!0),at(lt,ut,_t,">","\\textgreater",!0),at(st,ut,vt,"⌊","\\lfloor",!0),at(st,ut,ft,"⌋","\\rfloor",!0),at(st,ut,vt,"⌈","\\lceil",!0),at(st,ut,ft,"⌉","\\rceil",!0),at(st,ut,_t,"\\","\\backslash"),at(st,ut,_t,"∣","|"),at(st,ut,_t,"∣","\\vert"),at(lt,ut,_t,"|","\\textbar",!0),at(st,ut,_t,"∥","\\|"),at(st,ut,_t,"∥","\\Vert"),at(lt,ut,_t,"∥","\\textbardbl"),at(lt,ut,_t,"~","\\textasciitilde"),at(lt,ut,_t,"\\","\\textbackslash"),at(lt,ut,_t,"^","\\textasciicircum"),at(st,ut,bt,"↑","\\uparrow",!0),at(st,ut,bt,"⇑","\\Uparrow",!0),at(st,ut,bt,"↓","\\downarrow",!0),at(st,ut,bt,"⇓","\\Downarrow",!0),at(st,ut,bt,"↕","\\updownarrow",!0),at(st,ut,bt,"⇕","\\Updownarrow",!0),at(st,ut,mt,"∐","\\coprod"),at(st,ut,mt,"⋁","\\bigvee"),at(st,ut,mt,"⋀","\\bigwedge"),at(st,ut,mt,"⨄","\\biguplus"),at(st,ut,mt,"⋂","\\bigcap"),at(st,ut,mt,"⋃","\\bigcup"),at(st,ut,mt,"∫","\\int"),at(st,ut,mt,"∫","\\intop"),at(st,ut,mt,"∬","\\iint"),at(st,ut,mt,"∭","\\iiint"),at(st,ut,mt,"∏","\\prod"),at(st,ut,mt,"∑","\\sum"),at(st,ut,mt,"⨂","\\bigotimes"),at(st,ut,mt,"⨁","\\bigoplus"),at(st,ut,mt,"⨀","\\bigodot"),at(st,ut,mt,"∮","\\oint"),at(st,ut,mt,"∯","\\oiint"),at(st,ut,mt,"∰","\\oiiint"),at(st,ut,mt,"⨆","\\bigsqcup"),at(st,ut,mt,"∫","\\smallint"),at(lt,ut,pt,"…","\\textellipsis"),at(st,ut,pt,"…","\\mathellipsis"),at(lt,ut,pt,"…","\\ldots",!0),at(st,ut,pt,"…","\\ldots",!0),at(st,ut,pt,"⋯","\\@cdots",!0),at(st,ut,pt,"⋱","\\ddots",!0),at(st,ut,_t,"⋮","\\varvdots"),at(st,ut,ht,"ˊ","\\acute"),at(st,ut,ht,"ˋ","\\grave"),at(st,ut,ht,"¨","\\ddot"),at(st,ut,ht,"~","\\tilde"),at(st,ut,ht,"ˉ","\\bar"),at(st,ut,ht,"˘","\\breve"),at(st,ut,ht,"ˇ","\\check"),at(st,ut,ht,"^","\\hat"),at(st,ut,ht,"⃗","\\vec"),at(st,ut,ht,"˙","\\dot"),at(st,ut,ht,"˚","\\mathring"),at(st,ut,gt,"","\\@imath"),at(st,ut,gt,"","\\@jmath"),at(st,ut,_t,"ı","ı"),at(st,ut,_t,"ȷ","ȷ"),at(lt,ut,_t,"ı","\\i",!0),at(lt,ut,_t,"ȷ","\\j",!0),at(lt,ut,_t,"ß","\\ss",!0),at(lt,ut,_t,"æ","\\ae",!0),at(lt,ut,_t,"œ","\\oe",!0),at(lt,ut,_t,"ø","\\o",!0),at(lt,ut,_t,"Æ","\\AE",!0),at(lt,ut,_t,"Œ","\\OE",!0),at(lt,ut,_t,"Ø","\\O",!0),at(lt,ut,ht,"ˊ","\\'"),at(lt,ut,ht,"ˋ","\\`"),at(lt,ut,ht,"ˆ","\\^"),at(lt,ut,ht,"˜","\\~"),at(lt,ut,ht,"ˉ","\\="),at(lt,ut,ht,"˘","\\u"),at(lt,ut,ht,"˙","\\."),at(lt,ut,ht,"¸","\\c"),at(lt,ut,ht,"˚","\\r"),at(lt,ut,ht,"ˇ","\\v"),at(lt,ut,ht,"¨",'\\"'),at(lt,ut,ht,"˝","\\H"),at(lt,ut,ht,"◯","\\textcircled");var wt={"--":!0,"---":!0,"``":!0,"''":!0};at(lt,ut,_t,"–","--",!0),at(lt,ut,_t,"–","\\textendash"),at(lt,ut,_t,"—","---",!0),at(lt,ut,_t,"—","\\textemdash"),at(lt,ut,_t,"‘","`",!0),at(lt,ut,_t,"‘","\\textquoteleft"),at(lt,ut,_t,"’","'",!0),at(lt,ut,_t,"’","\\textquoteright"),at(lt,ut,_t,"“","``",!0),at(lt,ut,_t,"“","\\textquotedblleft"),at(lt,ut,_t,"”","''",!0),at(lt,ut,_t,"”","\\textquotedblright"),at(st,ut,_t,"°","\\degree",!0),at(lt,ut,_t,"°","\\degree"),at(lt,ut,_t,"°","\\textdegree",!0),at(st,ut,_t,"£","\\pounds"),at(st,ut,_t,"£","\\mathsterling",!0),at(lt,ut,_t,"£","\\pounds"),at(lt,ut,_t,"£","\\textsterling",!0),at(st,ct,_t,"✠","\\maltese"),at(lt,ct,_t,"✠","\\maltese");for(var St='0123456789/@."',Mt=0;Mt<14;Mt++){var kt=St.charAt(Mt);at(st,ut,_t,kt,kt)}for(var Et='0123456789!@*()-=+";:?/.,',At=0;At<25;At++){var Tt=Et.charAt(At);at(lt,ut,_t,Tt,Tt)}for(var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Ct=0;Ct<52;Ct++){var Dt=It.charAt(Ct);at(st,ut,gt,Dt,Dt),at(lt,ut,_t,Dt,Dt)}at(st,ct,_t,"C","ℂ"),at(lt,ct,_t,"C","ℂ"),at(st,ct,_t,"H","ℍ"),at(lt,ct,_t,"H","ℍ"),at(st,ct,_t,"N","ℕ"),at(lt,ct,_t,"N","ℕ"),at(st,ct,_t,"P","ℙ"),at(lt,ct,_t,"P","ℙ"),at(st,ct,_t,"Q","ℚ"),at(lt,ct,_t,"Q","ℚ"),at(st,ct,_t,"R","ℝ"),at(lt,ct,_t,"R","ℝ"),at(st,ct,_t,"Z","ℤ"),at(lt,ct,_t,"Z","ℤ"),at(st,ut,gt,"h","ℎ"),at(lt,ut,gt,"h","ℎ");for(var Nt="",Ot=0;Ot<52;Ot++){var Lt=It.charAt(Ot);at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56320+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56372+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56424+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56580+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56684+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56736+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56788+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56840+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56944+Ot)),at(lt,ut,_t,Lt,Nt),Ot<26&&(at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56632+Ot)),at(lt,ut,_t,Lt,Nt),at(st,ut,gt,Lt,Nt=String.fromCharCode(55349,56476+Ot)),at(lt,ut,_t,Lt,Nt))}at(st,ut,gt,"k",Nt=String.fromCharCode(55349,56668)),at(lt,ut,_t,"k",Nt);for(var Pt=0;Pt<10;Pt++){var Rt=Pt.toString();at(st,ut,gt,Rt,Nt=String.fromCharCode(55349,57294+Pt)),at(lt,ut,_t,Rt,Nt),at(st,ut,gt,Rt,Nt=String.fromCharCode(55349,57314+Pt)),at(lt,ut,_t,Rt,Nt),at(st,ut,gt,Rt,Nt=String.fromCharCode(55349,57324+Pt)),at(lt,ut,_t,Rt,Nt),at(st,ut,gt,Rt,Nt=String.fromCharCode(55349,57334+Pt)),at(lt,ut,_t,Rt,Nt)}for(var jt="ÐÞþ",zt=0;zt<3;zt++){var Bt=jt.charAt(zt);at(st,ut,gt,Bt,Bt),at(lt,ut,_t,Bt,Bt)}var Ft=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Gt=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Vt=function(t,e,n){return ot[n][t]&&ot[n][t].replace&&(t=ot[n][t].replace),{value:t,metrics:O(t,e,n)}},Zt=function(t,e,n,r,i){var o,a=Vt(t,e,n),s=a.metrics;if(t=a.value,s){var l=s.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),o=new J(t,s.height,s.depth,l,s.skew,s.width,i)}else o=new J(t,0,0,0,0,0,i);if(r){o.maxFontSize=r.sizeMultiplier,r.style.isTight()&&o.classes.push("mtight");var u=r.getColor();u&&(o.style.color=u)}return o},Ut=(t,e)=>{if(U(t.classes)!==U(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(1===t.classes.length){var n=t.classes[0];if("mbin"===n||"mord"===n)return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Ht=function(t){for(var e=0,n=0,r=0,i=0;i<t.children.length;i++){var o=t.children[i];o.height>e&&(e=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}t.height=e,t.depth=n,t.maxFontSize=r},Wt=function(t,e,n,r){var i=new X(t,e,n,r);return Ht(i),i},Yt=(t,e,n,r)=>new X(t,e,n,r),Xt=function(t){var e=new I(t);return Ht(e),e},qt=function(t,e,n){var r="";switch(t){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=t}return r+"-"+("textbf"===e&&"textit"===n?"BoldItalic":"textbf"===e?"Bold":"textit"===e?"Italic":"Regular")},Kt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},$t={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Jt={fontMap:Kt,makeSymbol:Zt,mathsym:function(t,e,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&Vt(t,"Main-Bold",e).metrics?Zt(t,"Main-Bold",e,n,r.concat(["mathbf"])):"\\"===t||"main"===ot[e][t].font?Zt(t,"Main-Regular",e,n,r):Zt(t,"AMS-Regular",e,n,r.concat(["amsrm"]))},makeSpan:Wt,makeSvgSpan:Yt,makeLineSpan:function(t,e,n){var r=Wt([t],[],e);return r.height=Math.max(n||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),r.style.borderBottomWidth=Z(r.height),r.maxFontSize=1,r},makeAnchor:function(t,e,n,r){var i=new q(t,e,n,r);return Ht(i),i},makeFragment:Xt,wrapFragment:function(t,e){return t instanceof I?Wt([],[t],e):t},makeVList:function(t,e){for(var{children:n,depth:r}=function(t){if("individualShift"===t.positionType){for(var e=t.children,n=[e[0]],r=-e[0].shift-e[0].elem.depth,i=r,o=1;o<e.length;o++){var a=-e[o].shift-i-e[o].elem.depth,s=a-(e[o-1].elem.height+e[o-1].elem.depth);i+=a,n.push({type:"kern",size:s}),n.push(e[o])}return{children:n,depth:r}}var l;if("top"===t.positionType){for(var u=t.positionData,c=0;c<t.children.length;c++){var h=t.children[c];u-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=u}else if("bottom"===t.positionType)l=-t.positionData;else{var d=t.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===t.positionType)l=-d.elem.depth-t.positionData;else{if("firstBaseline"!==t.positionType)throw new Error("Invalid positionType "+t.positionType+".");l=-d.elem.depth}}return{children:t.children,depth:l}}(t),i=0,o=0;o<n.length;o++){var a=n[o];if("elem"===a.type){var s=a.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var l=Wt(["pstrut"],[]);l.style.height=Z(i);for(var u=[],c=r,h=r,d=r,f=0;f<n.length;f++){var p=n[f];if("kern"===p.type)d+=p.size;else{var g=p.elem,m=p.wrapperClasses||[],v=p.wrapperStyle||{},y=Wt(m,[l,g],void 0,v);y.style.top=Z(-i-d-g.depth),p.marginLeft&&(y.style.marginLeft=p.marginLeft),p.marginRight&&(y.style.marginRight=p.marginRight),u.push(y),d+=g.height+g.depth}c=Math.min(c,d),h=Math.max(h,d)}var b,x=Wt(["vlist"],u);if(x.style.height=Z(h),c<0){var _=Wt([],[]),w=Wt(["vlist"],[_]);w.style.height=Z(-c);var S=Wt(["vlist-s"],[new J("​")]);b=[Wt(["vlist-r"],[x,S]),Wt(["vlist-r"],[w])]}else b=[Wt(["vlist-r"],[x])];var M=Wt(["vlist-t"],b);return 2===b.length&&M.classes.push("vlist-t2"),M.height=h,M.depth=-c,M},makeOrd:function(t,e,n){var r=t.mode,i=t.text,o=["mord"],s="math"===r||"text"===r&&e.font,l=s?e.font:e.fontFamily,u="",c="";if(55349===i.charCodeAt(0)&&([u,c]=function(t,e){var n=1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536,r="math"===e?0:1;if(119808<=n&&n<120484){var i=Math.floor((n-119808)/26);return[Ft[i][2],Ft[i][r]]}if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[Gt[o][2],Gt[o][r]]}if(120485===n||120486===n)return[Ft[0][2],Ft[0][r]];if(120486<n&&n<120782)return["",""];throw new a("Unsupported character: "+t)}(i,r)),u.length>0)return Zt(i,u,r,e,o.concat(c));if(l){var h,d;if("boldsymbol"===l){var f=function(t,e,n,r,i){return"textord"!==i&&Vt(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,r,0,0,n);h=f.fontName,d=[f.fontClass]}else s?(h=Kt[l].fontName,d=[l]):(h=qt(l,e.fontWeight,e.fontShape),d=[l,e.fontWeight,e.fontShape]);if(Vt(i,h,r).metrics)return Zt(i,h,r,e,o.concat(d));if(wt.hasOwnProperty(i)&&"Typewriter"===h.slice(0,10)){for(var p=[],g=0;g<i.length;g++)p.push(Zt(i[g],h,r,e,o.concat(d)));return Xt(p)}}if("mathord"===n)return Zt(i,"Math-Italic",r,e,o.concat(["mathnormal"]));if("textord"===n){var m=ot[r][i]&&ot[r][i].font;if("ams"===m){var v=qt("amsrm",e.fontWeight,e.fontShape);return Zt(i,v,r,e,o.concat("amsrm",e.fontWeight,e.fontShape))}if("main"!==m&&m){var y=qt(m,e.fontWeight,e.fontShape);return Zt(i,y,r,e,o.concat(y,e.fontWeight,e.fontShape))}var b=qt("textrm",e.fontWeight,e.fontShape);return Zt(i,b,r,e,o.concat(e.fontWeight,e.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(t,e)=>{var n=Wt(["mspace"],[],e),r=V(t,e);return n.style.marginRight=Z(r),n},staticSvg:function(t,e){var[n,r,i]=$t[t],o=new tt(n),a=new Q([o],{width:Z(r),height:Z(i),style:"width:"+Z(r),viewBox:"0 0 "+1e3*r+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),s=Yt(["overlay"],[a],e);return s.height=i,s.style.height=Z(i),s.style.width=Z(r),s},svgData:$t,tryCombineChars:t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof J&&r instanceof J&&Ut(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t}},Qt={number:3,unit:"mu"},te={number:4,unit:"mu"},ee={number:5,unit:"mu"},ne={mord:{mop:Qt,mbin:te,mrel:ee,minner:Qt},mop:{mord:Qt,mop:Qt,mrel:ee,minner:Qt},mbin:{mord:te,mop:te,mopen:te,minner:te},mrel:{mord:ee,mop:ee,mopen:ee,minner:ee},mopen:{},mclose:{mop:Qt,mbin:te,mrel:ee,minner:Qt},mpunct:{mord:Qt,mop:Qt,mrel:ee,mopen:Qt,mclose:Qt,mpunct:Qt,minner:Qt},minner:{mord:Qt,mop:Qt,mbin:te,mrel:ee,mopen:Qt,mpunct:Qt,minner:Qt}},re={mord:{mop:Qt},mop:{mord:Qt,mop:Qt},mbin:{},mrel:{},mopen:{},mclose:{mop:Qt},mpunct:{},minner:{mop:Qt}},ie={},oe={},ae={};function se(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)ie[n[l]]=s;e&&(o&&(oe[e]=o),a&&(ae[e]=a))}function le(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;se({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var ue=function(t){return"ordgroup"===t.type&&1===t.body.length?t.body[0]:t},ce=function(t){return"ordgroup"===t.type?t.body:[t]},he=Jt.makeSpan,de=["leftmost","mbin","mopen","mrel","mop","mpunct"],fe=["rightmost","mrel","mclose","mpunct"],pe={display:S.DISPLAY,text:S.TEXT,script:S.SCRIPT,scriptscript:S.SCRIPTSCRIPT},ge={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},me=function(t,e,n,r){void 0===r&&(r=[null,null]);for(var i=[],o=0;o<t.length;o++){var a=we(t[o],e);if(a instanceof I){var s=a.children;i.push(...s)}else i.push(a)}if(Jt.tryCombineChars(i),!n)return i;var l=e;if(1===t.length){var u=t[0];"sizing"===u.type?l=e.havingSize(u.size):"styling"===u.type&&(l=e.havingStyle(pe[u.style]))}var c=he([r[0]||"leftmost"],[],e),d=he([r[1]||"rightmost"],[],e),f="root"===n;return ve(i,((t,e)=>{var n=e.classes[0],r=t.classes[0];"mbin"===n&&h.contains(fe,r)?e.classes[0]="mord":"mbin"===r&&h.contains(de,n)&&(t.classes[0]="mord")}),{node:c},d,f),ve(i,((t,e)=>{var n=xe(e),r=xe(t),i=n&&r?t.hasClass("mtight")?re[n][r]:ne[n][r]:null;if(i)return Jt.makeGlue(i,l)}),{node:c},d,f),i},ve=function t(e,n,r,i,o){i&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a],l=ye(s);if(l)t(l.children,n,r,null,o);else{var u=!s.hasClass("mspace");if(u){var c=n(s,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),a++))}u?r.node=s:o&&s.hasClass("newline")&&(r.node=he(["leftmost"])),r.insertAfter=(t=>n=>{e.splice(t+1,0,n),a++})(a)}}i&&e.pop()},ye=function(t){return t instanceof I||t instanceof q||t instanceof X&&t.hasClass("enclosing")?t:null},be=function t(e,n){var r=ye(e);if(r){var i=r.children;if(i.length){if("right"===n)return t(i[i.length-1],"right");if("left"===n)return t(i[0],"left")}}return e},xe=function(t,e){return t?(e&&(t=be(t,e)),ge[t.classes[0]]||null):null},_e=function(t,e){var n=["nulldelimiter"].concat(t.baseSizingClasses());return he(e.concat(n))},we=function(t,e,n){if(!t)return he();if(oe[t.type]){var r=oe[t.type](t,e);if(n&&e.size!==n.size){r=he(e.sizingClasses(n),[r],e);var i=e.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}throw new a("Got group of unknown type: '"+t.type+"'")};function Se(t,e){var n=he(["base"],t,e),r=he(["strut"]);return r.style.height=Z(n.height+n.depth),n.depth&&(r.style.verticalAlign=Z(-n.depth)),n.children.unshift(r),n}function Me(t,e){var n=null;1===t.length&&"tag"===t[0].type&&(n=t[0].tag,t=t[0].body);var r,i=me(t,e,"root");2===i.length&&i[1].hasClass("tag")&&(r=i.pop());for(var o,a=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var u=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(u=!0);u||(a.push(Se(s,e)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Se(s,e)),s=[]),a.push(i[l]));s.length>0&&a.push(Se(s,e)),n?((o=Se(me(n,e,!0))).classes=["tag"],a.push(o)):r&&a.push(r);var c=he(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),o){var h=o.children[0];h.style.height=Z(c.height+c.depth),c.depth&&(h.style.verticalAlign=Z(-c.depth))}return c}function ke(t){return new I(t)}class Ee{constructor(t,e,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=e||[],this.classes=n||[]}setAttribute(t,e){this.attributes[t]=e}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);this.classes.length>0&&(t.className=U(this.classes));for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=h.escape(this.attributes[e]),t+='"');this.classes.length>0&&(t+=' class ="'+h.escape(U(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">"}toText(){return this.children.map((t=>t.toText())).join("")}}class Ae{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return h.escape(this.toText())}toText(){return this.text}}var Te={MathNode:Ee,TextNode:Ae,SpaceNode:class{constructor(t){this.width=void 0,this.character=void 0,this.width=t,this.character=t>=.05555&&t<=.05556?" ":t>=.1666&&t<=.1667?" ":t>=.2222&&t<=.2223?" ":t>=.2777&&t<=.2778?"  ":t>=-.05556&&t<=-.05555?" ⁣":t>=-.1667&&t<=-.1666?" ⁣":t>=-.2223&&t<=-.2222?" ⁣":t>=-.2778&&t<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Z(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Z(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:ke},Ie=function(t,e,n){return!ot[e][t]||!ot[e][t].replace||55349===t.charCodeAt(0)||wt.hasOwnProperty(t)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(t=ot[e][t].replace),new Te.TextNode(t)},Ce=function(t){return 1===t.length?t[0]:new Te.MathNode("mrow",t)},De=function(t,e){if("texttt"===e.fontFamily)return"monospace";if("textsf"===e.fontFamily)return"textit"===e.fontShape&&"textbf"===e.fontWeight?"sans-serif-bold-italic":"textit"===e.fontShape?"sans-serif-italic":"textbf"===e.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===e.fontShape&&"textbf"===e.fontWeight)return"bold-italic";if("textit"===e.fontShape)return"italic";if("textbf"===e.fontWeight)return"bold";var n=e.font;if(!n||"mathnormal"===n)return null;var r=t.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===t.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var i=t.text;return h.contains(["\\imath","\\jmath"],i)?null:(ot[r][i]&&ot[r][i].replace&&(i=ot[r][i].replace),O(i,Jt.fontMap[n].fontName,r)?Jt.fontMap[n].variant:null)},Ne=function(t,e,n){if(1===t.length){var r=Le(t[0],e);return n&&r instanceof Ee&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var i,o=[],a=0;a<t.length;a++){var s=Le(t[a],e);if(s instanceof Ee&&i instanceof Ee){if("mtext"===s.type&&"mtext"===i.type&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...s.children);continue}if("mn"===s.type&&"mn"===i.type){i.children.push(...s.children);continue}if("mi"===s.type&&1===s.children.length&&"mn"===i.type){var l=s.children[0];if(l instanceof Ae&&"."===l.text){i.children.push(...s.children);continue}}else if("mi"===i.type&&1===i.children.length){var u=i.children[0];if(u instanceof Ae&&"̸"===u.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var c=s.children[0];c instanceof Ae&&c.text.length>0&&(c.text=c.text.slice(0,1)+"̸"+c.text.slice(1),o.pop())}}}o.push(s),i=s}return o},Oe=function(t,e,n){return Ce(Ne(t,e,n))},Le=function(t,e){if(!t)return new Te.MathNode("mrow");if(ae[t.type])return ae[t.type](t,e);throw new a("Got group of unknown type: '"+t.type+"'")};function Pe(t,e,n,r,i){var o,a=Ne(t,n);o=1===a.length&&a[0]instanceof Ee&&h.contains(["mrow","mtable"],a[0].type)?a[0]:new Te.MathNode("mrow",a);var s=new Te.MathNode("annotation",[new Te.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new Te.MathNode("semantics",[o,s]),u=new Te.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return Jt.makeSpan([c],[u])}var Re=function(t){return new z({style:t.displayMode?S.DISPLAY:S.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},je=function(t,e){if(e.displayMode){var n=["katex-display"];e.leqno&&n.push("leqno"),e.fleqn&&n.push("fleqn"),t=Jt.makeSpan(n,[t])}return t},ze={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Be={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Fe=function(t,e,n,r,i){var o,a=t.height+t.depth+n+r;if(/fbox|color|angl/.test(e)){if(o=Jt.makeSpan(["stretchy",e],[],i),"fbox"===e){var s=i.color&&i.getColor();s&&(o.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(e)&&l.push(new et({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&l.push(new et({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Q(l,{width:"100%",height:Z(a)});o=Jt.makeSvgSpan([],[u],i)}return o.height=a,o.style.height=Z(a),o},Ge=function(t){var e=new Te.MathNode("mo",[new Te.TextNode(ze[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},Ve=function(t,e){var{span:n,minWidth:r,height:i}=function(){var n=4e5,r=t.label.slice(1);if(h.contains(["widehat","widecheck","widetilde","utilde"],r)){var i,o,a,s="ordgroup"===(p=t.base).type?p.body.length:1;if(s>5)"widehat"===r||"widecheck"===r?(i=420,n=2364,a=.42,o=r+"4"):(i=312,n=2340,a=.34,o="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],o=r+l):(n=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],o="tilde"+l)}var u=new tt(o),c=new Q([u],{width:"100%",height:Z(a),viewBox:"0 0 "+n+" "+i,preserveAspectRatio:"none"});return{span:Jt.makeSvgSpan([],[c],e),minWidth:0,height:a}}var d,f,p,g=[],m=Be[r],[v,y,b]=m,x=b/1e3,_=v.length;if(1===_)d=["hide-tail"],f=[m[3]];else if(2===_)d=["halfarrow-left","halfarrow-right"],f=["xMinYMin","xMaxYMin"];else{if(3!==_)throw new Error("Correct katexImagesData or update code here to support\n                    "+_+" children.");d=["brace-left","brace-center","brace-right"],f=["xMinYMin","xMidYMin","xMaxYMin"]}for(var w=0;w<_;w++){var S=new tt(v[w]),M=new Q([S],{width:"400em",height:Z(x),viewBox:"0 0 "+n+" "+b,preserveAspectRatio:f[w]+" slice"}),k=Jt.makeSvgSpan([d[w]],[M],e);if(1===_)return{span:k,minWidth:y,height:x};k.style.height=Z(x),g.push(k)}return{span:Jt.makeSpan(["stretchy"],g,e),minWidth:y,height:x}}();return n.height=i,n.style.height=Z(i),r>0&&(n.style.minWidth=Z(r)),n};function Ze(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Ue(t){var e=He(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function He(t){return t&&("atom"===t.type||it.hasOwnProperty(t.type))?t:null}var We=(t,e)=>{var n,r,i;t&&"supsub"===t.type?(n=(r=Ze(t.base,"accent")).base,t.base=n,i=function(t){if(t instanceof X)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}(we(t,e)),t.base=r):n=(r=Ze(t,"accent")).base;var o=we(n,e.havingCrampedStyle()),a=0;if(r.isShifty&&h.isCharacterBox(n)){var s=h.getBaseElem(n);a=nt(we(s,e.havingCrampedStyle())).skew}var l,u="\\c"===r.label,c=u?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight);if(r.isStretchy)l=Ve(r,e),l=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+Z(2*a)+")",marginLeft:Z(2*a)}:void 0}]},e);else{var d,f;"\\vec"===r.label?(d=Jt.staticSvg("vec",e),f=Jt.svgData.vec[1]):((d=nt(d=Jt.makeOrd({mode:r.mode,text:r.label},e,"textord"))).italic=0,f=d.width,u&&(c+=d.depth)),l=Jt.makeSpan(["accent-body"],[d]);var p="\\textcircled"===r.label;p&&(l.classes.push("accent-full"),c=o.height);var g=a;p||(g-=f/2),l.style.left=Z(g),"\\textcircled"===r.label&&(l.style.top=".2em"),l=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-c},{type:"elem",elem:l}]},e)}var m=Jt.makeSpan(["mord","accent"],[l],e);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},Ye=(t,e)=>{var n=t.isStretchy?Ge(t.label):new Te.MathNode("mo",[Ie(t.label,t.mode)]),r=new Te.MathNode("mover",[Le(t.base,e),n]);return r.setAttribute("accent","true"),r},Xe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((t=>"\\"+t)).join("|"));se({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=ue(e[0]),r=!Xe.test(t.funcName),i=!r||"\\widehat"===t.funcName||"\\widetilde"===t.funcName||"\\widecheck"===t.funcName;return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:We,mathmlBuilder:Ye}),se({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return"math"===r&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:We,mathmlBuilder:Ye}),se({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=we(t.base,e),r=Ve(t,e),i="\\utilde"===t.label?.12:0,o=Jt.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return Jt.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=Ge(t.label),r=new Te.MathNode("munder",[Le(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var qe=t=>{var e=new Te.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};se({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n,r=e.style,i=e.havingStyle(r.sup()),o=Jt.wrapFragment(we(t.body,i,e),e),a="\\x"===t.label.slice(0,2)?"x":"cd";o.classes.push(a+"-arrow-pad"),t.below&&(i=e.havingStyle(r.sub()),(n=Jt.wrapFragment(we(t.below,i,e),e)).classes.push(a+"-arrow-pad"));var s,l=Ve(t,e),u=-e.fontMetrics().axisHeight+.5*l.height,c=-e.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===t.label)&&(c-=o.depth),n){var h=-e.fontMetrics().axisHeight+n.height+.5*l.height+.111;s=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:n,shift:h}]},e)}else s=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:u}]},e);return s.children[0].children[0].children[1].classes.push("svg-align"),Jt.makeSpan(["mrel","x-arrow"],[s],e)},mathmlBuilder(t,e){var n,r=Ge(t.label);if(r.setAttribute("minsize","x"===t.label.charAt(0)?"1.75em":"3.0em"),t.body){var i=qe(Le(t.body,e));if(t.below){var o=qe(Le(t.below,e));n=new Te.MathNode("munderover",[r,o,i])}else n=new Te.MathNode("mover",[r,i])}else if(t.below){var a=qe(Le(t.below,e));n=new Te.MathNode("munder",[r,a])}else n=qe(),n=new Te.MathNode("mover",[r,n]);return n}});var Ke=Jt.makeSpan;function $e(t,e){var n=me(t.body,e,!0);return Ke([t.mclass],n,e)}function Je(t,e){var n,r=Ne(t.body,e);return"minner"===t.mclass?n=new Te.MathNode("mpadded",r):"mord"===t.mclass?t.isCharacterBox?(n=r[0]).type="mi":n=new Te.MathNode("mi",r):(t.isCharacterBox?(n=r[0]).type="mo":n=new Te.MathNode("mo",r),"mbin"===t.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===t.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===t.mclass||"mclose"===t.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===t.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}se({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ce(i),isCharacterBox:h.isCharacterBox(i)}},htmlBuilder:$e,mathmlBuilder:Je});var Qe=t=>{var e="ordgroup"===t.type&&t.body.length?t.body[0]:t;return"atom"!==e.type||"bin"!==e.family&&"rel"!==e.family?"mord":"m"+e.family};se({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Qe(e[0]),body:ce(e[1]),isCharacterBox:h.isCharacterBox(e[1])}}}),se({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var n,{parser:r,funcName:i}=t,o=e[1],a=e[0];n="\\stackrel"!==i?Qe(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:ce(o)},l={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===i?null:a,sub:"\\underset"===i?a:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:h.isCharacterBox(l)}},htmlBuilder:$e,mathmlBuilder:Je}),se({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Qe(e[0]),body:ce(e[0])}},htmlBuilder(t,e){var n=me(t.body,e,!0),r=Jt.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Ne(t.body,e),r=new Te.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var tn={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},en=t=>"textord"===t.type&&"@"===t.text;function nn(t,e,n){var r=tn[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:r,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[e[0]],[]),n.callFunction("\\Big",[i],[]),n.callFunction("\\\\cdright",[e[1]],[])]};return n.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}se({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=Jt.wrapFragment(we(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Z(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Te.MathNode("mrow",[Le(t.label,e)]);return(n=new Te.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===t.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new Te.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),se({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=Jt.wrapFragment(we(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Te.MathNode("mrow",[Le(t.fragment,e)])}}),se({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ze(e[0],"ordgroup").body,i="",o=0;o<r.length;o++){i+=Ze(r[o],"textord").text}var s,l=parseInt(i);if(isNaN(l))throw new a("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new a("\\@char with invalid code point "+i);return l<=65535?s=String.fromCharCode(l):(l-=65536,s=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:n.mode,text:s}}});var rn=(t,e)=>{var n=me(t.body,e.withColor(t.color),!1);return Jt.makeFragment(n)},on=(t,e)=>{var n=Ne(t.body,e.withColor(t.color)),r=new Te.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};se({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ze(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:ce(i)}},htmlBuilder:rn,mathmlBuilder:on}),se({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ze(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:rn,mathmlBuilder:on}),se({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i="["===r.gullet.future().text?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&Ze(i,"size").value}},htmlBuilder(t,e){var n=Jt.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Z(V(t.size,e)))),n},mathmlBuilder(t,e){var n=new Te.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Z(V(t.size,e)))),n}});var an={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},sn=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new a("Expected a control sequence",t);return e},ln=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);null==i&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};se({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(an[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=an[r.text]),Ze(e.parseFunction(),"internal");throw new a("Invalid token after macro prefix",r)}}),se({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new a("Expected a control sequence",r);for(var o,s=0,l=[[]];"{"!==e.gullet.future().text;)if("#"===(r=e.gullet.popToken()).text){if("{"===e.gullet.future().text){o=e.gullet.future(),l[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new a('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new a('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if("EOF"===r.text)throw new a("Expected a macro definition");l[s].push(r.text)}var{tokens:u}=e.gullet.consumeArg();return o&&u.unshift(o),"\\edef"!==n&&"\\xdef"!==n||(u=e.gullet.expandTokens(u)).reverse(),e.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:l},n===an[n]),{type:"internal",mode:e.mode}}}),se({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=sn(e.gullet.popToken());e.gullet.consumeSpaces();var i=(t=>{var e=t.gullet.popToken();return"="===e.text&&" "===(e=t.gullet.popToken()).text&&(e=t.gullet.popToken()),e})(e);return ln(e,r,i,"\\\\globallet"===n),{type:"internal",mode:e.mode}}}),se({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=sn(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return ln(e,r,o,"\\\\globalfuture"===n),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var un=function(t,e,n){var r=O(ot.math[t]&&ot.math[t].replace||t,e,n);if(!r)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return r},cn=function(t,e,n,r){var i=n.havingBaseStyle(e),o=Jt.makeSpan(r.concat(i.sizingClasses(n)),[t],n),a=i.sizeMultiplier/n.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},hn=function(t,e,n){var r=e.havingBaseStyle(n),i=(1-e.sizeMultiplier/r.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Z(i),t.height-=i,t.depth+=i},dn=function(t,e,n,r,i,o){var a=function(t,e,n,r){return Jt.makeSymbol(t,"Size"+e+"-Regular",n,r)}(t,e,i,r),s=cn(Jt.makeSpan(["delimsizing","size"+e],[a],r),S.TEXT,r,o);return n&&hn(s,r,S.TEXT),s},fn=function(t,e,n){var r;return r="Size1-Regular"===e?"delim-size1":"delim-size4",{type:"elem",elem:Jt.makeSpan(["delimsizinginner",r],[Jt.makeSpan([],[Jt.makeSymbol(t,e,n)])])}},pn=function(t,e,n){var r=C["Size4-Regular"][t.charCodeAt(0)]?C["Size4-Regular"][t.charCodeAt(0)][4]:C["Size1-Regular"][t.charCodeAt(0)][4],i=new tt("inner",function(t,e){switch(t){case"⎜":return"M291 0 H417 V"+e+" H291z M291 0 H417 V"+e+" H291z";case"∣":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z";case"∥":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145zM367 0 H410 V"+e+" H367z M367 0 H410 V"+e+" H367z";case"⎟":return"M457 0 H583 V"+e+" H457z M457 0 H583 V"+e+" H457z";case"⎢":return"M319 0 H403 V"+e+" H319z M319 0 H403 V"+e+" H319z";case"⎥":return"M263 0 H347 V"+e+" H263z M263 0 H347 V"+e+" H263z";case"⎪":return"M384 0 H504 V"+e+" H384z M384 0 H504 V"+e+" H384z";case"⏐":return"M312 0 H355 V"+e+" H312z M312 0 H355 V"+e+" H312z";case"‖":return"M257 0 H300 V"+e+" H257z M257 0 H300 V"+e+" H257zM478 0 H521 V"+e+" H478z M478 0 H521 V"+e+" H478z";default:return""}}(t,Math.round(1e3*e))),o=new Q([i],{width:Z(r),height:Z(e),style:"width:"+Z(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),a=Jt.makeSvgSpan([],[o],n);return a.height=e,a.style.height=Z(e),a.style.width=Z(r),{type:"elem",elem:a}},gn={type:"kern",size:-.008},mn=["|","\\lvert","\\rvert","\\vert"],vn=["\\|","\\lVert","\\rVert","\\Vert"],yn=function(t,e,n,r,i,o){var a,s,l,u,c="",d=0;a=l=u=t,s=null;var f="Size1-Regular";"\\uparrow"===t?l=u="⏐":"\\Uparrow"===t?l=u="‖":"\\downarrow"===t?a=l="⏐":"\\Downarrow"===t?a=l="‖":"\\updownarrow"===t?(a="\\uparrow",l="⏐",u="\\downarrow"):"\\Updownarrow"===t?(a="\\Uparrow",l="‖",u="\\Downarrow"):h.contains(mn,t)?(l="∣",c="vert",d=333):h.contains(vn,t)?(l="∥",c="doublevert",d=556):"["===t||"\\lbrack"===t?(a="⎡",l="⎢",u="⎣",f="Size4-Regular",c="lbrack",d=667):"]"===t||"\\rbrack"===t?(a="⎤",l="⎥",u="⎦",f="Size4-Regular",c="rbrack",d=667):"\\lfloor"===t||"⌊"===t?(l=a="⎢",u="⎣",f="Size4-Regular",c="lfloor",d=667):"\\lceil"===t||"⌈"===t?(a="⎡",l=u="⎢",f="Size4-Regular",c="lceil",d=667):"\\rfloor"===t||"⌋"===t?(l=a="⎥",u="⎦",f="Size4-Regular",c="rfloor",d=667):"\\rceil"===t||"⌉"===t?(a="⎤",l=u="⎥",f="Size4-Regular",c="rceil",d=667):"("===t||"\\lparen"===t?(a="⎛",l="⎜",u="⎝",f="Size4-Regular",c="lparen",d=875):")"===t||"\\rparen"===t?(a="⎞",l="⎟",u="⎠",f="Size4-Regular",c="rparen",d=875):"\\{"===t||"\\lbrace"===t?(a="⎧",s="⎨",u="⎩",l="⎪",f="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(a="⎫",s="⎬",u="⎭",l="⎪",f="Size4-Regular"):"\\lgroup"===t||"⟮"===t?(a="⎧",u="⎩",l="⎪",f="Size4-Regular"):"\\rgroup"===t||"⟯"===t?(a="⎫",u="⎭",l="⎪",f="Size4-Regular"):"\\lmoustache"===t||"⎰"===t?(a="⎧",u="⎭",l="⎪",f="Size4-Regular"):"\\rmoustache"!==t&&"⎱"!==t||(a="⎫",u="⎩",l="⎪",f="Size4-Regular");var p=un(a,f,i),g=p.height+p.depth,m=un(l,f,i),v=m.height+m.depth,y=un(u,f,i),b=y.height+y.depth,x=0,_=1;if(null!==s){var w=un(s,f,i);x=w.height+w.depth,_=2}var M=g+b+x,k=M+Math.max(0,Math.ceil((e-M)/(_*v)))*_*v,E=r.fontMetrics().axisHeight;n&&(E*=r.sizeMultiplier);var A=k/2-E,T=[];if(c.length>0){var I=k-g-b,C=Math.round(1e3*k),D=function(t,e){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+e+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+e+" v1759 h84z";case"vert":return"M145 15 v585 v"+e+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-e+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+e+" v585 h43z";case"doublevert":return"M145 15 v585 v"+e+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-e+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+e+" v585 h43z\nM367 15 v585 v"+e+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-e+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+e+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+e+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+e+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+e+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+e+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+" v602 h84z\nM403 1759 V0 H319 V1759 v"+e+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+e+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(e+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(e+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(e+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(e+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(c,Math.round(1e3*I)),N=new tt(c,D),O=(d/1e3).toFixed(3)+"em",L=(C/1e3).toFixed(3)+"em",P=new Q([N],{width:O,height:L,viewBox:"0 0 "+d+" "+C}),R=Jt.makeSvgSpan([],[P],r);R.height=C/1e3,R.style.width=O,R.style.height=L,T.push({type:"elem",elem:R})}else{if(T.push(fn(u,f,i)),T.push(gn),null===s){var j=k-g-b+.016;T.push(pn(l,j,r))}else{var z=(k-g-b-x)/2+.016;T.push(pn(l,z,r)),T.push(gn),T.push(fn(s,f,i)),T.push(gn),T.push(pn(l,z,r))}T.push(gn),T.push(fn(a,f,i))}var B=r.havingBaseStyle(S.TEXT),F=Jt.makeVList({positionType:"bottom",positionData:A,children:T},B);return cn(Jt.makeSpan(["delimsizing","mult"],[F],B),S.TEXT,r,o)},bn=.08,xn=function(t,e,n,r,i){var o=function(t,e,n){e*=1e3;var r="";switch(t){case"sqrtMain":r=function(t,e){return"M95,"+(622+t+e)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+t/2.075+" -"+t+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+t)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+t)+" "+e+"h400000v"+(40+t)+"h-400000z"}(e,A);break;case"sqrtSize1":r=function(t,e){return"M263,"+(601+t+e)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+t/2.084+" -"+t+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+t)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"}(e,A);break;case"sqrtSize2":r=function(t,e){return"M983 "+(10+t+e)+"\nl"+t/3.13+" -"+t+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+t)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"}(e,A);break;case"sqrtSize3":r=function(t,e){return"M424,"+(2398+t+e)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+t/4.223+" -"+t+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+t)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+t)+" "+e+"\nh400000v"+(40+t)+"h-400000z"}(e,A);break;case"sqrtSize4":r=function(t,e){return"M473,"+(2713+t+e)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+t/5.298+" -"+t+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+t)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+t)+" "+e+"h400000v"+(40+t)+"H1017.7z"}(e,A);break;case"sqrtTall":r=function(t,e,n){return"M702 "+(t+e)+"H400000"+(40+t)+"\nH742v"+(n-54-e-t)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+e+"H400000v"+(40+t)+"H742z"}(e,A,n)}return r}(t,r,n),a=new tt(t,o),s=new Q([a],{width:"400em",height:Z(e),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Jt.makeSvgSpan(["hide-tail"],[s],i)},_n=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],wn=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Sn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Mn=[0,1.2,1.8,2.4,3],kn=[{type:"small",style:S.SCRIPTSCRIPT},{type:"small",style:S.SCRIPT},{type:"small",style:S.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],En=[{type:"small",style:S.SCRIPTSCRIPT},{type:"small",style:S.SCRIPT},{type:"small",style:S.TEXT},{type:"stack"}],An=[{type:"small",style:S.SCRIPTSCRIPT},{type:"small",style:S.SCRIPT},{type:"small",style:S.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Tn=function(t){if("small"===t.type)return"Main-Regular";if("large"===t.type)return"Size"+t.size+"-Regular";if("stack"===t.type)return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},In=function(t,e,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&"stack"!==n[i].type;i++){var o=un(t,Tn(n[i]),"math"),a=o.height+o.depth;if("small"===n[i].type&&(a*=r.havingBaseStyle(n[i].style).sizeMultiplier),a>e)return n[i]}return n[n.length-1]},Cn=function(t,e,n,r,i,o){var a;"<"===t||"\\lt"===t||"⟨"===t?t="\\langle":">"!==t&&"\\gt"!==t&&"⟩"!==t||(t="\\rangle"),a=h.contains(Sn,t)?kn:h.contains(_n,t)?An:En;var s=In(t,e,a,r);return"small"===s.type?function(t,e,n,r,i,o){var a=Jt.makeSymbol(t,"Main-Regular",i,r),s=cn(a,e,r,o);return n&&hn(s,r,e),s}(t,s.style,n,r,i,o):"large"===s.type?dn(t,s.size,n,r,i,o):yn(t,e,n,r,i,o)},Dn={sqrtImage:function(t,e){var n,r,i=e.havingBaseSizing(),o=In("\\surd",t*i.sizeMultiplier,An,i),a=i.sizeMultiplier,s=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),l=0,u=0,c=0;return"small"===o.type?(t<1?a=1:t<1.4&&(a=.7),u=(1+s)/a,(n=xn("sqrtMain",l=(1+s+bn)/a,c=1e3+1e3*s+80,s,e)).style.minWidth="0.853em",r=.833/a):"large"===o.type?(c=1080*Mn[o.size],u=(Mn[o.size]+s)/a,l=(Mn[o.size]+s+bn)/a,(n=xn("sqrtSize"+o.size,l,c,s,e)).style.minWidth="1.02em",r=1/a):(l=t+s+bn,u=t+s,c=Math.floor(1e3*t+s)+80,(n=xn("sqrtTall",l,c,s,e)).style.minWidth="0.742em",r=1.056),n.height=u,n.style.height=Z(l),{span:n,advanceWidth:r,ruleWidth:(e.fontMetrics().sqrtRuleThickness+s)*a}},sizedDelim:function(t,e,n,r,i){if("<"===t||"\\lt"===t||"⟨"===t?t="\\langle":">"!==t&&"\\gt"!==t&&"⟩"!==t||(t="\\rangle"),h.contains(_n,t)||h.contains(Sn,t))return dn(t,e,!1,n,r,i);if(h.contains(wn,t))return yn(t,Mn[e],!1,n,r,i);throw new a("Illegal delimiter: '"+t+"'")},sizeToMaxHeight:Mn,customSizedDelim:Cn,leftRightDelim:function(t,e,n,r,i,o){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,s=5/r.fontMetrics().ptPerEm,l=Math.max(e-a,n+a),u=Math.max(l/500*901,2*l-s);return Cn(t,u,!0,r,i,o)}},Nn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},On=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ln(t,e){var n=He(t);if(n&&h.contains(On,n.text))return n;throw new a(n?"Invalid delimiter '"+n.text+"' after '"+e.funcName+"'":"Invalid delimiter type '"+t.type+"'",t)}function Pn(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}se({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Ln(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Nn[t.funcName].size,mclass:Nn[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>"."===t.delim?Jt.makeSpan([t.mclass]):Dn.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];"."!==t.delim&&e.push(Ie(t.delim,t.mode));var n=new Te.MathNode("mo",e);"mopen"===t.mclass||"mclose"===t.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Z(Dn.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),se({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Ln(e[0],t).text,color:n}}}),se({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Ln(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=Ze(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{Pn(t);for(var n,r,i=me(t.body,e,!0,["mopen","mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));if(o*=e.sizeMultiplier,a*=e.sizeMultiplier,n="."===t.left?_e(e,["mopen"]):Dn.leftRightDelim(t.left,o,a,e,t.mode,["mopen"]),i.unshift(n),s)for(var u=1;u<i.length;u++){var c=i[u].isMiddle;c&&(i[u]=Dn.leftRightDelim(c.delim,o,a,c.options,t.mode,[]))}if("."===t.right)r=_e(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;r=Dn.leftRightDelim(t.right,o,a,h,t.mode,["mclose"])}return i.push(r),Jt.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{Pn(t);var n=Ne(t.body,e);if("."!==t.left){var r=new Te.MathNode("mo",[Ie(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==t.right){var i=new Te.MathNode("mo",[Ie(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Ce(n)}}),se({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Ln(e[0],t);if(!t.parser.leftrightDepth)throw new a("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if("."===t.delim)n=_e(e,[]);else{n=Dn.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n="\\vert"===t.delim||"|"===t.delim?Ie("|","text"):Ie(t.delim,t.mode),r=new Te.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Rn=(t,e)=>{var n,r,i,o=Jt.wrapFragment(we(t.body,e),e),a=t.label.slice(1),s=e.sizeMultiplier,l=0,u=h.isCharacterBox(t.body);if("sout"===a)(n=Jt.makeSpan(["stretchy","sout"])).height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if("phase"===a){var c=V({number:.6,unit:"pt"},e),d=V({number:.35,unit:"ex"},e);s/=e.havingBaseSizing().sizeMultiplier;var f=o.height+o.depth+c+d;o.style.paddingLeft=Z(f/2+c);var p=Math.floor(1e3*f*s),g="M400000 "+(r=p)+" H0 L"+r/2+" 0 l65 45 L145 "+(r-80)+" H400000z",m=new Q([new tt("phase",g)],{width:"400em",height:Z(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});(n=Jt.makeSvgSpan(["hide-tail"],[m],e)).style.height=Z(f),l=o.depth+c+d}else{/cancel/.test(a)?u||o.classes.push("cancel-pad"):"angl"===a?o.classes.push("anglpad"):o.classes.push("boxpad");var v=0,y=0,b=0;/box/.test(a)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=v=e.fontMetrics().fboxsep+("colorbox"===a?0:b)):"angl"===a?(v=4*(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness)),y=Math.max(0,.25-o.depth)):y=v=u?.2:0,n=Fe(o,a,v,y,e),/fbox|boxed|fcolorbox/.test(a)?(n.style.borderStyle="solid",n.style.borderWidth=Z(b)):"angl"===a&&.049!==b&&(n.style.borderTopWidth=Z(b),n.style.borderRightWidth=Z(b)),l=o.depth+y,t.backgroundColor&&(n.style.backgroundColor=t.backgroundColor,t.borderColor&&(n.style.borderColor=t.borderColor))}if(t.backgroundColor)i=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:l},{type:"elem",elem:o,shift:0}]},e);else{var x=/cancel|phase/.test(a)?["svg-align"]:[];i=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:l,wrapperClasses:x}]},e)}return/cancel/.test(a)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(a)&&!u?Jt.makeSpan(["mord","cancel-lap"],[i],e):Jt.makeSpan(["mord"],[i],e)},jn=(t,e)=>{var n=0,r=new Te.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Le(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===t.label){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};se({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Ze(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:Rn,mathmlBuilder:jn}),se({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Ze(e[0],"color-token").color,a=Ze(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:Rn,mathmlBuilder:jn}),se({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}}),se({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Rn,mathmlBuilder:jn}),se({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var zn={};function Bn(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)zn[n[l]]=s;o&&(oe[e]=o),a&&(ae[e]=a)}var Fn={};function Gn(t,e){Fn[t]=e}function Vn(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for("\\relax"===n&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);"\\hline"===n||"\\hdashline"===n;)t.consume(),e.push("\\hdashline"===n),t.consumeSpaces(),n=t.fetch().text;return e}var Zn=t=>{if(!t.parser.settings.displayMode)throw new a("{"+t.envName+"} can be used only in display mode.")};function Un(t){if(-1===t.indexOf("ed"))return-1===t.indexOf("*")}function Hn(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:l,colSeparationType:u,autoTag:c,singleRow:h,emptySingleRow:d,maxNumCols:f,leqno:p}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=t.gullet.expandMacroAsText("\\arraystretch");if(null==g)l=1;else if(!(l=parseFloat(g))||l<0)throw new a("Invalid \\arraystretch: "+g)}t.gullet.beginGroup();var m=[],v=[m],y=[],b=[],x=null!=c?[]:void 0;function _(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function w(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new o("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(Boolean(c)&&"1"===t.gullet.macros.get("\\@eqnsw")))}for(_(),b.push(Vn(t));;){var S=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),S={type:"ordgroup",mode:t.mode,body:S},n&&(S={type:"styling",mode:t.mode,style:n,body:[S]}),m.push(S);var M=t.fetch().text;if("&"===M){if(f&&m.length===f){if(h||u)throw new a("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else{if("\\end"===M){w(),1===m.length&&"styling"===S.type&&0===S.body[0].body.length&&(v.length>1||!d)&&v.pop(),b.length<v.length+1&&b.push([]);break}if("\\\\"!==M)throw new a("Expected & or \\\\ or \\cr or \\end",t.nextToken);t.consume();var k=void 0;" "!==t.gullet.future().text&&(k=t.parseSizeGroup(!0)),y.push(k?k.value:null),w(),b.push(Vn(t)),m=[],v.push(m),_()}}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:v,cols:s,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:u,tags:x,leqno:p}}function Wn(t){return"d"===t.slice(0,1)?"display":"text"}var Yn=function(t,e){var n,r,i=t.body.length,o=t.hLinesBeforeRow,s=0,l=new Array(i),u=[],c=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),d=1/e.fontMetrics().ptPerEm,f=5*d;t.colSeparationType&&"small"===t.colSeparationType&&(f=e.havingStyle(S.SCRIPT).sizeMultiplier/e.sizeMultiplier*.2778);var p="CD"===t.colSeparationType?V({number:3,unit:"ex"},e):12*d,g=3*d,m=t.arraystretch*p,v=.7*m,y=.3*m,b=0;function x(t){for(var e=0;e<t.length;++e)e>0&&(b+=.25),u.push({pos:b,isDashed:t[e]})}for(x(o[0]),n=0;n<t.body.length;++n){var _=t.body[n],w=v,M=y;s<_.length&&(s=_.length);var k=new Array(_.length);for(r=0;r<_.length;++r){var E=we(_[r],e);M<E.depth&&(M=E.depth),w<E.height&&(w=E.height),k[r]=E}var A=t.rowGaps[n],T=0;A&&(T=V(A,e))>0&&(M<(T+=y)&&(M=T),T=0),t.addJot&&(M+=g),k.height=w,k.depth=M,b+=w,k.pos=b,b+=M+T,l[n]=k,x(o[n+1])}var I,C,D=b/2+e.fontMetrics().axisHeight,N=t.cols||[],O=[],L=[];if(t.tags&&t.tags.some((t=>t)))for(n=0;n<i;++n){var P=l[n],R=P.pos-D,j=t.tags[n],z=void 0;(z=!0===j?Jt.makeSpan(["eqn-num"],[],e):!1===j?Jt.makeSpan([],[],e):Jt.makeSpan([],me(j,e,!0),e)).depth=P.depth,z.height=P.height,L.push({type:"elem",elem:z,shift:R})}for(r=0,C=0;r<s||C<N.length;++r,++C){for(var B=N[C]||{},F=!0;"separator"===B.type;){if(F||((I=Jt.makeSpan(["arraycolsep"],[])).style.width=Z(e.fontMetrics().doubleRuleSep),O.push(I)),"|"!==B.separator&&":"!==B.separator)throw new a("Invalid separator type: "+B.separator);var G="|"===B.separator?"solid":"dashed",U=Jt.makeSpan(["vertical-separator"],[],e);U.style.height=Z(b),U.style.borderRightWidth=Z(c),U.style.borderRightStyle=G,U.style.margin="0 "+Z(-c/2);var H=b-D;H&&(U.style.verticalAlign=Z(-H)),O.push(U),B=N[++C]||{},F=!1}if(!(r>=s)){var W=void 0;(r>0||t.hskipBeforeAndAfter)&&0!==(W=h.deflt(B.pregap,f))&&((I=Jt.makeSpan(["arraycolsep"],[])).style.width=Z(W),O.push(I));var Y=[];for(n=0;n<i;++n){var X=l[n],q=X[r];if(q){var K=X.pos-D;q.depth=X.depth,q.height=X.height,Y.push({type:"elem",elem:q,shift:K})}}Y=Jt.makeVList({positionType:"individualShift",children:Y},e),Y=Jt.makeSpan(["col-align-"+(B.align||"c")],[Y]),O.push(Y),(r<s-1||t.hskipBeforeAndAfter)&&0!==(W=h.deflt(B.postgap,f))&&((I=Jt.makeSpan(["arraycolsep"],[])).style.width=Z(W),O.push(I))}}if(l=Jt.makeSpan(["mtable"],O),u.length>0){for(var $=Jt.makeLineSpan("hline",e,c),J=Jt.makeLineSpan("hdashline",e,c),Q=[{type:"elem",elem:l,shift:0}];u.length>0;){var tt=u.pop(),et=tt.pos-D;tt.isDashed?Q.push({type:"elem",elem:J,shift:et}):Q.push({type:"elem",elem:$,shift:et})}l=Jt.makeVList({positionType:"individualShift",children:Q},e)}if(0===L.length)return Jt.makeSpan(["mord"],[l],e);var nt=Jt.makeVList({positionType:"individualShift",children:L},e);return nt=Jt.makeSpan(["tag"],[nt],e),Jt.makeFragment([l,nt])},Xn={c:"center ",l:"left ",r:"right "},qn=function(t,e){for(var n=[],r=new Te.MathNode("mtd",[],["mtr-glue"]),i=new Te.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var a=t.body[o],s=[],l=0;l<a.length;l++)s.push(new Te.MathNode("mtd",[Le(a[l],e)]));t.tags&&t.tags[o]&&(s.unshift(r),s.push(r),t.leqno?s.unshift(i):s.push(i)),n.push(new Te.MathNode("mtr",s))}var u=new Te.MathNode("mtable",n),c=.5===t.arraystretch?.1:.16+t.arraystretch-1+(t.addJot?.09:0);u.setAttribute("rowspacing",Z(c));var h="",d="";if(t.cols&&t.cols.length>0){var f=t.cols,p="",g=!1,m=0,v=f.length;"separator"===f[0].type&&(h+="top ",m=1),"separator"===f[f.length-1].type&&(h+="bottom ",v-=1);for(var y=m;y<v;y++)"align"===f[y].type?(d+=Xn[f[y].align],g&&(p+="none "),g=!0):"separator"===f[y].type&&g&&(p+="|"===f[y].separator?"solid ":"dashed ",g=!1);u.setAttribute("columnalign",d.trim()),/[sd]/.test(p)&&u.setAttribute("columnlines",p.trim())}if("align"===t.colSeparationType){for(var b=t.cols||[],x="",_=1;_<b.length;_++)x+=_%2?"0em ":"1em ";u.setAttribute("columnspacing",x.trim())}else"alignat"===t.colSeparationType||"gather"===t.colSeparationType?u.setAttribute("columnspacing","0em"):"small"===t.colSeparationType?u.setAttribute("columnspacing","0.2778em"):"CD"===t.colSeparationType?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var w="",S=t.hLinesBeforeRow;h+=S[0].length>0?"left ":"",h+=S[S.length-1].length>0?"right ":"";for(var M=1;M<S.length-1;M++)w+=0===S[M].length?"none ":S[M][0]?"dashed ":"solid ";return/[sd]/.test(w)&&u.setAttribute("rowlines",w.trim()),""!==h&&(u=new Te.MathNode("menclose",[u])).setAttribute("notation",h.trim()),t.arraystretch&&t.arraystretch<1&&(u=new Te.MathNode("mstyle",[u])).setAttribute("scriptlevel","1"),u},Kn=function(t,e){-1===t.envName.indexOf("ed")&&Zn(t);var n,r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",o="split"===t.envName,s=Hn(t.parser,{cols:r,addJot:!0,autoTag:o?void 0:Un(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&"ordgroup"===e[0].type){for(var c="",h=0;h<e[0].body.length;h++){c+=Ze(e[0].body[h],"textord").text}n=Number(c),l=2*n}var d=!l;s.body.forEach((function(t){for(var e=1;e<t.length;e+=2){var r=Ze(t[e],"styling");Ze(r.body[0],"ordgroup").body.unshift(u)}if(d)l<t.length&&(l=t.length);else{var i=t.length/2;if(n<i)throw new a("Too many math in a row: expected "+n+", but got "+i,t[0])}}));for(var f=0;f<l;++f){var p="r",g=0;f%2==1?p="l":f>0&&d&&(g=1),r[f]={type:"align",align:p,pregap:g,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};Bn({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=(He(e[0])?[e[0]]:Ze(e[0],"ordgroup").body).map((function(t){var e=Ue(t).text;if(-1!=="lcr".indexOf(e))return{type:"align",align:e};if("|"===e)return{type:"separator",separator:"|"};if(":"===e)return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+e,t)})),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Hn(t.parser,r,Wn(t.envName))},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===t.envName.charAt(t.envName.length-1)){var i=t.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,-1==="lcr".indexOf(n))throw new a("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Hn(t.parser,r,Wn(t.envName)),s=Math.max(0,...o.body.map((t=>t.length)));return o.cols=new Array(s).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e=Hn(t.parser,{arraystretch:.5},"script");return e.colSeparationType="small",e},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=(He(e[0])?[e[0]]:Ze(e[0],"ordgroup").body).map((function(t){var e=Ue(t).text;if(-1!=="lc".indexOf(e))return{type:"align",align:e};throw new a("Unknown column alignment: "+e,t)}));if(n.length>1)throw new a("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=Hn(t.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new a("{subarray} can contain only one column");return r},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e=Hn(t.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Wn(t.envName));return{type:"leftright",mode:t.mode,body:[e],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Kn,htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){h.contains(["gather","gather*"],t.envName)&&Zn(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Un(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Hn(t.parser,e,"display")},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Kn,htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Zn(t);var e={autoTag:Un(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Hn(t.parser,e,"display")},htmlBuilder:Yn,mathmlBuilder:qn}),Bn({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Zn(t),function(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===e[e.length-1].length&&e.pop();break}throw new a("Expected \\\\ or \\cr or \\end",t.nextToken)}t.consume()}for(var r,i,o=[],s=[o],l=0;l<e.length;l++){for(var u=e[l],c={type:"styling",body:[],mode:"math",style:"display"},h=0;h<u.length;h++)if(en(u[h])){o.push(c);var d=Ue(u[h+=1]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(d)>-1);else{if(!("<>AV".indexOf(d)>-1))throw new a('Expected one of "<>AV=|." after @',u[h]);for(var p=0;p<2;p++){for(var g=!0,m=h+1;m<u.length;m++){if(i=d,("mathord"===(r=u[m]).type||"atom"===r.type)&&r.text===i){g=!1,h=m;break}if(en(u[m]))throw new a("Missing a "+d+" character to complete a CD arrow.",u[m]);f[p].body.push(u[m])}if(g)throw new a("Missing a "+d+" character to complete a CD arrow.",u[h])}}var v={type:"styling",body:[nn(d,f,t)],mode:"math",style:"display"};o.push(v),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(u[h]);l%2==0?o.push(c):o.shift(),o=[],s.push(o)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}(t.parser)},htmlBuilder:Yn,mathmlBuilder:qn}),Gn("\\nonumber","\\gdef\\@eqnsw{0}"),Gn("\\notag","\\nonumber"),se({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new a(t.funcName+" valid only within array environment")}});var $n=zn;se({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if("ordgroup"!==i.type)throw new a("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=Ze(i.body[s],"textord").text;if("\\begin"===r){if(!$n.hasOwnProperty(o))throw new a("No such environment: "+o,i);var l=$n[o],{args:u,optArgs:c}=n.parseArguments("\\begin{"+o+"}",l),h={mode:n.mode,envName:o,parser:n},d=l.handler(h,u,c);n.expect("\\end",!1);var f=n.nextToken,p=Ze(n.parseFunction(),"environment");if(p.name!==o)throw new a("Mismatch: \\begin{"+o+"} matched by \\end{"+p.name+"}",f);return d}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var Jn=(t,e)=>{var n=t.font,r=e.withFont(n);return we(t.body,r)},Qn=(t,e)=>{var n=t.font,r=e.withFont(n);return Le(t.body,r)},tr={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};se({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=ue(e[0]),o=r;return o in tr&&(o=tr[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:Jn,mathmlBuilder:Qn}),se({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=h.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Qe(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}}),se({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,a=n.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:Jn,mathmlBuilder:Qn});var er=(t,e)=>{var n=e;return"display"===t?n=n.id>=S.SCRIPT.id?n.text():S.DISPLAY:"text"===t&&n.size===S.DISPLAY.size?n=S.TEXT:"script"===t?n=S.SCRIPT:"scriptscript"===t&&(n=S.SCRIPTSCRIPT),n},nr=(t,e)=>{var n,r=er(t.size,e.style),i=r.fracNum(),o=r.fracDen();n=e.havingStyle(i);var a=we(t.numer,n,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}n=e.havingStyle(o);var u,c,h,d,f,p,g,m,v,y,b=we(t.denom,n,e);if(t.hasBarLine?(t.barSize?(c=V(t.barSize,e),u=Jt.makeLineSpan("frac-line",e,c)):u=Jt.makeLineSpan("frac-line",e),c=u.height,h=u.height):(u=null,c=0,h=e.fontMetrics().defaultRuleThickness),r.size===S.DISPLAY.size||"display"===t.size?(d=e.fontMetrics().num1,f=c>0?3*h:7*h,p=e.fontMetrics().denom1):(c>0?(d=e.fontMetrics().num2,f=h):(d=e.fontMetrics().num3,f=3*h),p=e.fontMetrics().denom2),u){var x=e.fontMetrics().axisHeight;d-a.depth-(x+.5*c)<f&&(d+=f-(d-a.depth-(x+.5*c))),x-.5*c-(b.height-p)<f&&(p+=f-(x-.5*c-(b.height-p)));var _=-(x-.5*c);g=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:p},{type:"elem",elem:u,shift:_},{type:"elem",elem:a,shift:-d}]},e)}else{var w=d-a.depth-(b.height-p);w<f&&(d+=.5*(f-w),p+=.5*(f-w)),g=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:p},{type:"elem",elem:a,shift:-d}]},e)}return n=e.havingStyle(r),g.height*=n.sizeMultiplier/e.sizeMultiplier,g.depth*=n.sizeMultiplier/e.sizeMultiplier,m=r.size===S.DISPLAY.size?e.fontMetrics().delim1:r.size===S.SCRIPTSCRIPT.size?e.havingStyle(S.SCRIPT).fontMetrics().delim2:e.fontMetrics().delim2,v=null==t.leftDelim?_e(e,["mopen"]):Dn.customSizedDelim(t.leftDelim,m,!0,e.havingStyle(r),t.mode,["mopen"]),y=t.continued?Jt.makeSpan([]):null==t.rightDelim?_e(e,["mclose"]):Dn.customSizedDelim(t.rightDelim,m,!0,e.havingStyle(r),t.mode,["mclose"]),Jt.makeSpan(["mord"].concat(n.sizingClasses(e)),[v,Jt.makeSpan(["mfrac"],[g]),y],e)},rr=(t,e)=>{var n=new Te.MathNode("mfrac",[Le(t.numer,e),Le(t.denom,e)]);if(t.hasBarLine){if(t.barSize){var r=V(t.barSize,e);n.setAttribute("linethickness",Z(r))}}else n.setAttribute("linethickness","0px");var i=er(t.size,e.style);if(i.size!==e.style.size){n=new Te.MathNode("mstyle",[n]);var o=i.size===S.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(null!=t.leftDelim||null!=t.rightDelim){var a=[];if(null!=t.leftDelim){var s=new Te.MathNode("mo",[new Te.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),null!=t.rightDelim){var l=new Te.MathNode("mo",[new Te.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Ce(a)}return n};se({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var n,{parser:r,funcName:i}=t,o=e[0],a=e[1],s=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",l=")";break;case"\\\\bracefrac":n=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:o,denom:a,hasBarLine:n,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:nr,mathmlBuilder:rr}),se({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),se({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var e,{parser:n,funcName:r,token:i}=t;switch(r){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;case"\\brace":e="\\\\bracefrac";break;case"\\brack":e="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:e,token:i}}});var ir=["display","text","script","scriptscript"],or=function(t){var e=null;return t.length>0&&(e="."===(e=t)?null:e),e};se({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var n,{parser:r}=t,i=e[4],o=e[5],a=ue(e[0]),s="atom"===a.type&&"open"===a.family?or(a.text):null,l=ue(e[1]),u="atom"===l.type&&"close"===l.family?or(l.text):null,c=Ze(e[2],"size"),h=null;n=!!c.isBlank||(h=c.value).number>0;var d="auto",f=e[3];if("ordgroup"===f.type){if(f.body.length>0){var p=Ze(f.body[0],"textord");d=ir[Number(p.text)]}}else f=Ze(f,"textord"),d=ir[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:n,barSize:h,leftDelim:s,rightDelim:u,size:d}},htmlBuilder:nr,mathmlBuilder:rr}),se({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ze(e[0],"size").value,token:i}}}),se({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t}(Ze(e[1],"infix").size),a=e[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:nr,mathmlBuilder:rr});var ar=(t,e)=>{var n,r,i=e.style;"supsub"===t.type?(n=t.sup?we(t.sup,e.havingStyle(i.sup()),e):we(t.sub,e.havingStyle(i.sub()),e),r=Ze(t.base,"horizBrace")):r=Ze(t,"horizBrace");var o,a=we(r.base,e.havingBaseStyle(S.DISPLAY)),s=Ve(r,e);if(r.isOver?(o=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e)).children[0].children[0].children[1].classes.push("svg-align"):(o=Jt.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=Jt.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);o=r.isOver?Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):Jt.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return Jt.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)};se({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:ar,mathmlBuilder:(t,e)=>{var n=Ge(t.label);return new Te.MathNode(t.isOver?"mover":"munder",[Le(t.base,e),n])}}),se({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ze(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:ce(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=me(t.body,e,!1);return Jt.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Oe(t.body,e);return n instanceof Ee||(n=new Ee("mrow",[n])),n.setAttribute("href",t.href),n}}),se({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ze(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var a=r[o];"~"===a&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:ce(s)}}}),se({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:ce(e[0])}},htmlBuilder(t,e){var n=me(t.body,e,!1);return Jt.makeFragment(n)},mathmlBuilder(t,e){return new Te.MathNode("mrow",Ne(t.body,e))}}),se({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var n,{parser:r,funcName:i,token:o}=t,s=Ze(e[0],"raw").string,l=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u={};switch(i){case"\\htmlClass":u.class=s,n={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,n={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,n={command:"\\htmlStyle",style:s};break;case"\\htmlData":for(var c=s.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(2!==d.length)throw new a("Error parsing key-value for \\htmlData");u["data-"+d[0].trim()]=d[1].trim()}n={command:"\\htmlData",attributes:u};break;default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(n)?{type:"html",mode:r.mode,attributes:u,body:ce(l)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var n=me(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=Jt.makeSpan(r,n,e);for(var o in t.attributes)"class"!==o&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Oe(t.body,e)}),se({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:ce(e[0]),mathml:ce(e[1])}},htmlBuilder:(t,e)=>{var n=me(t.html,e,!1);return Jt.makeFragment(n)},mathmlBuilder:(t,e)=>Oe(t.mathml,e)});var sr=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new a("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(e[1]+e[2]),unit:e[3]};if(!G(n))throw new a("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};se({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(n[0])for(var u=Ze(n[0],"raw").string.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(2===h.length){var d=h[1].trim();switch(h[0].trim()){case"alt":l=d;break;case"width":i=sr(d);break;case"height":o=sr(d);break;case"totalheight":s=sr(d);break;default:throw new a("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var f=Ze(e[0],"url").url;return""===l&&(l=(l=(l=f).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:o,totalheight:s,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=V(t.height,e),r=0;t.totalheight.number>0&&(r=V(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=V(t.width,e));var o={height:Z(n+r)};i>0&&(o.width=Z(i)),r>0&&(o.verticalAlign=Z(-r));var a=new K(t.src,t.alt,o);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new Te.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=V(t.height,e),i=0;if(t.totalheight.number>0&&(i=V(t.totalheight,e)-r,n.setAttribute("valign",Z(-i))),n.setAttribute("height",Z(r+i)),t.width.number>0){var o=V(t.width,e);n.setAttribute("width",Z(o))}return n.setAttribute("src",t.src),n}}),se({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ze(e[0],"size");if(n.settings.strict){var o="m"===r[1],a="mu"===i.value.unit;o?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return Jt.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=V(t.dimension,e);return new Te.SpaceNode(n)}}),se({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;"clap"===t.alignment?(n=Jt.makeSpan([],[we(t.body,e)]),n=Jt.makeSpan(["inner"],[n],e)):n=Jt.makeSpan(["inner"],[we(t.body,e)]);var r=Jt.makeSpan(["fix"],[]),i=Jt.makeSpan([t.alignment],[n,r],e),o=Jt.makeSpan(["strut"]);return o.style.height=Z(i.height+i.depth),i.depth&&(o.style.verticalAlign=Z(-i.depth)),i.children.unshift(o),i=Jt.makeSpan(["thinbox"],[i],e),Jt.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Te.MathNode("mpadded",[Le(t.body,e)]);if("rlap"!==t.alignment){var r="llap"===t.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),se({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o="\\("===n?"\\)":"$",a=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}}),se({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new a("Mismatched "+t.funcName)}});var lr=(t,e)=>{switch(e.style.size){case S.DISPLAY.size:return t.display;case S.TEXT.size:return t.text;case S.SCRIPT.size:return t.script;case S.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};se({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:ce(e[0]),text:ce(e[1]),script:ce(e[2]),scriptscript:ce(e[3])}},htmlBuilder:(t,e)=>{var n=lr(t,e),r=me(n,e,!1);return Jt.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=lr(t,e);return Oe(n,e)}});var ur=(t,e,n,r,i,o,a)=>{t=Jt.makeSpan([],[t]);var s,l,u,c=n&&h.isCharacterBox(n);if(e){var d=we(e,r.havingStyle(i.sup()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var f=we(n,r.havingStyle(i.sub()),r);s={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}if(l&&s){var p=r.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+t.depth+a;u=Jt.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:Z(-o)},{type:"kern",size:s.kern},{type:"elem",elem:t},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:Z(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(s){var g=t.height-a;u=Jt.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:Z(-o)},{type:"kern",size:s.kern},{type:"elem",elem:t}]},r)}else{if(!l)return t;var m=t.depth+a;u=Jt.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:Z(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var v=[u];if(s&&0!==o&&!c){var y=Jt.makeSpan(["mspace"],[],r);y.style.marginRight=Z(o),v.unshift(y)}return Jt.makeSpan(["mop","op-limits"],v,r)},cr=["\\smallint"],hr=(t,e)=>{var n,r,i,o=!1;"supsub"===t.type?(n=t.sup,r=t.sub,i=Ze(t.base,"op"),o=!0):i=Ze(t,"op");var a,s=e.style,l=!1;if(s.size===S.DISPLAY.size&&i.symbol&&!h.contains(cr,i.name)&&(l=!0),i.symbol){var u=l?"Size2-Regular":"Size1-Regular",c="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(c=i.name.slice(1),i.name="oiint"===c?"\\iint":"\\iiint"),a=Jt.makeSymbol(i.name,u,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),c.length>0){var d=a.italic,f=Jt.staticSvg(c+"Size"+(l?"2":"1"),e);a=Jt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},e),i.name="\\"+c,a.classes.unshift("mop"),a.italic=d}}else if(i.body){var p=me(i.body,e,!0);1===p.length&&p[0]instanceof J?(a=p[0]).classes[0]="mop":a=Jt.makeSpan(["mop"],p,e)}else{for(var g=[],m=1;m<i.name.length;m++)g.push(Jt.mathsym(i.name[m],i.mode,e));a=Jt.makeSpan(["mop"],g,e)}var v=0,y=0;return(a instanceof J||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(v=(a.height-a.depth)/2-e.fontMetrics().axisHeight,y=a.italic),o?ur(a,n,r,e,s,y,v):(v&&(a.style.position="relative",a.style.top=Z(v)),a)},dr=(t,e)=>{var n;if(t.symbol)n=new Ee("mo",[Ie(t.name,t.mode)]),h.contains(cr,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ee("mo",Ne(t.body,e));else{n=new Ee("mi",[new Ae(t.name.slice(1))]);var r=new Ee("mo",[Ie("⁡","text")]);n=t.parentIsSupSub?new Ee("mrow",[n,r]):ke([n,r])}return n},fr={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};se({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return 1===i.length&&(i=fr[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:hr,mathmlBuilder:dr}),se({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ce(r)}},htmlBuilder:hr,mathmlBuilder:dr});var pr={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};se({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:hr,mathmlBuilder:dr}),se({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:hr,mathmlBuilder:dr}),se({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return 1===r.length&&(r=pr[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:hr,mathmlBuilder:dr});var gr=(t,e)=>{var n,r,i,o,a=!1;if("supsub"===t.type?(n=t.sup,r=t.sub,i=Ze(t.base,"operatorname"),a=!0):i=Ze(t,"operatorname"),i.body.length>0){for(var s=i.body.map((t=>{var e=t.text;return"string"==typeof e?{type:"textord",mode:t.mode,text:e}:t})),l=me(s,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof J&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Jt.makeSpan(["mop"],l,e)}else o=Jt.makeSpan(["mop"],[],e);return a?ur(o,n,r,e,e.style,0,0):o};function mr(t,e,n){for(var r=me(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var a=r[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[a+1]==="reset-size"+e.size&&(r[o].classes[a+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return Jt.makeFragment(r)}se({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:ce(i),alwaysHandleSupSub:"\\operatornamewithlimits"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:gr,mathmlBuilder:(t,e)=>{for(var n=Ne(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(o instanceof Te.SpaceNode);else if(o instanceof Te.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];1===o.children.length&&a instanceof Te.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var s=n.map((t=>t.toText())).join("");n=[new Te.TextNode(s)]}var l=new Te.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new Te.MathNode("mo",[Ie("⁡","text")]);return t.parentIsSupSub?new Te.MathNode("mrow",[l,u]):Te.newDocumentFragment([l,u])}}),Gn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),le({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Jt.makeFragment(me(t.body,e,!1)):Jt.makeSpan(["mord"],me(t.body,e,!0),e)},mathmlBuilder(t,e){return Oe(t.body,e,!0)}}),se({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=we(t.body,e.havingCrampedStyle()),r=Jt.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return Jt.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new Te.MathNode("mo",[new Te.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Te.MathNode("mover",[Le(t.body,e),n]);return r.setAttribute("accent","true"),r}}),se({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:ce(r)}},htmlBuilder:(t,e)=>{var n=me(t.body,e.withPhantom(),!1);return Jt.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ne(t.body,e);return new Te.MathNode("mphantom",n)}}),se({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=Jt.makeSpan([],[we(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),Jt.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ne(ce(t.body),e),r=new Te.MathNode("mphantom",n),i=new Te.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),se({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=Jt.makeSpan(["inner"],[we(t.body,e.withPhantom())]),r=Jt.makeSpan(["fix"],[]);return Jt.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Ne(ce(t.body),e),r=new Te.MathNode("mphantom",n),i=new Te.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}}),se({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ze(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=we(t.body,e),r=V(t.dy,e);return Jt.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Te.MathNode("mpadded",[Le(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}}),se({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}}),se({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=Ze(e[0],"size"),a=Ze(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ze(i,"size").value,width:o.value,height:a.value}},htmlBuilder(t,e){var n=Jt.makeSpan(["mord","rule"],[],e),r=V(t.width,e),i=V(t.height,e),o=t.shift?V(t.shift,e):0;return n.style.borderRightWidth=Z(r),n.style.borderTopWidth=Z(i),n.style.bottom=Z(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=1.125*i*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=V(t.width,e),r=V(t.height,e),i=t.shift?V(t.shift,e):0,o=e.color&&e.getColor()||"black",a=new Te.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",Z(n)),a.setAttribute("height",Z(r));var s=new Te.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",Z(i)):(s.setAttribute("height",Z(i)),s.setAttribute("depth",Z(-i))),s.setAttribute("voffset",Z(i)),s}});var vr=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];se({type:"sizing",names:vr,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:vr.indexOf(r)+1,body:o}},htmlBuilder:(t,e)=>{var n=e.havingSize(t.size);return mr(t.body,n,e)},mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Ne(t.body,n),i=new Te.MathNode("mstyle",r);return i.setAttribute("mathsize",Z(n.sizeMultiplier)),i}}),se({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,a=n[0]&&Ze(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){if("t"===(s=a.body[l].text))i=!0;else{if("b"!==s){i=!1,o=!1;break}o=!0}}else i=!0,o=!0;var u=e[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=Jt.makeSpan([],[we(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return Jt.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new Te.MathNode("mpadded",[Le(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}}),se({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=we(t.body,e.havingCrampedStyle());0===n.height&&(n.height=e.fontMetrics().xHeight),n=Jt.wrapFragment(n,e);var r=e.fontMetrics().defaultRuleThickness,i=r;e.style.id<S.TEXT.id&&(i=e.fontMetrics().xHeight);var o=r+i/4,a=n.height+n.depth+o+r,{span:s,ruleWidth:l,advanceWidth:u}=Dn.sqrtImage(a,e),c=s.height-l;c>n.height+n.depth+o&&(o=(o+c-n.height-n.depth)/2);var h=s.height-n.height-o-l;n.style.paddingLeft=Z(u);var d=Jt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:s},{type:"kern",size:l}]},e);if(t.index){var f=e.havingStyle(S.SCRIPTSCRIPT),p=we(t.index,f,e),g=.6*(d.height-d.depth),m=Jt.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:p}]},e),v=Jt.makeSpan(["root"],[m]);return Jt.makeSpan(["mord","sqrt"],[v,d],e)}return Jt.makeSpan(["mord","sqrt"],[d],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Te.MathNode("mroot",[Le(n,e),Le(r,e)]):new Te.MathNode("msqrt",[Le(n,e)])}});var yr={display:S.DISPLAY,text:S.TEXT,script:S.SCRIPT,scriptscript:S.SCRIPTSCRIPT};se({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(t,e){var n=yr[t.style],r=e.havingStyle(n).withFont("");return mr(t.body,r,e)},mathmlBuilder(t,e){var n=yr[t.style],r=e.havingStyle(n),i=Ne(t.body,r),o=new Te.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}});le({type:"supsub",htmlBuilder(t,e){var n=function(t,e){var n=t.base;return n?"op"===n.type?n.limits&&(e.style.size===S.DISPLAY.size||n.alwaysHandleSupSub)?hr:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(e.style.size===S.DISPLAY.size||n.limits)?gr:null:"accent"===n.type?h.isCharacterBox(n.base)?We:null:"horizBrace"===n.type&&!t.sub===n.isOver?ar:null:null}(t,e);if(n)return n(t,e);var r,i,o,{base:a,sup:s,sub:l}=t,u=we(a,e),c=e.fontMetrics(),d=0,f=0,p=a&&h.isCharacterBox(a);if(s){var g=e.havingStyle(e.style.sup());r=we(s,g,e),p||(d=u.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(l){var m=e.havingStyle(e.style.sub());i=we(l,m,e),p||(f=u.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}o=e.style===S.DISPLAY?c.sup1:e.style.cramped?c.sup3:c.sup2;var v,y=e.sizeMultiplier,b=Z(.5/c.ptPerEm/y),x=null;if(i){var _=t.base&&"op"===t.base.type&&t.base.name&&("\\oiint"===t.base.name||"\\oiiint"===t.base.name);(u instanceof J||_)&&(x=Z(-u.italic))}if(r&&i){d=Math.max(d,o,r.depth+.25*c.xHeight),f=Math.max(f,c.sub2);var w=4*c.defaultRuleThickness;if(d-r.depth-(i.height-f)<w){f=w-(d-r.depth)+i.height;var M=.8*c.xHeight-(d-r.depth);M>0&&(d+=M,f-=M)}var k=[{type:"elem",elem:i,shift:f,marginRight:b,marginLeft:x},{type:"elem",elem:r,shift:-d,marginRight:b}];v=Jt.makeVList({positionType:"individualShift",children:k},e)}else if(i){f=Math.max(f,c.sub1,i.height-.8*c.xHeight);var E=[{type:"elem",elem:i,marginLeft:x,marginRight:b}];v=Jt.makeVList({positionType:"shift",positionData:f,children:E},e)}else{if(!r)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,r.depth+.25*c.xHeight),v=Jt.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:r,marginRight:b}]},e)}var A=xe(u,"right")||"mord";return Jt.makeSpan([A],[u,Jt.makeSpan(["msupsub"],[v])],e)},mathmlBuilder(t,e){var n,r=!1;t.base&&"horizBrace"===t.base.type&&!!t.sup===t.base.isOver&&(r=!0,n=t.base.isOver),!t.base||"op"!==t.base.type&&"operatorname"!==t.base.type||(t.base.parentIsSupSub=!0);var i,o=[Le(t.base,e)];if(t.sub&&o.push(Le(t.sub,e)),t.sup&&o.push(Le(t.sup,e)),r)i=n?"mover":"munder";else if(t.sub)if(t.sup){var a=t.base;i=a&&"op"===a.type&&a.limits&&e.style===S.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(e.style===S.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=t.base;i=s&&"op"===s.type&&s.limits&&(e.style===S.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||e.style===S.DISPLAY)?"munder":"msub"}else{var l=t.base;i=l&&"op"===l.type&&l.limits&&(e.style===S.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||e.style===S.DISPLAY)?"mover":"msup"}return new Te.MathNode(i,o)}}),le({type:"atom",htmlBuilder(t,e){return Jt.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Te.MathNode("mo",[Ie(t.text,t.mode)]);if("bin"===t.family){var r=De(t,e);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===t.family?n.setAttribute("separator","true"):"open"!==t.family&&"close"!==t.family||n.setAttribute("stretchy","false");return n}});var br={mi:"italic",mn:"normal",mtext:"normal"};le({type:"mathord",htmlBuilder(t,e){return Jt.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Te.MathNode("mi",[Ie(t.text,t.mode,e)]),r=De(t,e)||"italic";return r!==br[n.type]&&n.setAttribute("mathvariant",r),n}}),le({type:"textord",htmlBuilder(t,e){return Jt.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n,r=Ie(t.text,t.mode,e),i=De(t,e)||"normal";return n="text"===t.mode?new Te.MathNode("mtext",[r]):/[0-9]/.test(t.text)?new Te.MathNode("mn",[r]):"\\prime"===t.text?new Te.MathNode("mo",[r]):new Te.MathNode("mi",[r]),i!==br[n.type]&&n.setAttribute("mathvariant",i),n}});var xr={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},_r={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};le({type:"spacing",htmlBuilder(t,e){if(_r.hasOwnProperty(t.text)){var n=_r[t.text].className||"";if("text"===t.mode){var r=Jt.makeOrd(t,e,"textord");return r.classes.push(n),r}return Jt.makeSpan(["mspace",n],[Jt.mathsym(t.text,t.mode,e)],e)}if(xr.hasOwnProperty(t.text))return Jt.makeSpan(["mspace",xr[t.text]],[],e);throw new a('Unknown type of space "'+t.text+'"')},mathmlBuilder(t,e){if(!_r.hasOwnProperty(t.text)){if(xr.hasOwnProperty(t.text))return new Te.MathNode("mspace");throw new a('Unknown type of space "'+t.text+'"')}return new Te.MathNode("mtext",[new Te.TextNode(" ")])}});var wr=()=>{var t=new Te.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};le({type:"tag",mathmlBuilder(t,e){var n=new Te.MathNode("mtable",[new Te.MathNode("mtr",[wr(),new Te.MathNode("mtd",[Oe(t.body,e)]),wr(),new Te.MathNode("mtd",[Oe(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Sr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Mr={"\\textbf":"textbf","\\textmd":"textmd"},kr={"\\textit":"textit","\\textup":"textup"},Er=(t,e)=>{var n=t.font;return n?Sr[n]?e.withTextFontFamily(Sr[n]):Mr[n]?e.withTextFontWeight(Mr[n]):e.withTextFontShape(kr[n]):e};se({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:ce(i),font:r}},htmlBuilder(t,e){var n=Er(t,e),r=me(t.body,n,!0);return Jt.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=Er(t,e);return Oe(t.body,n)}}),se({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=we(t.body,e),r=Jt.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Jt.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return Jt.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new Te.MathNode("mo",[new Te.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Te.MathNode("munder",[Le(t.body,e),n]);return r.setAttribute("accentunder","true"),r}}),se({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=we(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return Jt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Te.MathNode("mpadded",[Le(t.body,e)],["vcenter"])}}),se({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Ar(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var a=n[o];"~"===a&&(a="\\textasciitilde"),r.push(Jt.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Jt.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Jt.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Te.TextNode(Ar(t)),r=new Te.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Ar=t=>t.body.replace(/ /g,t.star?"␣":" "),Tr=ie,Ir="[ \r\n\t]",Cr="(\\\\[a-zA-Z@]+)"+Ir+"*",Dr="[̀-ͯ]",Nr=new RegExp(Dr+"+$"),Or="("+Ir+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+Dr+"*|[\ud800-\udbff][\udc00-\udfff]"+Dr+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Cr+"|\\\\[^\ud800-\udfff])";class Lr{constructor(t,e){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=e,this.tokenRegex=new RegExp(Or,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,e){this.catcodes[t]=e}lex(){var t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new o("EOF",new i(this,e,e));var n=this.tokenRegex.exec(t);if(null===n||n.index!==e)throw new a("Unexpected character: '"+t[e]+"'",new o(t[e],new i(this,e,e+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[r]){var s=t.indexOf("\n",this.tokenRegex.lastIndex);return-1===s?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new o(r,new i(this,e,this.tokenRegex.lastIndex))}}class Pr{constructor(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=e,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var e in t)t.hasOwnProperty(e)&&(null==t[e]?delete this.current[e]:this.current[e]=t[e])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,e,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=e)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}null==e?delete this.current[t]:this.current[t]=e}}var Rr=Fn;Gn("\\noexpand",(function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}})),Gn("\\expandafter",(function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}})),Gn("\\@firstoftwo",(function(t){return{tokens:t.consumeArgs(2)[0],numArgs:0}})),Gn("\\@secondoftwo",(function(t){return{tokens:t.consumeArgs(2)[1],numArgs:0}})),Gn("\\@ifnextchar",(function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return 1===e[0].length&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}})),Gn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Gn("\\TextOrMath",(function(t){var e=t.consumeArgs(2);return"text"===t.mode?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}}));var jr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Gn("\\char",(function(t){var e,n=t.popToken(),r="";if("'"===n.text)e=8,n=t.popToken();else if('"'===n.text)e=16,n=t.popToken();else if("`"===n.text)if("\\"===(n=t.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new a("\\char` missing argument");r=n.text.charCodeAt(0)}else e=10;if(e){if(null==(r=jr[n.text])||r>=e)throw new a("Invalid base-"+e+" digit "+n.text);for(var i;null!=(i=jr[t.future().text])&&i<e;)r*=e,r+=i,t.popToken()}return"\\@char{"+r+"}"}));var zr=(t,e,n)=>{var r=t.consumeArg().tokens;if(1!==r.length)throw new a("\\newcommand's first argument must be a macro name");var i=r[0].text,o=t.isDefined(i);if(o&&!e)throw new a("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!n)throw new a("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(1===(r=t.consumeArg().tokens).length&&"["===r[0].text){for(var l="",u=t.expandNextToken();"]"!==u.text&&"EOF"!==u.text;)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+l);s=parseInt(l),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:s}),""};Gn("\\newcommand",(t=>zr(t,!1,!0))),Gn("\\renewcommand",(t=>zr(t,!0,!1))),Gn("\\providecommand",(t=>zr(t,!0,!0))),Gn("\\message",(t=>{t.consumeArgs(1)[0];return""})),Gn("\\errmessage",(t=>{t.consumeArgs(1)[0];return""})),Gn("\\show",(t=>{t.popToken().text;return""})),Gn("\\bgroup","{"),Gn("\\egroup","}"),Gn("~","\\nobreakspace"),Gn("\\lq","`"),Gn("\\rq","'"),Gn("\\aa","\\r a"),Gn("\\AA","\\r A"),Gn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Gn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Gn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Gn("ℬ","\\mathscr{B}"),Gn("ℰ","\\mathscr{E}"),Gn("ℱ","\\mathscr{F}"),Gn("ℋ","\\mathscr{H}"),Gn("ℐ","\\mathscr{I}"),Gn("ℒ","\\mathscr{L}"),Gn("ℳ","\\mathscr{M}"),Gn("ℛ","\\mathscr{R}"),Gn("ℭ","\\mathfrak{C}"),Gn("ℌ","\\mathfrak{H}"),Gn("ℨ","\\mathfrak{Z}"),Gn("\\Bbbk","\\Bbb{k}"),Gn("·","\\cdotp"),Gn("\\llap","\\mathllap{\\textrm{#1}}"),Gn("\\rlap","\\mathrlap{\\textrm{#1}}"),Gn("\\clap","\\mathclap{\\textrm{#1}}"),Gn("\\mathstrut","\\vphantom{(}"),Gn("\\underbar","\\underline{\\text{#1}}"),Gn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Gn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Gn("\\ne","\\neq"),Gn("≠","\\neq"),Gn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Gn("∉","\\notin"),Gn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Gn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Gn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Gn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Gn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Gn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Gn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Gn("⟂","\\perp"),Gn("‼","\\mathclose{!\\mkern-0.8mu!}"),Gn("∌","\\notni"),Gn("⌜","\\ulcorner"),Gn("⌝","\\urcorner"),Gn("⌞","\\llcorner"),Gn("⌟","\\lrcorner"),Gn("©","\\copyright"),Gn("®","\\textregistered"),Gn("️","\\textregistered"),Gn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Gn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Gn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Gn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Gn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Gn("⋮","\\vdots"),Gn("\\varGamma","\\mathit{\\Gamma}"),Gn("\\varDelta","\\mathit{\\Delta}"),Gn("\\varTheta","\\mathit{\\Theta}"),Gn("\\varLambda","\\mathit{\\Lambda}"),Gn("\\varXi","\\mathit{\\Xi}"),Gn("\\varPi","\\mathit{\\Pi}"),Gn("\\varSigma","\\mathit{\\Sigma}"),Gn("\\varUpsilon","\\mathit{\\Upsilon}"),Gn("\\varPhi","\\mathit{\\Phi}"),Gn("\\varPsi","\\mathit{\\Psi}"),Gn("\\varOmega","\\mathit{\\Omega}"),Gn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Gn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Gn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Gn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Gn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Gn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Br={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Gn("\\dots",(function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in Br?e=Br[n]:("\\not"===n.slice(0,4)||n in ot.math&&h.contains(["bin","rel"],ot.math[n].group))&&(e="\\dotsb"),e}));var Fr={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Gn("\\dotso",(function(t){return t.future().text in Fr?"\\ldots\\,":"\\ldots"})),Gn("\\dotsc",(function(t){var e=t.future().text;return e in Fr&&","!==e?"\\ldots\\,":"\\ldots"})),Gn("\\cdots",(function(t){return t.future().text in Fr?"\\@cdots\\,":"\\@cdots"})),Gn("\\dotsb","\\cdots"),Gn("\\dotsm","\\cdots"),Gn("\\dotsi","\\!\\cdots"),Gn("\\dotsx","\\ldots\\,"),Gn("\\DOTSI","\\relax"),Gn("\\DOTSB","\\relax"),Gn("\\DOTSX","\\relax"),Gn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Gn("\\,","\\tmspace+{3mu}{.1667em}"),Gn("\\thinspace","\\,"),Gn("\\>","\\mskip{4mu}"),Gn("\\:","\\tmspace+{4mu}{.2222em}"),Gn("\\medspace","\\:"),Gn("\\;","\\tmspace+{5mu}{.2777em}"),Gn("\\thickspace","\\;"),Gn("\\!","\\tmspace-{3mu}{.1667em}"),Gn("\\negthinspace","\\!"),Gn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Gn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Gn("\\enspace","\\kern.5em "),Gn("\\enskip","\\hskip.5em\\relax"),Gn("\\quad","\\hskip1em\\relax"),Gn("\\qquad","\\hskip2em\\relax"),Gn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Gn("\\tag@paren","\\tag@literal{({#1})}"),Gn("\\tag@literal",(t=>{if(t.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),Gn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Gn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Gn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Gn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Gn("\\newline","\\\\\\relax"),Gn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Gr=Z(C["Main-Regular"]["T".charCodeAt(0)][1]-.7*C["Main-Regular"]["A".charCodeAt(0)][1]);Gn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Gr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Gn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Gr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Gn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Gn("\\@hspace","\\hskip #1\\relax"),Gn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Gn("\\ordinarycolon",":"),Gn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Gn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Gn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Gn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Gn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Gn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Gn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Gn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Gn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Gn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Gn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Gn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Gn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Gn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Gn("∷","\\dblcolon"),Gn("∹","\\eqcolon"),Gn("≔","\\coloneqq"),Gn("≕","\\eqqcolon"),Gn("⩴","\\Coloneqq"),Gn("\\ratio","\\vcentcolon"),Gn("\\coloncolon","\\dblcolon"),Gn("\\colonequals","\\coloneqq"),Gn("\\coloncolonequals","\\Coloneqq"),Gn("\\equalscolon","\\eqqcolon"),Gn("\\equalscoloncolon","\\Eqqcolon"),Gn("\\colonminus","\\coloneq"),Gn("\\coloncolonminus","\\Coloneq"),Gn("\\minuscolon","\\eqcolon"),Gn("\\minuscoloncolon","\\Eqcolon"),Gn("\\coloncolonapprox","\\Colonapprox"),Gn("\\coloncolonsim","\\Colonsim"),Gn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Gn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Gn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Gn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Gn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Gn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Gn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Gn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Gn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Gn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Gn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Gn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Gn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Gn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Gn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Gn("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Gn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Gn("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Gn("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Gn("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Gn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Gn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Gn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Gn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Gn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Gn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Gn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Gn("\\imath","\\html@mathml{\\@imath}{ı}"),Gn("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Gn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Gn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Gn("⟦","\\llbracket"),Gn("⟧","\\rrbracket"),Gn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Gn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Gn("⦃","\\lBrace"),Gn("⦄","\\rBrace"),Gn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Gn("⦵","\\minuso"),Gn("\\darr","\\downarrow"),Gn("\\dArr","\\Downarrow"),Gn("\\Darr","\\Downarrow"),Gn("\\lang","\\langle"),Gn("\\rang","\\rangle"),Gn("\\uarr","\\uparrow"),Gn("\\uArr","\\Uparrow"),Gn("\\Uarr","\\Uparrow"),Gn("\\N","\\mathbb{N}"),Gn("\\R","\\mathbb{R}"),Gn("\\Z","\\mathbb{Z}"),Gn("\\alef","\\aleph"),Gn("\\alefsym","\\aleph"),Gn("\\Alpha","\\mathrm{A}"),Gn("\\Beta","\\mathrm{B}"),Gn("\\bull","\\bullet"),Gn("\\Chi","\\mathrm{X}"),Gn("\\clubs","\\clubsuit"),Gn("\\cnums","\\mathbb{C}"),Gn("\\Complex","\\mathbb{C}"),Gn("\\Dagger","\\ddagger"),Gn("\\diamonds","\\diamondsuit"),Gn("\\empty","\\emptyset"),Gn("\\Epsilon","\\mathrm{E}"),Gn("\\Eta","\\mathrm{H}"),Gn("\\exist","\\exists"),Gn("\\harr","\\leftrightarrow"),Gn("\\hArr","\\Leftrightarrow"),Gn("\\Harr","\\Leftrightarrow"),Gn("\\hearts","\\heartsuit"),Gn("\\image","\\Im"),Gn("\\infin","\\infty"),Gn("\\Iota","\\mathrm{I}"),Gn("\\isin","\\in"),Gn("\\Kappa","\\mathrm{K}"),Gn("\\larr","\\leftarrow"),Gn("\\lArr","\\Leftarrow"),Gn("\\Larr","\\Leftarrow"),Gn("\\lrarr","\\leftrightarrow"),Gn("\\lrArr","\\Leftrightarrow"),Gn("\\Lrarr","\\Leftrightarrow"),Gn("\\Mu","\\mathrm{M}"),Gn("\\natnums","\\mathbb{N}"),Gn("\\Nu","\\mathrm{N}"),Gn("\\Omicron","\\mathrm{O}"),Gn("\\plusmn","\\pm"),Gn("\\rarr","\\rightarrow"),Gn("\\rArr","\\Rightarrow"),Gn("\\Rarr","\\Rightarrow"),Gn("\\real","\\Re"),Gn("\\reals","\\mathbb{R}"),Gn("\\Reals","\\mathbb{R}"),Gn("\\Rho","\\mathrm{P}"),Gn("\\sdot","\\cdot"),Gn("\\sect","\\S"),Gn("\\spades","\\spadesuit"),Gn("\\sub","\\subset"),Gn("\\sube","\\subseteq"),Gn("\\supe","\\supseteq"),Gn("\\Tau","\\mathrm{T}"),Gn("\\thetasym","\\vartheta"),Gn("\\weierp","\\wp"),Gn("\\Zeta","\\mathrm{Z}"),Gn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Gn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Gn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Gn("\\bra","\\mathinner{\\langle{#1}|}"),Gn("\\ket","\\mathinner{|{#1}\\rangle}"),Gn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Gn("\\Bra","\\left\\langle#1\\right|"),Gn("\\Ket","\\left|#1\\right\\rangle");var Vr=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=e=>n=>{t&&(n.macros.set("|",a),i.length&&n.macros.set("\\|",s));var o=e;!e&&i.length&&("|"===n.future().text&&(n.popToken(),o=!0));return{tokens:o?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...o,...u,...n]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};Gn("\\bra@ket",Vr(!1)),Gn("\\bra@set",Vr(!0)),Gn("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Gn("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Gn("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Gn("\\angln","{\\angl n}"),Gn("\\blue","\\textcolor{##6495ed}{#1}"),Gn("\\orange","\\textcolor{##ffa500}{#1}"),Gn("\\pink","\\textcolor{##ff00af}{#1}"),Gn("\\red","\\textcolor{##df0030}{#1}"),Gn("\\green","\\textcolor{##28ae7b}{#1}"),Gn("\\gray","\\textcolor{gray}{#1}"),Gn("\\purple","\\textcolor{##9d38bd}{#1}"),Gn("\\blueA","\\textcolor{##ccfaff}{#1}"),Gn("\\blueB","\\textcolor{##80f6ff}{#1}"),Gn("\\blueC","\\textcolor{##63d9ea}{#1}"),Gn("\\blueD","\\textcolor{##11accd}{#1}"),Gn("\\blueE","\\textcolor{##0c7f99}{#1}"),Gn("\\tealA","\\textcolor{##94fff5}{#1}"),Gn("\\tealB","\\textcolor{##26edd5}{#1}"),Gn("\\tealC","\\textcolor{##01d1c1}{#1}"),Gn("\\tealD","\\textcolor{##01a995}{#1}"),Gn("\\tealE","\\textcolor{##208170}{#1}"),Gn("\\greenA","\\textcolor{##b6ffb0}{#1}"),Gn("\\greenB","\\textcolor{##8af281}{#1}"),Gn("\\greenC","\\textcolor{##74cf70}{#1}"),Gn("\\greenD","\\textcolor{##1fab54}{#1}"),Gn("\\greenE","\\textcolor{##0d923f}{#1}"),Gn("\\goldA","\\textcolor{##ffd0a9}{#1}"),Gn("\\goldB","\\textcolor{##ffbb71}{#1}"),Gn("\\goldC","\\textcolor{##ff9c39}{#1}"),Gn("\\goldD","\\textcolor{##e07d10}{#1}"),Gn("\\goldE","\\textcolor{##a75a05}{#1}"),Gn("\\redA","\\textcolor{##fca9a9}{#1}"),Gn("\\redB","\\textcolor{##ff8482}{#1}"),Gn("\\redC","\\textcolor{##f9685d}{#1}"),Gn("\\redD","\\textcolor{##e84d39}{#1}"),Gn("\\redE","\\textcolor{##bc2612}{#1}"),Gn("\\maroonA","\\textcolor{##ffbde0}{#1}"),Gn("\\maroonB","\\textcolor{##ff92c6}{#1}"),Gn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Gn("\\maroonD","\\textcolor{##ca337c}{#1}"),Gn("\\maroonE","\\textcolor{##9e034e}{#1}"),Gn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Gn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Gn("\\purpleC","\\textcolor{##aa87ff}{#1}"),Gn("\\purpleD","\\textcolor{##7854ab}{#1}"),Gn("\\purpleE","\\textcolor{##543b78}{#1}"),Gn("\\mintA","\\textcolor{##f5f9e8}{#1}"),Gn("\\mintB","\\textcolor{##edf2df}{#1}"),Gn("\\mintC","\\textcolor{##e0e5cc}{#1}"),Gn("\\grayA","\\textcolor{##f6f7f7}{#1}"),Gn("\\grayB","\\textcolor{##f0f1f2}{#1}"),Gn("\\grayC","\\textcolor{##e3e5e6}{#1}"),Gn("\\grayD","\\textcolor{##d6d8da}{#1}"),Gn("\\grayE","\\textcolor{##babec2}{#1}"),Gn("\\grayF","\\textcolor{##888d93}{#1}"),Gn("\\grayG","\\textcolor{##626569}{#1}"),Gn("\\grayH","\\textcolor{##3b3e40}{#1}"),Gn("\\grayI","\\textcolor{##21242c}{#1}"),Gn("\\kaBlue","\\textcolor{##314453}{#1}"),Gn("\\kaGreen","\\textcolor{##71B307}{#1}");var Zr={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ur{constructor(t,e,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=e,this.expansionCount=0,this.feed(t),this.macros=new Pr(Rr,e.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new Lr(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var e,n,r;if(t){if(this.consumeSpaces(),"["!==this.future().text)return null;e=this.popToken(),({tokens:r,end:n}=this.consumeArg(["]"]))}else({tokens:r,start:e,end:n}=this.consumeArg());return this.pushToken(new o("EOF",n.loc)),this.pushTokens(r),e.range(n,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(t){var e=[],n=t&&t.length>0;n||this.consumeSpaces();var r,i=this.future(),o=0,s=0;do{if(r=this.popToken(),e.push(r),"{"===r.text)++o;else if("}"===r.text){if(-1===--o)throw new a("Extra }",r)}else if("EOF"===r.text)throw new a("Unexpected end of input in a macro argument, expected '"+(t&&n?t[s]:"}")+"'",r);if(t&&n)if((0===o||1===o&&"{"===t[s])&&r.text===t[s]){if(++s===t.length){e.splice(-s,s);break}}else s=0}while(0!==o||n);return"{"===i.text&&"}"===e[e.length-1].text&&(e.pop(),e.shift()),e.reverse(),{tokens:e,start:i,end:r}}consumeArgs(t,e){if(e){if(e.length!==t+1)throw new a("The length of delimiters doesn't match the number of args!");for(var n=e[0],r=0;r<n.length;r++){var i=this.popToken();if(n[r]!==i.text)throw new a("Use of the macro doesn't match its definition",i)}}for(var o=[],s=0;s<t;s++)o.push(this.consumeArg(e&&e[s+1]).tokens);return o}expandOnce(t){var e=this.popToken(),n=e.text,r=e.noexpand?null:this._getExpansion(n);if(null==r||t&&r.unexpandable){if(t&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new a("Undefined control sequence: "+n);return this.pushToken(e),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting");var i=r.tokens,o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs)for(var s=(i=i.slice()).length-1;s>=0;--s){var l=i[s];if("#"===l.text){if(0===s)throw new a("Incomplete placeholder at end of macro body",l);if("#"===(l=i[--s]).text)i.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new a("Not a valid argument number",l);i.splice(s,2,...o[+l.text-1])}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new o(t)]):void 0}expandTokens(t){var e=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(!1===this.expandOnce(!0)){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),e.push(r)}return e}expandMacroAsText(t){var e=this.expandMacro(t);return e?e.map((t=>t.text)).join(""):e}_getExpansion(t){var e=this.macros.get(t);if(null==e)return e;if(1===t.length){var n=this.lexer.catcodes[t];if(null!=n&&13!==n)return}var r="function"==typeof e?e(this):e;if("string"==typeof r){var i=0;if(-1!==r.indexOf("#"))for(var o=r.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var a=new Lr(r,this.settings),s=[],l=a.lex();"EOF"!==l.text;)s.push(l),l=a.lex();return s.reverse(),{tokens:s,numArgs:i}}return r}isDefined(t){return this.macros.has(t)||Tr.hasOwnProperty(t)||ot.math.hasOwnProperty(t)||ot.text.hasOwnProperty(t)||Zr.hasOwnProperty(t)}isExpandable(t){var e=this.macros.get(t);return null!=e?"string"==typeof e||"function"==typeof e||!e.unexpandable:Tr.hasOwnProperty(t)&&!Tr[t].primitive}}var Hr=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Wr=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Yr={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Xr={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"};class qr{constructor(t,e){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ur(t,e,this.mode),this.settings=e,this.leftrightDepth=0}expect(t,e){if(void 0===e&&(e=!0),this.fetch().text!==t)throw new a("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());e&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var e=this.nextToken;this.consume(),this.gullet.pushToken(new o("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=e,n}parseExpression(t,e){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==qr.endOfExpression.indexOf(r.text))break;if(e&&r.text===e)break;if(t&&Tr[r.text]&&Tr[r.text].infix)break;var i=this.parseAtom(e);if(!i)break;"internal"!==i.type&&n.push(i)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var e,n=-1,r=0;r<t.length;r++)if("infix"===t[r].type){if(-1!==n)throw new a("only one infix operator per group",t[r].token);n=r,e=t[r].replaceWith}if(-1!==n&&e){var i,o,s=t.slice(0,n),l=t.slice(n+1);return i=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===e?this.callFunction(e,[i,t[n],o],[]):this.callFunction(e,[i,o],[])]}return t}handleSupSubscript(t){var e=this.fetch(),n=e.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(t);if(!r)throw new a("Expected group after '"+n+"'",e);return r}formatUnsupportedCmd(t){for(var e=[],n=0;n<t.length;n++)e.push({type:"textord",mode:"text",text:t[n]});var r={type:"text",mode:this.mode,body:e};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]}}parseAtom(t){var e,n,r=this.parseGroup("atom",t);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var i=this.fetch();if("\\limits"===i.text||"\\nolimits"===i.text){if(r&&"op"===r.type){var o="\\limits"===i.text;r.limits=o,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type)throw new a("Limit controls must follow a math operator",i);r.alwaysHandleSupSub&&(r.limits="\\limits"===i.text)}this.consume()}else if("^"===i.text){if(e)throw new a("Double superscript",i);e=this.handleSupSubscript("superscript")}else if("_"===i.text){if(n)throw new a("Double subscript",i);n=this.handleSupSubscript("subscript")}else if("'"===i.text){if(e)throw new a("Double superscript",i);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();"'"===this.fetch().text;)l.push(s),this.consume();"^"===this.fetch().text&&l.push(this.handleSupSubscript("superscript")),e={type:"ordgroup",mode:this.mode,body:l}}else{if(!Wr[i.text])break;var u=Wr[i.text],c=Hr.test(i.text);for(this.consume();;){var h=this.fetch().text;if(!Wr[h])break;if(Hr.test(h)!==c)break;this.consume(),u+=Wr[h]}var d=new qr(u,this.settings).parse();c?n={type:"ordgroup",mode:"math",body:d}:e={type:"ordgroup",mode:"math",body:d}}}return e||n?{type:"supsub",mode:this.mode,base:r,sup:e,sub:n}:r}parseFunction(t,e){var n=this.fetch(),r=n.text,i=Tr[r];if(!i)return null;if(this.consume(),e&&"atom"!==e&&!i.allowedInArgument)throw new a("Got function '"+r+"' with no arguments"+(e?" as "+e:""),n);if("text"===this.mode&&!i.allowedInText)throw new a("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===i.allowedInMath)throw new a("Can't use function '"+r+"' in math mode",n);var{args:o,optArgs:s}=this.parseArguments(r,i);return this.callFunction(r,o,s,n,t)}callFunction(t,e,n,r,i){var o={funcName:t,parser:this,token:r,breakOnTokenText:i},s=Tr[t];if(s&&s.handler)return s.handler(o,e,n);throw new a("No function handler for "+t)}parseArguments(t,e){var n=e.numArgs+e.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=[],i=[],o=0;o<n;o++){var s=e.argTypes&&e.argTypes[o],l=o<e.numOptionalArgs;(e.primitive&&null==s||"sqrt"===e.type&&1===o&&null==i[0])&&(s="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",s,l);if(l)i.push(u);else{if(null==u)throw new a("Null argument, please report this as a bug");r.push(u)}}return{args:r,optArgs:i}}parseGroupOfType(t,e,n){switch(e){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,e);case"hbox":var r=this.parseArgumentGroup(n,"text");return null!=r?{type:"styling",mode:r.mode,body:[r],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",n);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(n)throw new a("A primitive argument cannot be optional");var o=this.parseGroup(t);if(null==o)throw new a("Expected group as "+t,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new a("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(t,e){var n=this.gullet.scanArgument(e);if(null==n)return null;for(var r,i="";"EOF"!==(r=this.fetch()).text;)i+=r.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,e){for(var n,r=this.fetch(),i=r,o="";"EOF"!==(n=this.fetch()).text&&t.test(o+n.text);)o+=(i=n).text,this.consume();if(""===o)throw new a("Invalid "+e+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(t){var e=this.parseStringGroup("color",t);if(null==e)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!n)throw new a("Invalid color: '"+e.text+"'",e);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(t){var e,n=!1;if(this.gullet.consumeSpaces(),!(e=t||"{"===this.gullet.future().text?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;t||0!==e.text.length||(e.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!r)throw new a("Invalid size: '"+e.text+"'",e);var i={number:+(r[1]+r[2]),unit:r[3]};if(!G(i))throw new a("Invalid unit: '"+i.unit+"'",e);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var e=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==e)return null;var n=e.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,e){var n=this.gullet.scanArgument(t);if(null==n)return null;var r=this.mode;e&&this.switchMode(e),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return e&&this.switchMode(r),o}parseGroup(t,e){var n,r=this.fetch(),o=r.text;if("{"===o||"\\begingroup"===o){this.consume();var s="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:i.range(r,u),body:l,semisimple:"\\begingroup"===o||void 0}}else if(null==(n=this.parseFunction(e,t)||this.parseSymbol())&&"\\"===o[0]&&!Zr.hasOwnProperty(o)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+o,r);n=this.formatUnsupportedCmd(o),this.consume()}return n}formLigatures(t){for(var e=t.length-1,n=0;n<e;++n){var r=t[n],o=r.text;"-"===o&&"-"===t[n+1].text&&(n+1<e&&"-"===t[n+2].text?(t.splice(n,3,{type:"textord",mode:"text",loc:i.range(r,t[n+2]),text:"---"}),e-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:i.range(r,t[n+1]),text:"--"}),e-=1)),"'"!==o&&"`"!==o||t[n+1].text!==o||(t.splice(n,2,{type:"textord",mode:"text",loc:i.range(r,t[n+1]),text:o+o}),e-=1)}}parseSymbol(){var t=this.fetch(),e=t.text;if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var n=e.slice(5),r="*"===n.charAt(0);if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new a("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:r}}Xr.hasOwnProperty(e[0])&&!ot[this.mode][e[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',t),e=Xr[e[0]]+e.slice(1));var o,s=Nr.exec(e);if(s&&("i"===(e=e.substring(0,s.index))?e="ı":"j"===e&&(e="ȷ")),ot[this.mode][e]){this.settings.strict&&"math"===this.mode&&jt.indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',t);var l,u=ot[this.mode][e].group,c=i.range(t);if(rt.hasOwnProperty(u)){var h=u;l={type:"atom",mode:this.mode,family:h,loc:c,text:e}}else l={type:u,mode:this.mode,loc:c,text:e};o=l}else{if(!(e.charCodeAt(0)>=128))return null;this.settings.strict&&(E(e.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'" ('+e.charCodeAt(0)+")",t)),o={type:"textord",mode:"text",loc:i.range(t),text:e}}if(this.consume(),s)for(var d=0;d<s[0].length;d++){var f=s[0][d];if(!Yr[f])throw new a("Unknown accent ' "+f+"'",t);var p=Yr[f][this.mode]||Yr[f].text;if(!p)throw new a("Accent "+f+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:i.range(t),label:p,isStretchy:!1,isShifty:!0,base:o}}return o}}qr.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Kr=function(t,e){if(!("string"==typeof t||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new qr(t,e);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new a("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new o("\\df@tag")])}]}return r},$r=function(t,e,n){e.textContent="";var r=Qr(t,n).toNode();e.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&($r=function(){throw new a("KaTeX doesn't work in quirks mode.")});var Jr=function(t,e,n){if(n.throwOnError||!(t instanceof a))throw t;var r=Jt.makeSpan(["katex-error"],[new J(e)]);return r.setAttribute("title",t.toString()),r.setAttribute("style","color:"+n.errorColor),r},Qr=function(t,e){var n=new p(e);try{return function(t,e,n){var r,i=Re(n);if("mathml"===n.output)return Pe(t,e,i,n.displayMode,!0);if("html"===n.output){var o=Me(t,i);r=Jt.makeSpan(["katex"],[o])}else{var a=Pe(t,e,i,n.displayMode,!1),s=Me(t,i);r=Jt.makeSpan(["katex"],[a,s])}return je(r,n)}(Kr(t,n),t,n)}catch(e){return Jr(e,t,n)}},ti={version:"0.16.9",render:$r,renderToString:function(t,e){return Qr(t,e).toMarkup()},ParseError:a,SETTINGS_SCHEMA:d,__parse:function(t,e){var n=new p(e);return Kr(t,n)},__renderToDomTree:Qr,__renderToHTMLTree:function(t,e){var n=new p(e);try{return function(t,e,n){var r=Me(t,Re(n)),i=Jt.makeSpan(["katex"],[r]);return je(i,n)}(Kr(t,n),0,n)}catch(e){return Jr(e,t,n)}},__setFontMetrics:function(t,e){C[t]=e},__defineSymbol:at,__defineFunction:se,__defineMacro:Gn,__domTree:{Span:X,Anchor:q,SymbolNode:J,SvgNode:Q,PathNode:tt,LineNode:et}},ei=n("./node_modules/react/jsx-runtime.js");const ni=ti.ParseError,ri=t=>{let e="";try{e=ti.renderToString(t,{errorColor:"#252",output:"html",trust:!0,fleqn:!0,throwOnError:!0,strict:!1})}catch(n){if(!(n instanceof ni))throw n;e=`<p class="kate-parse-error">Error in LaTeX <span class="expressions">${t}</span>: <span class="msg">${n.message}</span></p>`.replace(/&/g,"&amp;")}return e},ii=(0,r.memo)((({children:t})=>{const e=(0,r.useMemo)((()=>ri(t)),[t]);return(0,ei.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}));ii.displayName="Katex"},"./src/js/util/utilCom.tsx":function(t,e,n){"use strict";n.d(e,{Bk:function(){return g},CZ:function(){return f},Qx:function(){return c},kt:function(){return u}});var r=n("./node_modules/@s-ekin/web/lib/index.js"),i=n("./node_modules/react/index.js"),o=n("./src/js/util/HighLight.tsx"),a=n("./src/js/util/myKatex.tsx"),s=n("./src/js/util/utilfn.ts"),l=n("./node_modules/react/jsx-runtime.js");const u=({children:t,className:e})=>{const n=t.includes("leftImg"),r=t.replace(/<b class="searchSign">(.*?)<\/b>/g,((t,e)=>`\\colorbox{#FF0}{${e}}`)).replace(/<br>/g,'<br /><span class="br-tag"></span>').replace(/\[@(.*?)\]/g,((t,e)=>(0,a.d)(e))).replace(/\[(.*?)\]/g,((t,e)=>`<span class="remark-p">${(0,s.u_)(e)}</span>`));return(0,l.jsx)("div",{className:`${e||""} ${n?"left-img":""}`,dangerouslySetInnerHTML:{__html:r}})},c=({children:t,className:e})=>{const n=t.includes("leftImg"),r=t.replace(/<br>/g,'<br /><span class="br-tag"></span>').replace(/\[([\s\S]*?)\]/g,((t,e)=>{const n=e.includes("includegraphics")?"":"\\Big";return(0,a.d)(e.replace(/<b class="searchSign">(.*?)<\/b>/g,((t,e)=>`\\colorbox{#FF0}{${e}}`)).replace(/\$1/g,n+"[").replace(/\$2/g,n+"]").replace(/#1/g,"[").replace(/#2/g,"]"))})).replace(/\$(.*?)\$/g,((t,e)=>`<span class="remark-p">${(0,s.u_)(e)}</span>`));return(0,l.jsx)("div",{className:`${e||""} ${n?"left-img":""}`,dangerouslySetInnerHTML:{__html:r}})},h=["","small-order","subNum","lev4","lev5","lev6","lev7"],d=(t,e)=>0==t?(0,s.aK)(e-1)+"、":1==t?(0,s.hj)(e-1):2==t?`${e}、`:3==t?`${e}`:4==t?`${e}. `:5==t?`${s.H1[e-1]}. `:`(${e}). `,f=({data:t,lev:e,parseType:n="math"})=>{let r=0;e%=h.length;const i="math"===n?c:"code"===n?o.v:u;return(0,l.jsx)(l.Fragment,{children:t.map(((t,o)=>{const a="string"==typeof t,s=Array.isArray(t),u=a?t:s&&"string"==typeof t[0]?t[0]:"",c=!("code"!==n||!/^\$/.test(u)||!u.includes("\n")),g=/img/.test(u)&&!/[\u4e00-\u9fa5]/.test(u),m=!(c||!/^\*+\./.test(u)),v=/^(<b class="searchSign">)?证/.test(u);!m&&!v&&!c&&!g&&(u||t.constructor==Object)&&r++;const y=m||c||g?"":`<span class="${h[e]}">${v?"✍":d(e,r)}</span>`,b=u?(0,l.jsx)(i,{className:m?"tip":0===e?"big-order":1===e?"lev2-order "+(u&&s?"subTitle":""):"sentence "+(u&&s?"subTitle2":""),children:y+u.replace(/^(\*+)\.?/g,((t,e)=>`<span class="remark-p">${e.replace(/\*/g,"★")}</span>`))},o):void 0,x=e+(b?1:0);return a?b:(0,l.jsxs)("div",{className:"lev-box",children:[b,(0,l.jsx)("div",{className:b?"lev-child":"",children:s?(0,l.jsx)(f,{data:u?t.slice(1):t,lev:x,parseType:n}):(0,l.jsx)(p,{lev:x,data:t,order:r,parseType:n})})]},o)}))})},p=({data:t,parseType:e,order:n,lev:a})=>{const[s,p]=(0,i.useState)(!1);if(!t)return(0,l.jsx)(l.Fragment,{});const g="math"===e?c:"code"===e?o.v:u,m="code"===e&&t.tit.match(/^\*./)?(0,l.jsx)(r.SvgIcon,{className:"coding",size:"big"}):void 0,v=t.arr.length&&t.arr[0]||t.arr.length>1?(0,l.jsx)("span",{className:"j-slide-icon",children:(0,l.jsx)(r.SvgIcon,{className:s?"arrow-down":"arrow-up"})}):void 0,y=(0,l.jsx)("span",{className:h[a],children:d(a,n)});return(0,l.jsxs)("div",{className:"block-box",children:[(0,l.jsxs)("div",{className:(0==a?"big-order":1==a?"subTitle":"")+" j-slide",onClick:()=>{p((t=>!t))},children:[y,m,(0,l.jsx)(g,{children:t.tit.replace(/\*\./,"")}),v]}),v?(0,l.jsx)(r.SlideBox,{slide:s,children:(0,l.jsx)("div",{className:"block-slide",children:(0,l.jsx)(f,{lev:a+1,data:t.arr,parseType:e})})}):void 0]})},g=({data:t,slide:e,setSlideFn:n,className:i="",parseType:a="math",id:s})=>{const h=t[1].length?(0,l.jsx)("span",{className:"j-slide-icon",children:(0,l.jsx)(r.SvgIcon,{className:e?"arrow-down":"arrow-up"})}):void 0,d="math"===a?c:"code"===a?o.v:u;return(0,l.jsxs)("div",{className:"block-box",children:[(0,l.jsxs)("div",{className:`j-slide ${i}`,"data-id":s,onClick:n,children:[(0,l.jsx)(d,{children:t[0]}),h]}),h?(0,l.jsx)(r.SlideBox,{slide:e,children:(0,l.jsx)("div",{className:"block-slide",children:(0,l.jsx)(f,{parseType:a,data:t[1],lev:0})})}):void 0]})}},"./src/js/util/utilfn.ts":function(t,e,n){"use strict";n.d(e,{EG:function(){return F},Em:function(){return z},FJ:function(){return P},Fz:function(){return f},H1:function(){return x},K:function(){return T},K4:function(){return D},KX:function(){return c},LT:function(){return L},M9:function(){return p},Pk:function(){return C},QW:function(){return s},Wz:function(){return W},Y$:function(){return S},aK:function(){return E},b3:function(){return I},bJ:function(){return u},fE:function(){return _},fM:function(){return d},hj:function(){return A},iL:function(){return m},lq:function(){return g},oi:function(){return j},pP:function(){return k},pl:function(){return H},q3:function(){return O},q7:function(){return b},qd:function(){return y},r$:function(){return U},u4:function(){return h},u_:function(){return a},w0:function(){return l},wH:function(){return R},xI:function(){return B},zf:function(){return G}});var r=n("./src/js/globalConst.ts"),i=n("./node_modules/@s-ekin/web/lib/index.js");const o=(t,e,n)=>{if(!t)return!0;let r=!1;return r=t<0&&e<0?t>e:t<e,n?!r:r},a=t=>t.replace(/-(.+?)-/g,'<span class="remark-bg">$1</span>').replace(/_(.+?)_/g,'<span class="remark-line">$1</span>').replace(/\^(.+?)\^/g,'<span class="remark-double">$1</span>').replace(/\|(.+?)\|/g,'<span class="remark-box">$1</span>').replace(/#1/,"_").replace(/#/g,"-"),s=t=>{const e=(t,n,r)=>t.map(((t,i)=>{if(t.path=r?`${r},${i}`:`${i}`,t.parId=n?`${n},${t.id}`:`${t.id}`,t.children.length){t.children=e(t.children,t.parId,t.path);let n,r=0;t.sum=t.children.length;let i="",a=0;const s=[],l=[],c=["",""],h=["",""];t.children.map((t=>{if(0!=t.sum&&t.progress==t.sum&&r++,t.hour&&(a+=t.hour),t.lastTime){const e=u(t.lastTime);o(n,e)&&(n=e,i=t.lastTime)}const e=t.actual;if(e[0]){const t=u(e[0]);o(s[0],t,!0)&&(s[0]=t,c[0]=e[0])}if(e[1]){const t=u(e[1]);o(s[1],t)&&(s[1]=t,c[1]=e[1])}const d=t.forecast;if(d[0]){const t=u(d[0]);o(l[0],t,!0)&&(l[0]=t,h[0]=d[0])}if(d[1]){const t=u(d[1]);o(l[1],t)&&(l[1]=t,h[1]=d[1])}})),t.progress=r,(t.parId.includes(",")||g(t.parId))&&(t.hour=Number(a.toFixed(1))),t.lastTime=i,t.actual[0]=c[0],t.forecast[0]=h[0],t.forecast[1]=h[1],t.progress==t.sum&&(t.actual[1]=c[1])}return t}));let n=t;return n=e(t,"",""),n},l=(t,e)=>{const n=new Date(t);return(new Date(e).getTime()-n.getTime())/864e5},u=t=>{if(!t)return 0;const e=t.split("-");let n=!1;e.length>2&&(n=!0,e[0]=e[1],e[1]=e[2],e.length=2);return Number(`${e[0].padStart(3,"0")}${e[1].padStart(2,"0")}`)*(n?-1:1)},c=t=>{if(!t)return"";const e=t.slice(0,3).reduce(((t,e)=>t+Number(e)),0),n=Number(e.toFixed(1));return String(n)},h=(t,e,n)=>{const r=n[`${t}-${e}`]||{task:[],timeInfo:[]},i={204:0,301:1,408:2,101:3},o=[0,0,0,0];return r.task.map((t=>{const e=t.id.split(",")[0];o[i[e]]++})),{play:r.playTime||c(r.timeInfo),taskArr:o,work:r.timeInfo?Number(r.timeInfo[3]):0}},d=t=>{const e=[];return t.map((t=>{const{id:n,type:r}=t,i=n.split(","),o=i[i.length-1];["HuiZhou","TianMen"].includes(o)?e.push("atHome"):"sport"==r?e.push("sport"):"void"==o?e.push("void"):"dinner"==r?e.push("eat"):!e.includes("study")&&g(n)&&e.push("study")})),e},f=(t,e)=>{const n=[],r=[],i=e.split(",");let o=i.shift(),a=t[+o];for(n.push(a.id),r.push(a.tit);i.length;)o=i.shift(),a=a.children[+o],n.push(a.id),r.push(a.tit);return{node:a,idArr:n,text:r}},p=(t,e,n)=>{const r=e.split(","),i=[],o=[];let a=t;for(;r.length-1;){const t=r.shift(),e=a.findIndex((e=>e.id===t)),s=a[e];if(-1==e)return null;i.push(s[n]),o.push(String(e)),a=s.children}const s=a.findIndex((t=>t.id===r[0])),l=a[s];return l?(o.push(String(s)),i.push(l[n]),{node:l,txtArr:i,pathArr:o}):null},g=t=>r.q6.includes(t.split(",")[0]),m=t=>["book","test","exercises","video","literature"].includes(t),v={book:"textbook",literature:"good-studty",test:"test-paper",video:"video",TV:"TV",exercises:"exercises",job:"job",program:"article",code:"my-coding",hobby:"like",sport:"sport",play:"play",dinner:"dinner",daily:"daily",health:"Health",location:"stay",skill:"skill",waster:"warn",linkVideo:"call",event:"work-together",mock:"summer",invalid:"future",drive:"car",party:"party",cost:"shoper",passage:"news",checkup:"physicalExam",keepFit:"keepFit",worker:"worker"},y={TianMen:"tianmen",HuiZhou:"residence",afternoonNap:"sleep",ride:"ride",rope:"rope",swimming:"swimming",walk:"walk",gym:"gym",run:"sport",TV:"watchTV",void:"quiclly",landscope:"mountain",shopping:"shopping",notebook:"brower",phone:"phone",bother:"boring",train:"train",hall:"exhibition",weight:"weight",colleagues:"meal",invite:"desk",diet:"diet",curHair:"haircut",talk:"chat",shoes:"shoes",other:"toy",washShoes:"washShoes",office:"office",packUp:"packUp",outerMedicine:"chirurgery",internalMedicine:"internalMedicine",inValidWork:"workVoid",inValidStudy:"studyVoid"},b=(t,e)=>{const n=t.split(",").pop();return y[n]||v[e]},x=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"],_=["一","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十"],w=["➀","➁","➂","➃","➄","➅","➆","➇","➈","⑩","⑪","⑫","⑬","⑭","⑮"],S=["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"],M=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u"],k=t=>M[t],E=t=>_[t],A=t=>w[t],T=t=>S[t],I=t=>t<0?"":`<b class="small-order">${w[t]}</b>`,C=({src:t,height:e=7,name:n,isLeft:r})=>{const i=`\\includegraphics$1height=${e}em,totalheight=${e+.1}em$2{./assert/imgs/${t}/${n}.png}`;return r?`\\htmlClass{leftImg}{${i}}`:i};let D=function(t){return t[t.today=0]="today",t[t.week=1]="week",t[t.month=2]="month",t[t.all=3]="all",t}({});const N=i.timeFn.getCurTime(),O=t=>{const e=[],n=N.year;if(t===D.today||t===D.all){const r=(new Date).getHours()>=16?0:1,i=t===D.today?(1==N.day?2:N.day)-r:31,o=t===D.today?N.month:12;i>0&&new Array(o).fill("").map(((t,r)=>{const a=r+1,s=new Date(n,a,0).getDate();new Array(s).fill("").findIndex(((t,n)=>{const r=`${a}-${n+1}`;return e.push(r),r==`${o}-${i}`}))}))}else if(t===D.month){const t=N.month,r=new Date(n,t,0).getDate();new Array(r).fill("").map(((n,r)=>{const i=`${t}-${r+1}`;e.push(i)}))}else if(t===D.week){const t=new Date;let n=t.getDay();n=n||7;let r=N.day-n+1;t.setDate(r),new Array(7).fill("").map((()=>{const n=t.getMonth()+1;e.push(`${n}-${t.getDate()}`),r=t.getDate()+1,t.setDate(r)}))}return e},L=t=>["program","code","waster","linkVideo","passage"].includes(t),P=t=>["TianMen","HuiZhou"].includes(t),R=t=>["weight"].includes(t),j=t=>["sport"].includes(t),z=(t,e)=>{const n=t.split(",").pop();return["curHair"].includes(n)||["health","play","cost","drive","party","dinner"].includes(e)},B=(t,e)=>{let n=0;const{id:r,type:i}=e,o=r.split(",").pop();if(!P(o)&&!R(o)){n+=(z(o,i)||j(i)?t.slice(0,1):t).reduce(((t,e)=>t+Number(e)),0)}return n},F=t=>({sport:["开-时间","总用时","公里|地方","时长/分"],play:["开始","用时","内容","花费"],dinner:["开始","用时","内容","花费"],cost:["开始","用时","内容","花费"],health:["开始","用时","内容","花费"],drive:["开始","用时","xx-xx","花费"],party:["主家","用时","事情","不填"]}[t]),G=t=>({curHair:["开始","用时","内容","花费"],selfFamilyE:["开始","用时","内容","花费"],gym:["开始","用时","部位",""]}[t.split(",").pop()]),V=(t,e,n="every")=>e[n]((e=>t.includes(e))),Z=(t,e)=>{let n=t,r=e.length;for(;r;){r--;const t=e[r],i=new RegExp(t,"g");n=n.replace(i,`<b class="searchSign">${t}</b>`)}return n},U=(t,e,n="every",r=0,i)=>{let o=t[0];if("string"==typeof o&&""!==i&&"isNOHeadArr"!==i&&V(o,e,n)){const n=t.concat(),r=/img/.test(o)&&!/[\u4e00-\u9fa5]/.test(o),a=/^\$/.test(o)&&o.includes("\n"),s=/^\*+\./.test(o),l=/^证/.test(o),u=r||a||l||s?"":`<span class="order-tip">@${i||1} </span>`;return n[0]=`${u}${Z(o,e)}`,n}let a="",s=0;const l=t.reduce(((t,o,l)=>{if("string"==typeof o){"isNOHeadArr"==i&&0==l&&s++;const u=r>=1?`<span class="order-tip">@${0==s?i||1:s} </span>`:"",c=/img/.test(o)&&!/[\u4e00-\u9fa5]/.test(o),h=/^\$/.test(o)&&o.includes("\n"),d=/^\*+\./.test(o),f=/^证/.test(o);!d&&!f&&!c&&!h&&s++;const p=`${c||d||f||h?"":u}${o}`;0==l?""===i||"isNOHeadArr"===i?(a="",V(o,e,n)&&t.push(Z(p,e))):a=p:V(o,e,n)&&t.push(Z(p,e))}else if(Array.isArray(o)){0==s&&s++;const i=U(o,e,n,r+1,s);s++,i.length&&t.push(i)}else{0==s&&s++;const i=V(o.tit,e,n),a=i?o.arr:U(o.arr,e,n,r+1,""),l=`<span class="order-tip">@${s} </span>`;a.length&&t.push({tit:i?`${l}${Z(o.tit,e)}`:l+o.tit,arr:a}),s++}return t}),[]);return l.length?(a&&l.unshift(a),l):[]},H=t=>{const e=t>0?N.year:N.year-1,n=Math.abs(t),r=new Date(N.year,n,0).getDate(),i=new Date(e,n-1,1).getDay(),o=[],a=[];return new Array(r).fill("").map(((t,e)=>{const n=(i+e)%7,s=e+1;0===n?(a[6]=s,o.push([...a]),a.length=0):(a[n-1]=s,e===r-1&&(a.length=7,o.push([...a]),a.length=0))})),o},W=[{id:"banana",text:"水果"},{id:"apple",text:"精美水果"},{id:"vegetable",text:"蔬菜"},{id:"eggs",text:"鸡蛋"},{id:"noodles",text:"面条"},{id:"cook",text:"煮"},{id:"boast",text:"烧烤"},{id:"delicious",text:"炒菜"},{id:"autoFood",text:"自助餐"},{id:"fastFood",text:"快餐"},{id:"feast",text:"酒席"},{id:"homeFood",text:"家常菜"},{id:"snacks",text:"零食小吃"}]},"./node_modules/color-convert/conversions.js":function(t,e,n){var r=n("./node_modules/color-name/index.js"),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:l}),Object.defineProperty(a[s],"labels",{value:u})}a.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return s===a?e=0:r===s?e=(i-o)/l:i===s?e=2+(o-r)/l:o===s&&(e=4+(r-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,i,o,a=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),h=function(t){return(u-t)/6/c+.5};return 0===c?i=o=0:(o=c/u,e=h(a),n=h(s),r=h(l),a===u?i=r-n:s===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o,a,s=1/0;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l],c=(o=t,a=u,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=l)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[u]=255*o;return i},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,i,o,a,s,l=t[0]/360,u=t[1]/100,c=t[2]/100,h=u+c;switch(h>1&&(u/=h,c/=h),r=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(r=1-r),i=u+r*((n=1-c)-u),e){default:case 6:case 0:o=n,a=i,s=u;break;case 1:o=i,a=n,s=u;break;case 2:o=u,a=n,s=i;break;case 3:o=u,a=i,s=n;break;case 4:o=i,a=u,s=n;break;case 5:o=n,a=u,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r,i=t[0];e=t[1]/500+(n=(i+16)/116),r=n-t[2]/200;var o=Math.pow(n,3),a=Math.pow(e,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},a.lch.lab=function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return e=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=e%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,r=n-e,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},"./node_modules/color-convert/index.js":function(t,e,n){var r=n("./node_modules/color-convert/conversions.js"),i=n("./node_modules/color-convert/route.js"),o={};Object.keys(r).forEach((function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});var e=i(t);Object.keys(e).forEach((function(n){var r=e[n];o[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),o[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)}))})),t.exports=o},"./node_modules/color-convert/route.js":function(t,e,n){var r=n("./node_modules/color-convert/conversions.js");function i(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var l=o[s],u=e[l];-1===u.distance&&(u.distance=e[i].distance+1,u.parent=i,n.unshift(l))}return e}function o(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],i=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),i=o(r[e[a].parent][a],i),a=e[a].parent;return i.conversion=n,i}t.exports=function(t){for(var e=i(t),n={},r=Object.keys(e),o=r.length,s=0;s<o;s++){var l=r[s];null!==e[l].parent&&(n[l]=a(l,e))}return n}},"./node_modules/color-name/index.js":function(t){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/color-string/index.js":function(t,e,n){var r=n("./node_modules/color-name/index.js"),i=n("./node_modules/simple-swizzle/index.js"),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,i,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(e.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)a[n]=parseInt(e[n]+e[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?((a=r[e[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(n=0;n<3;n++)a[n]=u(a[n],0,255);return a[3]=u(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},l.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},"./node_modules/color/index.js":function(t,e,n){"use strict";var r=n("./node_modules/color-string/index.js"),i=n("./node_modules/color-convert/index.js"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(t){s[o.call(i[t].labels).sort().join("")]=t}));var l={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in a&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var n,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=r.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,c=i[this.model].channels,this.color=h.value.slice(0,c),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(t.length){this.model=e||"rgb",c=i[this.model].channels;var f=o.call(t,0,c);this.color=d(f,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[g];var m=i[this.model].labels,v=[];for(n=0;n<m.length;n++)v.push(t[m[n]]);this.color=d(v)}if(l[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=l[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(l[t]||(l[t]=[]))[e]=n})),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,n=i[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new u(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return u.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(t){if(-1===a.indexOf(t)){var e=i[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var n,r="number"==typeof arguments[e]?e:this.valpha;return new u((n=i[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(r),t)},u[t]=function(n){return"number"==typeof n&&(n=d(o.call(arguments),e)),new u(n,t)}}})),t.exports=u},"./node_modules/d3-force/src/index.js":function(t,e,n){"use strict";function r(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)s+=(o=n[i]).x,l+=o.y;for(s=(s/a-t)*r,l=(l/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}n.r(e),n.d(e,{forceCenter:function(){return r},forceCollide:function(){return u},forceLink:function(){return d},forceManyBody:function(){return T},forceRadial:function(){return I},forceSimulation:function(){return A},forceX:function(){return C},forceY:function(){return D}});var i=n("./node_modules/d3-quadtree/src/quadtree.js");function o(t){return function(){return t}}function a(t){return 1e-6*(t()-.5)}function s(t){return t.x+t.vx}function l(t){return t.y+t.vy}function u(t){var e,n,r,u=1,c=1;function h(){for(var t,o,h,f,p,g,m,v=e.length,y=0;y<c;++y)for(o=(0,i.Z)(e,s,l).visitAfter(d),t=0;t<v;++t)h=e[t],g=n[h.index],m=g*g,f=h.x+h.vx,p=h.y+h.vy,o.visit(b);function b(t,e,n,i,o){var s=t.data,l=t.r,c=g+l;if(!s)return e>f+c||i<f-c||n>p+c||o<p-c;if(s.index>h.index){var d=f-s.x-s.vx,v=p-s.y-s.vy,y=d*d+v*v;y<c*c&&(0===d&&(y+=(d=a(r))*d),0===v&&(y+=(v=a(r))*v),y=(c-(y=Math.sqrt(y)))/y*u,h.vx+=(d*=y)*(c=(l*=l)/(m+l)),h.vy+=(v*=y)*c,s.vx-=d*(c=1-c),s.vy-=v*c)}}}function d(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function f(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=o(null==t?1:+t)),h.initialize=function(t,n){e=t,r=n,f()},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(u=+t,h):u},h.radius=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),f(),h):t},h}function c(t){return t.index}function h(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function d(t){var e,n,r,i,s,l,u=c,d=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=o(30),p=1;function g(r){for(var i=0,o=t.length;i<p;++i)for(var u,c,h,d,f,g,m,v=0;v<o;++v)c=(u=t[v]).source,d=(h=u.target).x+h.vx-c.x-c.vx||a(l),f=h.y+h.vy-c.y-c.vy||a(l),d*=g=((g=Math.sqrt(d*d+f*f))-n[v])/g*r*e[v],f*=g,h.vx-=d*(m=s[v]),h.vy-=f*m,c.vx+=d*(m=1-m),c.vy+=f*m}function m(){if(r){var o,a,l=r.length,c=t.length,d=new Map(r.map(((t,e)=>[u(t,e,r),t])));for(o=0,i=new Array(l);o<c;++o)(a=t[o]).index=o,"object"!=typeof a.source&&(a.source=h(d,a.source)),"object"!=typeof a.target&&(a.target=h(d,a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1;for(o=0,s=new Array(c);o<c;++o)a=t[o],s[o]=i[a.source.index]/(i[a.source.index]+i[a.target.index]);e=new Array(c),v(),n=new Array(c),y()}}function v(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+d(t[n],n,t)}function y(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+f(t[e],e,t)}return null==t&&(t=[]),g.initialize=function(t,e){r=t,l=e,m()},g.links=function(e){return arguments.length?(t=e,m(),g):t},g.id=function(t){return arguments.length?(u=t,g):u},g.iterations=function(t){return arguments.length?(p=+t,g):p},g.strength=function(t){return arguments.length?(d="function"==typeof t?t:o(+t),v(),g):d},g.distance=function(t){return arguments.length?(f="function"==typeof t?t:o(+t),y(),g):f},g}var f={value:()=>{}};function p(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new g(r)}function g(t){this._=t}function m(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function v(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=f,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}g.prototype=p.prototype={constructor:g,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=v(i[n],t.name,e);else if(null==e)for(n in i)i[n]=v(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=m(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var y=p,b=n("./node_modules/d3-timer/src/timer.js");const x=1664525,_=1013904223,w=4294967296;function S(t){return t.x}function M(t){return t.y}var k=10,E=Math.PI*(3-Math.sqrt(5));function A(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=(0,b.HT)(h),u=y("tick","end"),c=function(){let t=1;return()=>(t=(x*t+_)%w)/w}();function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(r){var l,u,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=k*Math.sqrt(.5+n),o=n*E;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,u=0,c=t.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=e-(s=t[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}function T(){var t,e,n,r,s,l=o(-30),u=1,c=1/0,h=.81;function d(n){var o,a=t.length,s=(0,i.Z)(t,S,M).visitAfter(p);for(r=n,o=0;o<a;++o)e=t[o],s.visit(g)}function f(){if(t){var e,n,r=t.length;for(s=new Array(r),e=0;e<r;++e)n=t[e],s[n.index]=+l(n,e,t)}}function p(t){var e,n,r,i,o,a=0,l=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,i+=n*e.y);t.x=r/l,t.y=i/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function g(t,i,o,l){if(!t.value)return!0;var d=t.x-e.x,f=t.y-e.y,p=l-i,g=d*d+f*f;if(p*p/h<g)return g<c&&(0===d&&(g+=(d=a(n))*d),0===f&&(g+=(f=a(n))*f),g<u&&(g=Math.sqrt(u*g)),e.vx+=d*t.value*r/g,e.vy+=f*t.value*r/g),!0;if(!(t.length||g>=c)){(t.data!==e||t.next)&&(0===d&&(g+=(d=a(n))*d),0===f&&(g+=(f=a(n))*f),g<u&&(g=Math.sqrt(u*g)));do{t.data!==e&&(p=s[t.data.index]*r/g,e.vx+=d*p,e.vy+=f*p)}while(t=t.next)}}return d.initialize=function(e,r){t=e,n=r,f()},d.strength=function(t){return arguments.length?(l="function"==typeof t?t:o(+t),f(),d):l},d.distanceMin=function(t){return arguments.length?(u=t*t,d):Math.sqrt(u)},d.distanceMax=function(t){return arguments.length?(c=t*t,d):Math.sqrt(c)},d.theta=function(t){return arguments.length?(h=t*t,d):Math.sqrt(h)},d}function I(t,e,n){var r,i,a,s=o(.1);function l(t){for(var o=0,s=r.length;o<s;++o){var l=r[o],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),d=(a[o]-h)*i[o]*t/h;l.vx+=u*d,l.vy+=c*d}}function u(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+s(r[e],e,r)}}return"function"!=typeof t&&(t=o(+t)),null==e&&(e=0),null==n&&(n=0),l.initialize=function(t){r=t,u()},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:o(+t),u(),l):s},l.radius=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),u(),l):t},l.x=function(t){return arguments.length?(e=+t,l):e},l.y=function(t){return arguments.length?(n=+t,l):n},l}function C(t){var e,n,r,i=o(.1);function a(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function s(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=o(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:o(+t),s(),a):i},a.x=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),s(),a):t},a}function D(t){var e,n,r,i=o(.1);function a(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function s(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=o(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:o(+t),s(),a):i},a.y=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),s(),a):t},a}},"./node_modules/d3-quadtree/src/index.js":function(t,e,n){"use strict";n.r(e),n.d(e,{quadtree:function(){return r.Z}});var r=n("./node_modules/d3-quadtree/src/quadtree.js")},"./node_modules/d3-quadtree/src/quadtree.js":function(t,e,n){"use strict";function r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,u,c,h,d,f=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((u=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+y)/2))?m=a:y=a,i=f,!(f=f[h=c<<1|u]))return i[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+y)/2))?m=a:y=a}while((h=c<<1|u)==(d=(l>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}function i(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function o(t){return t[0]}function a(t){return t[1]}function s(t,e,n){var r=new l(null==e?o:e,null==n?a:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function l(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function u(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}n.d(e,{Z:function(){return s}});var c=s.prototype=l.prototype;c.copy=function(){var t,e,n=new l(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=u(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=u(e));return n},c.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)},c.addAll=function(t){var e,n,i,o,a=t.length,s=new Array(a),l=new Array(a),u=1/0,c=1/0,h=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,l[n]=o,i<u&&(u=i),i>h&&(h=i),o<c&&(c=o),o>d&&(d=o));if(u>h||c>d)return this;for(this.cover(u,c).cover(h,d),n=0;n<a;++n)r(this,s[n],l[n],t[n]);return this},c.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,u=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},c.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},c.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},c.find=function(t,e,n){var r,o,a,s,l,u,c,h=this._x0,d=this._y0,f=this._x1,p=this._y1,g=[],m=this._root;for(m&&g.push(new i(m,h,d,f,p)),null==n?n=1/0:(h=t-n,d=e-n,f=t+n,p=e+n,n*=n);u=g.pop();)if(!(!(m=u.node)||(o=u.x0)>f||(a=u.y0)>p||(s=u.x1)<h||(l=u.y1)<d))if(m.length){var v=(o+s)/2,y=(a+l)/2;g.push(new i(m[3],v,y,s,l),new i(m[2],o,y,v,l),new i(m[1],v,a,s,y),new i(m[0],o,a,v,y)),(c=(e>=y)<<1|t>=v)&&(u=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=u)}else{var b=t-+this._x.call(null,m.data),x=e-+this._y.call(null,m.data),_=b*b+x*x;if(_<n){var w=Math.sqrt(n=_);h=t-w,d=e-w,f=t+w,p=e+w,r=m.data}}return r},c.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,u,c,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(l=(g+v)/2))?g=l:v=l,e=f,!(f=f[h=c<<1|u]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},c.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},c.root=function(){return this._root},c.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},c.visit=function(t){var e,n,r,o,a,s,l=[],u=this._root;for(u&&l.push(new i(u,this._x0,this._y0,this._x1,this._y1));e=l.pop();)if(!t(u=e.node,r=e.x0,o=e.y0,a=e.x1,s=e.y1)&&u.length){var c=(r+a)/2,h=(o+s)/2;(n=u[3])&&l.push(new i(n,c,h,a,s)),(n=u[2])&&l.push(new i(n,r,h,c,s)),(n=u[1])&&l.push(new i(n,c,o,a,h)),(n=u[0])&&l.push(new i(n,r,o,c,h))}return this},c.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var a,s=e.x0,l=e.y0,u=e.x1,c=e.y1,h=(s+u)/2,d=(l+c)/2;(a=o[0])&&n.push(new i(a,s,l,h,d)),(a=o[1])&&n.push(new i(a,h,l,u,d)),(a=o[2])&&n.push(new i(a,s,d,h,c)),(a=o[3])&&n.push(new i(a,h,d,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},c.x=function(t){return arguments.length?(this._x=t,this):this._x},c.y=function(t){return arguments.length?(this._y=t,this):this._y}},"./node_modules/d3-timer/src/timer.js":function(t,e,n){"use strict";n.d(e,{HT:function(){return v}});var r,i,o=0,a=0,s=0,l=1e3,u=0,c=0,h=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(f(g),c=d.now()+h)}function g(){c=0}function m(){this._call=this._time=this._next=null}function v(t,e,n){var r=new m;return r.restart(t,e,n),r}function y(){c=(u=d.now())+h,o=a=0;try{!function(){p(),++o;for(var t,e=r;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,x(o)}(),c=0}}function b(){var t=d.now(),e=t-u;e>l&&(h-=e,u=t)}function x(t){o||(a&&(a=clearTimeout(a)),t-c>24?(t<1/0&&(a=setTimeout(y,t-d.now()-h)),s&&(s=clearInterval(s))):(s||(u=d.now(),s=setInterval(b,l)),o=1,f(y)))}m.prototype=v.prototype={constructor:m,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}}},"./node_modules/dagre-compound/dist/dagre-compound.es5.js":function(t,e,n){"use strict";n.r(e),n.d(e,{BRIDGE_GRAPH_NAME:function(){return s},GraphType:function(){return c},HierarchyNodeType:function(){return h},InclusionType:function(){return u},LAYOUT_CONFIG:function(){return r},NodeType:function(){return l},ROOT_NAME:function(){return a},buildGraph:function(){return da},flatGraph:function(){return fa},getEdges:function(){return pa},mergeConfig:function(){return i}});const r={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function i(t={},e=r){var n,i,o,a;const s=JSON.parse(JSON.stringify(e)),l=(null===(n=null==t?void 0:t.graph)||void 0===n?void 0:n.meta)||{},u=(null===(i=null==t?void 0:t.subScene)||void 0===i?void 0:i.meta)||{},c=(null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.meta)||{},h=(null===(a=null==t?void 0:t.nodeSize)||void 0===a?void 0:a.node)||{},d=s.nodeSize.bridge;return{graph:{meta:Object.assign(s.graph.meta,l)},subScene:{meta:Object.assign(s.subScene.meta,u)},nodeSize:{meta:Object.assign(s.nodeSize.meta,c),node:Object.assign(s.nodeSize.node,h),bridge:d}}}function o(t){return`◬${t}◬`}const a=o("ROOT"),s=o("BRIDGE_GRAPH");var l,u,c,h;!function(t){t[t.META=0]="META",t[t.NODE=1]="NODE",t[t.BRIDGE=2]="BRIDGE"}(l||(l={})),function(t){t[t.INCLUDE=0]="INCLUDE",t[t.EXCLUDE=1]="EXCLUDE",t[t.UNSPECIFIED=2]="UNSPECIFIED"}(u||(u={})),function(t){t[t.META=0]="META",t[t.CORE=1]="CORE",t[t.BRIDGE=2]="BRIDGE"}(c||(c={})),function(t){t[t.META=0]="META",t[t.OP=1]="OP",t[t.SERIES=2]="SERIES"}(h||(h={}));var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function f(t,e){return t(e={exports:{}},e.exports),e.exports}var p=function(t,e){return t===e||t!=t&&e!=e},g=function(t,e){for(var n=t.length;n--;)if(p(t[n][0],e))return n;return-1},m=Array.prototype.splice;function v(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}v.prototype.clear=function(){this.__data__=[],this.size=0},v.prototype.delete=function(t){var e=this.__data__,n=g(e,t);return!(n<0||(n==e.length-1?e.pop():m.call(e,n,1),--this.size,0))},v.prototype.get=function(t){var e=this.__data__,n=g(e,t);return n<0?void 0:e[n][1]},v.prototype.has=function(t){return g(this.__data__,t)>-1},v.prototype.set=function(t,e){var n=this.__data__,r=g(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var y,b=v,x="object"==typeof d&&d&&d.Object===Object&&d,_="object"==typeof self&&self&&self.Object===Object&&self,w=x||_||Function("return this")(),S=w.Symbol,M=Object.prototype,k=M.hasOwnProperty,E=M.toString,A=S?S.toStringTag:void 0,T=Object.prototype.toString,I=S?S.toStringTag:void 0,C=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?function(t){var e=k.call(t,A),n=t[A];try{t[A]=void 0;var r=!0}catch(t){}var i=E.call(t);return r&&(e?t[A]=n:delete t[A]),i}(t):function(t){return T.call(t)}(t)},D=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},N=function(t){if(!D(t))return!1;var e=C(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},O=w["__core-js_shared__"],L=(y=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",P=Function.prototype.toString,R=function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""},j=/^\[object .+?Constructor\]$/,z=Function.prototype,B=Object.prototype,F=z.toString,G=B.hasOwnProperty,V=RegExp("^"+F.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=function(t){return!(!D(t)||function(t){return!!L&&L in t}(t))&&(N(t)?V:j).test(R(t))},U=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Z(n)?n:void 0},H=U(w,"Map"),W=U(Object,"create"),Y=Object.prototype.hasOwnProperty,X=Object.prototype.hasOwnProperty;function q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},q.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},q.prototype.get=function(t){var e=this.__data__;if(W){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Y.call(e,t)?e[t]:void 0},q.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:X.call(e,t)},q.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=W&&void 0===e?"__lodash_hash_undefined__":e,this};var K=q,$=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}J.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(H||b),string:new K}},J.prototype.delete=function(t){var e=$(this,t).delete(t);return this.size-=e?1:0,e},J.prototype.get=function(t){return $(this,t).get(t)},J.prototype.has=function(t){return $(this,t).has(t)},J.prototype.set=function(t,e){var n=$(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Q=J;function tt(t){var e=this.__data__=new b(t);this.size=e.size}tt.prototype.clear=function(){this.__data__=new b,this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},tt.prototype.get=function(t){return this.__data__.get(t)},tt.prototype.has=function(t){return this.__data__.has(t)},tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Q(r)}return n.set(t,e),this.size=n.size,this};var et=tt,nt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},rt=function(){try{var t=U(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),it=function(t,e,n){"__proto__"==e&&rt?rt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},ot=Object.prototype.hasOwnProperty,at=function(t,e,n){var r=t[e];ot.call(t,e)&&p(r,n)&&(void 0!==n||e in t)||it(t,e,n)},st=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?it(n,s,l):at(n,s,l)}return n},lt=function(t){return null!=t&&"object"==typeof t},ut=function(t){return lt(t)&&"[object Arguments]"==C(t)},ct=Object.prototype,ht=ct.hasOwnProperty,dt=ct.propertyIsEnumerable,ft=ut(function(){return arguments}())?ut:function(t){return lt(t)&&ht.call(t,"callee")&&!dt.call(t,"callee")},pt=Array.isArray,gt=function(){return!1},mt=f((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?w.Buffer:void 0,o=(i?i.isBuffer:void 0)||gt;t.exports=o})),vt=/^(?:0|[1-9]\d*)$/,yt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&vt.test(t))&&t>-1&&t%1==0&&t<e},bt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt["[object Function]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1;var _t=function(t){return function(e){return t(e)}},wt=f((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&x.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),St=wt&&wt.isTypedArray,Mt=St?_t(St):function(t){return lt(t)&&bt(t.length)&&!!xt[C(t)]},kt=Object.prototype.hasOwnProperty,Et=function(t,e){var n=pt(t),r=!n&&ft(t),i=!n&&!r&&mt(t),o=!n&&!r&&!i&&Mt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!kt.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yt(u,l))||s.push(u);return s},At=Object.prototype,Tt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)},It=function(t,e){return function(n){return t(e(n))}},Ct=It(Object.keys,Object),Dt=Object.prototype.hasOwnProperty,Nt=function(t){if(!Tt(t))return Ct(t);var e=[];for(var n in Object(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e},Ot=function(t){return null!=t&&bt(t.length)&&!N(t)},Lt=function(t){return Ot(t)?Et(t):Nt(t)},Pt=Object.prototype.hasOwnProperty,Rt=function(t){if(!D(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Tt(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n},jt=function(t){return Ot(t)?Et(t,!0):Rt(t)},zt=f((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?w.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=o?o(n):new t.constructor(n);return t.copy(r),r}})),Bt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Ft=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Gt=function(){return[]},Vt=Object.prototype.propertyIsEnumerable,Zt=Object.getOwnPropertySymbols,Ut=Zt?function(t){return null==t?[]:(t=Object(t),Ft(Zt(t),(function(e){return Vt.call(t,e)})))}:Gt,Ht=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Wt=It(Object.getPrototypeOf,Object),Yt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ht(e,Ut(t)),t=Wt(t);return e}:Gt,Xt=function(t,e,n){var r=e(t);return pt(t)?r:Ht(r,n(t))},qt=function(t){return Xt(t,Lt,Ut)},Kt=function(t){return Xt(t,jt,Yt)},$t=U(w,"DataView"),Jt=U(w,"Promise"),Qt=U(w,"Set"),te=U(w,"WeakMap"),ee=R($t),ne=R(H),re=R(Jt),ie=R(Qt),oe=R(te),ae=C;($t&&"[object DataView]"!=ae(new $t(new ArrayBuffer(1)))||H&&"[object Map]"!=ae(new H)||Jt&&"[object Promise]"!=ae(Jt.resolve())||Qt&&"[object Set]"!=ae(new Qt)||te&&"[object WeakMap]"!=ae(new te))&&(ae=function(t){var e=C(t),n="[object Object]"==e?t.constructor:void 0,r=n?R(n):"";if(r)switch(r){case ee:return"[object DataView]";case ne:return"[object Map]";case re:return"[object Promise]";case ie:return"[object Set]";case oe:return"[object WeakMap]"}return e});var se=ae,le=Object.prototype.hasOwnProperty,ue=w.Uint8Array,ce=function(t){var e=new t.constructor(t.byteLength);return new ue(e).set(new ue(t)),e},he=/\w*$/,de=S?S.prototype:void 0,fe=de?de.valueOf:void 0,pe=function(t,e){var n=e?ce(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},ge=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ce(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function(t,e){var n=e?ce(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pe(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,he.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return fe?Object(fe.call(t)):{}}(t)}},me=Object.create,ve=function(){function t(){}return function(e){if(!D(e))return{};if(me)return me(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ye=function(t){return"function"!=typeof t.constructor||Tt(t)?{}:ve(Wt(t))},be=wt&&wt.isMap,xe=be?_t(be):function(t){return lt(t)&&"[object Map]"==se(t)},_e=wt&&wt.isSet,we=_e?_t(_e):function(t){return lt(t)&&"[object Set]"==se(t)},Se={};Se["[object Arguments]"]=Se["[object Array]"]=Se["[object ArrayBuffer]"]=Se["[object DataView]"]=Se["[object Boolean]"]=Se["[object Date]"]=Se["[object Float32Array]"]=Se["[object Float64Array]"]=Se["[object Int8Array]"]=Se["[object Int16Array]"]=Se["[object Int32Array]"]=Se["[object Map]"]=Se["[object Number]"]=Se["[object Object]"]=Se["[object RegExp]"]=Se["[object Set]"]=Se["[object String]"]=Se["[object Symbol]"]=Se["[object Uint8Array]"]=Se["[object Uint8ClampedArray]"]=Se["[object Uint16Array]"]=Se["[object Uint32Array]"]=!0,Se["[object Error]"]=Se["[object Function]"]=Se["[object WeakMap]"]=!1;var Me=function t(e,n,r,i,o,a){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),void 0!==s)return s;if(!D(e))return e;var h=pt(e);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!l)return Bt(e,s)}else{var d=se(e),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(mt(e))return zt(e,l);if("[object Object]"==d||"[object Arguments]"==d||f&&!o){if(s=u||f?{}:ye(e),!l)return u?function(t,e){return st(t,Yt(t),e)}(e,function(t,e){return t&&st(e,jt(e),t)}(s,e)):function(t,e){return st(t,Ut(t),e)}(e,function(t,e){return t&&st(e,Lt(e),t)}(s,e))}else{if(!Se[d])return o?e:{};s=ge(e,d,l)}}a||(a=new et);var p=a.get(e);if(p)return p;a.set(e,s),we(e)?e.forEach((function(i){s.add(t(i,n,r,i,e,a))})):xe(e)&&e.forEach((function(i,o){s.set(o,t(i,n,r,o,e,a))}));var g=h?void 0:(c?u?Kt:qt:u?jt:Lt)(e);return nt(g||e,(function(i,o){g&&(i=e[o=i]),at(s,o,t(i,n,r,o,e,a))})),s},ke=function(t){return function(){return t}},Ee=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}return t},Ae=function(t,e){return t&&Ee(t,e,Lt)},Te=function(t,e){return function(e,n){if(null==e)return e;if(!Ot(e))return t(e,n);for(var r=e.length,i=-1,o=Object(e);++i<r&&!1!==n(o[i],i,o););return e}}(Ae),Ie=function(t){return t},Ce=function(t){return"function"==typeof t?t:Ie},De=function(t,e){return(pt(t)?nt:Te)(t,Ce(e))},Ne=De,Oe=function(t,e){var n=[];return Te(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n};function Le(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Q;++e<n;)this.add(t[e])}Le.prototype.add=Le.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Le.prototype.has=function(t){return this.__data__.has(t)};var Pe=Le,Re=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},je=function(t,e){return t.has(e)},ze=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=2&n?new Pe:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],g=e[h];if(r)var m=a?r(g,p,h,e,t,o):r(p,g,h,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!Re(e,(function(t,e){if(!je(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){d=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d},Be=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Fe=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Ge=S?S.prototype:void 0,Ve=Ge?Ge.valueOf:void 0,Ze=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ue(t),new ue(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Be;case"[object Set]":var l=1&r;if(s||(s=Fe),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var c=ze(s(t),s(e),r,i,o,a);return a.delete(t),c;case"[object Symbol]":if(Ve)return Ve.call(t)==Ve.call(e)}return!1},Ue=Object.prototype.hasOwnProperty,He=Object.prototype.hasOwnProperty,We=function(t,e,n,r,i,o){var a=pt(t),s=pt(e),l=a?"[object Array]":se(t),u=s?"[object Array]":se(e),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=l==u;if(d&&mt(t)){if(!mt(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new et),a||Mt(t)?ze(t,e,n,r,i,o):Ze(t,e,l,n,r,i,o);if(!(1&n)){var f=c&&He.call(t,"__wrapped__"),p=h&&He.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new et),i(g,m,n,r,o)}}return!!d&&(o||(o=new et),function(t,e,n,r,i,o){var a=1&n,s=qt(t),l=s.length;if(l!=qt(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:Ue.call(e,c)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=a;++u<l;){var g=t[c=s[u]],m=e[c];if(r)var v=a?r(m,g,c,e,t,o):r(g,m,c,t,e,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))},Ye=function t(e,n,r,i,o){return e===n||(null==e||null==n||!lt(e)&&!lt(n)?e!=e&&n!=n:We(e,n,r,i,t,o))},Xe=function(t){return t==t&&!D(t)},qe=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Ke=function(t){var e=function(t){for(var e=Lt(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xe(i)]}return e}(t);return 1==e.length&&e[0][2]?qe(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var h=new et;if(r)var d=r(u,c,l,t,e,h);if(!(void 0===d?Ye(c,u,3,r,h):d))return!1}}return!0}(n,t,e)}},$e=function(t){return"symbol"==typeof t||lt(t)&&"[object Symbol]"==C(t)},Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qe=/^\w*$/,tn=function(t,e){if(pt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$e(t))||Qe.test(t)||!Je.test(t)||null!=e&&t in Object(e)};function en(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(en.Cache||Q),n}en.Cache=Q;var nn,rn=en,on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,an=/\\(\\)?/g,sn=function(t){var e=rn((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(on,(function(t,n,r,i){e.push(r?i.replace(an,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),ln=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},un=S?S.prototype:void 0,cn=un?un.toString:void 0,hn=function t(e){if("string"==typeof e)return e;if(pt(e))return ln(e,t)+"";if($e(e))return cn?cn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},dn=function(t){return null==t?"":hn(t)},fn=function(t,e){return pt(t)?t:tn(t,e)?[t]:sn(dn(t))},pn=function(t){if("string"==typeof t||$e(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},gn=function(t,e){for(var n=0,r=(e=fn(e,t)).length;null!=t&&n<r;)t=t[pn(e[n++])];return n&&n==r?t:void 0},mn=function(t,e){return null!=t&&e in Object(t)},vn=function(t,e,n){for(var r=-1,i=(e=fn(e,t)).length,o=!1;++r<i;){var a=pn(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&bt(i)&&yt(a,i)&&(pt(t)||ft(t))},yn=function(t,e){return null!=t&&vn(t,e,mn)},bn=function(t,e){return tn(t)&&Xe(e)?qe(pn(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:gn(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?yn(n,t):Ye(e,r,3)}},xn=function(t){return function(e){return null==e?void 0:e[t]}},_n=function(t){return tn(t)?xn(pn(t)):function(t){return function(e){return gn(e,t)}}(t)},wn=function(t){return"function"==typeof t?t:null==t?Ie:"object"==typeof t?pt(t)?bn(t[0],t[1]):Ke(t):_n(t)},Sn=function(t,e){return(pt(t)?Ft:Oe)(t,wn(e))},Mn=Object.prototype.hasOwnProperty,kn=function(t,e){return null!=t&&Mn.call(t,e)},En=function(t,e){return null!=t&&vn(t,e,kn)},An=Object.prototype.hasOwnProperty,Tn=function(t){return void 0===t},In=function(t,e){var n=-1,r=Ot(t)?Array(t.length):[];return Te(t,(function(t,i,o){r[++n]=e(t,i,o)})),r},Cn=function(t,e){return(pt(t)?ln:In)(t,wn(e))},Dn=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},Nn=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n},On=function(t,e,n){var r=pt(t)?Dn:Nn,i=arguments.length<3;return r(t,wn(e),n,i,Te)},Ln=xn("length"),Pn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Rn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jn="\\ud83c[\\udffb-\\udfff]",zn="[^\\ud800-\\udfff]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",Fn="[\\ud800-\\udbff][\\udc00-\\udfff]",Gn="(?:"+Rn+"|"+jn+")?",Vn="[\\ufe0e\\ufe0f]?"+Gn+"(?:\\u200d(?:"+[zn,Bn,Fn].join("|")+")[\\ufe0e\\ufe0f]?"+Gn+")*",Zn="(?:"+[zn+Rn+"?",Rn,Bn,Fn,"[\\ud800-\\udfff]"].join("|")+")",Un=RegExp(jn+"(?="+jn+")|"+Zn+Vn,"g"),Hn=function(t){return function(t){return Pn.test(t)}(t)?function(t){for(var e=Un.lastIndex=0;Un.test(t);)++e;return e}(t):Ln(t)},Wn=S?S.isConcatSpreadable:void 0,Yn=function(t){return pt(t)||ft(t)||!!(Wn&&t&&t[Wn])},Xn=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=Yn),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):Ht(o,l):i||(o[o.length]=l)}return o},qn=Math.max,Kn=function(t,e,n){return e=qn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=qn(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}},$n=rt?function(t,e){return rt(t,"toString",{configurable:!0,enumerable:!1,value:ke(e),writable:!0})}:Ie,Jn=Date.now,Qn=function(t){var e=0,n=0;return function(){var r=Jn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}($n),tr=function(t,e){return Qn(Kn(t,e,Ie),t+"")},er=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1},nr=function(t){return t!=t},rr=function(t,e){return!(null==t||!t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):er(t,nr,n)}(t,e,0)>-1},ir=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1},or=Qt&&1/Fe(new Qt([,-0]))[1]==1/0?function(t){return new Qt(t)}:function(){},ar=function(t){return lt(t)&&Ot(t)},sr=tr((function(t){return function(t,e,n){var r=-1,i=rr,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=ir;else if(o>=200){var u=e?null:or(t);if(u)return Fe(u);a=!1,i=je,l=new Pe}else l=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}(Xn(t,1,ar,!0))})),lr=function(t){return null==t?[]:function(t,e){return ln(e,(function(e){return t[e]}))}(t,Lt(t))};try{nn={clone:function(t){return Me(t,4)},constant:ke,each:Ne,filter:Sn,has:En,isArray:pt,isEmpty:function(t){if(null==t)return!0;if(Ot(t)&&(pt(t)||"string"==typeof t||"function"==typeof t.splice||mt(t)||Mt(t)||ft(t)))return!t.length;var e=se(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Tt(t))return!Nt(t).length;for(var n in t)if(An.call(t,n))return!1;return!0},isFunction:N,isUndefined:Tn,keys:Lt,map:Cn,reduce:On,size:function(t){if(null==t)return 0;if(Ot(t))return function(t){return"string"==typeof t||!pt(t)&&lt(t)&&"[object String]"==C(t)}(t)?Hn(t):t.length;var e=se(t);return"[object Map]"==e||"[object Set]"==e?t.size:Nt(t).length},transform:function(t,e,n){var r=pt(t),i=r||mt(t)||Mt(t);if(e=wn(e),null==n){var o=t&&t.constructor;n=i?r?new o:[]:D(t)&&N(o)?ve(Wt(t)):{}}return(i?nt:Ae)(t,(function(t,r,i){return e(n,t,r,i)})),n},union:sr,values:lr}}catch(r){}nn||(nn=window._);var ur=nn,cr=hr;function hr(t){this._isDirected=!ur.has(t,"directed")||t.directed,this._isMultigraph=!!ur.has(t,"multigraph")&&t.multigraph,this._isCompound=!!ur.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=ur.constant(void 0),this._defaultEdgeLabelFn=ur.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function dr(t,e){t[e]?t[e]++:t[e]=1}function fr(t,e){--t[e]||delete t[e]}function pr(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(ur.isUndefined(r)?"\0":r)}function gr(t,e){return pr(t,e.v,e.w,e.name)}hr.prototype._nodeCount=0,hr.prototype._edgeCount=0,hr.prototype.isDirected=function(){return this._isDirected},hr.prototype.isMultigraph=function(){return this._isMultigraph},hr.prototype.isCompound=function(){return this._isCompound},hr.prototype.setGraph=function(t){return this._label=t,this},hr.prototype.graph=function(){return this._label},hr.prototype.setDefaultNodeLabel=function(t){return ur.isFunction(t)||(t=ur.constant(t)),this._defaultNodeLabelFn=t,this},hr.prototype.nodeCount=function(){return this._nodeCount},hr.prototype.nodes=function(){return ur.keys(this._nodes)},hr.prototype.sources=function(){var t=this;return ur.filter(this.nodes(),(function(e){return ur.isEmpty(t._in[e])}))},hr.prototype.sinks=function(){var t=this;return ur.filter(this.nodes(),(function(e){return ur.isEmpty(t._out[e])}))},hr.prototype.setNodes=function(t,e){var n=arguments,r=this;return ur.each(t,(function(t){n.length>1?r.setNode(t,e):r.setNode(t)})),this},hr.prototype.setNode=function(t,e){return ur.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},hr.prototype.node=function(t){return this._nodes[t]},hr.prototype.hasNode=function(t){return ur.has(this._nodes,t)},hr.prototype.removeNode=function(t){var e=this;if(ur.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],ur.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),ur.each(ur.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],ur.each(ur.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},hr.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ur.isUndefined(e))e="\0";else{for(var n=e+="";!ur.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},hr.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},hr.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},hr.prototype.children=function(t){if(ur.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return ur.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},hr.prototype.predecessors=function(t){var e=this._preds[t];if(e)return ur.keys(e)},hr.prototype.successors=function(t){var e=this._sucs[t];if(e)return ur.keys(e)},hr.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return ur.union(e,this.successors(t))},hr.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},hr.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;ur.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),ur.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var r={};function i(t){var o=n.parent(t);return void 0===o||e.hasNode(o)?(r[t]=o,o):o in r?r[o]:i(o)}return this._isCompound&&ur.each(e.nodes(),(function(t){e.setParent(t,i(t))})),e},hr.prototype.setDefaultEdgeLabel=function(t){return ur.isFunction(t)||(t=ur.constant(t)),this._defaultEdgeLabelFn=t,this},hr.prototype.edgeCount=function(){return this._edgeCount},hr.prototype.edges=function(){return ur.values(this._edgeObjs)},hr.prototype.setPath=function(t,e){var n=this,r=arguments;return ur.reduce(t,(function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i})),this},hr.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,ur.isUndefined(n)||(n=""+n);var a=pr(this._isDirected,t,e,n);if(ur.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!ur.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var s=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}(this._isDirected,t,e,n);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,dr(this._preds[e],t),dr(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this},hr.prototype.edge=function(t,e,n){var r=1===arguments.length?gr(this._isDirected,arguments[0]):pr(this._isDirected,t,e,n);return this._edgeLabels[r]},hr.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?gr(this._isDirected,arguments[0]):pr(this._isDirected,t,e,n);return ur.has(this._edgeLabels,r)},hr.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?gr(this._isDirected,arguments[0]):pr(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],fr(this._preds[e],t),fr(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},hr.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=ur.values(n);return e?ur.filter(r,(function(t){return t.v===e})):r}},hr.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=ur.values(n);return e?ur.filter(r,(function(t){return t.w===e})):r}},hr.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var mr={Graph:cr,version:"2.1.8"},vr={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:yr(t),edges:br(t)};return ur.isUndefined(t.graph())||(e.value=ur.clone(t.graph())),e},read:function(t){var e=new cr(t.options).setGraph(t.value);return ur.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),ur.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}};function yr(t){return ur.map(t.nodes(),(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return ur.isUndefined(n)||(i.value=n),ur.isUndefined(r)||(i.parent=r),i}))}function br(t){return ur.map(t.edges(),(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return ur.isUndefined(e.name)||(r.name=e.name),ur.isUndefined(n)||(r.value=n),r}))}var xr=_r;function _r(){this._arr=[],this._keyIndices={}}_r.prototype.size=function(){return this._arr.length},_r.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},_r.prototype.has=function(t){return ur.has(this._keyIndices,t)},_r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},_r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},_r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!ur.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},_r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},_r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},_r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},_r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},_r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var wr=function(t,e,n,r){return function(t,e,n,r){var i,o,a={},s=new xr,l=function(t){var e=t.v!==i?t.v:t.w,r=a[e],l=n(t),u=o.distance+l;if(l<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+l);u<r.distance&&(r.distance=u,r.predecessor=i,s.decrease(e,u))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},s.add(t,n)}));s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return a}(t,String(e),n||Sr,r||function(e){return t.outEdges(e)})},Sr=ur.constant(1),Mr=function(t){var e=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach((function(t){ur.has(r,t)?r[t].onStack&&(s.lowlink=Math.min(s.lowlink,r[t].index)):(o(t),s.lowlink=Math.min(s.lowlink,r[t].lowlink))})),s.lowlink===s.index){var l,u=[];do{l=n.pop(),r[l].onStack=!1,u.push(l)}while(a!==l);i.push(u)}}return t.nodes().forEach((function(t){ur.has(r,t)||o(t)})),i},kr=ur.constant(1),Er=Ar;function Ar(t){var e={},n={},r=[];if(ur.each(t.sinks(),(function i(o){if(ur.has(n,o))throw new Tr;ur.has(e,o)||(n[o]=!0,e[o]=!0,ur.each(t.predecessors(o),i),delete n[o],r.push(o))})),ur.size(e)!==t.nodeCount())throw new Tr;return r}function Tr(){}Ar.CycleException=Tr,Tr.prototype=new Error;var Ir=function(t,e,n){ur.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return ur.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);Cr(t,e,"post"===n,o,r,i)})),i};function Cr(t,e,n,r,i,o){ur.has(r,e)||(r[e]=!0,n||o.push(e),ur.each(i(e),(function(e){Cr(t,e,n,r,i,o)})),n&&o.push(e))}var Dr,Nr={Graph:mr.Graph,json:vr,alg:{components:function(t){var e,n={},r=[];function i(r){ur.has(n,r)||(n[r]=!0,e.push(r),ur.each(t.successors(r),i),ur.each(t.predecessors(r),i))}return ur.each(t.nodes(),(function(t){e=[],i(t),e.length&&r.push(e)})),r},dijkstra:wr,dijkstraAll:function(t,e,n){return ur.transform(t.nodes(),(function(r,i){r[i]=wr(t,i,e,n)}),{})},findCycles:function(t){return ur.filter(Mr(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))},floydWarshall:function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(t,e||kr,n||function(e){return t.outEdges(e)})},isAcyclic:function(t){try{Er(t)}catch(t){if(t instanceof Er.CycleException)return!1;throw t}return!0},postorder:function(t,e){return Ir(t,e,"post")},preorder:function(t,e){return Ir(t,e,"pre")},prim:function(t,e){var n,r=new cr,i={},o=new xr;function a(t){var r=t.v===n?t.w:t.v,a=o.priority(r);if(void 0!==a){var s=e(t);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===t.nodeCount())return r;ur.each(t.nodes(),(function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)})),o.decrease(t.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),ur.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(n).forEach(a)}return r},tarjan:Mr,topsort:Er},version:mr.version};try{Dr=Nr}catch(r){}Dr||(Dr=window.graphlib);var Or,Lr=Dr,Pr=function(t,e,n){if(!D(n))return!1;var r=typeof e;return!!("number"==r?Ot(n)&&yt(e,n.length):"string"==r&&e in n)&&p(n[e],t)},Rr=Object.prototype,jr=Rr.hasOwnProperty,zr=tr((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Pr(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=jt(o),s=-1,l=a.length;++s<l;){var u=a[s],c=t[u];(void 0===c||p(c,Rr[u])&&!jr.call(t,u))&&(t[u]=o[u])}return t})),Br=/^\s+|\s+$/g,Fr=/^[-+]0x[0-9a-f]+$/i,Gr=/^0b[01]+$/i,Vr=/^0o[0-7]+$/i,Zr=parseInt,Ur=function(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if($e(t))return NaN;if(D(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=D(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Br,"");var n=Gr.test(t);return n||Vr.test(t)?Zr(t.slice(2),n?2:8):Fr.test(t)?NaN:+t}(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},Hr=Math.max,Wr=function(t){return function(e,n,r){var i=Object(e);if(!Ot(e)){var o=wn(n);e=Lt(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}((function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:function(t){var e=Ur(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=Hr(r+i,0)),er(t,wn(e),i)})),Yr=function(t){return null!=t&&t.length?Xn(t,1):[]},Xr=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!$e(a):n(a,s)))var s=a,l=o}return l},qr=function(t,e){return t>e},Kr=function(t,e,n){(void 0!==n&&!p(t[e],n)||void 0===n&&!(e in t))&&it(t,e,n)},$r=Function.prototype,Jr=Object.prototype,Qr=$r.toString,ti=Jr.hasOwnProperty,ei=Qr.call(Object),ni=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},ri=function(t,e,n,r,i,o,a){var s=ni(t,n),l=ni(e,n),u=a.get(l);if(u)Kr(t,n,u);else{var c=o?o(s,l,n+"",t,e,a):void 0,h=void 0===c;if(h){var d=pt(l),f=!d&&mt(l),p=!d&&!f&&Mt(l);c=l,d||f||p?pt(s)?c=s:ar(s)?c=Bt(s):f?(h=!1,c=zt(l,!0)):p?(h=!1,c=pe(l,!0)):c=[]:function(t){if(!lt(t)||"[object Object]"!=C(t))return!1;var e=Wt(t);if(null===e)return!0;var n=ti.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Qr.call(n)==ei}(l)||ft(l)?(c=s,ft(s)?c=function(t){return st(t,jt(t))}(s):D(s)&&!N(s)||(c=ye(l))):h=!1}h&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),Kr(t,n,c)}},ii=function t(e,n,r,i,o){e!==n&&Ee(n,(function(a,s){if(o||(o=new et),D(a))ri(e,n,s,r,t,i,o);else{var l=i?i(ni(e,s),a,s+"",e,n,o):void 0;void 0===l&&(l=a),Kr(e,s,l)}}),jt)},oi=function(t){return tr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Pr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r)}return e}))}((function(t,e,n){ii(t,e,n)})),ai=function(t,e){return t<e},si=function(t,e,n,r){if(!D(t))return t;for(var i=-1,o=(e=fn(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var l=pn(e[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=D(c)?c:yt(e[i+1])?[]:{})}at(s,l,u),s=s[l]}return t},li=function(t,e){return function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=gn(t,a);n(s,a)&&si(o,fn(a,t),s)}return o}(t,e,(function(e,n){return yn(t,n)}))},ui=function(t){return Qn(Kn(t,void 0,Yr),t+"")}((function(t,e){return null==t?{}:li(t,e)})),ci=Math.ceil,hi=Math.max,di=function(t,e,n){return n&&"number"!=typeof n&&Pr(t,e,n)&&(e=n=void 0),t=Ur(t),void 0===e?(e=t,t=0):e=Ur(e),function(t,e,n,r){for(var i=-1,o=hi(ci((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=void 0===n?t<e?1:-1:Ur(n),void 0)},fi=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=$e(t),a=void 0!==e,s=null===e,l=e==e,u=$e(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0},pi=function(t,e,n){e=e.length?ln(e,(function(t){return pt(t)?function(e){return gn(e,1===t.length?t[0]:t)}:t})):[Ie];var r=-1;e=ln(e,_t(wn));var i=In(t,(function(t,n,i){return{criteria:ln(e,(function(e){return e(t)})),index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=fi(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))},gi=tr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Pr(t,e[0],e[1])?e=[]:n>2&&Pr(e[0],e[1],e[2])&&(e=[e[0]]),pi(t,Xn(e,1),[])})),mi=0;try{Or={cloneDeep:function(t){return Me(t,5)},constant:ke,defaults:zr,each:Ne,filter:Sn,find:Wr,flatten:Yr,forEach:De,forIn:function(t,e){return null==t?t:Ee(t,Ce(e),jt)},has:En,isUndefined:Tn,last:function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},map:Cn,mapValues:function(t,e){var n={};return e=wn(e),Ae(t,(function(t,r,i){it(n,r,e(t,r,i))})),n},max:function(t){return t&&t.length?Xr(t,Ie,qr):void 0},merge:oi,min:function(t){return t&&t.length?Xr(t,Ie,ai):void 0},minBy:function(t,e){return t&&t.length?Xr(t,wn(e),ai):void 0},now:function(){return w.Date.now()},pick:ui,range:di,reduce:On,sortBy:gi,uniqueId:function(t){var e=++mi;return dn(t)+e},values:lr,zipObject:function(t,e){return function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}(t||[],e||[],at)}}}catch(r){}Or||(Or=window._);var vi=Or,yi=bi;function bi(){var t={};t._next=t._prev=t,this._sentinel=t}function xi(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function _i(t,e){if("_next"!==t&&"_prev"!==t)return e}bi.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return xi(e),e},bi.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&xi(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},bi.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,_i)),n=n._prev;return"["+t.join(", ")+"]"};var wi=Lr.Graph,Si=vi.constant(1);function Mi(t,e,n,r,i){var o=i?[]:void 0;return vi.forEach(t.inEdges(r.v),(function(r){var a=t.edge(r),s=t.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,ki(e,n,s)})),vi.forEach(t.outEdges(r.v),(function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,ki(e,n,a)})),t.removeNode(r.v),o}function ki(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var Ei=function(t){var e="greedy"===t.graph().acyclicer?function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new wi,r=0,i=0;vi.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),vi.forEach(t.edges(),(function(t){var o=n.edge(t.v,t.w)||0,a=e(t),s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)}));var o=vi.range(i+r+3).map((function(){return new yi})),a=r+1;return vi.forEach(n.nodes(),(function(t){ki(o,a,n.node(t))})),{graph:n,buckets:o,zeroIdx:a}}(t,e||Si),r=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)Mi(t,e,n,r);for(;r=o.dequeue();)Mi(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(Mi(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return vi.flatten(vi.map(r,(function(e){return t.outEdges(e.v,e.w)})),!0)}(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};return vi.forEach(t.nodes(),(function i(o){vi.has(r,o)||(r[o]=!0,n[o]=!0,vi.forEach(t.outEdges(o),(function(t){vi.has(n,t.w)?e.push(t):i(t.w)})),delete n[o])})),e}(t);vi.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,vi.uniqueId("rev"))}))},Ai=function(t){vi.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))},Ti=Lr.Graph,Ii={addDummyNode:Ci,simplify:function(t){var e=(new Ti).setGraph(t.graph());return vi.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),vi.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new Ti({multigraph:t.isMultigraph()}).setGraph(t.graph());return vi.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),vi.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=vi.map(t.nodes(),(function(e){var n={};return vi.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return vi.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=vi.map(t.nodes(),(function(e){var n={};return vi.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return vi.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,u=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=vi.map(vi.range(Di(t)+1),(function(){return[]}));return vi.forEach(t.nodes(),(function(n){var r=t.node(n),i=r.rank;vi.isUndefined(i)||(e[i][r.order]=n)})),e},normalizeRanks:function(t){var e=vi.min(vi.map(t.nodes(),(function(e){return t.node(e).rank})));vi.forEach(t.nodes(),(function(n){var r=t.node(n);vi.has(r,"rank")&&(r.rank-=e)}))},removeEmptyRanks:function(t){var e=vi.min(vi.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];vi.forEach(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=t.graph().nodeRankFactor;vi.forEach(n,(function(e,n){vi.isUndefined(e)&&n%i!=0?--r:r&&vi.forEach(e,(function(e){t.node(e).rank+=r}))}))},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Ci(t,"border",i,e)},maxRank:Di,partition:function(t,e){var n={lhs:[],rhs:[]};return vi.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){vi.now();try{return e()}finally{}},notime:function(t,e){return e()}};function Ci(t,e,n,r){var i;do{i=vi.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Di(t){return vi.max(vi.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!vi.isUndefined(n))return n})))}var Ni=function(t){t.graph().dummyChains=[],vi.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,l=t.node(s).rank,u=e.name,c=t.edge(e),h=c.labelRank;if(l!==a+1){for(t.removeEdge(e),i=0,++a;a<l;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:e,rank:a},n=Ii.addDummyNode(t,"edge",r,"_d"),a===h&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),t.setEdge(o,n,{weight:c.weight},u),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:c.weight},u)}}(t,e)}))},Oi=function(t){vi.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))},Li=function(t){var e={};vi.forEach(t.sources(),(function n(r){var i=t.node(r);if(vi.has(e,r))return i.rank;e[r]=!0;var o=vi.min(vi.map(t.outEdges(r),(function(e){return n(e.w)-t.edge(e).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},Pi=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen},Ri=Lr.Graph,ji=Pi,zi=function(t){var e,n,r=new Ri({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(r.setNode(i,{});Bi(r,t)<o;)e=Fi(r,t),n=r.hasNode(e.v)?ji(t,e):-ji(t,e),Gi(r,t,n);return r};function Bi(t,e){return vi.forEach(t.nodes(),(function n(r){vi.forEach(e.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||ji(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))}))})),t.nodeCount()}function Fi(t,e){return vi.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return ji(e,n)}))}function Gi(t,e,n){vi.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}var Vi=Pi,Zi=Li,Ui=Lr.alg.preorder,Hi=Lr.alg.postorder,Wi=Ii.simplify,Yi=Xi;function Xi(t){t=Wi(t),Zi(t);var e,n=zi(t);for($i(n),qi(n,t);e=Qi(n);)eo(n,t,e,to(n,t,e))}function qi(t,e){var n=Hi(t,t.nodes());n=n.slice(0,n.length-1),vi.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=Ki(t,e,n)}(t,e,n)}))}function Ki(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),a=0;return o||(i=!1,o=e.edge(r,n)),a=o.weight,vi.forEach(e.nodeEdges(n),(function(o){var s,l,u=o.v===n,c=u?o.w:o.v;if(c!==r){var h=u===i,d=e.edge(o).weight;if(a+=h?d:-d,s=n,l=c,t.hasEdge(s,l)){var f=t.edge(n,c).cutvalue;a+=h?-f:f}}})),a}function $i(t,e){arguments.length<2&&(e=t.nodes()[0]),Ji(t,{},1,e)}function Ji(t,e,n,r,i){var o=n,a=t.node(r);return e[r]=!0,vi.forEach(t.neighbors(r),(function(i){vi.has(e,i)||(n=Ji(t,e,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function Qi(t){return vi.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function to(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=vi.filter(e.edges(),(function(e){return l===no(t,t.node(e.v),s)&&l!==no(t,t.node(e.w),s)}));return vi.minBy(u,(function(t){return Vi(e,t)}))}function eo(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),$i(t),qi(t,e),function(t,e){var n=vi.find(t.nodes(),(function(t){return!e.node(t).parent})),r=Ui(t,n);r=r.slice(1),vi.forEach(r,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function no(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}Xi.initLowLimValues=$i,Xi.initCutValues=qi,Xi.calcCutValue=Ki,Xi.leaveEdge=Qi,Xi.enterEdge=to,Xi.exchangeEdges=eo;var ro=Li,io=ro;function oo(t){Yi(t)}var ao=function(t){var e=Ii.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&vi.forEach(o,(function(t){n(t,i+1)})),e[r]=i}return vi.forEach(t.children(),(function(t){n(t,1)})),e}(t),r=vi.max(vi.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,vi.forEach(t.edges(),(function(e){t.edge(e).minlen*=i}));var o=function(t){return vi.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;vi.forEach(t.children(),(function(a){lo(t,e,i,o,r,n,a)})),t.graph().nodeRankFactor=i},so=function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,vi.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))};function lo(t,e,n,r,i,o,a){var s=t.children(a);if(s.length){var l=Ii.addBorderNode(t,"_bt"),u=Ii.addBorderNode(t,"_bb"),c=t.node(a);t.setParent(l,a),c.borderTop=l,t.setParent(u,a),c.borderBottom=u,vi.forEach(s,(function(s){lo(t,e,n,r,i,o,s);var c=t.node(s),h=c.borderTop?c.borderTop:s,d=c.borderBottom?c.borderBottom:s,f=c.borderTop?r:2*r,p=h!==d?1:i-o[a]+1;t.setEdge(l,h,{weight:f,minlen:p,nestingEdge:!0}),t.setEdge(d,u,{weight:f,minlen:p,nestingEdge:!0})})),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:i+o[a]})}else a!==e&&t.setEdge(e,a,{weight:0,minlen:n})}function uo(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],l=Ii.addDummyNode(t,"border",a,n);i[e][o]=l,t.setParent(l,r),s&&t.setEdge(s,l,{weight:1})}var co=function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||fo(t)},ho=function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){vi.forEach(t.nodes(),(function(e){go(t.node(e))})),vi.forEach(t.edges(),(function(e){var n=t.edge(e);vi.forEach(n.points,go),vi.has(n,"y")&&go(n)}))}(t),"lr"!==e&&"rl"!==e||(function(t){vi.forEach(t.nodes(),(function(e){mo(t.node(e))})),vi.forEach(t.edges(),(function(e){var n=t.edge(e);vi.forEach(n.points,mo),vi.has(n,"x")&&mo(n)}))}(t),fo(t))};function fo(t){vi.forEach(t.nodes(),(function(e){po(t.node(e))})),vi.forEach(t.edges(),(function(e){po(t.edge(e))}))}function po(t){var e=t.width;t.width=t.height,t.height=e}function go(t){t.y=-t.y}function mo(t){var e=t.x;t.x=t.y,t.y=e}var vo=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=yo(t,e[r-1],e[r]);return n};function yo(t,e,n){for(var r=vi.zipObject(n,vi.map(n,(function(t,e){return e}))),i=vi.flatten(vi.map(e,(function(e){return vi.sortBy(vi.map(t.outEdges(e),(function(e){return{pos:r[e.w],weight:t.edge(e).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=vi.map(new Array(a),(function(){return 0})),l=0;return vi.forEach(i.forEach((function(t){var e=t.pos+o;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;l+=t.weight*n}))),l}function bo(t,e,n){for(var r;e.length&&(r=vi.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var xo=function t(e,n,r,i){var o=e.children(n),a=e.node(n),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(o=vi.filter(o,(function(t){return t!==s&&t!==l})));var c=function(t,e){return vi.map(e,(function(e){var n=t.inEdges(e);if(n.length){var r=vi.reduce(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}}))}(e,o);vi.forEach(c,(function(n){if(e.children(n.v).length){var o=t(e,n.v,r,i);u[n.v]=o,vi.has(o,"barycenter")&&(a=n,s=o,vi.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var h=function(t,e){var n={};return vi.forEach(t,(function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};vi.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)})),vi.forEach(e.edges(),(function(t){var e=n[t.v],r=n[t.w];vi.isUndefined(e)||vi.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(vi.isUndefined(e.barycenter)||vi.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),vi.forEach(i.in.reverse(),n(i)),vi.forEach(i.out,r(i))}return vi.map(vi.filter(e,(function(t){return!t.merged})),(function(t){return vi.pick(t,["vs","i","barycenter","weight"])}))}(vi.filter(n,(function(t){return!t.indegree})))}(c,r);!function(t,e){vi.forEach(t,(function(t){t.vs=vi.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(h,u);var d=function(t,e){var n,r=Ii.partition(t,(function(t){return vi.has(t,"barycenter")})),i=r.lhs,o=vi.sortBy(r.rhs,(function(t){return-t.i})),a=[],s=0,l=0,u=0;i.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),u=bo(a,o,u),vi.forEach(i,(function(t){u+=t.vs.length,a.push(t.vs),s+=t.barycenter*t.weight,l+=t.weight,u=bo(a,o,u)}));var c={vs:vi.flatten(a,!0)};return l&&(c.barycenter=s/l,c.weight=l),c}(h,i);if(s&&(d.vs=vi.flatten([s,d.vs,l],!0),e.predecessors(s).length)){var f=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(l)[0]);vi.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d},_o=Lr.Graph,wo=Lr.Graph,So=function(t){var e=Ii.maxRank(t),n=Mo(t,vi.range(1,e+1),"inEdges"),r=Mo(t,vi.range(e-1,-1,-1),"outEdges"),i=function(t){var e={},n=vi.filter(t.nodes(),(function(e){return!t.children(e).length})),r=vi.max(vi.map(n,(function(e){return t.node(e).rank}))),i=vi.map(vi.range(r+1),(function(){return[]})),o=vi.sortBy(n,(function(e){return t.node(e).rank}));return vi.forEach(o,(function n(r){if(!vi.has(e,r)){e[r]=!0;var o=t.node(r);i[o.rank].push(r),vi.forEach(t.successors(r),n)}})),i}(t);Eo(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){ko(s%2?n:r,s%4>=2),i=Ii.buildLayerMatrix(t);var u=vo(t,i);u<a&&(l=0,o=vi.cloneDeep(i),a=u)}Eo(t,o)};function Mo(t,e,n){return vi.map(e,(function(e){return function(t,e,n){var r=function(t){for(var e;t.hasNode(e=vi.uniqueId("_root")););return e}(t),i=new _o({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(e){return t.node(e)}));return vi.forEach(t.nodes(),(function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),vi.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),a=vi.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+a})})),vi.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))})),i}(t,e,n)}))}function ko(t,e){var n=new wo;vi.forEach(t,(function(t){var r=t.graph().root,i=xo(t,r,n,e);vi.forEach(i.vs,(function(e,n){t.node(e).order=n})),function(t,e,n){var r,i={};vi.forEach(n,(function(n){for(var o,a,s=t.parent(n);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}}))}(t,n,i.vs)}))}function Eo(t,e){vi.forEach(e,(function(e){vi.forEach(e,(function(e,n){t.node(e).order=n}))}))}var Ao=Lr.Graph;function To(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function Io(t,e,n){if(e>n){var r=e;e=n,n=r}return vi.has(t[e],n)}var Co=function(t){var e,n=Ii.buildLayerMatrix(t),r=vi.merge(function(t,e){var n={};return vi.reduce(e,(function(e,r){var i=0,o=0,a=e.length,s=vi.last(r);return vi.forEach(r,(function(e,l){var u=function(t,e){if(t.node(e).dummy)return vi.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),c=u?t.node(u).order:a;(u||e===s)&&(vi.forEach(r.slice(o,l+1),(function(e){vi.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||c<a)||o.dummy&&t.node(e).dummy||To(n,r,e)}))})),o=l+1,i=c)})),r})),n}(t,n),function(t,e){var n={};function r(e,r,i,o,a){var s;vi.forEach(vi.range(r,i),(function(r){s=e[r],t.node(s).dummy&&vi.forEach(t.predecessors(s),(function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>a)&&To(n,e,s)}))}))}return vi.reduce(e,(function(e,n){var i,o=-1,a=0;return vi.forEach(n,(function(s,l){if("border"===t.node(s).dummy){var u=t.predecessors(s);u.length&&(i=t.node(u[0]).order,r(n,a,l,o,i),a=l,o=i)}r(n,a,n.length,i,e.length)})),n})),n}(t,n)),i={};vi.forEach(["u","d"],(function(o){e="u"===o?n:vi.values(n).reverse(),vi.forEach(["l","r"],(function(n){"r"===n&&(e=vi.map(e,(function(t){return vi.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=function(t,e,n,r){var i={},o={},a={};return vi.forEach(e,(function(t){vi.forEach(t,(function(t,e){i[t]=t,o[t]=t,a[t]=e}))})),vi.forEach(e,(function(t){var e=-1;vi.forEach(t,(function(t){var s=r(t);if(s.length)for(var l=((s=vi.sortBy(s,(function(t){return a[t]}))).length-1)/2,u=Math.floor(l),c=Math.ceil(l);u<=c;++u){var h=s[u];o[t]===t&&e<a[h]&&!Io(n,t,h)&&(o[h]=t,o[t]=i[t]=i[h],e=a[h])}}))})),{root:i,align:o}}(0,e,r,a),l=function(t,e,n,r,i){var o={},a=function(t,e,n,r){var i=new Ao,o=t.graph(),a=function(t,e,n){return function(r,i,o){var a,s=r.node(i),l=r.node(o),u=0;if(u+=s.width/2,vi.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=n?a:-a),a=0,u+=(s.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,vi.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(u+=n?a:-a),a=0,u}}(o.nodesep,o.edgesep,r);return vi.forEach(e,(function(e){var r;vi.forEach(e,(function(e){var o=n[e];if(i.setNode(o),r){var s=n[r],l=i.edge(s,o);i.setEdge(s,o,Math.max(a(t,e,r),l||0))}r=e}))})),i}(t,e,n,i),s=i?"borderLeft":"borderRight";function l(t,e){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return l((function(t){o[t]=a.inEdges(t).reduce((function(t,e){return Math.max(t,o[e.v]+a.edge(e))}),0)}),a.predecessors.bind(a)),l((function(e){var n=a.outEdges(e).reduce((function(t,e){return Math.min(t,o[e.w]-a.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[e]=Math.max(o[e],n))}),a.successors.bind(a)),vi.forEach(r,(function(t){o[t]=o[n[t]]})),o}(t,e,s.root,s.align,"r"===n);"r"===n&&(l=vi.mapValues(l,(function(t){return-t}))),i[o+n]=l}))}));var o=function(t,e){return vi.minBy(vi.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return vi.forIn(e,(function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)})),n-r}))}(t,i);return function(t,e){var n=vi.values(e),r=vi.min(n),i=vi.max(n);vi.forEach(["u","d"],(function(n){vi.forEach(["l","r"],(function(o){var a,s=n+o,l=t[s];if(l!==e){var u=vi.values(l);(a="l"===o?r-vi.min(u):i-vi.max(u))&&(t[s]=vi.mapValues(l,(function(t){return t+a})))}}))}))}(i,o),function(t,e){return vi.mapValues(t.ul,(function(n,r){if(e)return t[e.toLowerCase()][r];var i=vi.sortBy(vi.map(t,r));return(i[1]+i[2])/2}))}(i,t.graph().align)},Do=Ii.normalizeRanks,No=Ii.removeEmptyRanks,Oo=Ii,Lo=Lr.Graph,Po=["nodesep","edgesep","ranksep","marginx","marginy"],Ro={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},jo=["acyclicer","ranker","rankdir","align"],zo=["width","height"],Bo={width:0,height:0},Fo=["minlen","weight","width","height","labeloffset"],Go={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Vo=["labelpos"];function Zo(t,e){return vi.mapValues(vi.pick(t,e),Number)}function Uo(t){var e={};return vi.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}var Ho=Lr.Graph,Wo={graphlib:Lr,layout:function(t,e){var n=e&&e.debugTiming?Oo.time:Oo.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new Lo({multigraph:!0,compound:!0}),n=Uo(t.graph());return e.setGraph(vi.merge({},Ro,Zo(n,Po),vi.pick(n,jo))),vi.forEach(t.nodes(),(function(n){var r=Uo(t.node(n));e.setNode(n,vi.defaults(Zo(r,zo),Bo)),e.setParent(n,t.parent(n))})),vi.forEach(t.edges(),(function(n){var r=Uo(t.edge(n));e.setEdge(n,vi.merge({},Go,Zo(r,Fo),vi.pick(r,Vo)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,vi.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){vi.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){Ei(t)})),e("    nestingGraph.run",(function(){ao(t)})),e("    rank",(function(){!function(t){switch(t.graph().ranker){case"network-simplex":default:oo(t);break;case"tight-tree":!function(t){ro(t),zi(t)}(t);break;case"longest-path":io(t)}}(Oo.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){vi.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};Oo.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){No(t)})),e("    nestingGraph.cleanup",(function(){so(t)})),e("    normalizeRanks",(function(){Do(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;vi.forEach(t.nodes(),(function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=vi.max(e,r.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){vi.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){Ni(t)})),e("    parentDummyChains",(function(){!function(t){var e=function(t){var e={},n=0;return vi.forEach(t.children(),(function r(i){var o=n;vi.forEach(t.children(i),r),e[i]={low:o,lim:n++}})),e}(t);vi.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||u>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=t.node(n),c){for(;(u=a[l])!==s&&t.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&t.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}t.setParent(n,u),n=t.successors(n)[0]}}))}(t)})),e("    addBorderSegments",(function(){!function(t){vi.forEach(t.children(),(function e(n){var r=t.children(n),i=t.node(n);if(r.length&&vi.forEach(r,e),vi.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)uo(t,"borderLeft","_bl",n,i,o),uo(t,"borderRight","_br",n,i,o)}}))}(t)})),e("    order",(function(){So(t)})),e("    insertSelfEdges",(function(){!function(t){var e=Oo.buildLayerMatrix(t);vi.forEach(e,(function(e){var n=0;vi.forEach(e,(function(e,r){var i=t.node(e);i.order=r+n,vi.forEach(i.selfEdges,(function(e){Oo.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){co(t)})),e("    position",(function(){!function(t){(function(t){var e=Ii.buildLayerMatrix(t),n=t.graph().ranksep,r=0;vi.forEach(e,(function(e){var i=vi.max(vi.map(e,(function(e){return t.node(e).height})));vi.forEach(e,(function(e){t.node(e).y=r+i/2})),r+=i+n}))})(t=Ii.asNonCompoundGraph(t)),vi.forEach(Co(t),(function(e,n){t.node(n).x=e}))}(t)})),e("    positionSelfEdges",(function(){!function(t){vi.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){vi.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(vi.last(n.borderLeft)),a=t.node(vi.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),vi.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){Oi(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){vi.forEach(t.edges(),(function(e){var n=t.edge(e);if(vi.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){ho(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0;function l(t){var o=t.x,a=t.y,s=t.width,l=t.height;e=Math.min(e,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-l/2),i=Math.max(i,a+l/2)}vi.forEach(t.nodes(),(function(e){l(t.node(e))})),vi.forEach(t.edges(),(function(e){var n=t.edge(e);vi.has(n,"x")&&l(n)})),e-=a,r-=s,vi.forEach(t.nodes(),(function(n){var i=t.node(n);i.x-=e,i.y-=r})),vi.forEach(t.edges(),(function(n){var i=t.edge(n);vi.forEach(i.points,(function(t){t.x-=e,t.y-=r})),vi.has(i,"x")&&(i.x-=e),vi.has(i,"y")&&(i.y-=r)})),o.width=n-e+a,o.height=i-r+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){vi.forEach(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Oo.intersectRect(o,n)),i.points.push(Oo.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){vi.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){Ai(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){vi.forEach(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),vi.forEach(t.edges(),(function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,vi.has(i,"x")&&(r.x=i.x,r.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))},debug:{debugOrdering:function(t){var e=Ii.buildLayerMatrix(t),n=new Ho({compound:!0,multigraph:!0}).setGraph({});return vi.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),vi.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),vi.forEach(e,(function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),vi.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}},util:{time:Ii.time,notime:Ii.notime},version:"0.8.5"},Yo=Wo.graphlib,Xo=Wo.layout;class qo{constructor(t){this.cardinality=1,this.include=u.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=l.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height}}class Ko{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}class $o{constructor(t,e={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=u.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=l.META,this.path=[],this.name=t,this.metaGraph=ea(t,c.META,e)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map((t=>this.metaGraph.node(t)))}leaves(){let t,e=[],n=[this];for(;n.length;){let r=n.shift();r.isGroupNode?(t=r.metaGraph,t.nodes().forEach((e=>n.push(t.node(e))))):e.push(r.name)}return e}}class Jo{constructor(t,e){this.v=t,this.w=e,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(t,e){this.baseEdgeList.push(t)}}function Qo(t,e={}){return new $o(t,e)}function ta(t,e){return new Jo(t,e)}function ea(t,e,n){const r=n||{},i=new Yo.Graph(r);return i.setGraph({name:t,rankdir:r.rankdir,type:e,align:r.align}),i}class na{constructor(t={}){this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=Qo(a,this.graphOptions),this.index[a]=this.root}getNodeMap(){return this.index}node(t){return this.index[t]}setNode(t,e){this.index[t]=e}getBridgeGraph(t){const e=this.index[t];if(!e)throw Error("Could not find node in hierarchy: "+t);if(!("metaGraph"in e))return null;const n=e;if(n.bridgeGraph)return n.bridgeGraph;const r=ea(s,c.BRIDGE,this.graphOptions);if(n.bridgeGraph=r,!e.parentNode||!("metaGraph"in e.parentNode))return r;const i=e.parentNode;return[i.metaGraph,this.getBridgeGraph(i.name)].forEach((e=>{e.edges().filter((e=>e.v===t||e.w===t)).forEach((n=>{const i=n.w===t;e.edge(n).baseEdgeList.forEach((e=>{const[o,a]=i?[e.w,n.v]:[e.v,n.w],s=this.getChildName(t,o),l={v:i?a:s,w:i?s:a};let u=r.edge(l);u||(u=ta(l.v,l.w),u.inbound=i,r.setEdge(l.v,l.w,u)),u.addBaseEdge(e,this)}))}))})),r}getChildName(t,e){let n=this.index[e];for(;n;){if(n.parentNode&&n.parentNode.name===t)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+e)}getPredecessors(t){const e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!0)}getSuccessors(t){const e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!1)}getOneWayEdges(t,e){const n=[];if(!t.parentNode||!t.parentNode.isGroupNode)return n;const r=t.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return ra(i,t,e,n),ra(o,t,e,n),n}}function ra(t,e,n,r){(n?t.inEdges(e.name):t.outEdges(e.name)).forEach((e=>{const n=t.edge(e);r.push(n)}))}class ia{constructor(t){this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new sa(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(t){if(t in this.hasSubHierarchy)return;this.hasSubHierarchy[t]=!0;const e=this.index[t];if(e.node.type!==l.META)return;const n=e,r=n.node.metaGraph,i=n.coreGraph;r.nodes().forEach((t=>{const e=this.getOrCreateRenderNodeByName(t);i.setNode(t,e)})),r.edges().forEach((t=>{const e=r.edge(t),n=new aa(e);i.setEdge(t.v,t.w,n)}));const o=n.node.parentNode;if(!o)return;const a=this.getRenderNodeByName(o.name),s=(t,...e)=>e.concat([t?"IN":"OUT"]).join("~~"),c=this.hierarchy.getBridgeGraph(t);c.edges().forEach((e=>{const n=c.edge(e),h=!!r.node(e.w),[d,f]=h?[e.w,e.v]:[e.v,e.w],p=e=>{const n=h?{v:e,w:t}:{v:t,w:e};return a.coreGraph.edge(n)};let g=p(f);g||(g=p(s(h,f,o.name)));const m=s(h,t),v=s(h,f,t);let y=i.node(v);if(!y){let t=i.node(m);if(!t){const e={name:m,type:l.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:u.UNSPECIFIED,inbound:h,attr:{}};t=new oa(e),this.index[m]=t,i.setNode(m,t)}const e={name:v,type:l.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:u.UNSPECIFIED,inbound:h,attr:{}};y=new oa(e),this.index[v]=y,i.setNode(v,y),i.setParent(v,m),t.node.cardinality++}const b=new aa(n);b.adjoiningMetaEdge=g,h?i.setEdge(v,d,b):i.setEdge(d,v,b)}))}getOrCreateRenderNodeByName(t){if(!t)return null;if(t in this.index)return this.index[t];const e=this.getNodeByName(t);return e?(this.index[t]=e.isGroupNode?new sa(e,this.hierarchy.graphOptions):new oa(e),this.index[t]):null}getRenderNodeByName(t){return this.index[t]}getNodeByName(t){return this.hierarchy.node(t)}}class oa{constructor(t){this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr}}class aa{constructor(t){this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class sa extends oa{constructor(t,e){super(t);const n=t.metaGraph.graph();e.compound=!0,this.coreGraph=ea(n.name,c.CORE,e)}}function la(t,e){t.node.isGroupNode&&function(t,e){const n=i(e);t.coreGraph.nodes().map((e=>t.coreGraph.node(e))).forEach((t=>{var r,i,o,a,s,u;const{height:c,width:h}=t;switch(t.node.type){case l.NODE:Object.assign(t,n.nodeSize.node),t.height=c||n.nodeSize.node.height,t.width=h||n.nodeSize.node.width;break;case l.BRIDGE:Object.assign(t,n.nodeSize.bridge);break;case l.META:t.expanded?la(t,e):(Object.assign(t,n.nodeSize.meta),t.height=n.nodeSize.meta.height,t.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+t.node.type)}if(!t.expanded){const n=t.attr;!function(t,e=!1){if(t.coreBox.width=t.width,t.coreBox.height=t.height,!e){const e=`${t.displayName}`.length,n=3;t.width=Math.max(t.coreBox.width,e*n)}}(t,e&&(0===t.node.type&&!!(null===(i=null===(r=null==e?void 0:e.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===t.node.type&&(!!(null===(a=null===(o=null==e?void 0:e.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!n.width)||2===t.node.type&&!!(null===(u=null===(s=null==e?void 0:e.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}}))}(t,e),t.node.type===l.META&&function(t,e){const n=i(e),r=n.subScene.meta;Object.assign(t,r);const{nodeSep:o,rankSep:a,edgeSep:s,align:u}=n.graph.meta,c={nodesep:o,ranksep:a,edgesep:s,align:u};Object.assign(t.coreBox,function(t,e){const{ranksep:n,nodesep:r,edgesep:i,align:o}=e;Object.assign(t.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});const a=[];if(t.nodes().forEach((e=>{t.node(e).node.type!==l.BRIDGE&&a.push(e)})),!a.length)return{width:0,height:0};Xo(t);let s=1/0,u=1/0,c=-1/0,h=-1/0;return a.forEach((e=>{const n=t.node(e),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,c=o>c?o:c;const a=.5*n.height,l=n.y-a,d=n.y+a;u=l<u?l:u,h=d>h?d:h})),t.edges().forEach((e=>{const n=t.edge(e),r=t.node(n.metaEdge.v),i=t.node(n.metaEdge.w);if(3===n.points.length&&function(t){let e=ua(t[0],t[1]);for(let n=1;n<t.length-1;n++){const r=ua(t[n],t[n+1]);if(Math.abs(r-e)>1)return!1;e=r}return!0}(n.points)){if(null!=r){const t=r.expanded?r.x:ca(r);n.points[0].x=t}if(null!=i){const t=i.expanded?i.x:ca(i);n.points[2].x=t}n.points=[n.points[0],n.points[1]]}const o=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=ha(o,i));const a=n.points[1];null!=r&&(n.points[0]=ha(a,r)),n.points.forEach((t=>{s=t.x<s?t.x:s,c=t.x>c?t.x:c,u=t.y<u?t.y:u,h=t.y>h?t.y:h}))})),t.nodes().forEach((e=>{const n=t.node(e);n.x-=s,n.y-=u})),t.edges().forEach((e=>{t.edge(e).points.forEach((t=>{t.x-=s,t.y-=u}))})),{width:c-s,height:h-u}}(t.coreGraph,c));let h=0;t.coreGraph.nodeCount()>0&&h++;const d=h<=1?0:h;t.coreBox.width+=d+d,t.coreBox.height=r.labelHeight+t.coreBox.height,t.width=t.coreBox.width+r.paddingLeft+r.paddingRight,t.height=t.paddingTop+t.coreBox.height+t.paddingBottom}(t,e)}function ua(t,e){const n=e.x-t.x,r=e.y-t.y;return 180*Math.atan(r/n)/Math.PI}function ca(t){return t.expanded?t.x:t.x-t.width/2+0+t.coreBox.width/2}function ha(t,e){const n=e.expanded?e.x:ca(e),r=e.y,i=t.x-n,o=t.y-r;let a,s,l=e.expanded?e.width:e.coreBox.width,u=e.expanded?e.height:e.coreBox.height;return Math.abs(o)*l/2>Math.abs(i)*u/2?(o<0&&(u=-u),a=0===o?0:u/2*i/o,s=u/2):(i<0&&(l=-l),a=l/2,s=0===i?0:l/2*o/i),{x:n+a,y:r+s}}function da(t,e,n){var i,o,a,s;const l=t.nodes.filter(((t,e,n)=>n.findIndex((e=>e.id===t.id))!==e)).map((t=>t.id));if(l.length)throw new Error(`Duplicated ids found: ${l.join(", ")}`);const u=function(t){const e={nodes:[]},n=t.compound,r=Object.keys(n||{}),i=new Map,o=(t,e=[])=>{if(i.has(t))return i.get(t);for(let i=0;i<r.length;i++){let a=r[i];if(n&&-1!==n[a].indexOf(t))return e.unshift(a),o(a,e)}return 0===e.length&&i.set(t,e),e},a=e=>t.edges.filter((t=>t.w===e)).map((t=>({name:t.v})));return t.nodes.forEach((t=>{const n=t.id,r=[...o(n),n];let i=a(n);e.nodes.push({name:n,path:r,inputs:i,width:t.width,height:t.height,attr:Object.assign({},t)})})),e}(t),c=function(t,e){const n=(t,e)=>{for(let n of e.values())if(n.includes(t))return!0;return!1},r=(t,e=[])=>{if(0===Object.keys(t).length)return[...new Set(e)];const i=new Map(Object.keys(t).map((e=>[e,t[e]]))),o={};for(let[t,r]of i)n(t,i)?o[t]=r:e=e.concat(t,r);return r(o,e)};return r(t).filter((t=>e.includes(t)))}(t.compound||{},(null==e?void 0:e.expanded)||[]),h=function(t,e){return function(t){return new ia(t)}(function(t,e){const{rankDirection:n,align:r}=e,i=new na({rankdir:n,align:r});return function(t,e){Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n],i=r.path;let o=t.root;o.depth=Math.max(i.length,o.depth);for(let e=0;e<i.length&&(o.depth=Math.max(o.depth,i.length-e),o.cardinality+=r.cardinality,e!==i.length-1);e++){const n=i[e];let a=t.node(n);a||(a=Qo(n,t.graphOptions),a.path=r.path.slice(0,e+1),a.parentNode=o,t.setNode(n,a),o.metaGraph.setNode(n,a)),o=a}t.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)}))}(i,t),function(t,e){const n=t.getNodeMap();let r=[],i=[];const o=(t,e)=>{let n=0;for(;t;)e[n++]=t.name,t=t.parentNode;return n-1};e.edges.forEach((a=>{r=[],i=[];let s=o(e.nodes[a.v],r),l=o(e.nodes[a.w],i);for(;r[s]===i[l];)if(s--,l--,s<0||l<0)throw Error("No difference found between ancestor paths.");const u=n[r[s+1]],c=r[s],h=i[l];let d=u.metaGraph.edge(c,h);d||(d=ta(c,h),u.metaGraph.setEdge(c,h,d)),d.addBaseEdge(a,t)}))}(i,t),i}(function(t){const e=new Ko;return t.nodes.map((t=>new qo(t))).forEach((t=>{e.nodes[t.name]=t,t.inputs.forEach((n=>{!function(t,e,n){n.name!==e.name&&t.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:e.name}))}(e,t,n)}))})),e}(t),e))}(u,{rankDirection:(null===(o=null===(i=null==n?void 0:n.graph)||void 0===i?void 0:i.meta)||void 0===o?void 0:o.rankDir)||(null==e?void 0:e.rankDirection)||r.graph.meta.rankDir,align:(null===(s=null===(a=null==n?void 0:n.graph)||void 0===a?void 0:a.meta)||void 0===s?void 0:s.align)||r.graph.meta.align});return function(t,e){e.forEach((e=>{const n=t.getRenderInfoNodes().find((t=>t.displayName===e));let r=n&&n.node&&n.node.name||"";const i=t.getRenderNodeByName(r);if(!i)throw new Error(`No nodes found: ${r}`);i.expanded=!0,t.buildSubHierarchy(r)}))}(h,c),la(h.root,n),ga(h.root)}function fa(t,e=!1){const n=JSON.parse(JSON.stringify(t)),r={nodes:[n],edges:[...n.edges]};return n.nodes.forEach((function t(e){(0===e.type||1===e.type)&&r.nodes.push(e),0===e.type&&(r.edges=r.edges.concat(e.edges)),Array.isArray(e.nodes)&&e.nodes.forEach(t)})),e&&r.nodes.forEach((t=>{const e=r.nodes.find((e=>e.id===t.parentNodeName));if(e){const n=e.x-e.width/2+e.paddingLeft,r=e.y-e.height/2+e.labelHeight+e.paddingTop;e.id!==a&&(t.x+=n,t.y+=r),0===t.type&&t.edges.forEach((e=>{e.points.forEach((e=>{e.x+=t.x-t.width/2+t.paddingLeft,e.y+=t.y-t.height/2+t.labelHeight+t.paddingTop}))}))}})),r}function pa(t,e,n,r){var i,o;let s=[];const l=(null===(i=n.find((e=>e.id===t)))||void 0===i?void 0:i.path)||[],u=(null===(o=n.find((t=>t.id===e)))||void 0===o?void 0:o.path)||[],c=[a,...l].slice(0,l.length).reverse(),h=[a,...u].slice(0,u.length);return c.forEach((i=>{const o=n.find((t=>t.id===i));s=s.concat(o.edges.filter((n=>n.baseEdgeList.some((n=>n.v===((null==r?void 0:r.v)||t)&&n.w===((null==r?void 0:r.w)||e))))))})),h.filter((t=>!c.includes(t))).forEach((i=>{const o=n.find((t=>t.id===i));s=s.concat(o.edges.filter((n=>n.baseEdgeList.some((n=>n.v===((null==r?void 0:r.v)||t)&&n.w===((null==r?void 0:r.w)||e))))))})),s}function ga(t){const e=t.coreGraph.nodes().map((e=>t.coreGraph.node(e)));return Object.assign(Object.assign({},ma(t)),{expanded:t.expanded,nodes:t.expanded?(n=e,n.map((t=>t.node.type===l.META?ga(t):ma(t)))):[],edges:t.expanded?va(t):[]});var n}function ma(t){return{id:t.node.name,name:t.node.name,type:t.node.type,cardinality:t.node.cardinality,attr:t.attr,parentNodeName:t.node.parentNode?t.node.parentNode.name:null,coreBox:Object.assign({},t.coreBox),x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius,labelHeight:t.labelHeight,labelOffset:t.labelOffset,outboxWidth:t.outboxWidth,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,paddingRight:t.paddingRight,paddingBottom:t.paddingBottom,path:t.node.path}}function va(t){return t.coreGraph.edges().map((e=>({renderInfoEdge:t.coreGraph.edge(e),edge:e}))).filter((({renderInfoEdge:t})=>t.metaEdge)).map((({edge:e,renderInfoEdge:n})=>{const r=function(t,e){const n=e.points.map((t=>Object.assign({},t)));if(e.adjoiningMetaEdge){const r=e.adjoiningMetaEdge.points,i=e.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=t.x-t.width/2,l=t.y-t.height/2,u=o.x-s,c=o.y-l,h=-t.paddingLeft,d=-(t.paddingTop+t.labelHeight);a.x=u+h,a.y=c+d}return n}(t,n);return{adjoiningEdge:n.adjoiningMetaEdge?{w:n.adjoiningMetaEdge.metaEdge.w,v:n.adjoiningMetaEdge.metaEdge.v}:null,inbound:n.metaEdge.inbound,w:e.w,v:e.v,points:r,weight:n.weight,baseEdgeList:n.metaEdge.baseEdgeList,parentNodeName:t.node.name}}))}},"./node_modules/echarts/index.js":function(t,e,n){"use strict";n.d(e,{Q:function(){return i.Q},S1:function(){return i.S1}});var r=n("./node_modules/echarts/lib/extension.js"),i=n("./node_modules/echarts/lib/export/core.js"),o=n("./node_modules/echarts/lib/renderer/installCanvasRenderer.js"),a=n("./node_modules/zrender/lib/svg/helper.js"),s=n("./node_modules/zrender/lib/graphic/Path.js"),l=n("./node_modules/zrender/lib/graphic/Image.js"),u=n("./node_modules/zrender/lib/contain/text.js"),c=n("./node_modules/zrender/lib/graphic/TSpan.js"),h=Math.sin,d=Math.cos,f=Math.PI,p=2*Math.PI,g=180/f,m=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._add("C",t,e,n,r,i,o)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},t.prototype.arc=function(t,e,n,r,i,o){this.ellipse(t,e,n,n,0,r,i,o)},t.prototype.ellipse=function(t,e,n,r,i,o,s,l){var u=s-o,c=!l,m=Math.abs(u),v=(0,a.zT)(m-p)||(c?u>=p:-u>=p),y=u>0?u%p:u%p+p,b=!1;b=!!v||!(0,a.zT)(m)&&y>=f==!!c;var x=t+n*d(o),_=e+r*h(o);this._start&&this._add("M",x,_);var w=Math.round(i*g);if(v){var S=1/this._p,M=(c?1:-1)*(p-S);this._add("A",n,r,w,1,+c,t+n*d(o+M),e+r*h(o+M)),S>.01&&this._add("A",n,r,w,0,+c,x,_)}else{var k=t+n*d(s),E=e+r*h(s);this._add("A",n,r,w,+b,+c,k,E)}},t.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,r,i,o,a,s,l){for(var u=[],c=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);u.push(Math.round(d*c)/c)}this._d.push(t+u.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),v=m,y=n("./node_modules/zrender/lib/canvas/dashStyle.js"),b=n("./node_modules/zrender/lib/core/util.js"),x="none",_=Math.round;var w=["lineCap","miterLimit","lineJoin"],S=(0,b.UI)(w,(function(t){return"stroke-"+t.toLowerCase()}));function M(t,e,n,r){var i=null==e.opacity?1:e.opacity;if(n instanceof l.ZP)t("opacity",i);else{if(function(t){var e=t.fill;return null!=e&&e!==x}(e)){var o=(0,a.ut)(e.fill);t("fill",o.color);var u=null!=e.fillOpacity?e.fillOpacity*o.opacity*i:o.opacity*i;(r||u<1)&&t("fill-opacity",u)}else t("fill",x);if(function(t){var e=t.stroke;return null!=e&&e!==x}(e)){var c=(0,a.ut)(e.stroke);t("stroke",c.color);var h=e.strokeNoScale?n.getLineScale():1,d=h?(e.lineWidth||0)/h:0,f=null!=e.strokeOpacity?e.strokeOpacity*c.opacity*i:c.opacity*i,p=e.strokeFirst;if((r||1!==d)&&t("stroke-width",d),(r||p)&&t("paint-order",p?"stroke":"fill"),(r||f<1)&&t("stroke-opacity",f),e.lineDash){var g=(0,y.a)(n),m=g[0],v=g[1];m&&(v=_(v||0),t("stroke-dasharray",m.join(",")),(v||r)&&t("stroke-dashoffset",v))}else r&&t("stroke-dasharray",x);for(var b=0;b<w.length;b++){var M=w[b];if(r||e[M]!==s.$t[M]){var k=e[M]||s.$t[M];k&&t(S[b],k)}}}else r&&t("stroke",x)}}var k=n("./node_modules/zrender/lib/core/dom.js"),E="http://www.w3.org/2000/svg",A="http://www.w3.org/1999/xlink",T="http://www.w3.org/2000/xmlns/",I="http://www.w3.org/XML/1998/namespace";function C(t){return document.createElementNS(E,t)}function D(t,e,n,r,i){return{tag:t,attrs:n||{},children:r,text:i,key:e}}function N(t,e){var n=(e=e||{}).newline?"\n":"";return function t(e){var r=e.children,i=e.tag,o=e.attrs,a=e.text;return function(t,e){var n=[];if(e)for(var r in e){var i=e[r],o=r;!1!==i&&(!0!==i&&null!=i&&(o+='="'+i+'"'),n.push(o))}return"<"+t+" "+n.join(" ")+">"}(i,o)+("style"!==i?(0,k.F1)(a):a||"")+(r?""+n+(0,b.UI)(r,(function(e){return t(e)})).join(n)+n:"")+("</"+i+">")}(t)}function O(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function L(t,e,n,r){return D("svg","root",{width:t,height:e,xmlns:E,"xmlns:xlink":A,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+t+" "+e},n)}var P=n("./node_modules/zrender/lib/graphic/helper/image.js"),R=n("./node_modules/zrender/lib/core/Transformable.js"),j=n("./node_modules/zrender/lib/core/PathProxy.js"),z=n("./node_modules/zrender/lib/graphic/CompoundPath.js"),B=n("./node_modules/zrender/lib/animation/cubicEasing.js"),F={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},G="transform-origin";function V(t,e,n){var r=(0,b.l7)({},t.shape);(0,b.l7)(r,e),t.buildPath(n,r);var i=new v;return i.reset((0,a.Gk)(t)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function Z(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[G]=n+"px "+r+"px")}var U={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function H(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function W(t){return(0,b.HD)(t)?F[t]?"cubic-bezier("+F[t]+")":(0,B.H)(t)?t:"":""}function Y(t,e,n,r){var i=t.animators,o=i.length,s=[];if(t instanceof z.Z){var l=function(t,e,n){var r,i,o=t.shape.paths,a={};if((0,b.S6)(o,(function(t){var e=O(n.zrId);e.animation=!0,Y(t,{},e,!0);var o=e.cssAnims,s=e.cssNodes,l=(0,b.XP)(o),u=l.length;if(u){var c=o[i=l[u-1]];for(var h in c){var d=c[h];a[h]=a[h]||{d:""},a[h].d+=d.d||""}for(var f in s){var p=s[f].animation;p.indexOf(i)>=0&&(r=p)}}})),r){e.d=!1;var s=H(a,n);return r.replace(i,s)}}(t,e,n);if(l)s.push(l);else if(!o)return}else if(!o)return;for(var u={},c=0;c<o;c++){var h=i[c],d=[h.getMaxTime()/1e3+"s"],f=W(h.getClip().easing),p=h.getDelay();f?d.push(f):d.push("linear"),p&&d.push(p/1e3+"s"),h.getLoop()&&d.push("infinite");var g=d.join(" ");u[g]=u[g]||[g,[]],u[g][1].push(h)}function m(i){var o,s=i[1],l=s.length,u={},c={},h={},d="animation-timing-function";function f(t,e,n){for(var r=t.getTracks(),i=t.getMaxTime(),o=0;o<r.length;o++){var a=r[o];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(n&&(l=n(l)),l)for(var u=0;u<s.length;u++){var c=s[u],h=Math.round(c.time/i*100)+"%",f=W(c.easing),p=c.rawValue;((0,b.HD)(p)||(0,b.hj)(p))&&(e[h]=e[h]||{},e[h][l]=c.rawValue,f&&(e[h][d]=f))}}}}for(var p=0;p<l;p++){(k=(M=s[p]).targetName)?"shape"===k&&f(M,c):!r&&f(M,u)}for(var g in u){var m={};(0,R.kY)(m,t),(0,b.l7)(m,u[g]);var v=(0,a.gA)(m),y=u[g][d];h[g]=v?{transform:v}:{},Z(h[g],m),y&&(h[g][d]=y)}var x=!0;for(var g in c){h[g]=h[g]||{};var _=!o;y=c[g][d];_&&(o=new j.Z);var w=o.len();o.reset(),h[g].d=V(t,c[g],o);var S=o.len();if(!_&&w!==S){x=!1;break}y&&(h[g][d]=y)}if(!x)for(var g in h)delete h[g].d;if(!r)for(p=0;p<l;p++){var M,k;"style"===(k=(M=s[p]).targetName)&&f(M,h,(function(t){return U[t]}))}var E,A=(0,b.XP)(h),T=!0;for(p=1;p<A.length;p++){var I=A[p-1],C=A[p];if(h[I][G]!==h[C][G]){T=!1;break}E=h[I][G]}if(T&&E){for(var g in h)h[g][G]&&delete h[g][G];e[G]=E}if((0,b.hX)(A,(function(t){return(0,b.XP)(h[t]).length>0})).length)return H(h,n)+" "+i[0]+" both"}for(var v in u){(l=m(u[v]))&&s.push(l)}if(s.length){var y=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+y]={animation:s.join(",")},e.class=y}}var X=n("./node_modules/zrender/lib/graphic/Text.js"),q=n("./node_modules/zrender/lib/core/platform.js"),K=Math.round;function $(t){return t&&(0,b.HD)(t.src)}function J(t){return t&&(0,b.mf)(t.toDataURL)}function Q(t,e,n,r){M((function(i,o){var s="fill"===i||"stroke"===i;s&&(0,a.H3)(o)?ut(e,t,i,r):s&&(0,a.R)(o)?ct(n,t,i,r):t[i]=o}),e,n,!1),function(t,e,n){var r=t.style;if((0,a.i2)(r)){var i=(0,a.n1)(t),o=n.shadowCache,s=o[i];if(!s){var l=t.getGlobalScale(),u=l[0],c=l[1];if(!u||!c)return;var h=r.shadowOffsetX||0,d=r.shadowOffsetY||0,f=r.shadowBlur,p=(0,a.ut)(r.shadowColor),g=p.opacity,m=p.color,v=f/2/u+" "+f/2/c;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=D("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[D("feDropShadow","",{dx:h/u,dy:d/c,stdDeviation:v,"flood-color":m,"flood-opacity":g})]),o[i]=s}e.filter=(0,a.m1)(s)}}(n,t,r)}function tt(t){return(0,a.zT)(t[0]-1)&&(0,a.zT)(t[1])&&(0,a.zT)(t[2])&&(0,a.zT)(t[3]-1)}function et(t,e,n){if(e&&(!function(t){return(0,a.zT)(t[4])&&(0,a.zT)(t[5])}(e)||!tt(e))){var r=n?10:1e4;t.transform=tt(e)?"translate("+K(e[4]*r)/r+" "+K(e[5]*r)/r+")":(0,a.qV)(e)}}function nt(t,e,n){for(var r=t.points,i=[],o=0;o<r.length;o++)i.push(K(r[o][0]*n)/n),i.push(K(r[o][1]*n)/n);e.points=i.join(" ")}function rt(t){return!t.smooth}var it,ot,at={circle:[(it=["cx","cy","r"],ot=(0,b.UI)(it,(function(t){return"string"==typeof t?[t,t]:t})),function(t,e,n){for(var r=0;r<ot.length;r++){var i=ot[r],o=t[i[0]];null!=o&&(e[i[1]]=K(o*n)/n)}})],polyline:[nt,rt],polygon:[nt,rt]};function st(t,e){var n=t.style,r=t.shape,i=at[t.type],o={},s=e.animation,l="path",u=t.style.strokePercent,c=e.compress&&(0,a.Gk)(t)||4;if(!i||e.willUpdate||i[1]&&!i[1](r)||s&&function(t){for(var e=t.animators,n=0;n<e.length;n++)if("shape"===e[n].targetName)return!0;return!1}(t)||u<1){var h=!t.path||t.shapeChanged();t.path||t.createPathProxy();var d=t.path;h&&(d.beginPath(),t.buildPath(d,t.shape),t.pathUpdated());var f=d.getVersion(),p=t,g=p.__svgPathBuilder;p.__svgPathVersion===f&&g&&u===p.__svgPathStrokePercent||(g||(g=p.__svgPathBuilder=new v),g.reset(c),d.rebuildPath(g,u),g.generateStr(),p.__svgPathVersion=f,p.__svgPathStrokePercent=u),o.d=g.getStr()}else{l=t.type;var m=Math.pow(10,c);i[0](r,o,m)}return et(o,t.transform),Q(o,n,t,e),e.animation&&Y(t,o,e),D(l,t.id+"",o)}function lt(t,e){return t instanceof s.ZP?st(t,e):t instanceof l.ZP?function(t,e){var n=t.style,r=n.image;if(r&&!(0,b.HD)(r)&&($(r)?r=r.src:J(r)&&(r=r.toDataURL())),r){var i=n.x||0,o=n.y||0,a={href:r,width:n.width,height:n.height};return i&&(a.x=i),o&&(a.y=o),et(a,t.transform),Q(a,n,t,e),e.animation&&Y(t,a,e),D("image",t.id+"",a)}}(t,e):t instanceof c.Z?function(t,e){var n=t.style,r=n.text;if(null!=r&&(r+=""),r&&!isNaN(n.x)&&!isNaN(n.y)){var i=n.font||q.Uo,o=n.x||0,s=(0,a.mU)(n.y||0,(0,u.Dp)(i),n.textBaseline),l={"dominant-baseline":"central","text-anchor":a.jY[n.textAlign]||n.textAlign};if((0,X.Y1)(n)){var c="",h=n.fontStyle,d=(0,X.VG)(n.fontSize);if(!parseFloat(d))return;var f=n.fontFamily||q.rk,p=n.fontWeight;c+="font-size:"+d+";font-family:"+f+";",h&&"normal"!==h&&(c+="font-style:"+h+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),s&&(l.y=s),et(l,t.transform),Q(l,n,t,e),e.animation&&Y(t,l,e),D("text",t.id+"",l,void 0,r)}}(t,e):void 0}function ut(t,e,n,r){var i,o=t[n],s={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if((0,a.I1)(o))i="linearGradient",s.x1=o.x,s.y1=o.y,s.x2=o.x2,s.y2=o.y2;else{if(!(0,a.gO)(o))return void 0;i="radialGradient",s.cx=(0,b.pD)(o.x,.5),s.cy=(0,b.pD)(o.y,.5),s.r=(0,b.pD)(o.r,.5)}for(var l=o.colorStops,u=[],c=0,h=l.length;c<h;++c){var d=100*(0,a.Pn)(l[c].offset)+"%",f=l[c].color,p=(0,a.ut)(f),g=p.color,m=p.opacity,v={offset:d};v["stop-color"]=g,m<1&&(v["stop-opacity"]=m),u.push(D("stop",c+"",v))}var y=N(D(i,"",s,u)),x=r.gradientCache,_=x[y];_||(_=r.zrId+"-g"+r.gradientIdx++,x[y]=_,s.id=_,r.defs[_]=D(i,_,s,u)),e[n]=(0,a.m1)(_)}function ct(t,e,n,r){var i,o=t.style[n],s=t.getBoundingRect(),l={},u=o.repeat,c="no-repeat"===u,h="repeat-x"===u,d="repeat-y"===u;if((0,a.Cv)(o)){var f=o.imageWidth,p=o.imageHeight,g=void 0,m=o.image;if((0,b.HD)(m)?g=m:$(m)?g=m.src:J(m)&&(g=m.toDataURL()),"undefined"==typeof Image){var v="Image width/height must been given explictly in svg-ssr renderer.";(0,b.hu)(f,v),(0,b.hu)(p,v)}else if(null==f||null==p){var y=function(t,e){if(t){var n=t.elm,r=f||e.width,i=p||e.height;"pattern"===t.tag&&(h?(i=1,r/=s.width):d&&(r=1,i/=s.height)),t.attrs.width=r,t.attrs.height=i,n&&(n.setAttribute("width",r),n.setAttribute("height",i))}},x=(0,P.Gq)(g,null,t,(function(t){c||y(M,t),y(i,t)}));x&&x.width&&x.height&&(f=f||x.width,p=p||x.height)}i=D("image","img",{href:g,width:f,height:p}),l.width=f,l.height=p}else o.svgElement&&(i=(0,b.d9)(o.svgElement),l.width=o.svgWidth,l.height=o.svgHeight);if(i){var _,w;c?_=w=1:h?(w=1,_=l.width/s.width):d?(_=1,w=l.height/s.height):l.patternUnits="userSpaceOnUse",null==_||isNaN(_)||(l.width=_),null==w||isNaN(w)||(l.height=w);var S=(0,a.gA)(o);S&&(l.patternTransform=S);var M=D("pattern","",l,[i]),k=N(M),E=r.patternCache,A=E[k];A||(A=r.zrId+"-p"+r.patternIdx++,E[k]=A,l.id=A,M=r.defs[A]=D("pattern",A,l,[i])),e[n]=(0,a.m1)(A)}}function ht(t,e,n){var r=n.clipPathCache,i=n.defs,o=r[t.id];if(!o){var s={id:o=n.zrId+"-c"+n.clipPathIdx++};r[t.id]=o,i[o]=D("clipPath",o,s,[st(t,n)])}e["clip-path"]=(0,a.m1)(o)}function dt(t){return document.createTextNode(t)}function ft(t,e,n){t.insertBefore(e,n)}function pt(t,e){t.removeChild(e)}function gt(t,e){t.appendChild(e)}function mt(t){return t.parentNode}function vt(t){return t.nextSibling}function yt(t,e){t.textContent=e}var bt=58,xt=120,_t=D("","");function wt(t){return void 0===t}function St(t){return void 0!==t}function Mt(t,e,n){for(var r={},i=e;i<=n;++i){var o=t[i].key;void 0!==o&&(r[o]=i)}return r}function kt(t,e){var n=t.key===e.key;return t.tag===e.tag&&n}function Et(t){var e,n=t.children,r=t.tag;if(St(r)){var i=t.elm=C(r);if(It(_t,t),(0,b.kJ)(n))for(e=0;e<n.length;++e){var o=n[e];null!=o&&gt(i,Et(o))}else St(t.text)&&!(0,b.Kn)(t.text)&&gt(i,dt(t.text))}else t.elm=dt(t.text);return t.elm}function At(t,e,n,r,i){for(;r<=i;++r){var o=n[r];null!=o&&ft(t,Et(o),e)}}function Tt(t,e,n,r){for(;n<=r;++n){var i=e[n];if(null!=i)if(St(i.tag))pt(mt(i.elm),i.elm);else pt(t,i.elm)}}function It(t,e){var n,r=e.elm,i=t&&t.attrs||{},o=e.attrs||{};if(i!==o){for(n in o){var a=o[n];i[n]!==a&&(!0===a?r.setAttribute(n,""):!1===a?r.removeAttribute(n):n.charCodeAt(0)!==xt?r.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?r.setAttributeNS(T,n,a):n.charCodeAt(3)===bt?r.setAttributeNS(I,n,a):n.charCodeAt(5)===bt?r.setAttributeNS(A,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}function Ct(t,e){var n=e.elm=t.elm,r=t.children,i=e.children;t!==e&&(It(t,e),wt(e.text)?St(r)&&St(i)?r!==i&&function(t,e,n){for(var r,i,o,a=0,s=0,l=e.length-1,u=e[0],c=e[l],h=n.length-1,d=n[0],f=n[h];a<=l&&s<=h;)null==u?u=e[++a]:null==c?c=e[--l]:null==d?d=n[++s]:null==f?f=n[--h]:kt(u,d)?(Ct(u,d),u=e[++a],d=n[++s]):kt(c,f)?(Ct(c,f),c=e[--l],f=n[--h]):kt(u,f)?(Ct(u,f),ft(t,u.elm,vt(c.elm)),u=e[++a],f=n[--h]):kt(c,d)?(Ct(c,d),ft(t,c.elm,u.elm),c=e[--l],d=n[++s]):(wt(r)&&(r=Mt(e,a,l)),wt(i=r[d.key])||(o=e[i]).tag!==d.tag?ft(t,Et(d),u.elm):(Ct(o,d),e[i]=void 0,ft(t,o.elm,u.elm)),d=n[++s]);(a<=l||s<=h)&&(a>l?At(t,null==n[h+1]?null:n[h+1].elm,n,s,h):Tt(t,e,a,l))}(n,r,i):St(i)?(St(t.text)&&yt(n,""),At(n,null,i,0,i.length-1)):St(r)?Tt(n,r,0,r.length-1):St(t.text)&&yt(n,""):t.text!==e.text&&(St(r)&&Tt(n,r,0,r.length-1),yt(n,e.text)))}var Dt=n("./node_modules/zrender/lib/canvas/helper.js"),Nt=0,Ot=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=e,this._opts=n=(0,b.l7)({},n),this.root=t,this._id="zr"+Nt++,this._oldVNode=L(n.width,n.height),t&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=C("svg");It(null,this._oldVNode),r.appendChild(i),t.appendChild(r)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,e){if(kt(t,e))Ct(t,e);else{var n=t.elm,r=mt(n);Et(e),null!==r&&(ft(r,e.elm,vt(n)),Tt(r,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return lt(t,O(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,r=this._height,i=O(this._id);i.animation=t.animation,i.willUpdate=t.willUpdate,i.compress=t.compress;var o=[],s=this._bgVNode=function(t,e,n,r){var i;if(n&&"none"!==n)if(i=D("rect","bg",{width:t,height:e,x:"0",y:"0",id:"0"}),(0,a.H3)(n))ut({fill:n},i.attrs,"fill",r);else if((0,a.R)(n))ct({style:{fill:n},dirty:b.ZT,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",r);else{var o=(0,a.ut)(n),s=o.color,l=o.opacity;i.attrs.fill=s,l<1&&(i.attrs["fill-opacity"]=l)}return i}(n,r,this._backgroundColor,i);s&&o.push(s);var l=t.compress?null:this._mainVNode=D("g","main",{},[]);this._paintList(e,i,l?l.children:o),l&&o.push(l);var u=(0,b.UI)((0,b.XP)(i.defs),(function(t){return i.defs[t]}));if(u.length&&o.push(D("defs","defs",{},u)),t.animation){var c=function(t,e,n){var r=(n=n||{}).newline?"\n":"",i=" {"+r,o=r+"}",a=(0,b.UI)((0,b.XP)(t),(function(e){return e+i+(0,b.UI)((0,b.XP)(t[e]),(function(n){return n+":"+t[e][n]+";"})).join(r)+o})).join(r),s=(0,b.UI)((0,b.XP)(e),(function(t){return"@keyframes "+t+i+(0,b.UI)((0,b.XP)(e[t]),(function(n){return n+i+(0,b.UI)((0,b.XP)(e[t][n]),(function(r){var i=e[t][n][r];return"d"===r&&(i='path("'+i+'")'),r+":"+i+";"})).join(r)+o})).join(r)+o})).join(r);return a||s?["<![CDATA[",a,s,"]]>"].join(r):""}(i.cssNodes,i.cssAnims,{newline:!0});if(c){var h=D("style","stl",{},[],c);o.push(h)}}return L(n,r,o,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},N(this.renderToVNode({animation:(0,b.pD)(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,b.pD)(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var r,i,o=t.length,a=[],s=0,l=0,u=0;u<o;u++){var c=t[u];if(!c.invisible){var h=c.__clipPaths,d=h&&h.length||0,f=i&&i.length||0,p=void 0;for(p=Math.max(d-1,f-1);p>=0&&(!h||!i||h[p]!==i[p]);p--);for(var g=f-1;g>p;g--)r=a[--s-1];for(var m=p+1;m<d;m++){var v={};ht(h[m],v,e);var y=D("g","clip-g-"+l++,v,[]);(r?r.children:n).push(y),a[s++]=y,r=y}i=h;var b=lt(c,e);b&&(r?r.children:n).push(b)}}},t.prototype.resize=function(t,e){var n=this._opts,r=this.root,i=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),r&&i&&(i.style.display="none",t=(0,Dt.ap)(r,0,n),e=(0,Dt.ap)(r,1,n),i.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,i){var o=i.style;o.width=t+"px",o.height=e+"px"}if((0,a.R)(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=(0,a.oF)(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},t}();var Lt=Ot;var Pt=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),Rt=n("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),jt=n("./node_modules/echarts/lib/model/Series.js"),zt=n("./node_modules/echarts/lib/util/symbol.js"),Bt=n("./node_modules/zrender/lib/graphic/Group.js"),Ft=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t){return(0,Rt.Z)(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new Bt.Z,n=(0,zt.th)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),o="none"===r?"circle":r,a=.8*t.itemHeight,s=(0,zt.th)(o,(t.itemWidth-a)/2,(t.itemHeight-a)/2,a,a,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?i:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(jt.Z),Gt=Ft,Vt=n("./node_modules/echarts/lib/animation/basicTransition.js"),Zt=n("./node_modules/echarts/lib/util/graphic.js"),Ut=n("./node_modules/echarts/lib/util/innerStore.js"),Ht=n("./node_modules/echarts/lib/util/states.js"),Wt=n("./node_modules/echarts/lib/data/helper/dataProvider.js");function Yt(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var i=(0,Wt.hk)(t,e,n[0]);return null!=i?i+"":null}if(r){for(var o=[],a=0;a<n.length;a++)o.push((0,Wt.hk)(t,e,n[a]));return o.join(" ")}}function Xt(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!(0,b.kJ)(e))return e+"";for(var r=[],i=0;i<n.length;i++){var o=t.getDimensionIndex(n[i]);o>=0&&r.push(e[o])}return r.join(" ")}var qt=n("./node_modules/echarts/lib/label/labelStyle.js");function Kt(t,e){this.parent.drift(t,e)}var $t=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.updateData(e,n,r,i),o}return(0,Pt.ZT)(e,t),e.prototype._createSymbol=function(t,e,n,r,i){this.removeAll();var o=(0,zt.th)(t,-1,-1,2,2,null,i);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=Kt,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){(0,Ht.fD)(this.childAt(0))},e.prototype.downplay=function(){(0,Ht.Mh)(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},e.prototype.updateData=function(t,n,r,i){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,n),l=o!==this._symbolType,u=i&&i.disableAnimation;if(l){var c=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,s,c)}else{(d=this.childAt(0)).silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};u?d.attr(h):Vt.D(d,h,a,n),(0,Vt.Zi)(d)}if(this._updateCommon(t,n,s,r,i),l){var d=this.childAt(0);if(!u){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Vt.KZ(d,h,a,n)}}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,n,r,i){var o,a,s,u,c,h,d,f,p,g=this.childAt(0),m=t.hostModel;if(r&&(o=r.emphasisItemStyle,a=r.blurItemStyle,s=r.selectItemStyle,u=r.focus,c=r.blurScope,d=r.labelStatesModels,f=r.hoverScale,p=r.cursorStyle,h=r.emphasisDisabled),!r||t.hasItemOption){var v=r&&r.itemModel?r.itemModel:t.getItemModel(e),y=v.getModel("emphasis");o=y.getModel("itemStyle").getItemStyle(),s=v.getModel(["select","itemStyle"]).getItemStyle(),a=v.getModel(["blur","itemStyle"]).getItemStyle(),u=y.get("focus"),c=y.get("blurScope"),h=y.get("disabled"),d=(0,qt.k3)(v),f=y.getShallow("scale"),p=v.getShallow("cursor")}var x=t.getItemVisual(e,"symbolRotate");g.attr("rotation",(x||0)*Math.PI/180||0);var _=(0,zt.Cq)(t.getItemVisual(e,"symbolOffset"),n);_&&(g.x=_[0],g.y=_[1]),p&&g.attr("cursor",p);var w=t.getItemVisual(e,"style"),S=w.fill;if(g instanceof l.ZP){var M=g.style;g.useStyle((0,b.l7)({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},w))}else g.__isEmptyBrush?g.useStyle((0,b.l7)({},w)):g.useStyle(w),g.style.decal=null,g.setColor(S,i&&i.symbolInnerColor),g.style.strokeNoScale=!0;var k=t.getItemVisual(e,"liftZ"),E=this._z2;null!=k?null==E&&(this._z2=g.z2,g.z2+=k):null!=E&&(g.z2=E,this._z2=null);var A=i&&i.useNameLabel;(0,qt.ni)(g,d,{labelFetcher:m,labelDataIndex:e,defaultText:function(e){return A?t.getName(e):Yt(t,e)},inheritColor:S,defaultOpacity:w.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=g.ensureState("emphasis");T.style=o,g.ensureState("select").style=s,g.ensureState("blur").style=a;var I=null==f||!0===f?Math.max(1.1,3/this._sizeY):isFinite(f)&&f>0?+f:1;T.scaleX=this._sizeX*I,T.scaleY=this._sizeY*I,this.setSymbolScale(1),(0,Ht.k5)(this,u,c,h)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var r=this.childAt(0),i=(0,Ut.A)(this).dataIndex,o=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var a=r.getTextContent();a&&Vt.bX(a,{style:{opacity:0}},e,{dataIndex:i,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Vt.bX(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:i,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return(0,zt.zp)(t.getItemVisual(e,"symbolSize"))},e}(Bt.Z);function Jt(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Qt(t){return null==t||(0,b.Kn)(t)||(t={isIgnore:t}),t||{}}function te(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:(0,qt.k3)(e),cursorStyle:e.get("cursor")}}var ee=function(){function t(t){this.group=new Bt.Z,this._SymbolCtor=t||$t}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=Qt(e);var n=this.group,r=t.hostModel,i=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=te(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};i||n.removeAll(),t.diff(i).add((function(r){var i=u(r);if(Jt(t,i,r,e)){var a=new o(t,r,s,l);a.setPosition(i),t.setItemGraphicEl(r,a),n.add(a)}})).update((function(c,h){var d=i.getItemGraphicEl(h),f=u(c);if(Jt(t,f,c,e)){var p=t.getItemVisual(c,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==p)n.remove(d),(d=new o(t,c,s,l)).setPosition(f);else{d.updateData(t,c,s,l);var m={x:f[0],y:f[1]};a?d.attr(m):Vt.D(d,m,r)}n.add(d),t.setItemGraphicEl(c,d)}else n.remove(d)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}),r)})).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var r=t._getSymbolPoint(n);e.setPosition(r),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=te(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function r(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=Qt(n);for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(Jt(e,o,i,n)){var a=new this._SymbolCtor(e,i,this._seriesScope);a.traverse(r),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){Zt.traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),n.hostModel)})):e.removeAll()},t}(),ne=n("./node_modules/echarts/lib/data/helper/dataStackHelper.js");function re(t,e,n){var r=t.getBaseAxis(),i=t.getOtherAxis(r),o=function(t,e){var n=0,r=t.scale.getExtent();"start"===e?n=r[0]:"end"===e?n=r[1]:(0,b.hj)(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]);return n}(i,n),a=r.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(a),c="x"===s||"radius"===s?1:0,h=(0,b.UI)(t.dimensions,(function(t){return e.mapDimension(t)})),d=!1,f=e.getCalculationInfo("stackResultDimension");return(0,ne.M)(e,h[0])&&(d=!0,h[0]=f),(0,ne.M)(e,h[1])&&(d=!0,h[1]=f),{dataDimsForPoint:h,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function ie(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,r),a[1-o]=i,e.dataToPoint(a)}var oe=n("./node_modules/echarts/lib/util/vendor.js");var ae=n("./node_modules/zrender/lib/graphic/LinearGradient.js"),se=n("./node_modules/echarts/lib/util/model.js"),le=n("./node_modules/zrender/lib/core/curve.js"),ue=Math.min,ce=Math.max;function he(t,e){return isNaN(t)||isNaN(e)}function de(t,e,n,r,i,o,a,s,l){for(var u,c,h,d,f,p,g=n,m=0;m<r;m++){var v=e[2*g],y=e[2*g+1];if(g>=i||g<0)break;if(he(v,y)){if(l){g+=o;continue}break}if(g===n)t[o>0?"moveTo":"lineTo"](v,y),h=v,d=y;else{var b=v-u,x=y-c;if(b*b+x*x<.5){g+=o;continue}if(a>0){for(var _=g+o,w=e[2*_],S=e[2*_+1];w===v&&S===y&&m<r;)m++,g+=o,w=e[2*(_+=o)],S=e[2*_+1],b=(v=e[2*g])-u,x=(y=e[2*g+1])-c;var M=m+1;if(l)for(;he(w,S)&&M<r;)M++,w=e[2*(_+=o)],S=e[2*_+1];var k=.5,E=0,A=0,T=void 0,I=void 0;if(M>=r||he(w,S))f=v,p=y;else{E=w-u,A=S-c;var C=v-u,D=w-v,N=y-c,O=S-y,L=void 0,P=void 0;if("x"===s){var R=E>0?1:-1;f=v-R*(L=Math.abs(C))*a,p=y,T=v+R*(P=Math.abs(D))*a,I=y}else if("y"===s){var j=A>0?1:-1;f=v,p=y-j*(L=Math.abs(N))*a,T=v,I=y+j*(P=Math.abs(O))*a}else L=Math.sqrt(C*C+N*N),f=v-E*a*(1-(k=(P=Math.sqrt(D*D+O*O))/(P+L))),p=y-A*a*(1-k),I=y+A*a*k,T=ue(T=v+E*a*k,ce(w,v)),I=ue(I,ce(S,y)),T=ce(T,ue(w,v)),p=y-(A=(I=ce(I,ue(S,y)))-y)*L/P,f=ue(f=v-(E=T-v)*L/P,ce(u,v)),p=ue(p,ce(c,y)),T=v+(E=v-(f=ce(f,ue(u,v))))*P/L,I=y+(A=y-(p=ce(p,ue(c,y))))*P/L}t.bezierCurveTo(h,d,f,p,v,y),h=T,d=I}else t.lineTo(v,y)}u=v,c=y,g+=o}return m}var fe=function(){this.smooth=0,this.smoothConstraint=!0},pe=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new fe},e.prototype.buildPath=function(t,e){var n=e.points,r=0,i=n.length/2;if(e.connectNulls){for(;i>0&&he(n[2*i-2],n[2*i-1]);i--);for(;r<i&&he(n[2*r],n[2*r+1]);r++);}for(;r<i;)r+=de(t,n,r,i,i,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,i=this.path.data,o=j.Z.CMD,a="x"===e,s=[],l=0;l<i.length;){var u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0;switch(i[l++]){case o.M:n=i[l++],r=i[l++];break;case o.L:if(u=i[l++],c=i[l++],(g=a?(t-n)/(u-n):(t-r)/(c-r))<=1&&g>=0){var m=a?(c-r)*g+r:(u-n)*g+n;return a?[t,m]:[m,t]}n=u,r=c;break;case o.C:u=i[l++],c=i[l++],h=i[l++],d=i[l++],f=i[l++],p=i[l++];var v=a?(0,le.kD)(n,u,h,f,t,s):(0,le.kD)(r,c,d,p,t,s);if(v>0)for(var y=0;y<v;y++){var b=s[y];if(b<=1&&b>=0){m=a?(0,le.af)(r,c,d,p,b):(0,le.af)(n,u,h,f,b);return a?[t,m]:[m,t]}}n=f,r=p}}},e}(s.ZP),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e}(fe),me=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new ge},e.prototype.buildPath=function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,o=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;o>0&&he(n[2*o-2],n[2*o-1]);o--);for(;i<o&&he(n[2*i],n[2*i+1]);i++);}for(;i<o;){var s=de(t,n,i,o,o,1,e.smooth,a,e.connectNulls);de(t,r,i+s-1,s,o,-1,e.stackedOnSmooth,a,e.connectNulls),i+=s+1,t.closePath()}},e}(s.ZP),ve=n("./node_modules/echarts/lib/view/Chart.js"),ye=n("./node_modules/zrender/lib/graphic/shape/Rect.js"),be=n("./node_modules/zrender/lib/graphic/shape/Sector.js"),xe=n("./node_modules/echarts/lib/util/number.js");function _e(t,e,n,r,i){var o=t.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,c=n.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,l+=c,u+=c,a=Math.floor(a),l=Math.round(l);var h=new ye.Z({shape:{x:a,y:s,width:l,height:u}});if(e){var d=t.getBaseAxis(),f=d.isHorizontal(),p=d.inverse;f?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var g=(0,b.mf)(i)?function(t){i(t,h)}:null;Vt.KZ(h,{shape:{width:l,height:u,x:a,y:s}},n,null,r,g)}return h}function we(t,e,n){var r=t.getArea(),i=(0,xe.NM)(r.r0,1),o=(0,xe.NM)(r.r,1),a=new be.C({shape:{cx:(0,xe.NM)(t.cx,1),cy:(0,xe.NM)(t.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=r.startAngle:a.shape.r=i,Vt.KZ(a,{shape:{endAngle:r.endAngle,r:o}},n));return a}function Se(t,e,n,r,i){return t?"polar"===t.type?we(t,e,n):"cartesian2d"===t.type?_e(t,e,n,r,i):null:null}function Me(t,e){return t.type===e}var ke=n("./node_modules/echarts/lib/util/format.js"),Ee=n("./node_modules/zrender/lib/tool/color.js");function Ae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function Te(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),r=Math.max(a,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[e,n],[r,i]]}function Ie(t,e){var n=Te(t),r=n[0],i=n[1],o=Te(e),a=o[0],s=o[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Ce(t){return b.hj(t)?t:t?.5:0}function De(t,e,n,r){var i=e.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0,l=[],u=[],c=[],h=[];if(r){for(s=0;s<t.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||h.push(t[s],t[s+1]);t=h}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],u[0]=t[s],u[1]=t[s+1],a.push(u[0],u[1]),n){case"end":l[o]=c[o],l[1-o]=u[1-o],a.push(l[0],l[1]);break;case"middle":var d=(u[o]+c[o])/2,f=[];l[o]=f[o]=d,l[1-o]=u[1-o],f[1-o]=c[1-o],a.push(l[0],l[1]),a.push(f[0],f[1]);break;default:l[o]=u[o],l[1-o]=c[1-o],a.push(l[0],l[1])}return a.push(t[s++],t[s++]),a}function Ne(t,e,n){var r=t.getVisual("visualMeta");if(r&&r.length&&t.count()&&"cartesian2d"===e.type){for(var i,o,a=r.length-1;a>=0;a--){var s=t.getDimensionInfo(r[a].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){o=r[a];break}}if(o){var l=e.getAxis(i),u=b.UI(o.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),c=u.length,h=o.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var d=function(t,e){var n,r,i=[],o=t.length;function a(t,e,n){var r=t.coord,i=(n-r)/(e.coord-r);return{coord:n,color:(0,Ee.t7)(i,[t.color,e.color])}}for(var s=0;s<o;s++){var l=t[s],u=l.coord;if(u<0)n=l;else{if(u>e){r?i.push(a(r,l,e)):n&&i.push(a(n,l,0),a(n,l,e));break}n&&(i.push(a(n,l,0)),n=null),i.push(l),r=l}}return i}(u,"x"===i?n.getWidth():n.getHeight()),f=d.length;if(!f&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var p=d[0].coord-10,g=d[f-1].coord+10,m=g-p;if(m<.001)return"transparent";b.S6(d,(function(t){t.offset=(t.coord-p)/m})),d.push({offset:f?d[f-1].offset:.5,color:h[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:h[0]||"transparent"});var v=new ae.Z(0,0,0,0,d,!0);return v[i]=p,v[i+"2"]=g,v}}}function Oe(t,e,n){var r=t.get("showAllSymbol"),i="auto"===r;if(!r||i){var o=n.getAxesByScale("ordinal")[0];if(o&&(!i||!function(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(1.5*$t.getSymbolSize(e,a)[t.isHorizontal()?1:0]>r)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return b.S6(o.getViewLabels(),(function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function Le(t,e){return[t[2*e],t[2*e+1]]}function Pe(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Ht.L1.length;e++)if(t.get([Ht.L1[e],"endLabel","show"]))return!0;return!1}function Re(t,e,n,r){if(Me(e,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),a=r.getData(),s={lastFrameIndex:0},l=Pe(r)?function(n,r){t._endLabelOnDuring(n,r,a,s,o,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=_e(e,n,r,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l);if(!r.get("clip",!0)){var h=c.shape,d=Math.max(h.width,h.height);u?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)}return l&&l(1,c),c}return we(e,n,r)}var je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.init=function(){var t=new Bt.Z,e=new ee;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var r=this,i=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=a.getLayout("points")||[],c="polar"===i.type,h=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=!e.ssr&&t.isAnimationEnabled(),v=!l.isEmpty(),y=l.get("origin"),x=re(i,a,y),_=v&&function(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),i=(0,oe.o)(2*r),o=0;o<r;o++){var a=ie(n,t,e,o);i[2*o]=a[0],i[2*o+1]=a[1]}return i}(i,a,x),w=t.get("showSymbol"),S=t.get("connectNulls"),M=w&&!c&&Oe(t,a,i),k=this._data;k&&k.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),k.setItemGraphicEl(e,null))})),w||d.remove(),o.add(g);var E,A=!c&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(null!=(E=i.getArea()).width?(E.x-=.1,E.y-=.1,E.width+=.2,E.height+=.2):E.r0&&(E.r0-=.5,E.r+=.5)),this._clipShapeForSymbol=E;var T=Ne(a,i,n)||a.getVisual("style")[a.getVisual("drawType")];if(f&&h.type===i.type&&A===this._step){v&&!p?p=this._newPolygon(u,_):p&&!v&&(g.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,i,(0,ke.Lz)(T));var I=g.getClipPath();if(I){var C=Re(this,i,!1,t);Vt.KZ(I,{shape:C.shape},t)}else g.setClipPath(Re(this,i,!0,t));w&&d.updateData(a,{isIgnore:M,clipShape:E,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),Ae(this._stackedOnPoints,_)&&Ae(this._points,u)||(m?this._doUpdateAnimation(a,_,i,n,A,y,S):(A&&(u=De(u,i,A,S),_&&(_=De(_,i,A,S))),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:_})))}else w&&d.updateData(a,{isIgnore:M,clipShape:E,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),m&&this._initSymbolLabelAnimation(a,i,E),A&&(u=De(u,i,A,S),_&&(_=De(_,i,A,S))),f=this._newPolyline(u),v?p=this._newPolygon(u,_):p&&(g.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,i,(0,ke.Lz)(T)),g.setClipPath(Re(this,i,!0,t));var D=t.getModel("emphasis"),N=D.get("focus"),O=D.get("blurScope"),L=D.get("disabled");(f.useStyle(b.ce(s.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),(0,Ht.WO)(f,t,"lineStyle"),f.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(f.getState("emphasis").style.lineWidth=+f.style.lineWidth+1);(0,Ut.A)(f).seriesIndex=t.seriesIndex,(0,Ht.k5)(f,N,O,L);var P=Ce(t.get("smooth")),R=t.get("smoothMonotone");if(f.setShape({smooth:P,smoothMonotone:R,connectNulls:S}),p){var j=a.getCalculationInfo("stackedOnSeries"),z=0;p.useStyle(b.ce(l.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),j&&(z=Ce(j.get("smooth"))),p.setShape({smooth:P,stackedOnSmooth:z,smoothMonotone:R,connectNulls:S}),(0,Ht.WO)(p,t,"areaStyle"),(0,Ut.A)(p).seriesIndex=t.seriesIndex,(0,Ht.k5)(p,N,O,L)}var B=function(t){r._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=B)})),this._polyline.onHoverStateChange=B,this._data=a,this._coordSys=i,this._stackedOnPoints=_,this._points=u,this._step=A,this._valueOrigin=y,t.get("triggerLineEvent")&&(this.packEventData(t,f),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,e){(0,Ut.A)(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,r){var i=t.getData(),o=se.gO(i,r);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=i.getLayout("points"),s=i.getItemGraphicEl(o);if(!s){var l=a[2*o],u=a[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var c=t.get("zlevel")||0,h=t.get("z")||0;(s=new $t(i,o)).x=l,s.y=u,s.setZ(c,h);var d=s.getSymbolPath().getTextContent();d&&(d.zlevel=c,d.z=h,d.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else ve.Z.prototype.highlight.call(this,t,e,n,r)},e.prototype.downplay=function(t,e,n,r){var i=t.getData(),o=se.gO(i,r);if(this._changePolyState("normal"),null!=o&&o>=0){var a=i.getItemGraphicEl(o);a&&(a.__temp?(i.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else ve.Z.prototype.downplay.call(this,t,e,n,r)},e.prototype._changePolyState=function(t){var e=this._polygon;(0,Ht.Gl)(this._polyline,t),e&&(0,Ht.Gl)(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new pe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new me({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var r,i,o=e.getBaseAxis(),a=o.inverse;"cartesian2d"===e.type?(r=o.isHorizontal(),i=!1):"polar"===e.type&&(r="angle"===o.dim,i=!0);var s=t.hostModel,l=s.get("animationDuration");b.mf(l)&&(l=l(null));var u=s.get("animationDelay")||0,c=b.mf(u)?u(null):u;t.eachItemGraphicEl((function(t,o){var s=t;if(s){var h=[t.x,t.y],d=void 0,f=void 0,p=void 0;if(n)if(i){var g=n,m=e.pointToCoord(h);r?(d=g.startAngle,f=g.endAngle,p=-m[1]/180*Math.PI):(d=g.r0,f=g.r,p=m[0])}else{var v=n;r?(d=v.x,f=v.x+v.width,p=t.x):(d=v.y+v.height,f=v.y,p=t.y)}var y=f===d?0:(p-d)/(f-d);a&&(y=1-y);var x=b.mf(u)?u(o):l*y+c,_=s.getSymbolPath(),w=_.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:x}),_.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,n){var r=t.getModel("endLabel");if(Pe(t)){var i=t.getData(),o=this._polyline,a=i.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new X.ZP({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(t){for(var e,n,r=t.length/2;r>0&&(e=t[2*r-2],n=t[2*r-1],isNaN(e)||isNaN(n));r--);return r-1}(a);l>=0&&((0,qt.ni)(o,(0,qt.k3)(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,n){return null!=n?Xt(i,n):Yt(i,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?"right":"left":"center",a=r?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}(r,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,r,i,o,a){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==r.originalX&&(r.originalX=s.x,r.originalY=s.y);var u=n.getLayout("points"),c=n.hostModel,h=c.get("connectNulls"),d=o.get("precision"),f=o.get("distance")||0,p=a.getBaseAxis(),g=p.isHorizontal(),m=p.inverse,v=e.shape,y=m?g?v.x:v.y+v.height:g?v.x+v.width:v.y,b=(g?f:0)*(m?-1:1),x=(g?0:-f)*(m?-1:1),_=g?"x":"y",w=function(t,e,n){for(var r,i,o=t.length/2,a="x"===n?0:1,s=0,l=-1,u=0;u<o;u++)if(i=t[2*u+a],!isNaN(i)&&!isNaN(t[2*u+1-a]))if(0!==u){if(r<=e&&i>=e||r>=e&&i<=e){l=u;break}s=u,r=i}else r=i;return{range:[s,l],t:(e-r)/(i-r)}}(u,y,_),S=w.range,M=S[1]-S[0],k=void 0;if(M>=1){if(M>1&&!h){var E=Le(u,S[0]);s.attr({x:E[0]+b,y:E[1]+x}),i&&(k=c.getRawValue(S[0]))}else{(E=l.getPointOn(y,_))&&s.attr({x:E[0]+b,y:E[1]+x});var A=c.getRawValue(S[0]),T=c.getRawValue(S[1]);i&&(k=se.pk(n,d,A,T,w.t))}r.lastFrameIndex=S[0]}else{var I=1===t||r.lastFrameIndex>0?S[0]:0;E=Le(u,I);i&&(k=c.getRawValue(I)),s.attr({x:E[0]+b,y:E[1]+x})}if(i){var C=(0,qt.qA)(s);"function"==typeof C.setLabelText&&C.setLabelText(k)}}},e.prototype._doUpdateAnimation=function(t,e,n,r,i,o,a){var s=this._polyline,l=this._polygon,u=t.hostModel,c=function(t,e,n,r,i,o,a,s){for(var l=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}(t,e),u=[],c=[],h=[],d=[],f=[],p=[],g=[],m=re(i,e,a),v=t.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],_=!0,w=void 0,S=void 0;switch(x.cmd){case"=":w=2*x.idx,S=2*x.idx1;var M=v[w],k=v[w+1],E=y[S],A=y[S+1];(isNaN(M)||isNaN(k))&&(M=E,k=A),u.push(M,k),c.push(E,A),h.push(n[w],n[w+1]),d.push(r[S],r[S+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var T=x.idx,I=m.dataDimsForPoint,C=i.dataToPoint([e.get(I[0],T),e.get(I[1],T)]);S=2*T,u.push(C[0],C[1]),c.push(y[S],y[S+1]);var D=ie(m,i,e,T);h.push(D[0],D[1]),d.push(r[S],r[S+1]),g.push(e.getRawIndex(T));break;case"-":_=!1}_&&(f.push(x),p.push(p.length))}p.sort((function(t,e){return g[t]-g[e]}));var N=u.length,O=(0,oe.o)(N),L=(0,oe.o)(N),P=(0,oe.o)(N),R=(0,oe.o)(N),j=[];for(b=0;b<p.length;b++){var z=p[b],B=2*b,F=2*z;O[B]=u[F],O[B+1]=u[F+1],L[B]=c[F],L[B+1]=c[F+1],P[B]=h[F],P[B+1]=h[F+1],R[B]=d[F],R[B+1]=d[F+1],j[b]=f[z]}return{current:O,next:L,stackedOnCurrent:P,stackedOnNext:R,status:j}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),h=c.current,d=c.stackedOnCurrent,f=c.next,p=c.stackedOnNext;if(i&&(h=De(c.current,n,i,a),d=De(c.stackedOnCurrent,n,i,a),f=De(c.next,n,i,a),p=De(c.stackedOnNext,n,i,a)),Ie(h,f)>3e3||l&&Ie(d,p)>3e3)return s.stopAnimation(),s.setShape({points:f}),void(l&&(l.stopAnimation(),l.setShape({points:f,stackedOnPoints:p})));s.shape.__points=c.current,s.shape.points=h;var g={shape:{points:f}};c.current!==h&&(g.shape.__points=c.next),s.stopAnimation(),Vt.D(s,g,u),l&&(l.setShape({points:h,stackedOnPoints:d}),l.stopAnimation(),Vt.D(l,{shape:{stackedOnPoints:p}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var m=[],v=c.status,y=0;y<v.length;y++){if("="===v[y].cmd){var b=t.getItemGraphicEl(v[y].idx1);b&&m.push({el:b,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e<m.length;e++){var n=m[e].el,r=2*m[e].ptIdx;n.x=t[r],n.y=t[r+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(ve.Z),ze=je,Be=n("./node_modules/echarts/lib/chart/helper/createRenderPlanner.js");function Fe(t,e){return{seriesType:t,plan:(0,Be.Z)(),reset:function(t){var n=t.getData(),r=t.coordinateSystem,i=t.pipelineContext,o=e||i.large;if(r){var a=(0,b.UI)(r.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");(0,ne.M)(n,a[0])&&(a[0]=l),(0,ne.M)(n,a[1])&&(a[1]=l);var u=n.getStore(),c=n.getDimensionIndex(a[0]),h=n.getDimensionIndex(a[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,i=o&&(0,oe.o)(n*s),a=[],l=[],d=t.start,f=0;d<t.end;d++){var p=void 0;if(1===s){var g=u.get(c,d);p=r.dataToPoint(g,null,l)}else a[0]=u.get(c,d),a[1]=u.get(h,d),p=r.dataToPoint(a,null,l);o?(i[f++]=p[0],i[f++]=p[1]):e.setItemLayout(d,p.slice())}o&&e.setLayout("points",i)}}}}}}var Ge={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Ve=function(t){return Math.round(t.length/2)};function Ze(t){return{seriesType:t,reset:function(t,e,n){var r=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,a=r.count();if(a>10&&"cartesian2d"===o.type&&i){var s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),c=n.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(c||1),d=Math.round(a/h);if(isFinite(d)&&d>1){"lttb"===i&&t.setData(r.lttbDownSample(r.mapDimension(l.dim),1/d));var f=void 0;(0,b.HD)(i)?f=Ge[i]:(0,b.mf)(i)&&(f=i),f&&t.setData(r.downSample(r.mapDimension(l.dim),1/d,f,Ve))}}}}}var Ue=n("./node_modules/echarts/lib/layout/barGrid.js"),He=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,Rt.Z)(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,e,n){var r=this.coordinateSystem;if(r&&r.clampData){var i=r.clampData(t),o=r.dataToPoint(i);if(n)(0,b.S6)(r.getAxes(),(function(t,n){if("category"===t.type&&null!=e){var r=t.getTicksCoords(),a=i[n],s="x1"===e[n]||"y1"===e[n];if(s&&(a+=1),r.length<2)return;if(2===r.length)return void(o[n]=t.toGlobalCoord(t.getExtent()[s?1:0]));for(var l=void 0,u=void 0,c=1,h=0;h<r.length;h++){var d=r[h].coord,f=h===r.length-1?r[h-1].tickValue+c:r[h].tickValue;if(f===a){u=d;break}if(f<a)l=d;else if(null!=l&&f>a){u=(d+l)/2;break}1===h&&(c=f-r[0].tickValue)}null==u&&(l?l&&(u=r[r.length-1].coord):u=r[0].coord),o[n]=t.toGlobalCoord(u)}}));else{var a=this.getData(),s=a.getLayout("offset"),l=a.getLayout("size"),u=r.getBaseAxis().isHorizontal()?0:1;o[u]+=s+l/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(jt.Z);jt.Z.registerClass(He);var We=He,Ye=n("./node_modules/echarts/lib/util/component.js"),Xe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(){return(0,Rt.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=(0,Ye.ZL)(We.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(We),qe=Xe,Ke=n("./node_modules/echarts/lib/util/throttle.js"),$e=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Je=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new $e},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-i),s=i+a,l=e.startAngle,u=e.endAngle,c=e.clockwise,h=2*Math.PI,d=c?u-l<h:l-u<h;d||(l=u-(c?h:-h));var f=Math.cos(l),p=Math.sin(l),g=Math.cos(u),m=Math.sin(u);d?(t.moveTo(f*i+n,p*i+r),t.arc(f*s+n,p*s+r,a,-Math.PI+l,l,!c)):t.moveTo(f*o+n,p*o+r),t.arc(n,r,o,l,u,!c),t.arc(g*s+n,m*s+r,a,u-2*Math.PI,u-Math.PI,!c),0!==i&&t.arc(n,r,i,u,l,c)},e}(s.ZP),Qe=Je;function tn(t,e,n){return e*Math.sin(t)*(n?-1:1)}function en(t,e,n){return e*Math.cos(t)*(n?1:-1)}function nn(t,e,n){var r=t.get("borderRadius");if(null==r)return n?{cornerRadius:0}:null;(0,b.kJ)(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:(0,b.UI)(r,(function(t){return(0,u.GM)(t,i)}))}}var rn=Math.max,on=Math.min;var an=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var i=t.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,r))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){(0,Zt.traverseElements)(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,r){var i,o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var c=t.isAnimationEnabled()?t:null,h=function(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();0;if(n&&"category"===r.type&&"cartesian2d"===e.type)return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}(t,l);h&&this._enableRealtimeSort(h,a,n);var d=t.get("clip",!0)||h,f=function(t,e){var n=t.getArea&&t.getArea();if(Me(t,"cartesian2d")){var r=t.getBaseAxis();if("category"!==r.type||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(l,a);o.removeClipPath();var p=t.get("roundCap",!0),g=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),v=m.get("borderRadius")||0,y=[],b=this._backgroundEls,x=r&&r.isInitSort,_=r&&"changeAxisOrder"===r.type;function w(t){var e=pn[l.type](a,t),n=function(t,e,n){var r="polar"===t.type?be.C:ye.Z;return new r({shape:_n(e,n,t),silent:!0,z2:0})}(l,i,e);return n.useStyle(m.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",v):n.setShape("cornerRadius",v),y[t]=n,n}a.diff(s).add((function(e){var n=a.getItemModel(e),r=pn[l.type](a,e,n);if(g&&w(e),a.hasValue(e)&&fn[l.type](r)){var s=!1;d&&(s=sn[l.type](f,r));var m=ln[l.type](t,a,e,r,i,c,u.model,!1,p);h&&(m.forceLabelAnimation=!0),mn(m,a,e,n,r,t,i,"polar"===l.type),x?m.attr({shape:r}):h?un(h,c,m,r,e,i,!1,!1):(0,Vt.KZ)(m,{shape:r},t,e),a.setItemGraphicEl(e,m),o.add(m),m.ignore=s}})).update((function(e,n){var r=a.getItemModel(e),S=pn[l.type](a,e,r);if(g){var M=void 0;0===b.length?M=w(n):((M=b[n]).useStyle(m.getItemStyle()),"cartesian2d"===l.type?M.setShape("r",v):M.setShape("cornerRadius",v),y[e]=M);var k=pn[l.type](a,e),E=_n(i,k,l);(0,Vt.D)(M,{shape:E},c,e)}var A=s.getItemGraphicEl(n);if(a.hasValue(e)&&fn[l.type](S)){var T=!1;if(d&&(T=sn[l.type](f,S))&&o.remove(A),A?(0,Vt.Zi)(A):A=ln[l.type](t,a,e,S,i,c,u.model,!!A,p),h&&(A.forceLabelAnimation=!0),_){var I=A.getTextContent();if(I){var C=(0,qt.qA)(I);null!=C.prevValue&&(C.prevValue=C.value)}}else mn(A,a,e,r,S,t,i,"polar"===l.type);x?A.attr({shape:S}):h?un(h,c,A,S,e,i,!0,_):(0,Vt.D)(A,{shape:S},t,e,null),a.setItemGraphicEl(e,A),A.ignore=T,o.add(A)}else o.remove(A)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&(0,Vt.XD)(n,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Bt.Z);S.removeAll();for(var M=0;M<y.length;++M)S.add(y[M]);o.add(S),this._backgroundEls=y,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),bn(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),bn(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&Se(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var r=this;if(e.count()){var i=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t),r=n&&n.shape;return r&&Math.abs(i.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(e,o,i,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var r=[];return t.each(t.mapDimension(e.dim),(function(t,e){var i=n(e);i=null==i?NaN:i,r.push({dataIndex:e,mappedValue:i,ordinalNumber:t})})),r.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:(0,b.UI)(r,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var r=n.scale,i=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=r.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(i,r.getRawOrdinalNumber(a)),u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,r=n.getExtent(),i=Math.max(0,r[0]),o=Math.min(r[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(t.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,r){if(this._isOrderChangedWithinSameData(t,e,n)){var i=this._dataSort(t,n,e);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},e.prototype._dispatchInitSort=function(t,e,n){var r=e.baseAxis,i=this._dataSort(t,r,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:i})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){(0,Vt.XD)(e,t,(0,Ut.A)(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(ve.Z),sn={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,o=t.y+t.height,a=rn(e.x,t.x),s=on(e.x+e.width,i),l=rn(e.y,t.y),u=on(e.y+e.height,o),c=s<a,h=u<l;return e.x=c&&a>i?s:a,e.y=h&&l>o?u:l,e.width=c?0:s-a,e.height=h?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var i=on(e.r,t.r),o=rn(e.r0,t.r0);e.r=i,e.r0=o;var a=i-o<0;if(n<0){r=e.r;e.r=e.r0,e.r0=r}return a}},ln={cartesian2d:function(t,e,n,r,i,o,a,s,l){var u=new ye.Z({shape:(0,b.l7)({},r),z2:1});(u.__dataIndex=n,u.name="item",o)&&(u.shape[i?"height":"width"]=0);return u},polar:function(t,e,n,r,i,o,a,s,l){var c=!i&&l?Qe:be.C,h=new c({shape:r,z2:1});h.name="item";var d,f,p=gn(i);if(h.calculateTextPosition=(d=p,f=({isRoundCap:c===Qe}||{}).isRoundCap,function(t,e,n){var r=e.position;if(!r||r instanceof Array)return(0,u.wI)(t,e,n);var i=d(r),o=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,l=a.cy,c=a.r,h=a.r0,p=(c+h)/2,g=a.startAngle,m=a.endAngle,v=(g+m)/2,y=f?Math.abs(c-h)/2:0,b=Math.cos,x=Math.sin,_=s+c*b(g),w=l+c*x(g),S="left",M="top";switch(i){case"startArc":_=s+(h-o)*b(v),w=l+(h-o)*x(v),S="center",M="top";break;case"insideStartArc":_=s+(h+o)*b(v),w=l+(h+o)*x(v),S="center",M="bottom";break;case"startAngle":_=s+p*b(g)+tn(g,o+y,!1),w=l+p*x(g)+en(g,o+y,!1),S="right",M="middle";break;case"insideStartAngle":_=s+p*b(g)+tn(g,-o+y,!1),w=l+p*x(g)+en(g,-o+y,!1),S="left",M="middle";break;case"middle":_=s+p*b(v),w=l+p*x(v),S="center",M="middle";break;case"endArc":_=s+(c+o)*b(v),w=l+(c+o)*x(v),S="center",M="bottom";break;case"insideEndArc":_=s+(c-o)*b(v),w=l+(c-o)*x(v),S="center",M="top";break;case"endAngle":_=s+p*b(m)+tn(m,o+y,!0),w=l+p*x(m)+en(m,o+y,!0),S="left",M="middle";break;case"insideEndAngle":_=s+p*b(m)+tn(m,-o+y,!0),w=l+p*x(m)+en(m,-o+y,!0),S="right",M="middle";break;default:return(0,u.wI)(t,e,n)}return(t=t||{}).x=_,t.y=w,t.align=S,t.verticalAlign=M,t}),o){var g=i?"r":"endAngle",m={};h.shape[g]=i?r.r0:r.startAngle,m[g]=r[g],(s?Vt.D:Vt.KZ)(h,{shape:m},o)}return h}};function un(t,e,n,r,i,o,a,s){var l,u;o?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(a?Vt.D:Vt.KZ)(n,{shape:l},e,i,null);var c=e?t.baseAxis.model:null;(a?Vt.D:Vt.KZ)(n,{shape:u},c,i)}function cn(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var hn=["x","y","width","height"],dn=["cx","cy","r","startAngle","endAngle"],fn={cartesian2d:function(t){return!cn(t,hn)},polar:function(t){return!cn(t,dn)}},pn={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=n?function(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var r=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,o)}(n,r):0,o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function gn(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function mn(t,e,n,r,i,o,a,s){var l=e.getItemVisual(n,"style");if(s){if(!o.get("roundCap")){var u=t.shape,c=nn(r.getModel("itemStyle"),u,!0);(0,b.l7)(u,c),t.setShape(u)}}else{var h=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",h)}t.useStyle(l);var d=r.getShallow("cursor");d&&t.attr("cursor",d);var f=s?a?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":a?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=(0,qt.k3)(r);(0,qt.ni)(t,p,{labelFetcher:o,labelDataIndex:n,defaultText:Yt(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var g=t.getTextContent();if(s&&g){var m=r.get(["label","position"]);t.textConfig.inside="middle"===m||null,function(t,e,n,r){if((0,b.hj)(r))t.setTextConfig({rotation:r});else if((0,b.kJ)(e))t.setTextConfig({rotation:0});else{var i,o=t.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,l=(a+s)/2,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":i=l;break;case"startAngle":case"insideStartAngle":i=a;break;case"endAngle":case"insideEndAngle":i=s;break;default:return void t.setTextConfig({rotation:0})}var c=1.5*Math.PI-i;"middle"===u&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),t.setTextConfig({rotation:c})}}(t,"outside"===m?f:m,gn(a),r.get(["label","rotate"]))}(0,qt.pe)(g,p,o.getRawValue(n),(function(t){return Xt(e,t)}));var v=r.getModel(["emphasis"]);(0,Ht.k5)(t,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,Ht.WO)(t,r),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(i)&&(t.style.fill="none",t.style.stroke="none",(0,b.S6)(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var vn=function(){},yn=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new vn},e.prototype.buildPath=function(t,e){for(var n=e.points,r=this.baseDimIdx,i=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[r]=s,a[i]=n[l+2],o[r]=n[l+r],o[i]=n[l+i],t.rect(o[0],o[1],a[0],a[1])},e}(s.ZP);function bn(t,e,n,r){var i=t.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,a=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=t.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new yn({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),n&&n.push(c)}var h=new yn({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,e.add(h),h.useStyle(i.getVisual("style")),(0,Ut.A)(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",xn),h.on("mousemove",xn)),n&&n.push(h)}var xn=(0,Ke.P2)((function(t){var e=function(t,e,n){for(var r=t.baseDimIdx,i=1-r,o=t.shape.points,a=t.largeDataIndices,s=[],l=[],u=t.barWidth,c=0,h=o.length/3;c<h;c++){var d=3*c;if(l[r]=u,l[i]=o[d+2],s[r]=o[d+r],s[i]=o[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[c]}return-1}(this,t.offsetX,t.offsetY);(0,Ut.A)(this).dataIndex=e>=0?e:null}),30,!1);function _n(t,e,n){if(Me(n,"cartesian2d")){var r=e,i=n.getArea();return{x:t?r.x:i.x,y:t?i.y:r.y,width:t?r.width:i.width,height:t?i.height:r.height}}var o=e;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:t?i.r0:o.r0,r:t?i.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}var wn=an;var Sn=n("./node_modules/echarts/lib/legacy/dataSelectAction.js"),Mn=n("./node_modules/echarts/lib/util/layout.js"),kn=2*Math.PI,En=Math.PI/180;function An(t,e){return Mn.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Tn(t,e){var n=An(t,e),r=t.get("center"),i=t.get("radius");b.kJ(i)||(i=[0,i]);var o,a,s=(0,xe.GM)(n.width,e.getWidth()),l=(0,xe.GM)(n.height,e.getHeight()),u=Math.min(s,l),c=(0,xe.GM)(i[0],u/2),h=(0,xe.GM)(i[1],u/2),d=t.coordinateSystem;if(d){var f=d.dataToPoint(r);o=f[0]||0,a=f[1]||0}else b.kJ(r)||(r=[r,r]),o=(0,xe.GM)(r[0],s)+n.x,a=(0,xe.GM)(r[1],l)+n.y;return{cx:o,cy:a,r0:c,r:h}}function In(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),r=e.mapDimension("value"),i=An(t,n),o=Tn(t,n),a=o.cx,s=o.cy,l=o.r,u=o.r0,c=-t.get("startAngle")*En,h=t.get("minAngle")*En,d=0;e.each(r,(function(t){!isNaN(t)&&d++}));var f=e.getSum(r),p=Math.PI/(f||d)*2,g=t.get("clockwise"),m=t.get("roseType"),v=t.get("stillShowZeroSum"),y=e.getDataExtent(r);y[0]=0;var b=kn,x=0,_=c,w=g?1:-1;if(e.setLayout({viewRect:i,r:l}),e.each(r,(function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:a,cy:s,r0:u,r:m?NaN:l});else{(r="area"!==m?0===f&&v?p:t*p:kn/d)<h?(r=h,b-=h):x+=t;var i=_+w*r;e.setItemLayout(n,{angle:r,startAngle:_,endAngle:i,clockwise:g,cx:a,cy:s,r0:u,r:m?(0,xe.NU)(t,y,[u,l]):l}),_=i}})),b<kn&&d)if(b<=.001){var S=kn/d;e.each(r,(function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=S,r.startAngle=c+w*n*S,r.endAngle=c+w*(n+1)*S}}))}else p=b/x,_=c,e.each(r,(function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),i=r.angle===h?h:t*p;r.startAngle=_,r.endAngle=_+w*i,_+=w*i}}))}))}function Cn(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf((function(t){for(var e=r.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0}))}}}}var Dn=n("./node_modules/zrender/lib/graphic/shape/Polyline.js"),Nn=n("./node_modules/zrender/lib/core/Point.js"),On=n("./node_modules/echarts/lib/label/labelGuideHelper.js"),Ln=n("./node_modules/echarts/lib/label/labelLayoutHelper.js"),Pn=Math.PI/180;function Rn(t,e,n,r,i,o,a,s,l,u){if(!(t.length<2)){for(var c=t.length,h=0;h<c;h++)if("outer"===t[h].position&&"labelLine"===t[h].labelAlignTo){var d=t[h].label.x-u;t[h].linePoints[1][0]+=d,t[h].label.x=u}(0,Ln.GI)(t,l,l+a)&&function(t){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var l=t[s],u=l.label.y>n?a:o,c=Math.abs(l.label.y-n);if(c>=u.maxY){var h=l.label.x-e-l.len2*i,d=r+l.len,p=Math.abs(h)<d?Math.sqrt(c*c/(1-h*h/d/d)):d;u.rB=p,u.maxY=c}u.list.push(l)}f(o),f(a)}(t)}function f(t){for(var o=t.rB,a=o*o,s=0;s<t.list.length;s++){var l=t.list[s],u=Math.abs(l.label.y-n),c=r+l.len,h=c*c,d=Math.sqrt((1-Math.abs(u*u/a))*h),f=e+(d+l.len2)*i,p=f-l.label.x;jn(l,l.targetTextWidth-p*i,!0),l.label.x=f}}}function jn(t,e,n){if(void 0===n&&(n=!1),null==t.labelStyleWidth){var r=t.label,i=r.style,o=t.rect,a=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=o.width+(a?0:l);if(e<c||n){var h=o.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",a)}else{var f=e-l,p=e<c?f:n?f>t.unconstrainedWidth?null:f:null;r.setStyle("width",p)}var g=r.getBoundingRect();o.width=g.width;var m=(r.style.margin||0)+2.1;o.height=g.height+m,o.y-=(o.height-h)/2}}}function zn(t){return"center"===t.position}function Bn(t){var e,n,r=t.getData(),i=[],o=!1,a=(t.get("minShowLabelAngle")||0)*Pn,s=r.getLayout("viewRect"),l=r.getLayout("r"),u=s.width,c=s.x,h=s.y,d=s.height;function f(t){t.ignore=!0}r.each((function(t){var s=r.getItemGraphicEl(t),h=s.shape,d=s.getTextContent(),p=s.getTextGuideLine(),g=r.getItemModel(t),m=g.getModel("label"),v=m.get("position")||g.get(["emphasis","label","position"]),y=m.get("distanceToLabelLine"),x=m.get("alignTo"),_=(0,xe.GM)(m.get("edgeDistance"),u),w=m.get("bleedMargin"),S=g.getModel("labelLine"),M=S.get("length");M=(0,xe.GM)(M,u);var k=S.get("length2");if(k=(0,xe.GM)(k,u),Math.abs(h.endAngle-h.startAngle)<a)return(0,b.S6)(d.states,f),d.ignore=!0,void(p&&((0,b.S6)(p.states,f),p.ignore=!0));if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(d)){var E,A,T,I,C=(h.startAngle+h.endAngle)/2,D=Math.cos(C),N=Math.sin(C);e=h.cx,n=h.cy;var O="inside"===v||"inner"===v;if("center"===v)E=h.cx,A=h.cy,I="center";else{var L=(O?(h.r+h.r0)/2*D:h.r*D)+e,P=(O?(h.r+h.r0)/2*N:h.r*N)+n;if(E=L+3*D,A=P+3*N,!O){var R=L+D*(M+l-h.r),j=P+N*(M+l-h.r),z=R+(D<0?-1:1)*k;E="edge"===x?D<0?c+_:c+u-_:z+(D<0?-y:y),A=j,T=[[L,P],[R,j],[z,j]]}I=O?"center":"edge"===x?D>0?"right":"left":D>0?"left":"right"}var B=Math.PI,F=0,G=m.get("rotate");if((0,b.hj)(G))F=G*(B/180);else if("center"===v)F=0;else if("radial"===G||!0===G){F=D<0?-C+B:-C}else if("tangential"===G&&"outside"!==v&&"outer"!==v){var V=Math.atan2(D,N);V<0&&(V=2*B+V),N>0&&(V=B+V),F=V-B}if(o=!!F,d.x=E,d.y=A,d.rotation=F,d.setStyle({verticalAlign:"middle"}),O){d.setStyle({align:I});var Z=d.states.select;Z&&(Z.x+=d.x,Z.y+=d.y)}else{var U=d.getBoundingRect().clone();U.applyTransform(d.getComputedTransform());var H=(d.style.margin||0)+2.1;U.y-=H/2,U.height+=H,i.push({label:d,labelLine:p,position:v,len:M,len2:k,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new Nn.Z(D,N),linePoints:T,textAlign:I,labelDistance:y,labelAlignTo:x,edgeDistance:_,bleedMargin:w,rect:U,unconstrainedWidth:U.width,labelStyleWidth:d.style.width})}s.setTextConfig({inside:O})}})),!o&&t.get("avoidLabelOverlap")&&function(t,e,n,r,i,o,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<t.length;d++){var f=t[d].label;zn(t[d])||(f.x<e?(c=Math.min(c,f.x),l.push(t[d])):(h=Math.max(h,f.x),u.push(t[d])))}for(d=0;d<t.length;d++)if(!zn(m=t[d])&&m.linePoints){if(null!=m.labelStyleWidth)continue;f=m.label;var p=m.linePoints,g=void 0;g="edge"===m.labelAlignTo?f.x<e?p[2][0]-m.labelDistance-a-m.edgeDistance:a+i-m.edgeDistance-p[2][0]-m.labelDistance:"labelLine"===m.labelAlignTo?f.x<e?c-a-m.bleedMargin:a+i-h-m.bleedMargin:f.x<e?f.x-a-m.bleedMargin:a+i-f.x-m.bleedMargin,m.targetTextWidth=g,jn(m,g)}for(Rn(u,e,n,r,1,0,o,0,s,h),Rn(l,e,n,r,-1,0,o,0,s,c),d=0;d<t.length;d++){var m;if(!zn(m=t[d])&&m.linePoints){f=m.label,p=m.linePoints;var v="edge"===m.labelAlignTo,y=f.style.padding,b=y?y[1]+y[3]:0,x=f.style.backgroundColor?0:b,_=m.rect.width+x,w=p[1][0]-p[2][0];v?f.x<e?p[2][0]=a+m.edgeDistance+_+m.labelDistance:p[2][0]=a+i-m.edgeDistance-_-m.labelDistance:(f.x<e?p[2][0]=f.x+m.labelDistance:p[2][0]=f.x-m.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=f.y}}}(i,e,n,l,u,d,c,h);for(var p=0;p<i.length;p++){var g=i[p],m=g.label,v=g.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),y&&((0,b.S6)(m.states,f),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(v){var _=g.linePoints;y||!_?((0,b.S6)(v.states,f),v.ignore=!0):((0,On.qK)(_,g.minTurnAngle),(0,On._A)(_,g.surfaceNormal,g.maxSurfaceAngle),v.setShape({points:_}),m.__hostTarget.textGuideLineConfig={anchor:new Nn.Z(_[0][0],_[0][1])})}}}var Fn=function(t){function e(e,n,r){var i=t.call(this)||this;i.z2=2;var o=new X.ZP;return i.setTextContent(o),i.updateData(e,n,r,!0),i}return(0,Pt.ZT)(e,t),e.prototype.updateData=function(t,e,n,r){var i=this,o=t.hostModel,a=t.getItemModel(e),s=a.getModel("emphasis"),l=t.getItemLayout(e),u=(0,b.l7)(nn(a.getModel("itemStyle"),l,!0),l);if(isNaN(u.startAngle))i.setShape(u);else{if(r){i.setShape(u);var c=o.getShallow("animationType");o.ecModel.ssr?(Vt.KZ(i,{scaleX:0,scaleY:0},o,{dataIndex:e,isFrom:!0}),i.originX=u.cx,i.originY=u.cy):"scale"===c?(i.shape.r=l.r0,Vt.KZ(i,{shape:{r:l.r}},o,e)):null!=n?(i.setShape({startAngle:n,endAngle:n}),Vt.KZ(i,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,e)):(i.shape.endAngle=l.startAngle,Vt.D(i,{shape:{endAngle:l.endAngle}},o,e))}else(0,Vt.Zi)(i),Vt.D(i,{shape:u},o,e);i.useStyle(t.getItemVisual(e,"style")),(0,Ht.WO)(i,a);var h=(l.startAngle+l.endAngle)/2,d=o.get("selectedOffset"),f=Math.cos(h)*d,p=Math.sin(h)*d,g=a.getShallow("cursor");g&&i.attr("cursor",g),this._updateLabel(o,t,e),i.ensureState("emphasis").shape=(0,b.l7)({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},nn(s.getModel("itemStyle"),l)),(0,b.l7)(i.ensureState("select"),{x:f,y:p,shape:nn(a.getModel(["select","itemStyle"]),l)}),(0,b.l7)(i.ensureState("blur"),{shape:nn(a.getModel(["blur","itemStyle"]),l)});var m=i.getTextGuideLine(),v=i.getTextContent();m&&(0,b.l7)(m.ensureState("select"),{x:f,y:p}),(0,b.l7)(v.ensureState("select"),{x:f,y:p}),(0,Ht.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},e.prototype._updateLabel=function(t,e,n){var r=this,i=e.getItemModel(n),o=i.getModel("labelLine"),a=e.getItemVisual(n,"style"),s=a&&a.fill,l=a&&a.opacity;(0,qt.ni)(r,(0,qt.k3)(i),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var u=r.getTextContent();r.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var c=t.get(["label","position"]);if("outside"!==c&&"outer"!==c)r.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new Dn.Z,this.setTextGuideLine(h)),(0,On.Iu)(this,(0,On.$x)(i),{stroke:s,opacity:(0,b.R1)(o.get(["lineStyle","opacity"]),l,1)})}},e}(be.C),Gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){var i,o=t.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(i=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var c=new be.C({shape:Tn(t,n)});c.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,s.add(c)}o.diff(a).add((function(t){var e=new Fn(o,t,i);o.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t,i),n.off("click"),s.add(n),o.setItemGraphicEl(t,n)})).remove((function(e){var n=a.getItemGraphicEl(e);Vt.XD(n,t,e)})).execute(),Bn(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},e.type="pie",e}(ve.Z),Vn=Gn,Zn=n("./node_modules/echarts/lib/data/helper/createDimensions.js"),Un=n("./node_modules/echarts/lib/data/SeriesData.js");function Hn(t,e,n){e=(0,b.kJ)(e)&&{coordDimensions:e}||(0,b.l7)({encodeDefine:t.getEncode()},e);var r=t.getSource(),i=(0,Zn.Z)(r,e).dimensions,o=new Un.Z(i,t);return o.initData(r,n),o}var Wn=n("./node_modules/echarts/lib/data/helper/sourceHelper.js"),Yn=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),Xn=se.Yf(),qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Yn(b.ak(this.getData,this),b.ak(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Hn(this,{coordDimensions:["value"],encodeDefaulter:b.WA(Wn.Ss,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),r=Xn(n),i=r.seats;if(!i){var o=[];n.each(n.mapDimension("value"),(function(t){o.push(t)})),i=r.seats=(0,xe.HD)(o,n.hostModel.get("percentPrecision"))}var a=t.prototype.getDataParams.call(this,e);return a.percent=i[e]||0,a.$vars.push("percent"),a},e.prototype._defaultLabelLine=function(t){se.Cc(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(jt.Z),Kn=qn;var $n=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,Rt.Z)(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(jt.Z),Jn=$n,Qn=n("./node_modules/zrender/lib/core/BoundingRect.js"),tr=function(){},er=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new tr},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,r=e.points,i=e.size,o=this.symbolProxy,a=o.shape,s=t.getContext?t.getContext():t,l=s&&i[0]<4,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<r.length;){var c=r[n++],h=r[n++];isNaN(c)||isNaN(h)||(u&&!u.contain(c,h)||(a.x=c-i[0]/2,a.y=h-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(t,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,r=e.size,i=this._ctx,o=this.softClipShape;if(i){for(t=this._off;t<n.length;){var a=n[t++],s=n[t++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||i.fillRect(a-r[0]/2,s-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,r=n.points,i=n.size,o=Math.max(i[0],4),a=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var l=2*s,u=r[l]-o/2,c=r[l+1]-a/2;if(t>=u&&e>=c&&t<=u+o&&e<=c+a)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return t=n[0],e=n[1],r.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,r=e.size,i=r[0],o=r[1],a=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<n.length;){var h=n[c++],d=n[c++];a=Math.min(h,a),l=Math.max(h,l),s=Math.min(d,s),u=Math.max(d,u)}t=this._rect=new Qn.Z(a-i/2,s-o/2,l-a+i,u-s+o)}return t},e}(s.ZP),nr=function(){function t(){this.group=new Bt.Z}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,n)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var r=this._newAdded[0],i=e.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+i.length);s.set(o),s.set(i,a),r.endIndex=t.end,r.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:i}),this._setCommon(l,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new er({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var r=e.hostModel;n=n||{};var i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=n.clipShape||null,t.symbolProxy=(0,zt.th)(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("style"),s=a&&a.fill;s&&t.setColor(s);var l=(0,Ut.A)(t);l.seriesIndex=r.seriesIndex,t.on("mousemove",(function(e){l.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(l.dataIndex=n+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),rr=nr,ir=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var i=Fe("").reset(t,e,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,r=e.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new rr:new ee,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(ve.Z),or=ir,ar=n("./node_modules/echarts/lib/view/Component.js"),sr=n("./node_modules/echarts/lib/model/Component.js"),lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(sr.Z),ur=lr,cr=n("./node_modules/echarts/lib/coord/axisModelCommonMixin.js"),hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",se.C6).models[0]},e.type="cartesian2dAxis",e}(sr.Z);b.jB(hr,cr.W);var dr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},fr=b.TS({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},dr),pr=b.TS({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},dr),gr={category:fr,value:pr,time:b.TS({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},pr),log:b.ce({logBase:10},pr)},mr=n("./node_modules/echarts/lib/data/OrdinalMeta.js"),vr={value:1,category:1,time:1,log:1};function yr(t,e,n,r){(0,b.S6)(vr,(function(i,o){var a=(0,b.TS)((0,b.TS)({},gr[o],!0),r,!0),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+o,n}return(0,Pt.ZT)(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=(0,Mn.YD)(this),r=n?(0,Mn.tE)(t):{},i=e.getTheme();(0,b.TS)(t,i.get(o+"Axis")),(0,b.TS)(t,this.getDefaultOption()),t.type=br(t),n&&(0,Mn.dt)(t,r,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=mr.Z.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+o,n.defaultOption=a,n}(n);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",br)}function br(t){return t.type||(t.data?"category":"value")}var xr=n("./node_modules/echarts/lib/coord/axisHelper.js"),_r=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return b.UI(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),b.hX(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),wr=n("./node_modules/zrender/lib/core/matrix.js"),Sr=n("./node_modules/zrender/lib/core/vector.js"),Mr=["x","y"];function kr(t){return"interval"===t.type||"time"===t.type}var Er=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Mr,e}return(0,Pt.ZT)(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(kr(t)&&kr(e)){var n=t.getExtent(),r=e.getExtent(),i=this.dataToPoint([n[0],r[0]]),o=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],s=r[1]-r[0];if(a&&s){var l=(o[0]-i[0])/a,u=(o[1]-i[1])/s,c=i[0]-n[0]*l,h=i[1]-r[0]*u,d=this._transform=[l,0,0,u,c,h];this._invTransform=(0,wr.U_)([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var n=this.dataToPoint(t),r=this.dataToPoint(e),i=this.getArea(),o=new Qn.Z(n[0],n[1],r[0]-n[0],r[1]-n[1]);return i.intersect(o)},e.prototype.dataToPoint=function(t,e,n){n=n||[];var r=t[0],i=t[1];if(this._transform&&null!=r&&isFinite(r)&&null!=i&&isFinite(i))return(0,Sr.Ne)(n,t,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(r,e)),n[1]=a.toGlobalCoord(a.dataToCoord(i,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),o=r.getExtent(),a=n.parse(t[0]),s=r.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),a),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return(0,Sr.Ne)(n,t,this._invTransform);var r=this.getAxis("x"),i=this.getAxis("y");return n[0]=r.coordToData(r.toLocalCoord(t[0]),e),n[1]=i.coordToData(i.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),r=Math.min(e[0],e[1]),i=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-r;return new Qn.Z(n,r,i,o)},e}(_r),Ar=Er,Tr=(0,se.Yf)();function Ir(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Dr(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=(0,xr.J9)(t);return{labels:b.UI(e,(function(e,r){return{level:e.level,formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)}function Cr(t,e){return"category"===t.type?function(t,e){var n,r,i=Nr(t,"ticks"),o=(0,xr.rk)(e),a=Or(i,o);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]);if(b.mf(o))n=Rr(t,o,!0);else if("auto"===o){var s=Dr(t,t.getLabelModel());r=s.labelCategoryInterval,n=b.UI(s.labels,(function(t){return t.tickValue}))}else n=Pr(t,r=o,!0);return Lr(i,o,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:b.UI(t.scale.getTicks(),(function(t){return t.value}))}}function Dr(t,e){var n,r,i=Nr(t,"labels"),o=(0,xr.rk)(e),a=Or(i,o);return a||(b.mf(o)?n=Rr(t,o):(r="auto"===o?function(t){var e=Tr(t).autoInterval;return null!=e?e:Tr(t).autoInterval=t.calculateCategoryInterval()}(t):o,n=Pr(t,r)),Lr(i,o,{labels:n,labelCategoryInterval:r}))}function Nr(t,e){return Tr(t)[e]||(Tr(t)[e]=[])}function Or(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Lr(t,e,n){return t.push({key:e,value:n}),n}function Pr(t,e,n){var r=(0,xr.J9)(t),i=t.scale,o=i.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],c=i.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=(0,xr.WY)(t),d=a.get("showMinLabel")||h,f=a.get("showMaxLabel")||h;d&&u!==o[0]&&g(o[0]);for(var p=u;p<=o[1];p+=l)g(p);function g(t){var e={value:t};s.push(n?t:{formattedLabel:r(e),rawLabel:i.getLabel(e),tickValue:t})}return f&&p-l!==o[1]&&g(o[1]),s}function Rr(t,e,n){var r=t.scale,i=(0,xr.J9)(t),o=[];return b.S6(r.getTicks(),(function(t){var a=r.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:i(t),rawLabel:a,tickValue:s})})),o}var jr=[0,1],zr=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return(0,xe.M9)(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&Br(n=n.slice(),r.count()),(0,xe.NU)(t,jr,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&Br(n=n.slice(),r.count());var i=(0,xe.NU)(t,n,jr,e);return this.scale.scale(i)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=Cr(this,e).ticks,r=(0,b.UI)(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var o,a,s=t.getExtent();if(1===i)e[0].coord=s[0],o=e[1]={coord:s[1]};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;(0,b.S6)(e,(function(t){t.coord-=u/2})),a=1+t.scale.getExtent()[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*a},e.push(o)}var c=s[0]>s[1];h(e[0].coord,s[0])&&(r?e[0].coord=s[0]:e.shift());r&&h(s[0],e[0].coord)&&e.unshift({coord:s[0]});h(s[1],o.coord)&&(r?o.coord=s[1]:e.pop());r&&h(o.coord,s[1])&&e.push({coord:s[1]});function h(t,e){return t=(0,xe.NM)(t),e=(0,xe.NM)(e),c?t>e:t<e}}(this,r,e.get("alignWithLabel"),t.clamp),r},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return(0,b.UI)(e,(function(t){return(0,b.UI)(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return Ir(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=(0,xr.J9)(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(c*Math.cos(r)),d=Math.abs(c*Math.sin(r)),f=0,p=0;l<=o[1];l+=s){var g,m,v=u.lP(n({value:l}),e.font,"center","top");g=1.3*v.width,m=1.3*v.height,f=Math.max(f,g,7),p=Math.max(p,m,7)}var y=f/h,b=p/d;isNaN(y)&&(y=1/0),isNaN(b)&&(b=1/0);var x=Math.max(0,Math.floor(Math.min(y,b))),_=Tr(t.model),w=t.getExtent(),S=_.lastAutoInterval,M=_.lastTickCount;return null!=S&&null!=M&&Math.abs(S-x)<=1&&Math.abs(M-a)<=1&&S>x&&_.axisExtent0===w[0]&&_.axisExtent1===w[1]?x=S:(_.lastTickCount=a,_.lastAutoInterval=x,_.axisExtent0=w[0],_.axisExtent1=w[1]),x}(this)},t}();function Br(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var Fr=zr,Gr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r)||this;return a.index=0,a.type=i||"value",a.position=o||"bottom",a}return(0,Pt.ZT)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Fr),Vr=Gr;function Zr(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,l=a?"onZero":s,u=i.dim,c=r.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===u?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===u?p[d[l]]:h[0],"x"===u?p[d[l]]:h[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),b.Jv(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}function Ur(t){return"cartesian2d"===t.get("coordinateSystem")}function Hr(t){var e={xAxisModel:null,yAxisModel:null};return b.S6(e,(function(n,r){var i=r.replace(/Model$/,""),o=t.getReferringComponents(i,se.C6).models[0];e[r]=o})),e}var Wr=n("./node_modules/echarts/lib/scale/helper.js"),Yr=n("./node_modules/echarts/lib/scale/Interval.js"),Xr=Math.log;function qr(t,e,n){var r=Yr.Z.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),a=i.length-1,s=r.getInterval.call(n),l=(0,xr.Xv)(t,e),u=l.extent,c=l.fixMin,h=l.fixMax;if("log"===t.type){var d=Xr(t.base);u=[Xr(u[0])/d,Xr(u[1])/d]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:h});var f=r.getExtent.call(t);c&&(u[0]=f[0]),h&&(u[1]=f[1]);var p=r.getInterval.call(t),g=u[0],m=u[1];if(c&&h)p=(m-g)/a;else if(c)for(m=u[0]+p*a;m<u[1]&&isFinite(m)&&isFinite(u[1]);)p=(0,Wr.r1)(p),m=u[0]+p*a;else if(h)for(g=u[1]-p*a;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=(0,Wr.r1)(p),g=u[1]-p*a;else{t.getTicks().length-1>a&&(p=(0,Wr.r1)(p));var v=p*a;m=Math.ceil(u[1]/p)*p,(g=(0,xe.NM)(m-v))<0&&u[0]>=0?(g=0,m=(0,xe.NM)(v)):m>0&&u[1]<=0&&(m=0,g=-(0,xe.NM)(v))}var y=(i[0].value-o[0].value)/s,b=(i[a].value-o[a].value)/s;r.setExtent.call(t,g+p*y,m+p*b),r.setInterval.call(t,p),(y||b)&&r.setNiceExtent.call(t,g+p,m-p)}var Kr=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Mr,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function r(t){var e,n=(0,b.XP)(t),r=n.length;if(r){for(var i=[],o=r-1;o>=0;o--){var a=t[+n[o]],s=a.model,l=a.scale;(0,Wr.lM)(l)&&s.get("alignTicks")&&null==s.get("interval")?i.push(a):((0,xr.Jk)(l,s),(0,Wr.lM)(l)&&(e=a))}i.length&&(e||(e=i.pop(),(0,xr.Jk)(e.scale,e.model)),(0,b.S6)(i,(function(t){qr(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),r(n.x),r(n.y);var i={};(0,b.S6)(n.x,(function(t){Jr(n,"y",t,i)})),(0,b.S6)(n.y,(function(t){Jr(n,"x",t,i)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var r=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),o=(0,Mn.ME)(r,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){(0,b.S6)(a,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}(t,e?o.x:o.y)}))}s(),i&&((0,b.S6)(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=(0,xr.Do)(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+r,"top"===t.position?o.y+=e.height+r:"left"===t.position&&(o.x+=e.width+r)}}})),s()),(0,b.S6)(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}(0,b.Kn)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===t||i[r].getAxis("y").index===e)return i[r]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,r=t.seriesModel,i=t.xAxisModel||r&&r.getReferringComponents("xAxis",se.C6).models[0],o=t.yAxisModel||r&&r.getReferringComponents("yAxis",se.C6).models[0],a=t.gridModel,s=this._coordsList;if(r)e=r.coordinateSystem,(0,b.cq)(s,e)<0&&(e=null);else if(i&&o)e=this.getCartesian(i.componentIndex,o.componentIndex);else if(i)n=this.getAxis("x",i.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,r){if($r(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var u=new Vr(e,(0,xr.aG)(n),[0,0],n.get("type"),l),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=i,u.index=r,i._axesList.push(u),a[e][r]=u,s[e]++}}}this._axesMap=a,(0,b.S6)(a.x,(function(e,n){(0,b.S6)(a.y,(function(i,o){var a="x"+n+"y"+o,s=new Ar(a);s.master=r,s.model=t,r._coordsMap[a]=s,r._coordsList.push(s),s.addAxis(e),s.addAxis(i)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){(0,b.S6)((0,xr.PY)(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}(0,b.S6)(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(Ur(t)){var r=Hr(t),i=r.xAxisModel,o=r.yAxisModel;if(!$r(i,e)||!$r(o,e))return;var a=this.getCartesian(i.componentIndex,o.componentIndex),s=t.getData(),l=a.getAxis("x"),u=a.getAxis("y");n(s,l),n(s,u)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return(0,b.S6)(this.getCartesians(),(function(r){var i=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(i);(0,b.cq)(e,i)<0&&e.push(i),(0,b.cq)(n,o)<0&&n.push(o)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var r=[];return e.eachComponent("grid",(function(i,o){var a=new t(i,e,n);a.name="grid_"+o,a.resize(i,n,!0),i.coordinateSystem=a,r.push(a)})),e.eachSeries((function(t){if(Ur(t)){var e=Hr(t),n=e.xAxisModel,r=e.yAxisModel;0;var i=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}})),r},t.dimensions=Mr,t}();function $r(t,e){return t.getCoordSysModel()===e}function Jr(t,e,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,o=t[e],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)Qr(o[l])&&(i=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&Qr(o[u])&&!r[c(o[u])]){i=o[u];break}i&&(r[c(i)]=!0)}function c(t){return t.dim+"_"+t.index}}function Qr(t){return t&&"category"!==t.type&&"time"!==t.type&&(0,xr.Yb)(t)}var ti=Kr,ei=n("./node_modules/zrender/lib/graphic/shape/Line.js"),ni=n("./node_modules/echarts/lib/model/Model.js"),ri=Math.PI,ii=function(){function t(t,e){this.group=new Bt.Z,this.opt=e,this.axisModel=t,(0,b.ce)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Bt.Z({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!oi[t]},t.prototype.add=function(t){oi[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var r,i,o=(0,xe.wW)(e-t);return(0,xe.mW)(o)?(i=n>0?"top":"bottom",r="center"):(0,xe.mW)(o-ri)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=o>0&&o<ri?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:r,textVerticalAlign:i}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),oi={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if("auto"===i&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),i){var o=e.axis.getExtent(),a=r.transform,s=[o[0],0],l=[o[1],0],u=s[0]>l[0];a&&((0,Sr.Ne)(s,s,a),(0,Sr.Ne)(l,l,a));var c=(0,b.l7)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new ei.Z({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Zt.subPixelOptimizeLine(h.shape,h.style.lineWidth),h.anid="line",n.add(h);var d=e.get(["axisLine","symbol"]);if(null!=d){var f=e.get(["axisLine","symbolSize"]);(0,b.HD)(d)&&(d=[d,d]),((0,b.HD)(f)||(0,b.hj)(f))&&(f=[f,f]);var p=(0,zt.Cq)(e.get(["axisLine","symbolOffset"])||0,f),g=f[0],m=f[1];(0,b.S6)([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,r){if("none"!==d[r]&&null!=d[r]){var i=(0,zt.th)(d[r],-g/2,-m/2,g,m,c.stroke,!0),o=e.r+e.offset,a=u?l:s;i.attr({rotation:e.rotate,x:a[0]+o*Math.cos(t.rotation),y:a[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(i)}}))}}},axisTickLabel:function(t,e,n,r){var i=function(t,e,n,r){var i=n.axis,o=n.getModel("axisTick"),a=o.get("show");"auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick"));if(!a||i.scale.isBlank())return;for(var s=o.getModel("lineStyle"),l=r.tickDirection*o.get("length"),u=ui(i.getTicksCoords(),e.transform,l,(0,b.ce)(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<u.length;c++)t.add(u[c]);return u}(n,r,e,t),o=function(t,e,n,r){var i=n.axis,o=(0,b.Jv)(r.axisLabelShow,n.get(["axisLabel","show"]));if(!o||i.scale.isBlank())return;var a=n.getModel("axisLabel"),s=a.get("margin"),l=i.getViewLabels(),u=((0,b.Jv)(r.labelRotate,a.get("rotate"))||0)*ri/180,c=ii.innerTextLayout(r.rotation,u,r.labelDirection),h=n.getCategories&&n.getCategories(!0),d=[],f=ii.isLabelSilent(n),p=n.get("triggerEvent");return(0,b.S6)(l,(function(o,l){var u="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(o.tickValue):o.tickValue,g=o.formattedLabel,m=o.rawLabel,v=a;if(h&&h[u]){var y=h[u];(0,b.Kn)(y)&&y.textStyle&&(v=new ni.Z(y.textStyle,a,n.ecModel))}var x=v.getTextColor()||n.get(["axisLine","lineStyle","color"]),_=i.dataToCoord(u),w=new X.ZP({x:_,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:f,z2:10+(o.level||0),style:(0,qt.Lr)(v,{text:g,align:v.getShallow("align",!0)||c.textAlign,verticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||c.textVerticalAlign,fill:(0,b.mf)(x)?x("category"===i.type?m:"value"===i.type?u+"":u,l):x})});if(w.anid="label_"+u,p){var S=ii.makeAxisEventDataBase(n);S.targetType="axisLabel",S.value=m,S.tickIndex=l,"category"===i.type&&(S.dataIndex=u),(0,Ut.A)(w).eventData=S}e.add(w),w.updateTransform(),d.push(w),t.add(w),w.decomposeTransform()})),d}(n,r,e,t);if(function(t,e,n){if((0,xr.WY)(t.axis))return;var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],c=n[1],h=n[n.length-1],d=n[n.length-2];!1===r?(ai(o),ai(u)):si(o,a)&&(r?(ai(a),ai(c)):(ai(o),ai(u)));!1===i?(ai(s),ai(h)):si(l,s)&&(i?(ai(l),ai(d)):(ai(s),ai(h)))}(e,o,i),function(t,e,n,r){var i=n.axis,o=n.getModel("minorTick");if(!o.get("show")||i.scale.isBlank())return;var a=i.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),l=r*o.get("length"),u=(0,b.ce)(s.getLineStyle(),(0,b.ce)(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var h=ui(a[c],e.transform,l,u,"minorticks_"+c),d=0;d<h.length;d++)t.add(h[d])}(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=(0,Ln.VT)((0,b.UI)(o,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));(0,Ln.yl)(a)}},axisName:function(t,e,n,r){var i=(0,b.Jv)(t.axisName,e.get("name"));if(i){var o,a,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,h=e.axis.getExtent(),d=h[0]>h[1]?-1:1,f=["start"===s?h[0]-d*c:"end"===s?h[1]+d*c:(h[0]+h[1])/2,li(s)?t.labelOffset+l*c:0],p=e.get("nameRotate");null!=p&&(p=p*ri/180),li(s)?o=ii.innerTextLayout(t.rotation,null!=p?p:t.rotation,l):(o=function(t,e,n,r){var i,o,a=(0,xe.wW)(n-t),s=r[0]>r[1],l="start"===e&&!s||"start"!==e&&s;(0,xe.mW)(a-ri/2)?(o=l?"bottom":"top",i="center"):(0,xe.mW)(a-1.5*ri)?(o=l?"top":"bottom",i="center"):(o="middle",i=a<1.5*ri&&a>ri/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:i,textVerticalAlign:o}}(t.rotation,s,p||0,h),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),m=e.get("nameTruncate",!0)||{},v=m.ellipsis,y=(0,b.Jv)(t.nameTruncateMaxWidth,m.maxWidth,a),x=new X.ZP({x:f[0],y:f[1],rotation:o.rotation,silent:ii.isLabelSilent(e),style:(0,qt.Lr)(u,{text:i,font:g,overflow:"truncate",width:y,ellipsis:v,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Zt.setTooltipConfig({el:x,componentModel:e,itemName:i}),x.__fullText=i,x.anid="name",e.get("triggerEvent")){var _=ii.makeAxisEventDataBase(e);_.targetType="axisName",_.name=i,(0,Ut.A)(x).eventData=_}r.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};function ai(t){t&&(t.ignore=!0)}function si(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(n&&r){var i=wr.yR([]);return wr.U1(i,i,-t.rotation),n.applyTransform(wr.dC([],i,t.getLocalTransform())),r.applyTransform(wr.dC([],i,e.getLocalTransform())),n.intersect(r)}}function li(t){return"middle"===t||"center"===t}function ui(t,e,n,r,i){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,e&&((0,Sr.Ne)(a,a,e),(0,Sr.Ne)(s,s,e));var c=new ei.Z({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Zt.subPixelOptimizeLine(c.shape,c.style.lineWidth),c.anid=i+"_"+t[l].tickValue,o.push(c)}return o}var ci=ii;function hi(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];(0,b.S6)(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=gi(n.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var u=n.model.getModel("tooltip",r);if((0,b.S6)(n.getAxes(),(0,b.WA)(f,!1,null)),n.getTooltipAxes&&r&&u.get("show")){var c="axis"===u.get("trigger"),h="cross"===u.get(["axisPointer","type"]),d=n.getTooltipAxes(u.get(["axisPointer","axis"]));(c||h)&&(0,b.S6)(d.baseAxes,(0,b.WA)(f,!h||"cross",c)),h&&(0,b.S6)(d.otherAxes,(0,b.WA)(f,"cross",!1))}}function f(r,s,c){var h=c.model.getModel("axisPointer",i),d=h.get("show");if(d&&("auto"!==d||r||pi(h))){null==s&&(s=h.get("triggerTooltip")),h=r?function(t,e,n,r,i,o){var a=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};(0,b.S6)(s,(function(t){l[t]=(0,b.d9)(a.get(t))})),l.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(l.type="line");var u=l.label||(l.label={});if(null==u.show&&(u.show=!1),"cross"===i){var c=a.get(["label","show"]);if(u.show=null==c||c,!o){var h=l.lineStyle=a.get("crossStyle");h&&(0,b.ce)(u,h.textStyle)}}return t.model.getModel("axisPointer",new ni.Z(l,n,r))}(c,u,i,e,r,s):h;var f=h.get("snap"),p=h.get("triggerEmphasis"),g=gi(c.model),m=s||f||"category"===c.type,v=t.axesInfo[g]={key:g,axis:c,coordSys:n,axisPointerModel:h,triggerTooltip:s,triggerEmphasis:p,involveSeries:m,snap:f,useHandle:pi(h),seriesModels:[],linkGroup:null};l[g]=v,t.seriesInvolved=t.seriesInvolved||m;var y=function(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(di(o[r+"AxisId"],n.id)||di(o[r+"AxisIndex"],n.componentIndex)||di(o[r+"AxisName"],n.name))return i}}(o,c);if(null!=y){var x=a[y]||(a[y]={axesInfo:{}});x.axesInfo[g]=v,x.mapper=o[y].mapper,v.linkGroup=x}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),i=e.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==e.get(["axisPointer","show"],!0)&&(0,b.S6)(t.coordSysAxesInfo[gi(n.model)],(function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(n,t),n}function di(t,e){return"all"===t||(0,b.kJ)(t)&&(0,b.cq)(t,e)>=0||t===e}function fi(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[gi(t)]}function pi(t){return!!t.get(["handle","show"])}function gi(t){return t.type+"||"+t.id}var mi={},vi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(e,n,r,i){this.axisPointerClass&&function(t){var e=fi(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var s=pi(n);null==o&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},e.prototype.updateAxisPointer=function(t,e,n,r){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,r){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var o=function(t){var e=fi(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new i)).render(t,o,n,r):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){mi[t]=e},e.getAxisPointerClass=function(t){return t&&mi[t]},e.type="axis",e}(ar.Z),yi=vi,bi=(0,se.Yf)();function xi(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=s.length,h=bi(t).splitAreaColors,d=b.kW(),f=0;if(h)for(var p=0;p<u.length;p++){var g=h.get(u[p].tickValue);if(null!=g){f=(g+(c-1)*p)%c;break}}var m=i.toGlobalCoord(u[0].coord),v=a.getAreaStyle();s=b.kJ(s)?s:[s];for(p=1;p<u.length;p++){var y=i.toGlobalCoord(u[p].coord),x=void 0,_=void 0,w=void 0,S=void 0;i.isHorizontal()?(x=m,_=l.y,w=y-x,S=l.height,m=x+w):(x=l.x,_=m,w=l.width,m=_+(S=y-_));var M=u[p-1].tickValue;null!=M&&d.set(M,f),e.add(new ye.Z({anid:null!=M?"area_"+M:null,shape:{x:x,y:_,width:w,height:S},style:b.ce({fill:s[f]},v),autoBatch:!0,silent:!0})),f=(f+1)%c}bi(t).splitAreaColors=d}}}function _i(t){bi(t).splitAreaColors=null}var wi=["axisLine","axisTickLabel","axisName"],Si=["splitArea","splitLine","minorSplitLine"],Mi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return(0,Pt.ZT)(e,t),e.prototype.render=function(e,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Bt.Z,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=Zr(a,e),l=new ci(e,b.l7({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++)if((0,Wr.lM)(n[r].getOtherAxis(e.axis).scale))return!0;return!1}},s));b.S6(wi,l.add,l),this._axisGroup.add(l.getGroup()),b.S6(Si,(function(t){e.get([t,"show"])&&ki[t](this,this._axisGroup,e,a)}),this),i&&"changeAxisOrder"===i.type&&i.isInitSort||Zt.groupTransition(o,this._axisGroup,e),t.prototype.render.call(this,e,n,r,i)}},e.prototype.remove=function(){_i(this)},e.type="cartesianAxis",e}(yi),ki={splitLine:function(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=b.kJ(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=i.isHorizontal(),c=0,h=i.getTicksCoords({tickModel:o}),d=[],f=[],p=a.getLineStyle(),g=0;g<h.length;g++){var m=i.toGlobalCoord(h[g].coord);u?(d[0]=m,d[1]=l.y,f[0]=m,f[1]=l.y+l.height):(d[0]=l.x,d[1]=m,f[0]=l.x+l.width,f[1]=m);var v=c++%s.length,y=h[g].tickValue,x=new ei.Z({anid:null!=y?"line_"+h[g].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:b.ce({stroke:s[v]},p),silent:!0});Zt.subPixelOptimizeLine(x.shape,p.lineWidth),e.add(x)}}},minorSplitLine:function(t,e,n,r){var i=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=r.coordinateSystem.getRect(),s=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var u=[],c=[],h=o.getLineStyle(),d=0;d<l.length;d++)for(var f=0;f<l[d].length;f++){var p=i.toGlobalCoord(l[d][f].coord);s?(u[0]=p,u[1]=a.y,c[0]=p,c[1]=a.y+a.height):(u[0]=a.x,u[1]=p,c[0]=a.x+a.width,c[1]=p);var g=new ei.Z({anid:"minor_line_"+l[d][f].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:h,silent:!0});Zt.subPixelOptimizeLine(g.shape,h.lineWidth),e.add(g)}},splitArea:function(t,e,n,r){xi(t,e,n,r)}},Ei=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="xAxis",e}(Mi),Ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=Ei.type,e}return(0,Pt.ZT)(e,t),e.type="yAxis",e}(Mi),Ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new ye.Z({shape:t.coordinateSystem.getRect(),style:(0,b.ce)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(ar.Z),Ii={offset:0};function Ci(t){t.registerComponentView(Ti),t.registerComponentModel(ur),t.registerCoordinateSystem("cartesian2d",ti),yr(t,"x",hr,Ii),yr(t,"y",hr,Ii),t.registerComponentView(Ei),t.registerComponentView(Ai),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function Di(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){var i=r.getIndicatorAxes();b.S6(i,(function(t,o){e.each(e.mapDimension(i[o].dim),(function(t,e){n[e]=n[e]||[];var i=r.dataToPoint(t,o);n[e][o]=Ni(i)?i:Oi(r)}))})),e.each((function(t){var i=b.sE(n[t],(function(t){return Ni(t)}))||Oi(r);n[t].push(i.slice()),e.setItemLayout(t,n[t])}))}}))}function Ni(t){return!isNaN(t[0])&&!isNaN(t[1])}function Oi(t){return[t.cx,t.cy]}function Li(t){var e=t.polar;if(e){b.kJ(e)||(e=[e]);var n=[];b.S6(e,(function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],b.kJ(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}b.S6(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var Pi=n("./node_modules/zrender/lib/graphic/shape/Polygon.js"),Ri=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=t.coordinateSystem,i=this.group,o=t.getData(),a=this._data;function s(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var r=zt.zp(t.getItemVisual(e,"symbolSize")),i=zt.th(n,-1,-1,2,2),o=t.getItemVisual(e,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:o*Math.PI/180||0}),i}}function u(e,n,r,i,o,a){r.removeAll();for(var l=0;l<n.length-1;l++){var u=s(i,o);u&&(u.__dimIdx=l,e[l]?(u.setPosition(e[l]),Zt[a?"initProps":"updateProps"](u,{x:n[l][0],y:n[l][1]},t,o)):u.setPosition(n[l]),r.add(u))}}function c(t){return b.UI(t,(function(t){return[r.cx,r.cy]}))}o.diff(a).add((function(e){var n=o.getItemLayout(e);if(n){var r=new Pi.Z,i=new Dn.Z,a={shape:{points:n}};r.shape.points=c(n),i.shape.points=c(n),Vt.KZ(r,a,t,e),Vt.KZ(i,a,t,e);var s=new Bt.Z,l=new Bt.Z;s.add(i),s.add(r),s.add(l),u(i.shape.points,n,l,o,e,!0),o.setItemGraphicEl(e,s)}})).update((function(e,n){var r=a.getItemGraphicEl(n),i=r.childAt(0),s=r.childAt(1),l=r.childAt(2),c={shape:{points:o.getItemLayout(e)}};c.shape.points&&(u(i.shape.points,c.shape.points,l,o,e,!1),(0,Vt.Zi)(s),(0,Vt.Zi)(i),Vt.D(i,c,t),Vt.D(s,c,t),o.setItemGraphicEl(e,r))})).remove((function(t){i.remove(a.getItemGraphicEl(t))})).execute(),o.eachItemGraphicEl((function(t,e){var n=o.getItemModel(e),r=t.childAt(0),a=t.childAt(1),s=t.childAt(2),u=o.getItemVisual(e,"style"),c=u.fill;i.add(t),r.useStyle(b.ce(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),(0,Ht.WO)(r,n,"lineStyle"),(0,Ht.WO)(a,n,"areaStyle");var h=n.getModel("areaStyle"),d=h.isEmpty()&&h.parentModel.isEmpty();a.ignore=d,b.S6(["emphasis","select","blur"],(function(t){var e=n.getModel([t,"areaStyle"]),r=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=r&&d})),a.useStyle(b.ce(h.getAreaStyle(),{fill:c,opacity:.7,decal:u.decal}));var f=n.getModel("emphasis"),p=f.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof l.ZP){var r=t.style;t.useStyle(b.l7({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},u))}else t.useStyle(u),t.setColor(c),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=b.d9(p);var i=o.getStore().get(o.getDimensionIndex(t.__dimIdx),e);(null==i||isNaN(i))&&(i=""),(0,qt.ni)(t,(0,qt.k3)(n),{labelFetcher:o.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:i,inheritColor:c,defaultOpacity:u.opacity})})),(0,Ht.k5)(t,f.get("focus"),f.get("blurScope"),f.get("disabled"))})),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(ve.Z),ji=Ri,zi=n("./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),Bi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Yn(b.ak(this.getData,this),b.ak(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return Hn(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t),a=""===o?this.name:o,s=(0,zi.jT)(this,t);return(0,zi.TX)("section",{header:a,sortBlocks:!0,blocks:b.UI(i,(function(e){var n=r.get(r.mapDimension(e.dim),t);return(0,zi.TX)("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,r=e.getValues(b.UI(n.dimensions,(function(t){return e.mapDimension(t)})),t),i=0,o=r.length;i<o;i++)if(!isNaN(r[i])){var a=n.getIndicatorAxes();return n.coordToPoint(a[i].dataToCoord(r[i]),i)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(jt.Z),Fi=Bi,Gi=gr.value;function Vi(t,e){return b.ce({show:e},t)}var Zi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),c=this.get("triggerEvent"),h=b.UI(this.get("indicator")||[],(function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var d=a;null!=h.color&&(d=b.ce({color:h.color},a));var f=b.TS(b.d9(h),{boundaryGap:t,splitNumber:e,scale:n,axisLine:r,axisTick:i,axisLabel:o,name:h.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:d,triggerEvent:c},!1);if(b.HD(l)){var p=f.name;f.name=l.replace("{value}",null!=p?p:"")}else b.mf(l)&&(f.name=l(f.name,f));var g=new ni.Z(f,null,this.ecModel);return b.jB(g,cr.W.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:b.TS({lineStyle:{color:"#bbb"}},Gi.axisLine),axisLabel:Vi(Gi.axisLabel,!1),axisTick:Vi(Gi.axisTick,!1),splitLine:Vi(Gi.splitLine,!0),splitArea:Vi(Gi.splitArea,!0),indicator:[]},e}(sr.Z),Ui=Zi,Hi=n("./node_modules/zrender/lib/graphic/shape/Circle.js"),Wi=n("./node_modules/zrender/lib/graphic/shape/Ring.js"),Yi=["axisLine","axisTickLabel","axisName"],Xi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),r=b.UI(n,(function(t){var n=t.model.get("showName")?t.name:"";return new ci(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));b.S6(r,(function(t){b.S6(Yi,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var r=t.get("shape"),i=t.getModel("splitLine"),o=t.getModel("splitArea"),a=i.getModel("lineStyle"),s=o.getModel("areaStyle"),l=i.get("show"),u=o.get("show"),c=a.get("color"),h=s.get("color"),d=b.kJ(c)?c:[c],f=b.kJ(h)?h:[h],p=[],g=[];if("circle"===r)for(var m=n[0].getTicksCoords(),v=e.cx,y=e.cy,x=0;x<m.length;x++){if(l)p[T(p,d,x)].push(new Hi.Z({shape:{cx:v,cy:y,r:m[x].coord}}));if(u&&x<m.length-1)g[T(g,f,x)].push(new Wi.Z({shape:{cx:v,cy:y,r0:m[x].coord,r:m[x+1].coord}}))}else{var _,w=b.UI(n,(function(t,n){var r=t.getTicksCoords();return _=null==_?r.length-1:Math.min(r.length-1,_),b.UI(r,(function(t){return e.coordToPoint(t.coord,n)}))})),S=[];for(x=0;x<=_;x++){for(var M=[],k=0;k<n.length;k++)M.push(w[k][x]);if(M[0]&&M.push(M[0].slice()),l)p[T(p,d,x)].push(new Dn.Z({shape:{points:M}}));if(u&&S)g[T(g,f,x-1)].push(new Pi.Z({shape:{points:M.concat(S)}}));S=M.slice().reverse()}}var E=a.getLineStyle(),A=s.getAreaStyle();b.S6(g,(function(t,e){this.group.add(Zt.mergePath(t,{style:b.ce({stroke:"none",fill:f[e%f.length]},A),silent:!0}))}),this),b.S6(p,(function(t,e){this.group.add(Zt.mergePath(t,{style:b.ce({fill:"none",stroke:d[e%d.length]},E),silent:!0}))}),this)}function T(t,e,n){var r=n%e.length;return t[r]=t[r]||[],r}},e.type="radar",e}(ar.Z),qi=Xi,Ki=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.type="value",i.angle=0,i.name="",i}return(0,Pt.ZT)(e,t),e}(Fr),$i=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=(0,b.UI)(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,r=new Ki(n,new Yr.Z);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(n),r}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var i,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(o-u.angle);c<a&&(i=u,s=l,a=c)}return[s,+(i&&i.coordToData(r))]},t.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i)/2;this.cx=xe.GM(n[0],r),this.cy=xe.GM(n[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");((0,b.HD)(a)||(0,b.hj)(a))&&(a=[0,a]),this.r0=xe.GM(a[0],o),this.r=xe.GM(a[1],o),(0,b.S6)(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;(0,b.S6)(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var o=e.getData();(0,b.S6)(n,(function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))}))}}),this);var i=r.get("splitNumber"),o=new Yr.Z;o.setExtent(0,i),o.setInterval(1),(0,b.S6)(n,(function(t,e){qr(t.scale,t.model,o)}))},t.prototype.convertToPixel=function(t,e,n){return null},t.prototype.convertFromPixel=function(t,e,n){return null},t.prototype.containPoint=function(t){return!1},t.create=function(e,n){var r=[];return e.eachComponent("radar",(function(i){var o=new t(i,e,n);r.push(o),i.coordinateSystem=o})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("radarIndex")||0])})),r},t.dimensions=[],t}(),Ji=$i;function Qi(t){t.registerCoordinateSystem("radar",Ji),t.registerComponentModel(Ui),t.registerComponentView(qi),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}var to=n("./node_modules/zrender/lib/core/Eventful.js"),eo=n("./node_modules/zrender/lib/core/event.js"),no=n("./node_modules/echarts/lib/core/echarts.js"),ro="\0_ec_interaction_mutex";function io(t,e){return!!oo(t)[e]}function oo(t){return t[ro]||(t[ro]={})}function ao(t,e,n,r,i){t.pointerChecker&&t.pointerChecker(r,i.originX,i.originY)&&(eo.sT(r.event),so(t,e,n,r,i))}function so(t,e,n,r,i){i.isAvailableBehavior=(0,b.ak)(lo,null,n,r),t.trigger(e,i)}function lo(t,e,n){var r=n[t];return!t||r&&(!(0,b.HD)(r)||e.event[r+"Key"])}no.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},b.ZT);var uo=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var r=(0,b.ak)(n._mousedownHandler,n),i=(0,b.ak)(n._mousemoveHandler,n),o=(0,b.ak)(n._mouseupHandler,n),a=(0,b.ak)(n._mousewheelHandler,n),s=(0,b.ak)(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=(0,b.ce)((0,b.d9)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",r),e.on("mousemove",i),e.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},n.disable=function(){e.off("mousedown",r),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},n}return(0,Pt.ZT)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!eo.x1(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,r)&&(this._x=n,this._y=r,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&lo("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!io(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,o=e-r,a=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&eo.sT(t.event),so(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:r,oldY:i,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){eo.x1(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=lo("zoomOnMouseWheel",t,this._opt),n=lo("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,i=Math.abs(r),o=t.offsetX,a=t.offsetY;if(0!==r&&(e||n)){if(e){var s=i>3?1.4:i>1?1.2:1.1;ao(this,"zoom","zoomOnMouseWheel",t,{scale:r>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(r);ao(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(r>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){io(this._zr,"globalPan")||ao(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(to.Z);function co(t,e,n){var r=t.target;r.x+=e,r.y+=n,r.dirty()}function ho(t,e,n,r){var i=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,i.x-=(n-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var fo={axisPointer:1,tooltip:1,brush:1};function po(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!fo.hasOwnProperty(r.mainType)&&i&&i.model!==n}var go,mo=n("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),vo=n("./node_modules/zrender/lib/tool/path.js"),yo=n("./node_modules/zrender/lib/graphic/RadialGradient.js");function bo(t){(0,b.HD)(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var xo={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},_o=(0,b.XP)(xo),wo={"alignment-baseline":"textBaseline","stop-color":"stopColor"},So=(0,b.XP)(wo),Mo=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=bo(t);this._defsUsePending=[];var r=new Bt.Z;this._root=r;var i=[],o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),Co(n,r,null,!0,!1);for(var l,u,c=n.firstChild;c;)this._parseNode(c,r,i,null,!1,!1),c=c.nextSibling;if(function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r[0].style[r[1]]=t[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var h=Lo(o);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=a&&null!=s&&(u=Bo(l,{x:0,y:0,width:a,height:s}),!e.ignoreViewBox)){var d=r;(r=new Bt.Z).add(d),d.scaleX=d.scaleY=u.scale,d.x=u.x,d.y=u.y}return e.ignoreRootClip||null==a||null==s||r.setClipPath(new ye.Z({shape:{x:0,y:0,width:a,height:s}})),{root:r,width:a,height:s,viewBoxRect:l,viewBoxTransform:u,named:i}},t.prototype._parseNode=function(t,e,n,r,i,o){var a,s=t.nodeName.toLowerCase(),l=r;if("defs"===s&&(i=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)a=e;else{if(!i){var u=go[s];if(u&&(0,b.RI)(go,s)){a=u.call(this,t,e);var c=t.getAttribute("name");if(c){var h={name:c,namedFrom:null,svgNodeTagLower:s,el:a};n.push(h),"g"===s&&(l=h)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:a});e.add(a)}}var d=ko[s];if(d&&(0,b.RI)(ko,s)){var f=d.call(this,t),p=t.getAttribute("id");p&&(this._defs[p]=f)}}if(a&&a.isGroup)for(var g=t.firstChild;g;)1===g.nodeType?this._parseNode(g,a,n,l,i,o):3===g.nodeType&&o&&this._parseText(g,a),g=g.nextSibling},t.prototype._parseText=function(t,e){var n=new c.Z({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});To(e,n),Co(t,n,this._defsUsePending,!1,!1),function(t,e){var n=e.__selfStyle;if(n){var r=n.textBaseline,i=r;r&&"auto"!==r?"baseline"===r?i="alphabetic":"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":"central"!==r&&"mathematical"!==r||(i="middle"):i="alphabetic",t.style.textBaseline=i}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),t.style.textAlign=s)}}(n,e);var r=n.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var a=n.getBoundingRect();return this._textX+=a.width,e.add(n),n},t.internalField=void(go={g:function(t,e){var n=new Bt.Z;return To(e,n),Co(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new ye.Z;return To(e,n),Co(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Hi.Z;return To(e,n),Co(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new ei.Z;return To(e,n),Co(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new mo.Z;return To(e,n),Co(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,r=t.getAttribute("points");r&&(n=Io(r));var i=new Pi.Z({shape:{points:n||[]},silent:!0});return To(e,i),Co(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,e){var n,r=t.getAttribute("points");r&&(n=Io(r));var i=new Dn.Z({shape:{points:n||[]},silent:!0});return To(e,i),Co(t,i,this._defsUsePending,!1,!1),i},image:function(t,e){var n=new l.ZP;return To(e,n),Co(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(o);var a=new Bt.Z;return To(e,a),Co(t,a,this._defsUsePending,!1,!0),a},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",a=new Bt.Z;return To(e,a),Co(t,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),a},path:function(t,e){var n=t.getAttribute("d")||"",r=(0,vo.iR)(n);return To(e,r),Co(t,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),t}(),ko={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),i=parseInt(t.getAttribute("y2")||"0",10),o=new ae.Z(e,n,r,i);return Eo(t,o),Ao(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),i=new yo.Z(e,n,r);return Eo(t,i),Ao(t,i),i}};function Eo(t,e){"userSpaceOnUse"===t.getAttribute("gradientUnits")&&(e.global=!0)}function Ao(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var r=n.getAttribute("offset"),i=void 0;i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o={};zo(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:a})}n=n.nextSibling}}function To(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),(0,b.ce)(e.__inheritedStyle,t.__inheritedStyle))}function Io(t){for(var e=Lo(t),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),o=parseFloat(e[r+1]);n.push([i,o])}return n}function Co(t,e,n,r,i){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(Po,(function(t,e,n){return r.push(e,n),""}));for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1],l=Lo(a);switch(i=i||wr.Ue(),s){case"translate":wr.Iu(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":wr.bA(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":wr.U1(i,i,-parseFloat(l[0])*Ro);break;case"skewX":var u=Math.tan(parseFloat(l[0])*Ro);wr.dC(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*Ro);wr.dC(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5])}}e.setLocalTransform(i)}}(t,e),zo(t,a,s),r||function(t,e,n){for(var r=0;r<_o.length;r++){var i=_o[r];null!=(o=t.getAttribute(i))&&(e[xo[i]]=o)}for(r=0;r<So.length;r++){var o;i=So[r];null!=(o=t.getAttribute(i))&&(n[wo[i]]=o)}}(t,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=No(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=No(o,"stroke",a.stroke,n)),(0,b.S6)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=a[t]&&(o.style[t]=parseFloat(a[t]))})),(0,b.S6)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=a[t]&&(o.style[t]=a[t])})),i&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=(0,b.UI)(Lo(a.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var Do=/^url\(\s*#(.*?)\)/;function No(t,e,n,r){var i=n&&n.match(Do);if(!i)return"none"===n&&(n=null),n;var o=(0,b.fy)(i[1]);r.push([t,e,o])}var Oo=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Lo(t){return t.match(Oo)||[]}var Po=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Ro=Math.PI/180;var jo=/([^\s:;]+)\s*:\s*([^:;]+)/g;function zo(t,e,n){var r,i=t.getAttribute("style");if(i)for(jo.lastIndex=0;null!=(r=jo.exec(i));){var o=r[1],a=(0,b.RI)(xo,o)?xo[o]:null;a&&(e[a]=r[2]);var s=(0,b.RI)(wo,o)?wo[o]:null;s&&(n[s]=r[2])}}function Bo(t,e){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r);return{scale:i,x:-(t.x+t.width/2)*i+(e.x+e.width/2),y:-(t.y+t.height/2)*i+(e.y+e.height/2)}}var Fo=n("./node_modules/zrender/lib/contain/windingLine.js"),Go=1e-8;function Vo(t,e){return Math.abs(t-e)<Go}function Zo(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var o=1;o<t.length;o++){var a=t[o];r+=(0,Fo.Z)(i[0],i[1],a[0],a[1],e,n),i=a}var s=t[0];return Vo(i[0],s[0])&&Vo(i[1],s[1])||(r+=(0,Fo.Z)(i[0],i[1],s[0],s[1],e,n)),0!==r}var Uo=[];function Ho(t,e){for(var n=0;n<t.length;n++)Sr.Ne(t[n],t[n],e)}function Wo(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Sr.VV(e,e,o),Sr.Fp(n,n,o))}}var Yo=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),Xo=function(t,e){this.type="polygon",this.exterior=t,this.interiors=e},qo=function(t){this.type="linestring",this.points=t},Ko=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.type="geoJSON",i.geometries=n,i._center=r&&[r[0],r[1]],i}return(0,Pt.ZT)(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,r=0;r<e.length;r++){var i=e[r],o=i.exterior,a=o&&o.length;a>n&&(t=i,n=a)}if(t)return function(t){for(var e=0,n=0,r=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var l=t[s][0],u=t[s][1],c=o*u-l*a;e+=c,n+=(o+l)*c,r+=(a+u)*c,o=l,a=u}return e?[n/e/3,r/e/3,e]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],r=[-1/0,-1/0],i=this.geometries;return(0,b.S6)(i,(function(e){"polygon"===e.type?Wo(e.exterior,n,r,t):(0,b.S6)(e.points,(function(e){Wo(e,n,r,t)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),e=new Qn.Z(n[0],n[1],r[0]-n[0],r[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++){var o=n[r];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(Zo(a,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(Zo(s[l],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new Qn.Z(t,e,n,r),s=i.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++){var c=l[u];"polygon"===c.type?(Ho(c.exterior,s),(0,b.S6)(c.interiors,(function(t){Ho(t,s)}))):(0,b.S6)(c.points,(function(t){Ho(t,s)}))}(i=this._rect).copy(a),this._center=[i.x+i.width/2,i.y+i.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(Yo),$o=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return(0,Pt.ZT)(e,t),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],r=wr.yR(Uo),i=t;i&&!i.isGeoSVGGraphicRoot;)wr.dC(r,i.getLocalTransform(),r),i=i.parent;return wr.U_(r,r),Sr.Ne(n,n,r),n},e}(Yo),Jo=(0,b.kW)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Qo=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=(0,b.kW)(),this._freedGraphics=[],this._mapName=t,this._parsedXML=bo(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(t){var e=[],n=(0,b.kW)();return(0,b.S6)(t,(function(t){if(null==t.namedFrom){var r=new $o(t.name,t.el);e.push(r),n.set(t.name,r)}})),{regions:e,regionsMap:n}}(t.named),n=e.regions,r=e.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n,r,i;try{n=(e=t&&(r=t,i={ignoreViewBox:!0,ignoreRootClip:!0},(new Mo).parse(r,i))||{}).root,(0,b.hu)(null!=n)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var o=new Bt.Z;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,l=e.viewBoxRect,u=this._boundingRect;if(!u){var c=void 0,h=void 0,d=void 0,f=void 0;if(null!=a?(c=0,d=a):l&&(c=l.x,d=l.width),null!=s?(h=0,f=s):l&&(h=l.y,f=l.height),null==c||null==h){var p=n.getBoundingRect();null==c&&(c=p.x,d=p.width),null==h&&(h=p.y,f=p.height)}u=this._boundingRect=new Qn.Z(c,h,d,f)}if(l){var g=Bo(l,u);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}o.setClipPath(new ye.Z({shape:u.plain()}));var m=[];return(0,b.S6)(e.named,(function(t){var e;null!=Jo.get(t.svgNodeTagLower)&&(m.push(t),(e=t.el).silent=!1,e.isGroup&&e.traverse((function(t){t.silent=!1})))})),{root:o,boundingRect:u,named:m}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();function ta(t,e,n){for(var r=0;r<t.length;r++)t[r]=ea(t[r],e[r],n)}function ea(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),i=s+=i,o=l+=o,r.push([s/n,l/n])}return r}function na(t,e){return t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);var r=e.features;return b.S6(r,(function(t){var e=t.geometry,r=e.encodeOffsets,i=e.coordinates;if(r)switch(e.type){case"LineString":e.coordinates=ea(i,r,n);break;case"Polygon":case"MultiLineString":ta(i,r,n);break;case"MultiPolygon":b.S6(i,(function(t,e){return ta(t,r[e],n)}))}})),e.UTF8Encoding=!1,e}(t),b.UI(b.hX(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,r=t.geometry,i=[];switch(r.type){case"Polygon":var o=r.coordinates;i.push(new Xo(o[0],o.slice(1)));break;case"MultiPolygon":b.S6(r.coordinates,(function(t){t[0]&&i.push(new Xo(t[0],t.slice(1)))}));break;case"LineString":i.push(new qo([r.coordinates]));break;case"MultiLineString":i.push(new qo(r.coordinates))}var a=new Ko(n[e||"name"],i,n.cp);return a.properties=n,a}))}for(var ra=[126,25],ia="南海诸岛",oa=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],aa=0;aa<oa.length;aa++)for(var sa=0;sa<oa[aa].length;sa++)oa[aa][sa][0]/=10.5,oa[aa][sa][1]/=-14,oa[aa][sa][0]+=ra[0],oa[aa][sa][1]+=ra[1];var la={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};var ua=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var ca=function(){function t(t,e,n){var r;this.type="geoJSON",this._parsedMap=(0,b.kW)(),this._mapName=t,this._specialAreas=n,this._geoJSON=(r=e,(0,b.HD)(r)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r)}return t.prototype.load=function(t,e){e=e||"name";var n=this._parsedMap.get(e);if(!n){var r=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:r,boundingRect:ha(r)})}var i=(0,b.kW)(),o=[];return(0,b.S6)(n.regions,(function(e){var n=e.name;t&&(0,b.RI)(t,n)&&(e=e.cloneShallow(n=t[n])),o.push(e),i.set(n,e)})),{regions:o,boundingRect:n.boundingRect||new Qn.Z(0,0,0,0),regionsMap:i}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,r=this._geoJSON;try{e=r?na(r,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===ia)return;e.push(new Ko(ia,b.UI(oa,(function(t){return{type:"polygon",exterior:t}})),ra))}}(n,e),(0,b.S6)(e,(function(t){var e=t.name;!function(t,e){if("china"===t){var n=la[e.name];if(n){var r=e.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/14,e.setCenter(r)}}}(n,t),function(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:ua[0]})}(n,t);var r=this._specialAreas&&this._specialAreas[e];r&&t.transformTo(r.left,r.top,r.width,r.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function ha(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();(e=e||r.clone()).union(r)}return e}var da=(0,b.kW)(),fa={registerMap:function(t,e,n){if(e.svg){var r=new Qo(t,e.svg);da.set(t,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?n=e.specialAreas:i=e;r=new ca(t,i,n);da.set(t,r)}},getGeoResource:function(t){return da.get(t)},getMapForUser:function(t){var e=da.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,n){var r=da.get(t);if(r)return r.load(e,n)}},pa=n("./node_modules/echarts/lib/util/decal.js"),ga=n("./node_modules/zrender/lib/graphic/Displayable.js"),ma=["rect","circle","line","ellipse","polygon","polyline","path"],va=b.kW(ma),ya=b.kW(ma.concat(["g"])),ba=b.kW(ma.concat(["g"])),xa=(0,se.Yf)();function _a(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function wa(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Sa=function(){function t(t){var e=new Bt.Z;this.uid=(0,Ye.Kr)("ec_map_draw"),this._controller=new uo(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Bt.Z),e.add(this._svgGroup=new Bt.Z)}return t.prototype.draw=function(t,e,n,r,i){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},(function(e){a||e.getHostGeoModel()!==t||(a=e.getData())}));var s=t.coordinateSystem,l=this._regionsGroup,u=this.group,c=s.getTransformInfo(),h=c.raw,d=c.roam;!l.childAt(0)||i?(u.x=d.x,u.y=d.y,u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.dirty()):Vt.D(u,d,t);var f=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,p={api:n,geo:s,mapOrGeoModel:t,data:a,isVisualEncodedByVisualMap:f,isGeo:o,transformInfoRaw:h};"geoJSON"===s.resourceType?this._buildGeoJSON(p):"geoSVG"===s.resourceType&&this._buildSVG(p),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,r)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=b.kW(),n=b.kW(),r=this._regionsGroup,i=t.transformInfoRaw,o=t.mapOrGeoModel,a=t.data,s=t.geo.projection,l=s&&s.stream;function u(t,e){return e&&(t=e(t)),t&&[t[0]*i.scaleX+i.x,t[1]*i.scaleY+i.y]}function c(t){for(var e=[],n=!l&&s&&s.project,r=0;r<t.length;++r){var i=u(t[r],n);i&&e.push(i)}return e}function h(t){return{shape:{points:c(t)}}}r.removeAll(),b.S6(t.geo.regions,(function(i){var c=i.name,d=e.get(c),f=n.get(c)||{},p=f.dataIdx,g=f.regionModel;d||(d=e.set(c,new Bt.Z),r.add(d),p=a?a.indexOfName(c):null,g=t.isGeo?o.getRegionModel(c):a?a.getItemModel(p):null,n.set(c,{dataIdx:p,regionModel:g}));var m=[],v=[];b.S6(i.geometries,(function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=Ia(e,l)),b.S6(e,(function(t){m.push(new Pi.Z(h(t)))}))}else{var n=t.points;l&&(n=Ia(n,l,!0)),b.S6(n,(function(t){v.push(new Dn.Z(h(t)))}))}}));var y=u(i.getCenter(),s&&s.project);function x(e,n){if(e.length){var r=new z.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});d.add(r),Ma(t,r,p,g),ka(t,r,c,g,o,p,y),n&&(wa(r),b.S6(r.states,wa))}}x(m),x(v,!0)})),e.each((function(e,r){var i=n.get(r),a=i.dataIdx,s=i.regionModel;Ea(t,e,r,s,o,a),Aa(t,e,r,s,o),Ta(t,e,r,s,o)}),this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=b.kW(),i=!1;b.S6(this._svgGraphicRecord.named,(function(e){var n=e.name,o=t.mapOrGeoModel,a=t.data,s=e.svgNodeTagLower,l=e.el,u=a?a.indexOfName(n):null,c=o.getRegionModel(n);(null!=va.get(s)&&l instanceof ga.ZP&&Ma(t,l,u,c),l instanceof ga.ZP&&(l.culling=!0),l.z2EmphasisLift=0,e.namedFrom)||(null!=ba.get(s)&&ka(t,l,n,c,o,u,null),Ea(t,l,n,c,o,u),Aa(t,l,n,c,o),null!=ya.get(s)&&("self"===Ta(t,l,n,c,o)&&(i=!0),(r.get(n)||r.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(i,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){(0,Ht.MA)(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=n&&(e.opacity=n),t.ensureState("emphasis")}}))}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var r=this._regionsGroupByName;if(r){var i=r.get(t);return i?[i]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=fa.getGeoResource(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=fa.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var r=t.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=r.getZoom(),i.enable(t.get("roam")||!1);var a=t.mainType;function s(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}i.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,co(o,t.dx,t.dy),n.dispatchAction(b.l7(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),i.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,ho(o,t.scale,t.originX,t.originY),n.dispatchAction(b.l7(s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),i.setPointerChecker((function(e,i,o){return r.containPoint([i,o])&&!po(e,n,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();e&&(e.ignore=xa(e).ignore)}))},t.prototype._updateMapSelectHandler=function(t,e,n,r){var i=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",(function(){i._mouseDownFlag=!0})),e.on("click",(function(t){i._mouseDownFlag&&(i._mouseDownFlag=!1)})))},t}();function Ma(t,e,n,r){var i=r.getModel("itemStyle"),o=r.getModel(["emphasis","itemStyle"]),a=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=_a(i),u=_a(o),c=_a(s),h=_a(a),d=t.data;if(d){var f=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),p&&(l.decal=(0,pa.I)(p,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=h,(0,Ht.MA)(e)}function ka(t,e,n,r,i,o,a){var s=t.data,l=t.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),c=s&&s.getItemLayout(o);if(l||u||c&&c.showLabel){var h=l?n:o,d=void 0;(!s||o>=0)&&(d=i);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,qt.ni)(e,(0,qt.k3)(r),{labelFetcher:d,labelDataIndex:h,defaultText:n},f);var p=e.getTextContent();if(p&&(xa(p).ignore=p.ignore,e.textConfig&&a)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function Ea(t,e,n,r,i,o){t.data?t.data.setItemGraphicEl(o,e):(0,Ut.A)(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function Aa(t,e,n,r,i){t.data||Zt.setTooltipConfig({el:e,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function Ta(t,e,n,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var o=r.getModel("emphasis"),a=o.get("focus");return(0,Ht.k5)(e,a,o.get("blurScope"),o.get("disabled")),t.isGeo&&(0,Ht.th)(e,i,n),a}function Ia(t,e,n){var r,i=[];function o(){r=[]}function a(){r.length&&(i.push(r),r=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(t,e){isFinite(t)&&isFinite(e)&&r.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),b.S6(t,(function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()})),!n&&s.polygonEnd(),i}var Ca=Sa,Da=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id)(o=this._mapDraw)&&i.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new Ca(n);i.add(o.group),o.draw(t,e,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var r=t.originalData,i=this.group;r.each(r.mapDimension("value"),(function(e,n){if(!isNaN(e)){var o=r.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new Hi.Z({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:Ht.zr+1)});if(!s){var u=t.mainSeries.getData(),c=r.getName(n),h=u.indexOfName(c),d=r.getItemModel(n),f=d.getModel("label"),p=u.getItemGraphicEl(h);(0,qt.ni)(l,(0,qt.k3)(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(h,n)}},defaultText:c}),l.disableLabelAnimation=!0,f.get("position")||l.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(t){(0,Ht.Gl)(l,t)}}i.add(l)}}}))},e.type="map",e}(ve.Z),Na=Da,Oa=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,r=n.getRegion(e);return r&&n.dataToPoint(r.getCenter())}},n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t){for(var e=Hn(this,{coordDimensions:["value"],encodeDefaulter:b.WA(Wn.Ss,this)}),n=b.kW(),r=[],i=0,o=e.count();i<o;i++){var a=e.getName(i);n.set(a,!0)}var s=fa.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return b.S6(s.regions,(function(t){var e=t.name;n.get(e)||r.push(e)})),e.appendValues([],r),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var r=this.getData(),i=this.getRawValue(t),o=r.getName(t),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(o),c=r.mapDimension("value");isNaN(a[l].originalData.get(c,u))||s.push(a[l].name)}return(0,zi.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,zi.TX)("nameValue",{name:o,value:i})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=(0,zt.th)(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(jt.Z),La=Oa;function Pa(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)})),b.S6(e,(function(t,e){for(var n,r,i,o=(n=b.UI(t,(function(t){return t.getData()})),r=t[0].get("mapValueCalculation"),i={},b.S6(n,(function(t){t.each(t.mapDimension("value"),(function(e,n){var r="ec-"+t.getName(n);i[r]=i[r]||[],isNaN(e)||i[r].push(e)}))})),n[0].map(n[0].mapDimension("value"),(function(t,e){for(var o="ec-"+n[0].getName(e),a=0,s=1/0,l=-1/0,u=i[o].length,c=0;c<u;c++)s=Math.min(s,i[o][c]),l=Math.max(l,i[o][c]),a+=i[o][c];return 0===u?NaN:"min"===r?s:"max"===r?l:"average"===r?a/u:a}))),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]}))}function Ra(t){var e={};t.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var i={};b.S6(n.seriesGroup,(function(e){var n=e.coordinateSystem,r=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),(function(t,e){var o=r.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=i[o]||0,l=n.dataToPoint(a.getCenter());i[o]=s+1,r.setItemLayout(e,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!i[e],o.setItemLayout(t,n)})),e[r]=!0}}))}var ja=Sr.Ne,za=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new R.ZP,n._rawTransformable=new R.ZP,n.name=e,n}return(0,Pt.ZT)(e,t),e.prototype.setBoundingRect=function(t,e,n,r){return this._rect=new Qn.Z(t,e,n,r),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,r){this._transformTo(t,e,n,r),this._viewRect=new Qn.Z(t,e,n,r)},e.prototype._transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new Qn.Z(t,e,n,r));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},e.prototype.setCenter=function(t,e){t&&(this._center=[(0,xe.GM)(t[0],e.getWidth()),(0,xe.GM)(t[1],e.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=Sr.Ne([],r,t),n=Sr.Ne([],n,t),e.originX=r[0],e.originY=r[1],e.x=n[0]-r[0],e.y=n[1]-r[1],e.scaleX=e.scaleY=i,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),wr.JG(this.transform||(this.transform=[]),e.transform||wr.Ue()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],wr.U_(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new R.ZP;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?ja(n,t,r):Sr.JG(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?ja([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var r=Ba(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=Ba(e);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(R.ZP);function Ba(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var Fa=za,Ga={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Va=["lng","lat"],Za=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.dimensions=Va,i.type="geo",i._nameCoordMap=b.kW(),i.map=n;var o,a=r.projection,s=fa.load(n,r.nameMap,r.nameProperty),l=fa.getGeoResource(n),u=(i.resourceType=l?l.type:null,i.regions=s.regions),c=Ga[l.type];if(i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=a,a)for(var h=0;h<u.length;h++){var d=u[h].getBoundingRect(a);(o=o||d.clone()).union(d)}else o=s.boundingRect;return i.setBoundingRect(o.x,o.y,o.width,o.height),i.aspectScale=a?1:b.pD(r.aspectScale,c.aspectScale),i._invertLongitute=!a&&c.invertLongitute,i}return(0,Pt.ZT)(e,t),e.prototype._transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=this._invertLongitute;i=i.clone(),o&&(i.y=-i.y-i.height);var a=this._rawTransformable;a.transform=i.calculateTransform(new Qn.Z(t,e,n,r));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var r=e[n];if("geoJSON"===r.type&&r.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(b.HD(t)&&(t=this.getGeoCoord(t)),t){var r=this.projection;return r&&(t=r.project(t)),t&&this.projectedToPoint(t,e,n)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,r){return t.prototype.dataToPoint.call(this,e,n,r)},e.prototype.convertToPixel=function(t,e,n){var r=Ua(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=Ua(e);return r===this?r.pointToData(n):null},e}(Fa);function Ua(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",se.C6).models[0]||{}).coordinateSystem:null}b.jB(Za,Fa);var Ha=Za;function Wa(t,e){var n=t.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var a=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(t,e,n,a){for(var s=n-t,l=a-e,u=0;u<=100;u++){var c=u/100,h=o.project([t+s*c,e+l*c]);Sr.VV(r,r,h),Sr.Fp(i,i,h)}};c(a,s,l,s),c(l,s,l,u),c(l,u,a,u),c(a,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}else 0}var h,d,f,p=this.getBoundingRect(),g=t.get("layoutCenter"),m=t.get("layoutSize"),v=e.getWidth(),y=e.getHeight(),b=p.width/p.height*this.aspectScale,x=!1;if(g&&m&&(h=[xe.GM(g[0],v),xe.GM(g[1],y)],d=xe.GM(m,Math.min(v,y)),isNaN(h[0])||isNaN(h[1])||isNaN(d)||(x=!0)),x)f={},b>1?(f.width=d,f.height=d/b):(f.height=d,f.width=d*b),f.y=h[1]-f.height/2,f.x=h[0]-f.width/2;else{var _=t.getBoxLayoutParams();_.aspect=b,f=Mn.ME(_,{width:v,height:y})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}var Ya=function(){function t(){this.dimensions=Va}return t.prototype.create=function(t,e){var n=[];function r(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,i){var o=t.get("map"),a=new Ha(o+i,o,b.l7({nameMap:t.get("nameMap")},r(t)));a.zoomLimit=t.get("scaleLimit"),n.push(a),t.coordinateSystem=a,a.model=t,a.resize=Wa,a.resize(t,e)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}}));var i={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[],i[e].push(t)}})),b.S6(i,(function(t,i){var o=b.UI(t,(function(t){return t.get("nameMap")})),a=new Ha(i,i,b.l7({nameMap:b.Jn(o)},r(t[0])));a.zoomLimit=b.Jv.apply(null,b.UI(t,(function(t){return t.get("scaleLimit")}))),n.push(a),a.resize=Wa,a.resize(t[0],e),b.S6(t,(function(t){t.coordinateSystem=a,function(t,e){b.S6(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}(a,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n,r){for(var i=(t||[]).slice(),o=b.kW(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);var s=fa.load(e,n,r);return b.S6(s.regions,(function(t){var e=t.name;!o.get(e)&&i.push({name:e})})),i},t}(),Xa=new Ya,qa=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e,n){var r=fa.getGeoResource(t.map);if(r&&"geoJSON"===r.type){var i=t.itemStyle=t.itemStyle||{};"color"in i||(i.color="#eee")}this.mergeDefaultAndTheme(t,n),se.Cc(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=Xa.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=b.u4(e.regions||[],(function(e,r){var i=r.name;return i&&(e.set(i,new ni.Z(r,t,t.ecModel)),r.selected&&(n[i]=!0)),e}),b.kW()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new ni.Z(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),r="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),i={name:t};return b.mf(r)?(i.status=e,r(i)):b.HD(r)?r.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&("multiple"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(sr.Z),Ka=qa;function $a(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function Ja(t,e,n,r){var i=t.getZoom(),o=t.getCenter(),a=e.zoom,s=t.projectedToPoint?t.projectedToPoint(o):t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter($a(t,s),r)),null!=a){if(n){var l=n.min||0,u=n.max||1/0;a=Math.max(Math.min(i*a,u),l)/i}t.scaleX*=a,t.scaleY*=a;var c=(e.originX-t.x)*(a-1),h=(e.originY-t.y)*(a-1);t.x-=c,t.y-=h,t.updateTransform(),t.setCenter($a(t,s),r),t.setZoom(a*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var Qa=n("./node_modules/echarts/lib/util/event.js"),ts=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,r){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Ca(n));var i=this._mapDraw;i.draw(t,e,n,this,r),i.group.on("click",this._handleRegionClick,this),i.group.silent=t.get("silent"),this.group.add(i.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;(0,Qa.o)(t.target,(function(t){return null!=(e=(0,Ut.A)(t).eventData)}),!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var r=this;this._mapDraw.group.traverse((function(t){var e=(0,Ut.A)(t).eventData;if(e)return r._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(ar.Z),es=ts;function ns(t,e,n){fa.registerMap(t,e,n)}function rs(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var r={},i=[];return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var o=n.coordinateSystem;(0,b.S6)(o.regions,(function(t){r[t.name]=n.isSelected(t.name)||!1}));var a=[];(0,b.S6)(r,(function(t,e){r[e]&&a.push(e)})),i.push({geoIndex:n.componentIndex,name:a})})),{selected:r,allSelected:i,name:t.name}}))}t.registerCoordinateSystem("geo",Xa),t.registerComponentModel(Ka),t.registerComponentView(es),t.registerImpl("registerMap",ns),t.registerImpl("getMap",(function(t){return fa.getMapForUser(t)})),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e,n){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},(function(e){var i=e.coordinateSystem;if("geo"===i.type){var o=Ja(i,t,e.get("scaleLimit"),n);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===r&&(0,b.S6)(e.seriesGroup,(function(t){t.setCenter(o.center),t.setZoom(o.zoom)}))}}))}))}var is=n("./node_modules/zrender/lib/graphic/shape/BezierCurve.js");function os(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,r=0,i=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=function(t,e,n,r){if(e){for(var i=t,o=t,a=o.parentNode.children[0],s=e,l=i.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=cs(s),o=hs(o),s&&o;){i=cs(i),a=hs(a),i.hierNode.ancestor=t;var d=s.hierNode.prelim+h-o.hierNode.prelim-u+r(s,o);d>0&&(fs(ds(s,t,n),t,d),u+=d,l+=d),h+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=i.hierNode.modifier,c+=a.hierNode.modifier}s&&!cs(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-l),o&&!hs(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=t)}return n}(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)}function as(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function ss(t){return arguments.length?t:ps}function ls(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function us(t,e){return Mn.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function cs(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function hs(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function ds(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function fs(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function ps(t,e){return t.parentNode===e.parentNode?1:2}var gs=n("./node_modules/zrender/lib/core/bbox.js"),ms=function(){this.parentPoint=[],this.childPoints=[]},vs=function(t){function e(e){return t.call(this,e)||this}return(0,Pt.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ms},e.prototype.buildPath=function(t,e){var n=e.childPoints,r=n.length,i=e.parentPoint,o=n[0],a=n[r-1];if(1===r)return t.moveTo(i[0],i[1]),void t.lineTo(o[0],o[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,u=1-l,c=(0,xe.GM)(e.forkPosition,1),h=[];h[l]=i[l],h[u]=i[u]+(a[u]-i[u])*c,t.moveTo(i[0],i[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[l]=o[l],t.lineTo(h[0],h[1]),h[l]=a[l],t.lineTo(h[0],h[1]),t.lineTo(a[0],a[1]);for(var d=1;d<r-1;d++){var f=n[d];t.moveTo(f[0],f[1]),h[l]=f[l],t.lineTo(h[0],h[1])}},e}(s.ZP),ys=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new Bt.Z,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){this._controller=new uo(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var r=t.getData(),i=t.layoutInfo,o=this._mainGroup;"radial"===t.get("layout")?(o.x=i.x+i.width/2,o.y=i.y+i.height/2):(o.x=i.x,o.y=i.y),this._updateViewCoordSys(t,n),this._updateController(t,e,n);var a=this._data;r.diff(a).add((function(e){bs(r,e)&&xs(r,e,null,o,t)})).update((function(e,n){var i=a.getItemGraphicEl(n);bs(r,e)?xs(r,e,i,o,t):i&&Ss(a,n,i,o,t)})).remove((function(e){var n=a.getItemGraphicEl(e);n&&Ss(a,e,n,o,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&r.eachItemGraphicEl((function(e,r){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})}))})),this._data=r},e.prototype._updateViewCoordSys=function(t,e){var n=t.getData(),r=[];n.each((function(t){var e=n.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||r.push([+e.x,+e.y])}));var i=[],o=[];gs.zk(r,i,o);var a=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var l=t.coordinateSystem=new Fa;l.zoomLimit=t.get("scaleLimit"),l.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),l.setCenter(t.get("center"),e),l.setZoom(t.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=i,this._max=o},e.prototype._updateController=function(t,e,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker((function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!po(e,n,t)})),i.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(e){co(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){ho(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scaleX||1;return((e.getZoom()-1)*n+1)/r},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(ve.Z);function bs(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function xs(t,e,n,r,i){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",c=t.tree.root,h=a.parentNode===c?a:a.parentNode||a,d=t.getItemGraphicEl(h.dataIndex),f=h.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:f,g=a.getLayout();o?((n=new $t(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=p.x,n.y=p.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,r.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Vt.D(n,{x:g.x,y:g.y},i);var m=n.getSymbolPath();if("radial"===i.get("layout")){var v=c.children[0],y=v.getLayout(),x=v.children.length,_=void 0,w=void 0;if(g.x===y.x&&!0===a.isExpand&&v.children.length){var S={x:(v.children[0].getLayout().x+v.children[x-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[x-1].getLayout().y)/2};(_=Math.atan2(S.y-y.y,S.x-y.x))<0&&(_=2*Math.PI+_),(w=S.x<y.x)&&(_-=Math.PI)}else(_=Math.atan2(g.y-y.y,g.x-y.x))<0&&(_=2*Math.PI+_),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(w=g.x<y.x)&&(_-=Math.PI):(w=g.x>y.x)||(_-=Math.PI);var M=w?"left":"right",k=s.getModel("label"),E=k.get("rotate"),A=E*(Math.PI/180),T=m.getTextContent();T&&(m.setTextConfig({position:k.get("position")||M,rotation:null==E?-_:A,origin:"center"}),T.setStyle("verticalAlign","middle"))}var I=s.get(["emphasis","focus"]),C="relative"===I?b.WW(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===I?a.getAncestorsIndices():"descendant"===I?a.getDescendantIndices():null;C&&((0,Ut.A)(n).focus=C),function(t,e,n,r,i,o,a,s){var l=e.getModel(),u=t.get("edgeShape"),c=t.get("layout"),h=t.getOrient(),d=t.get(["lineStyle","curveness"]),f=t.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),g=r.__edge;if("curve"===u)e.parentNode&&e.parentNode!==n&&(g||(g=r.__edge=new is.Z({shape:Ms(c,h,d,i,i)})),Vt.D(g,{shape:Ms(c,h,d,o,a)},t));else if("polyline"===u)if("orthogonal"===c){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var m=e.children,v=[],y=0;y<m.length;y++){var x=m[y].getLayout();v.push([x.x,x.y])}g||(g=r.__edge=new vs({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:f}})),Vt.D(g,{shape:{parentPoint:[a.x,a.y],childPoints:v}},t)}}else 0;g&&("polyline"!==u||e.isExpand)&&(g.useStyle(b.ce({strokeNoScale:!0,fill:null},p)),(0,Ht.WO)(g,l,"lineStyle"),(0,Ht.MA)(g),s.add(g))}(i,a,c,n,p,f,g,r),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var r=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);r&&r.hoverState===Ht.CX||(0,Ht.Gl)(n.__edge,e)}})}function _s(t,e,n,r,i){var o=ws(e.tree.root,t),a=o.source,s=o.sourceLayout,l=e.getItemGraphicEl(t.dataIndex);if(l){var u=e.getItemGraphicEl(a.dataIndex).__edge,c=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),h=r.get("edgeShape"),d=r.get("layout"),f=r.get("orient"),p=r.get(["lineStyle","curveness"]);c&&("curve"===h?Vt.bX(c,{shape:Ms(d,f,p,s,s),style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}):"polyline"===h&&"orthogonal"===r.get("layout")&&Vt.bX(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}))}}function ws(t,e){for(var n,r=e.parentNode===t?e:e.parentNode||e;null==(n=r.getLayout());)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:n}}function Ss(t,e,n,r,i){var o=t.tree.getNodeByDataIndex(e),a=ws(t.tree.root,o).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Vt.bX(n,{x:a.x+1,y:a.y+1},i,{cb:function(){r.remove(n),t.setItemGraphicEl(e,null)},removeOpt:s}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(e){_s(e,t,r,i,s)})),_s(o,t,r,i,s)}function Ms(t,e,n,r,i){var o,a,s,l,u,c,h,d;if("radial"===t){u=r.rawX,h=r.rawY,c=i.rawX,d=i.rawY;var f=ls(u,h),p=ls(u,h+(d-h)*n),g=ls(c,d+(h-d)*n),m=ls(c,d);return{x1:f.x||0,y1:f.y||0,x2:m.x||0,y2:m.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=r.x,h=r.y,c=i.x,d=i.y,"LR"!==e&&"RL"!==e||(o=u+(c-u)*n,a=h,s=c+(u-c)*n,l=d),"TB"!==e&&"BT"!==e||(o=u,a=h+(d-h)*n,s=c,l=d+(h-d)*n),{x1:u,y1:h,x2:c,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var ks=ys,Es=(0,se.Yf)();function As(t,e){if(Es(r=this).mainData===r){var n=(0,b.l7)({},Es(this).datas);n[this.dataType]=e,Ns(e,n,t)}else Os(e,this.dataType,Es(this).mainData,t);var r;return e}function Ts(t,e){return t.struct&&t.struct.update(),e}function Is(t,e){return(0,b.S6)(Es(e).datas,(function(n,r){n!==e&&Os(n.cloneShallow(),r,e,t)})),e}function Cs(t){var e=Es(this).mainData;return null==t||null==e?e:Es(e).datas[t]}function Ds(){var t=Es(this).mainData;return null==t?[{data:t}]:(0,b.UI)((0,b.XP)(Es(t).datas),(function(e){return{type:e,data:Es(t).datas[e]}}))}function Ns(t,e,n){Es(t).datas={},(0,b.S6)(e,(function(e,r){Os(e,r,t,n)}))}function Os(t,e,n,r){Es(n).datas[e]=t,Es(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=Cs,t.getLinkedDataAll=Ds}var Ls=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,Ns(e,n,t),(0,b.S6)(n,(function(n){(0,b.S6)(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,(0,b.WA)(As,t))}))})),e.wrapMethod("cloneShallow",(0,b.WA)(Is,t)),(0,b.S6)(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,(0,b.WA)(Ts,t))})),(0,b.hu)(n[e.dataType]===e)},Ps=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){b.mf(t)&&(n=e,e=t,t=null),t=t||{},b.HD(t)&&(t={order:t});var r,i=t.order||"preorder",o=this[t.attr||"children"];"preorder"===i&&(r=e.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===i&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].getNodeById(t);if(i)return i}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].contains(t);if(i)return i}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),Rs=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var i=new t(n),o=[],a=1;!function t(e,n){var r=e.value;a=Math.max(a,b.kJ(r)?r.length:1),o.push(e);var s=new Ps((0,se.U5)(e.name,""),i);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):i.root=s,i._nodes.push(s);var l=e.children;if(l)for(var u=0;u<l.length;u++)t(l[u],s)}(e),i.root.updateDepthAndHeight(0);var s=(0,Zn.Z)(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new Un.Z(s,n);return l.initData(o),r&&r(l),Ls({mainData:l,struct:i,structAttr:"tree"}),i.update(),i},t}();var js=Rs;function zs(t,e,n){if(t&&b.cq(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(b.HD(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}}function Bs(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function Fs(t,e){var n=Bs(t);return b.cq(n,e)>=0}function Gs(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}var Vs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},r=new ni.Z(n,this,this.ecModel),i=js.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=i.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=r),t}))}));var o=0;i.eachNode("preorder",(function(t){t.depth>o&&(o=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return i.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a})),i.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){for(var r=this.getData().tree,i=r.root.children[0],o=r.getNodeByDataIndex(t),a=o.getValue(),s=o.name;o&&o!==i;)s=o.parentNode.name+"."+s,o=o.parentNode;return(0,zi.TX)("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=Gs(r,this),n.collapsed=!r.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(jt.Z),Zs=Vs;function Us(t,e){for(var n,r=[t];n=r.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}}function Hs(t,e){t.eachSeriesByType("tree",(function(t){!function(t,e){var n=us(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,o=0,a=null;"radial"===r?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=ss((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(i=n.width,o=n.height,a=ss());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,r,i=[e];n=i.pop();)if(r=n.children,n.isExpand&&r.length)for(var o=r.length-1;o>=0;o--){var a=r[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(a)}}(s),function(t,e,n){for(var r,i=[t],o=[];r=i.pop();)if(o.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;r=o.pop();)e(r,n)}(l,os,a),s.hierNode.modifier=-l.hierNode.prelim,Us(l,as);var u=l,c=l,h=l;Us(l,(function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>c.getLayout().x&&(c=t),t.depth>h.depth&&(h=t)}));var d=u===c?1:a(u,c)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;if("radial"===r)p=i/(c.getLayout().x+d+f),g=o/(h.depth-1||1),Us(l,(function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=ls(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)}));else{var y=t.getOrient();"RL"===y||"LR"===y?(g=o/(c.getLayout().x+d+f),p=i/(h.depth-1||1),Us(l,(function(t){v=(t.getLayout().x+f)*g,m="LR"===y?(t.depth-1)*p:i-(t.depth-1)*p,t.setLayout({x:m,y:v},!0)}))):"TB"!==y&&"BT"!==y||(p=i/(c.getLayout().x+d+f),g=o/(h.depth-1||1),Us(l,(function(t){m=(t.getLayout().x+f)*p,v="TB"===y?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)})))}}}(t,e)}))}function Ws(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();e.tree.eachNode((function(t){var n=t.getModel().getModel("itemStyle").getItemStyle(),r=e.ensureUniqueItemVisual(t.dataIndex,"style");(0,b.l7)(r,n)}))}))}var Ys=["treemapZoomToNode","treemapRender","treemapMove"];var Xs=n("./node_modules/echarts/lib/model/mixin/palette.js");function qs(t){var e=t.getData().tree,n={};e.eachNode((function(e){for(var r=e;r&&r.depth>1;)r=r.parentNode;var i=(0,Xs.i)(t.ecModel,r.name||r.dataIndex+"",n);e.setVisual("decal",i)}))}var Ks=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};$s(n);var r=t.levels||[],i=this.designatedVisualItemStyle={},o=new ni.Z({itemStyle:i},this,e);r=t.levels=function(t,e){var n,r,i=(0,se.kF)(e.get("color")),o=(0,se.kF)(e.get(["aria","decal","decals"]));if(!i)return;t=t||[],b.S6(t,(function(t){var e=new ni.Z(t),i=e.get("color"),o=e.get("decal");(e.get(["itemStyle","color"])||i&&"none"!==i)&&(n=!0),(e.get(["itemStyle","decal"])||o&&"none"!==o)&&(r=!0)}));var a=t[0]||(t[0]={});n||(a.color=i.slice());!r&&o&&(a.decal=o.slice());return t}(r,e);var a=b.UI(r||[],(function(t){return new ni.Z(t,o,e)}),this),s=js.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=s.getNodeByDataIndex(e),r=n?a[n.depth]:null;return t.parentModel=r||o,t}))}));return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.getRawValue(t),o=r.getName(t);return(0,zi.TX)("nameValue",{name:o,value:i})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=Gs(r,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},b.l7(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=b.kW(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){qs(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(jt.Z);function $s(t){var e=0;b.S6(t.children,(function(t){$s(t);var n=t.value;b.kJ(n)&&(n=n[0]),e+=n}));var n=t.value;b.kJ(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),b.kJ(t.value)?t.value[0]=n:t.value=n}var Js=Ks,Qs=n("./node_modules/echarts/lib/data/DataDiffer.js"),tl=function(){function t(t){this.group=new Bt.Z,t.add(this.group)}return t.prototype.render=function(t,e,n,r){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),i.get("show")&&n){var a=i.getModel("itemStyle"),s=i.getModel("emphasis"),l=a.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),c={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,l),this._renderContent(t,c,a,s,l,u,r),Mn.p$(o,c.pos,c.box)}},t.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=(0,se.U5)(r.getModel().get("name"),""),o=n.getTextRect(i),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:r,text:i,width:a})}},t.prototype._renderContent=function(t,e,n,r,i,o,a){for(var s=0,l=e.emptyItemWidth,u=t.get(["breadcrumb","height"]),c=Mn.lq(e.pos,e.box),h=e.totalWidth,d=e.renderList,f=r.getModel("itemStyle").getItemStyle(),p=d.length-1;p>=0;p--){var g=d[p],m=g.node,v=g.width,y=g.text;h>c.width&&(h-=v-l,v=l,y=null);var x=new Pi.Z({shape:{points:el(s,0,v,u,p===d.length-1,0===p)},style:(0,b.ce)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new X.ZP({style:(0,qt.Lr)(i,{text:y})}),textConfig:{position:"inside"},z2:1e4*Ht.zr,onclick:(0,b.WA)(a,m)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=(0,qt.Lr)(o,{text:y}),x.ensureState("emphasis").style=f,(0,Ht.k5)(x,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(x),nl(x,t,m),s+=v+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function el(t,e,n,r,i,o){var a=[[i?t:t-5,e],[t+n,e],[t+n,e+r],[i?t:t-5,e+r]];return!o&&a.splice(2,0,[t+n+5,e+r/2]),!i&&a.push([t,e+r/2]),a}function nl(t,e,n){(0,Ut.A)(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Gs(n,e)}}var rl=tl,il=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,r,i){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:i}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var ol=n("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),al=Bt.Z,sl=ye.Z,ll="label",ul="upperLabel",cl=10*Ht.zr,hl=2*Ht.zr,dl=3*Ht.zr,fl=(0,ol.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pl=function(t){var e=fl(t);return e.stroke=e.fill=e.lineWidth=null,e},gl=(0,se.Yf)(),ml=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){var i=e.findComponents({mainType:"series",subType:"treemap",query:r});if(!((0,b.cq)(i,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=zs(r,["treemapZoomToNode","treemapRootToNode"],t),a=r&&r.type,s=t.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:r.direction}:null,h=this._giveContainerGroup(s),d=t.get("animation"),f=this._doRender(h,t,c);!d||l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?f.renderFinally():this._doAnimation(h,f,t,c),this._resetController(n),this._renderBreadcrumb(t,n,o)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new al,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var r=e.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,r,i,u){return function(t,e,n,r,i,o,a,s,l,u){if(!a)return;var c=a.getLayout(),h=t.getData(),d=a.getModel();if(h.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var f=c.width,p=c.height,g=c.borderWidth,m=c.invisible,v=a.getRawIndex(),y=s&&s.getRawIndex(),x=a.viewChildren,_=c.upperHeight,w=x&&x.length,S=d.getModel("itemStyle"),M=d.getModel(["emphasis","itemStyle"]),k=d.getModel(["blur","itemStyle"]),E=d.getModel(["select","itemStyle"]),A=S.get("borderRadius")||0,T=G("nodeGroup",al);if(!T)return;if(l.add(T),T.x=c.x||0,T.y=c.y||0,T.markRedraw(),gl(T).nodeWidth=f,gl(T).nodeHeight=p,c.isAboveViewRoot)return T;var I=G("background",sl,u,hl);I&&R(T,I,w&&c.upperLabelHeight);var C=d.getModel("emphasis"),D=C.get("focus"),N=C.get("blurScope"),O=C.get("disabled"),L="ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():D;if(w)(0,Ht.Av)(T)&&(0,Ht.Nj)(T,!1),I&&((0,Ht.Nj)(I,!O),h.setItemGraphicEl(a.dataIndex,I),(0,Ht.Ib)(I,L,N));else{var P=G("content",sl,u,dl);P&&j(T,P),I.disableMorphing=!0,I&&(0,Ht.Av)(I)&&(0,Ht.Nj)(I,!1),(0,Ht.Nj)(T,!O),h.setItemGraphicEl(a.dataIndex,T),(0,Ht.Ib)(T,L,N)}return T;function R(e,n,r){var i=(0,Ut.A)(n);if(i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:f,height:p,r:A}),m)z(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,l=pl(S);l.fill=s;var u=fl(M);u.fill=M.get("borderColor");var c=fl(k);c.fill=k.get("borderColor");var h=fl(E);if(h.fill=E.get("borderColor"),r){var d=f-2*g;B(n,s,o.opacity,{x:g,y:0,width:d,height:_})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=c,n.ensureState("select").style=h,(0,Ht.MA)(n)}e.add(n)}function j(e,n){var r=(0,Ut.A)(n);r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex;var i=Math.max(f-2*g,0),o=Math.max(p-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:i,height:o,r:A}),m)z(n);else{n.invisible=!1;var s=a.getVisual("style"),l=s.fill,u=pl(S);u.fill=l,u.decal=s.decal;var c=fl(M),h=fl(k),d=fl(E);B(n,l,s.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=c,n.ensureState("blur").style=h,n.ensureState("select").style=d,(0,Ht.MA)(n)}e.add(n)}function z(t){!t.invisible&&o.push(t)}function B(e,n,r,i){var o=d.getModel(i?ul:ll),s=(0,se.U5)(d.get("name"),null),l=o.getShallow("show");(0,qt.ni)(e,(0,qt.k3)(d,i?ul:ll),{defaultText:l?s:null,inheritColor:n,defaultOpacity:r,labelFetcher:t,labelDataIndex:a.dataIndex});var u=e.getTextContent();if(u){var h=u.style,f=(0,b.MY)(h.padding||0);i&&(e.setTextConfig({layoutRect:i}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var t=Math.max((i?i.width:e.shape.width)-f[1]-f[3],0),n=Math.max((i?i.height:e.shape.height)-f[0]-f[2],0);h.width===t&&h.height===n||u.setStyle({width:t,height:n})},h.truncateMinChar=2,h.lineOverflow="truncate",F(h,i,c);var p=u.getState("emphasis");F(p?p.style:null,i,c)}}function F(e,n,r){var i=e?e.text:null;if(!n&&r.isLeafRoot&&null!=i){var o=t.get("drillDownIcon",!0);e.text=o?o+" "+i:i}}function G(t,r,o,a){var s=null!=y&&n[t][y],l=i[t];return s?(n[t][y]=null,V(l,s)):m||((s=new r)instanceof ga.ZP&&(s.z2=function(t,e){return t*cl+e}(o,a)),Z(l,s)),e[t][v]=s}function V(t,e){var n=t[v]={};e instanceof al?(n.oldX=e.x,n.oldY=e.y):n.oldShape=(0,b.l7)({},e.shape)}function Z(t,e){var n=t[v]={},o=a.parentNode,s=e instanceof Bt.Z;if(o&&(!r||"drillDown"===r.direction)){var l=0,u=0,c=i.background[o.getRawIndex()];!r&&c&&c.oldShape&&(l=c.oldShape.width,u=c.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}}(e,a,s,n,o,l,t,r,i,u)}!function t(e,n,r,i,o){i?(n=e,(0,b.S6)(e,(function(t,e){!t.isRemoved()&&s(e,e)}))):new Qs.Z(n,e,a,a).add(s).update(s).remove((0,b.WA)(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,c=null!=s?n[s]:null,h=u(l,c,r,o);h&&t(l&&l.viewChildren||[],c&&c.viewChildren||[],h,i,o+1)}}(r.root?[r.root]:[],i&&i.root?[i.root]:[],t,r===i||!i,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&(0,b.S6)(t,(function(t,n){var r=e[n];(0,b.S6)(t,(function(t){t&&(r.push(t),gl(t).willDelete=!0)}))})),e}(s);return this._oldTree=r,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){(0,b.S6)(c,(function(t){(0,b.S6)(t,(function(t){t.parent&&t.parent.remove(t)}))})),(0,b.S6)(l,(function(t){t.invisible=!0,t.dirty()}))}}},e.prototype._doAnimation=function(t,e,n,r){var i=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=((0,b.mf)(i)?0:i)||0,s=((0,b.mf)(o)?null:o)||"cubicOut",l=new il;(0,b.S6)(e.willDeleteEls,(function(t,e){(0,b.S6)(t,(function(t,n){if(!t.invisible){var i,o=t.parent,u=gl(o);if(r&&"drillDown"===r.direction)i=o===r.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,h=0;u.willDelete||(c=u.nodeWidth/2,h=u.nodeHeight/2),i="nodeGroup"===e?{x:c,y:h,style:{opacity:0}}:{shape:{x:c,y:h,width:0,height:0},style:{opacity:0}}}i&&l.add(t,i,a,0,s)}}))})),(0,b.S6)(this._storage,(function(t,n){(0,b.S6)(t,(function(t,r){var i=e.lastsForAnimation[n][r],o={};i&&(t instanceof Bt.Z?null!=i.oldX&&(o.x=t.x,o.y=t.y,t.x=i.oldX,t.y=i.oldY):(i.oldShape&&(o.shape=(0,b.l7)({},t.shape),t.setShape(i.oldShape)),i.fadein?(t.setStyle("opacity",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,s))}))}),this),this._state="animating",l.finished((0,b.ak)((function(){this._state="ready",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new uo(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",(0,b.ak)(this._onPan,this)),e.on("zoom",(0,b.ak)(this._onZoom,this)));var n=new Qn.Z(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,r){return n.contain(e,r)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var o=new Qn.Z(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var s=wr.Ue();wr.Iu(s,s,[-e,-n]),wr.bA(s,s,[t.scale,t.scale]),wr.Iu(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var r=e.findTarget(t.offsetX,t.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)e._rootToNode(r);else if("zoomToNode"===n)e._zoomToNode(r);else if("link"===n){var o=i.hostTree.data.getItemModel(i.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&(0,ke.MI)(a,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var r=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new rl(this.group))).render(t,e,n.node,(function(e){"animating"!==r._state&&(Fs(t.getViewRoot(),e)?r._rootToNode({node:e}):r._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(t,e),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}}),this),n},e.type="treemap",e}(ve.Z);var vl=ml,yl=b.S6,bl=b.Kn,xl=-1,_l=function(){function t(e){var n=e.mappingMethod,r=e.type,i=this.option=b.d9(e);this.type=r,this.mappingMethod=n,this._normalizeData=Dl[n];var o=t.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(wl(i),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,b.S6(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(i)):"category"===n?i.categories?function(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(yl(e,(function(t,e){n[t]=e})),!b.kJ(r)){var i=[];b.Kn(r)?yl(r,(function(t,e){var r=n[e];i[null!=r?r:xl]=t})):i[xl]=r,r=Cl(t,i)}for(var o=e.length-1;o>=0;o--)null==r[o]&&(delete n[e[o]],e.pop())}(i):wl(i,!0):(b.hu("linear"!==n||i.dataExtent),wl(i))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return b.ak(this._normalizeData,this)},t.listVisualTypes=function(){return b.XP(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){b.Kn(t)?b.S6(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var i,o=b.kJ(e)?[]:b.Kn(e)?{}:(i=!0,null);return t.eachVisual(e,(function(t,e){var a=n.call(r,t,e);i?o=a:o[e]=a})),o},t.retrieveVisuals=function(e){var n,r={};return e&&yl(t.visualHandlers,(function(t,i){e.hasOwnProperty(i)&&(r[i]=e[i],n=!0)})),n?r:null},t.prepareVisualTypes=function(t){if(b.kJ(t))t=t.slice();else{if(!bl(t))return[];var e=[];yl(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var r,i=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||b.HD(s)&&s===t+"")return o;n&&h(s,o)}}for(o=0,a=e.length;o<a;o++){var l=e[o],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(Nl(c[1],t,u[1]))return o}else if(u[1]===1/0){if(Nl(c[0],u[0],t))return o}else if(Nl(c[0],u[0],t)&&Nl(c[1],t,u[1]))return o;n&&h(u[0],o),n&&h(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function h(e,n){var o=Math.abs(e-t);o<i&&(i=o,r=n)}},t.visualHandlers={color:{applyVisual:kl("color"),getColorMapper:function(){var t=this.option;return b.ak("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),El.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=Ee.Uu(e,t.parsedVisual,r),i?r:Ee.Pz(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Ee.Pz(Ee.Uu(t,this.option.parsedVisual),"rgba")},category:El,piecewise:function(t,e){var n=Il.call(this,e);return null==n&&(n=Ee.Pz(Ee.Uu(t,this.option.parsedVisual),"rgba")),n},fixed:Al}},colorHue:Sl((function(t,e){return Ee.ox(t,e)})),colorSaturation:Sl((function(t,e){return Ee.ox(t,null,e)})),colorLightness:Sl((function(t,e){return Ee.ox(t,null,null,e)})),colorAlpha:Sl((function(t,e){return Ee.m8(t,e)})),decal:{applyVisual:kl("decal"),_normalizedToVisual:{linear:null,category:El,piecewise:null,fixed:null}},opacity:{applyVisual:kl("opacity"),_normalizedToVisual:Tl([0,1])},liftZ:{applyVisual:kl("liftZ"),_normalizedToVisual:{linear:Al,category:Al,piecewise:Al,fixed:Al}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:Ml,category:El,piecewise:function(t,e){var n=Il.call(this,e);return null==n&&(n=Ml.call(this,t)),n},fixed:Al}},symbolSize:{applyVisual:kl("symbolSize"),_normalizedToVisual:Tl([0,1])}},t}();function wl(t,e){var n=t.visual,r=[];b.Kn(n)?yl(n,(function(t){r.push(t)})):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),Cl(t,r)}function Sl(t){return{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("color",t(n("color"),i))},_normalizedToVisual:Tl([0,1])}}function Ml(t){var e=this.option.visual;return e[Math.round((0,xe.NU)(t,[0,1],[0,e.length-1],!0))]||{}}function kl(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function El(t){var e=this.option.visual;return e[this.option.loop&&t!==xl?t%e.length:t]}function Al(){return this.option.visual[0]}function Tl(t){return{linear:function(e){return(0,xe.NU)(e,t,this.option.visual,!0)},category:El,piecewise:function(e,n){var r=Il.call(this,n);return null==r&&(r=(0,xe.NU)(e,t,this.option.visual,!0)),r},fixed:Al}}function Il(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=n[_l.findPieceIndex(t,n)];if(r&&r.visual)return r.visual[this.type]}}function Cl(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=b.UI(e,(function(t){var e=Ee.Qc(t);return e||[0,0,0,1]}))),e}var Dl={linear:function(t){return(0,xe.NU)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=_l.findPieceIndex(t,e,!0);if(null!=n)return(0,xe.NU)(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?xl:e},fixed:b.ZT};function Nl(t,e,n){return t?e<=n:e<n}var Ol=_l,Ll=(0,se.Yf)(),Pl={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||Rl(e,{},t.getViewRoot().getAncestors(),t)}};function Rl(t,e,n,r){var i=t.getModel(),o=t.getLayout(),a=t.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=i.getModel("itemStyle"),u=function(t,e,n){var r=(0,b.l7)({},e),i=n.designatedVisualItemStyle;return(0,b.S6)(["color","colorAlpha","colorSaturation"],(function(n){i[n]=e[n];var o=t.get(n);i[n]=null,null!=o&&(r[n]=o)})),r}(l,e,r),c=a.ensureUniqueItemVisual(t.dataIndex,"style"),h=l.get("borderColor"),d=l.get("borderColorSaturation");null!=d&&(h=function(t,e){return null!=e?(0,Ee.ox)(e,null,null,t):null}(d,s=jl(u))),c.stroke=h;var f=t.viewChildren;if(f&&f.length){var p=function(t,e,n,r,i,o){if(!o||!o.length)return;var a=Bl(e,"color")||null!=i.color&&"none"!==i.color&&(Bl(e,"colorAlpha")||Bl(e,"colorSaturation"));if(!a)return;var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),h={type:a.name,dataExtent:u,visual:a.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var d=new Ol(h);return Ll(d).drColorMappingBy=c,d}(0,i,o,0,u,f);(0,b.S6)(f,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var o=function(t,e,n,r,i,o){var a=(0,b.l7)({},e);if(i){var s=i.type,l="color"===s&&Ll(i).drColorMappingBy,u="index"===l?r:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=i.mapValueToVisual(u)}return a}(i,u,t,e,p,r);Rl(t,o,n,r)}}))}else s=jl(u),c.fill=s}}function jl(t){var e=zl(t,"color");if(e){var n=zl(t,"colorAlpha"),r=zl(t,"colorSaturation");return r&&(e=(0,Ee.ox)(e,null,null,r)),n&&(e=(0,Ee.m8)(e,n)),e}}function zl(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function Bl(t,e){var n=t.get(e);return(0,b.kJ)(n)&&n.length?{name:e,range:n}:null}var Fl=Math.max,Gl=Math.min,Vl=b.Jv,Zl=b.S6,Ul=["itemStyle","borderWidth"],Hl=["itemStyle","gapWidth"],Wl=["upperLabel","show"],Yl=["upperLabel","height"],Xl={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),a=t.option,s=Mn.ME(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=(0,xe.GM)(Vl(s.width,l[0]),i),c=(0,xe.GM)(Vl(s.height,l[1]),o),h=r&&r.type,d=zs(r,["treemapZoomToNode","treemapRootToNode"],t),f="treemapRender"===h||"treemapMove"===h?r.rootRect:null,p=t.getViewRoot(),g=Bs(p);if("treemapMove"!==h){var m="treemapZoomToNode"===h?function(t,e,n,r,i){var o,a=(e||{}).node,s=[r,i];if(!a||a===n)return s;var l=r*i,u=l*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var c=0,h=o.children,d=0,f=h.length;d<f;d++)c+=h[d].getValue();var p=a.getValue();if(0===p)return s;u*=c/p;var g=o.getModel(),m=g.get(Ul);(u+=4*m*m+(3*m+Math.max(m,Ql(g)))*Math.pow(u,.5))>xe.YM&&(u=xe.YM),a=o}u<l&&(u=l);var v=Math.pow(u/l,.5);return[r*v,i*v]}(t,d,p,u,c):f?[f.width,f.height]:[u,c],v=a.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var y={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};p.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};p.setLayout(x),ql(p,y,!1,0),x=p.getLayout(),Zl(g,(function(t,e){var n=(g[e+1]||p).getValue();t.setLayout(b.l7({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))}))}var _=t.getData().tree.root;_.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;var a=[o.width/2,o.height/2],s=i;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,f,d),!0),t.setLayoutInfo(s),Jl(_,new Qn.Z(-s.x,-s.y,i,o),g,p,0)}};function ql(t,e,n,r){var i,o;if(!t.isRemoved()){var a=t.getLayout();i=a.width,o=a.height;var s=t.getModel(),l=s.get(Ul),u=s.get(Hl)/2,c=Ql(s),h=Math.max(l,c),d=l-u,f=h-u;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:c},!0);var p=(i=Fl(i-2*d,0))*(o=Fl(o-d-f,0)),g=function(t,e,n,r,i,o){var a=t.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!l)return t.viewChildren=[];a=b.hX(a,(function(t){return!t.isRemoved()})),function(t,e){e&&t.sort((function(t,n){var r="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r}))}(a,s);var u=function(t,e,n){for(var r=0,i=0,o=e.length;i<o;i++)r+=e[i].getValue();var a,s=t.get("visualDimension");e&&e.length?"value"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],Zl(e,(function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN];return{sum:r,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,n,r,i){if(!r)return n;for(var o=t.get("visibleMin"),a=i.length,s=a,l=a-1;l>=0;l--){var u=i["asc"===r?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return"asc"===r?i.splice(0,a-s):i.splice(s,a-s),n}(e,n,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var c=0,h=a.length;c<h;c++){var d=a[c].getValue()/u.sum*n;a[c].setLayout({area:d})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(t,s,p,e,n,r);if(g.length){var m={x:d,y:f,width:i,height:o},v=Gl(i,o),y=1/0,x=[];x.area=0;for(var _=0,w=g.length;_<w;){var S=g[_];x.push(S),x.area+=S.getLayout().area;var M=Kl(x,v,e.squareRatio);M<=y?(_++,y=M):(x.area-=x.pop().getLayout().area,$l(x,v,m,u,!1),v=Gl(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length&&$l(x,v,m,u,!0),!n){var k=s.get("childrenVisibleMin");null!=k&&p<k&&(n=!0)}for(_=0,w=g.length;_<w;_++)ql(g[_],e,n,r+1)}}}function Kl(t,e,n){for(var r=0,i=1/0,o=0,a=void 0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<i&&(i=a),a>r&&(r=a));var l=t.area*t.area,u=e*e*n;return l?Fl(u*r/l,l/(u*i)):1/0}function $l(t,e,n,r,i){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],c=e?t.area/e:0;(i||c>n[l[a]])&&(c=n[l[a]]);for(var h=0,d=t.length;h<d;h++){var f=t[h],p={},g=c?f.getLayout().area/c:0,m=p[l[a]]=Fl(c-2*r,0),v=n[s[o]]+n[l[o]]-u,y=h===d-1||v<g?v:g,b=p[l[o]]=Fl(y-2*r,0);p[s[a]]=n[s[a]]+Gl(r,m/2),p[s[o]]=u+Gl(r,b/2),u+=y,f.setLayout(p,!0)}n[s[a]]+=c,n[l[a]]-=c}function Jl(t,e,n,r,i){var o=t.getLayout(),a=n[i],s=a&&a===t;if(!(a&&!s||i===n.length&&t!==r)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new Qn.Z(e.x-o.x,e.y-o.y,e.width,e.height);Zl(t.viewChildren||[],(function(t){Jl(t,l,n,r,i+1)}))}}function Ql(t){return t.get(Wl)?t.get(Yl):0}function tu(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),r=t.getGraph().data,i=n.mapArray(n.getName);r.filterSelf((function(t){var n=r.getItemModel(t).getShallow("category");if(null!=n){(0,b.hj)(n)&&(n=i[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0}))}))}function eu(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each((function(r){var o=n.getName(r);i["ec-"+o]=r;var a=n.getItemModel(r),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(r,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=a.getShallow(l[u],!0);null!=c&&n.setItemVisual(r,l[u],c)}})),n.count()&&r.each((function(t){var e=r.getItemModel(t).getShallow("category");if(null!=e){(0,b.HD)(e)&&(e=i["ec-"+e]);var o=n.getItemVisual(e,"style"),a=r.ensureUniqueItemVisual(t,"style");(0,b.l7)(a,o);for(var s=["symbol","symbolSize","symbolKeepAspect"],l=0;l<s.length;l++)r.setItemVisual(t,s[l],n.getItemVisual(e,s[l]))}}))}))}function nu(t){return t instanceof Array||(t=[t,t]),t}function ru(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),r=nu(t.get("edgeSymbol")),i=nu(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var r=n.getItemModel(t),i=e.getEdgeByIndex(t),o=nu(r.getShallow("symbol",!0)),a=nu(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch((0,b.l7)(l,s),l.stroke){case"source":var u=i.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=i.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&i.setVisual("fromSymbol",o[0]),o[1]&&i.setVisual("toSymbol",o[1]),a[0]&&i.setVisual("fromSymbolSize",a[0]),a[1]&&i.setVisual("toSymbolSize",a[1])}))}))}var iu="--\x3e",ou=function(t){return t.get("autoCurveness")||null},au=function(t,e){var n=ou(t),r=20,i=[];if(b.hj(n))r=n;else if(b.kJ(n))return void(t.__curvenessList=n);e>r&&(r=e);var o=r%2?r+2:r+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=i},su=function(t,e,n){var r=[t.id,t.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[n.uid,r,i].join(iu)},lu=function(t){var e=t.split(iu);return[e[0],e[2],e[1]].join(iu)},uu=function(t,e){var n=su(t.node1,t.node2,e);return e.__edgeMap[n]},cu=function(t,e){return hu(su(t.node1,t.node2,e),e)+hu(su(t.node2,t.node1,e),e)},hu=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function du(t,e,n,r){var i=ou(e),o=b.kJ(i);if(!i)return null;var a=uu(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=cu(t,e);au(e,u),t.lineStyle=t.lineStyle||{};var c=su(t.node1,t.node2,e),h=e.__curvenessList,d=o||u%2?0:1;if(a.isForward)return h[d+s];var f=lu(c),p=hu(f,e),g=h[s+p+d];return r?o?i&&0===i[0]?(p+d)%2?g:-g:((p%2?0:1)+d)%2?g:-g:(p+d)%2?g:-g:h[s+p+d]}function fu(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),pu(n,t)}}function pu(t,e){t.eachEdge((function(t,n){var r=b.R1(t.getModel().get(["lineStyle","curveness"]),-du(t,e,n,!0),0),i=Sr.d9(t.node1.getLayout()),o=Sr.d9(t.node2.getLayout()),a=[i,o];+r&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*r,(i[1]+o[1])/2-(o[0]-i[0])*r]),t.setLayout(a)}))}function gu(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),i=[];(0,b.S6)(n.dimensions,(function(t){i=i.concat(r.mapDimensionsAll(t))}));for(var o=0;o<r.count();o++){for(var a=[],s=!1,l=0;l<i.length;l++){var u=r.get(i[l],o);isNaN(u)||(s=!0),a.push(u)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}pu(r.graph,t)}else e&&"none"!==e||fu(t)}))}function mu(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,r=e.scaleX;return((e.getZoom()-1)*n+1)/r}function vu(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var yu=Math.PI,bu=[];function xu(t,e,n,r){var i=t.coordinateSystem;if(!i||"view"===i.type){var o=i.getBoundingRect(),a=t.getData(),s=a.graph,l=o.width/2+o.x,u=o.height/2+o.y,c=Math.min(o.width,o.height)/2,h=a.count();if(a.setLayout({cx:l,cy:u}),h){if(n){var d=i.pointToData(r),f=d[0],p=d[1],g=[f-l,p-u];Sr.Fv(g,g),Sr.bA(g,g,c),n.setLayout([l+g[0],u+g[1]],!0),wu(n,t.get(["circular","rotateLabel"]),l,u)}_u[e](t,s,a,c,l,u,h),s.eachEdge((function(e,n){var r,i=b.R1(e.getModel().get(["lineStyle","curveness"]),du(e,t,n),0),o=Sr.d9(e.node1.getLayout()),a=Sr.d9(e.node2.getLayout()),s=(o[0]+a[0])/2,c=(o[1]+a[1])/2;+i&&(r=[l*(i*=3)+s*(1-i),u*i+c*(1-i)]),e.setLayout([o,a,r])}))}}}var _u={value:function(t,e,n,r,i,o,a){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||a);e.eachNode((function(t){var e=t.getValue("value"),n=u*(l?e:1)/2;s+=n,t.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+o]),s+=n}))},symbolSize:function(t,e,n,r,i,o,a){var s=0;bu.length=a;var l=mu(t);e.eachNode((function(t){var e=vu(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/r);isNaN(n)&&(n=yu/2),bu[t.dataIndex]=n,s+=2*n}));var u=(2*yu-s)/a/2,c=0;e.eachNode((function(t){var e=u+bu[t.dataIndex];c+=e,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+o]),c+=e}))}};function wu(t,e,n,r){var i=t.getGraphicEl();if(i){var o=t.getModel().get(["label","rotate"])||0,a=i.getSymbolPath();if(e){var s=t.getLayout(),l=Math.atan2(s[1]-r,s[0]-n);l<0&&(l=2*Math.PI+l);var u=s[0]<n;u&&(l-=Math.PI);var c=u?"left":"right";a.setTextConfig({rotation:-l,position:c,origin:"center"});var h=a.ensureState("emphasis");b.l7(h.textConfig||(h.textConfig={}),{position:c})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function Su(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&xu(t,"symbolSize")}))}var Mu=Sr.od;function ku(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},r=t.getGraph(),i=r.data,o=r.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?i.each((function(t){var e=i.getId(t);i.setItemLayout(t,n[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&xu(t,"value"):fu(t);var l=i.getDataExtent("value"),u=o.getDataExtent("value"),c=a.get("repulsion"),h=a.get("edgeLength"),d=b.kJ(c)?c:[c,c],f=b.kJ(h)?h:[h,h];f=[f[1],f[0]];var p=i.mapArray("value",(function(t,e){var n=i.getItemLayout(e),r=(0,xe.NU)(t,l,d);return isNaN(r)&&(r=(d[0]+d[1])/2),{w:r,rep:r,fixed:i.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=o.mapArray("value",(function(e,n){var i=r.getEdgeByIndex(n),o=(0,xe.NU)(e,u,f);isNaN(o)&&(o=(f[0]+f[1])/2);var a=i.getModel(),s=b.R1(i.getModel().get(["lineStyle","curveness"]),-du(i,t,n,!0),0);return{n1:p[i.node1.dataIndex],n2:p[i.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),m=e.getBoundingRect(),v=function(t,e,n){for(var r=t,i=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,c=0;c<r.length;c++){var h=r[c];h.p||(h.p=Sr.Ue(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=Sr.d9(h.p),h.edges=null}var d,f,p=null==n.friction?.6:n.friction,g=p;return{warmUp:function(){g=.8*p},setFixed:function(t){r[t].fixed=!0},setUnfixed:function(t){r[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){f=t},step:function(t){d&&d(r,i);for(var e=[],n=r.length,o=0;o<i.length;o++){var a=i[o];if(!a.ignoreForceLayout){var s=a.n1,c=a.n2;Sr.lu(e,c.p,s.p);var h=Sr.Zh(e)-a.d,p=c.w/(s.w+c.w);isNaN(p)&&(p=0),Sr.Fv(e,e),!s.fixed&&Mu(s.p,s.p,e,p*h*g),!c.fixed&&Mu(c.p,c.p,e,-(1-p)*h*g)}}for(o=0;o<n;o++)(b=r[o]).fixed||(Sr.lu(e,l,b.p),Mu(b.p,b.p,e,u*g));for(o=0;o<n;o++){s=r[o];for(var m=o+1;m<n;m++){c=r[m],Sr.lu(e,c.p,s.p),0===(h=Sr.Zh(e))&&(Sr.t8(e,Math.random()-.5,Math.random()-.5),h=1);var v=(s.rep+c.rep)/h/h;!s.fixed&&Mu(s.pp,s.pp,e,v),!c.fixed&&Mu(c.pp,c.pp,e,-v)}}var y=[];for(o=0;o<n;o++){var b;(b=r[o]).fixed||(Sr.lu(y,b.p,b.pp),Mu(b.p,b.p,y,g),Sr.JG(b.pp,b.p))}var x=(g*=.992)<.01;f&&f(r,i,x),t&&t(x)}}}(p,g,{rect:m,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].fixed&&Sr.JG(t[n].p,r.getNodeByIndex(n).getLayout())})),v.afterStep((function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||r.getNodeByIndex(a).setLayout(t[a].p),n[i.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],u=r.getEdgeByIndex(a),c=l.n1.p,h=l.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],Sr.JG(d[0],c),Sr.JG(d[1],h),+l.curveness&&(d[2]=[(c[0]+h[0])/2-(c[1]-h[1])*l.curveness,(c[1]+h[1])/2-(h[0]-c[0])*l.curveness]),u.setLayout(d)}})),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null}))}function Eu(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var i=t.getData(),o=i.mapArray((function(t){var e=i.getItemModel(t);return[+e.get("x"),+e.get("y")]})),a=[],s=[];gs.zk(o,a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=function(t,e,n){var r=(0,b.l7)(t.getBoxLayoutParams(),{aspect:n});return(0,Mn.ME)(r,{width:e.getWidth(),height:e.getHeight()})}(t,e,l);isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var c=s[0]-a[0],h=s[1]-a[1],d=u.width,f=u.height,p=t.coordinateSystem=new Fa;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(a[0],a[1],c,h),p.setViewRect(u.x,u.y,d,f),p.setCenter(t.get("center"),e),p.setZoom(t.get("zoom")),n.push(p)}})),n}var Au=ei.Z.prototype,Tu=is.Z.prototype,Iu=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}(0,Pt.ZT)(e,t)}(Iu);function Cu(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var Du=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Iu},e.prototype.buildPath=function(t,e){Cu(e)?Au.buildPath.call(this,t,e):Tu.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return Cu(this.shape)?Au.pointAt.call(this,t):Tu.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=Cu(e)?[e.x2-e.x1,e.y2-e.y1]:Tu.tangentAt.call(this,t);return Sr.Fv(n,n)},e}(s.ZP),Nu=["fromSymbol","toSymbol"];function Ou(t){return"_"+t+"Type"}function Lu(t,e,n){var r=e.getItemVisual(n,t);if(!r||"none"===r)return r;var i=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=zt.zp(i);return r+l+zt.Cq(a||0,l)+(o||"")+(s||"")}function Pu(t,e,n){var r=e.getItemVisual(n,t);if(r&&"none"!==r){var i=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=zt.zp(i),u=zt.Cq(a||0,l),c=zt.th(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=t,c}}function Ru(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var ju=function(t){function e(e,n,r){var i=t.call(this)||this;return i._createLine(e,n,r),i}return(0,Pt.ZT)(e,t),e.prototype._createLine=function(t,e,n){var r=t.hostModel,i=function(t){var e=new Du({name:"line",subPixelOptimize:!0});return Ru(e.shape,t),e}(t.getItemLayout(e));i.shape.percent=0,Vt.KZ(i,{shape:{percent:1}},r,e),this.add(i),(0,b.S6)(Nu,(function(n){var r=Pu(n,t,e);this.add(r),this[Ou(n)]=Lu(n,t,e)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};Ru(a.shape,o),Vt.D(i,a,r,e),(0,b.S6)(Nu,(function(n){var r=Lu(n,t,e),i=Ou(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=Pu(n,t,e);this.add(o)}this[i]=r}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,c=n&&n.focus,h=n&&n.blurScope;if(!n||t.hasItemOption){var d=t.getItemModel(e),f=d.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),a=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),u=f.get("disabled"),c=f.get("focus"),h=f.get("blurScope"),l=(0,qt.k3)(d)}var p=t.getItemVisual(e,"style"),g=p.stroke;i.useStyle(p),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,i.ensureState("blur").style=a,i.ensureState("select").style=s,(0,b.S6)(Nu,(function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=p.opacity;for(var n=0;n<Ht.L1.length;n++){var r=Ht.L1[n],o=i.getState(r);if(o){var a=o.style||{},s=e.ensureState(r),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}}),this);var m=r.getRawValue(e);(0,qt.ni)(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return r.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||"#000",defaultOpacity:p.opacity,defaultText:(null==m?t.getName(e):isFinite(m)?(0,xe.NM)(m):m)+""});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get("position")||"middle";var x=y.get("distance");(0,b.kJ)(x)||(x=[x,x]),v.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),(0,Ht.k5)(this,c,h,u)},e.prototype.highlight=function(){(0,Ht.fD)(this)},e.prototype.downplay=function(){(0,Ht.Mh)(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");Ru(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),r=t.getTextContent();if(e||n||r&&!r.ignore){for(var i=1,o=this.parent;o;)o.scaleX&&(i/=o.scaleX),o=o.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=Sr.lu([],u,l);if(Sr.Fv(c,c),e&&(e.setPosition(l),S(e,0),e.scaleX=e.scaleY=i*s,e.markRedraw()),n&&(n.setPosition(u),S(n,1),n.scaleX=n.scaleY=i*s,n.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var h=void 0,d=void 0,f=r.__labelDistance,p=f[0]*i,g=f[1]*i,m=s/2,v=a.tangentAt(m),y=[v[1],-v[0]],b=a.pointAt(m);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=v[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var _=-Math.atan2(v[1],v[0]);u[0]<l[0]&&(_=Math.PI+_),r.rotation=_}var w=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-g,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=g,d="top";break;default:w=0,d="middle"}switch(r.__position){case"end":r.x=c[0]*p+u[0],r.y=c[1]*g+u[1],h=c[0]>.8?"left":c[0]<-.8?"right":"center",d=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":r.x=-c[0]*p+l[0],r.y=-c[1]*g+l[1],h=c[0]>.8?"right":c[0]<-.8?"left":"center",d=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=p*x+l[0],r.y=l[1]+w,h=v[0]<0?"right":"left",r.originX=-p*x,r.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=b[0],r.y=b[1]+w,h="center",r.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-p*x+u[0],r.y=u[1]+w,h=v[0]>=0?"right":"left",r.originX=p*x,r.originY=-w}r.scaleX=r.scaleY=i,r.setStyle({verticalAlign:r.__verticalAlign||d,align:r.__align||h})}}}function S(t,e){var n=t.__specifiedRotation;if(null==n){var r=a.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else t.attr("rotation",n)}},e}(Bt.Z),zu=ju;function Bu(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:(0,qt.k3)(e)}}function Fu(t){return isNaN(t[0])||isNaN(t[1])}function Gu(t){return t&&!Fu(t[0])&&!Fu(t[1])}var Vu=function(){function t(t){this.group=new Bt.Z,this._LineCtor=t||zu}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,r=n.group,i=n._lineData;n._lineData=t,i||r.removeAll();var o=Bu(t);t.diff(i).add((function(n){e._doAdd(t,n,o)})).update((function(n,r){e._doUpdate(i,t,r,n,o)})).remove((function(t){r.remove(i.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Bu(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=t.start;r<t.end;r++){if(Gu(e.getItemLayout(r))){var i=new this._LineCtor(e,r,this._seriesScope);i.traverse(n),this.group.add(i),e.setItemGraphicEl(r,i),this._progressiveEls.push(i)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Zt.traverseElements(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(Gu(t.getItemLayout(e))){var r=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,r),this.group.add(r)}},t.prototype._doUpdate=function(t,e,n,r,i){var o=t.getItemGraphicEl(n);Gu(e.getItemLayout(r))?(o?o.updateData(e,r,i):o=new this._LineCtor(e,r,i),e.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},t}(),Zu=[],Uu=[],Hu=[],Wu=le.Zm,Yu=Sr.WU,Xu=Math.abs;function qu(t,e,n){for(var r,i=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1){Zu[0]=Wu(i[0],o[0],a[0],c),Zu[1]=Wu(i[1],o[1],a[1],c),(f=Xu(Yu(Zu,e)-l))<s&&(s=f,r=c)}for(var h=0;h<32;h++){var d=r+u;Uu[0]=Wu(i[0],o[0],a[0],r),Uu[1]=Wu(i[1],o[1],a[1],r),Hu[0]=Wu(i[0],o[0],a[0],d),Hu[1]=Wu(i[1],o[1],a[1],d);var f=Yu(Uu,e)-l;if(Xu(f)<.01)break;var p=Yu(Hu,e)-l;u/=2,f<0?p>=0?r+=u:r-=u:p>=0?r-=u:r+=u}return r}function Ku(t,e){var n=[],r=le.Lx,i=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),u=t.getVisual("fromSymbol"),c=t.getVisual("toSymbol");l.__original||(l.__original=[Sr.d9(l[0]),Sr.d9(l[1])],l[2]&&l.__original.push(Sr.d9(l[2])));var h=l.__original;if(null!=l[2]){if(Sr.JG(i[0],h[0]),Sr.JG(i[1],h[2]),Sr.JG(i[2],h[1]),u&&"none"!==u){var d=vu(t.node1),f=qu(i,h[0],d*e);r(i[0][0],i[1][0],i[2][0],f,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],f,n),i[0][1]=n[3],i[1][1]=n[4]}if(c&&"none"!==c){d=vu(t.node2),f=qu(i,h[1],d*e);r(i[0][0],i[1][0],i[2][0],f,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],f,n),i[1][1]=n[1],i[2][1]=n[2]}Sr.JG(l[0],i[0]),Sr.JG(l[1],i[2]),Sr.JG(l[2],i[1])}else{if(Sr.JG(o[0],h[0]),Sr.JG(o[1],h[1]),Sr.lu(a,o[1],o[0]),Sr.Fv(a,a),u&&"none"!==u){d=vu(t.node1);Sr.od(o[0],o[0],a,d*e)}if(c&&"none"!==c){d=vu(t.node2);Sr.od(o[1],o[1],a,-d*e)}Sr.JG(l[0],o[0]),Sr.JG(l[1],o[1])}}))}function $u(t){return"view"===t.type}var Ju=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){var n=new ee,r=new Vu,i=this.group;this._controller=new uo(e.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},e.prototype.render=function(t,e,n){var r=this,i=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if($u(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(l):Vt.D(s,l,t)}Ku(t.getGraph(),mu(t));var u=t.getData();o.updateData(u);var c=t.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,d=t.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,d);var f=t.get("layout");u.graph.eachNode((function(e){var n=e.dataIndex,i=e.getGraphicEl(),o=e.getModel();if(i){i.off("drag").off("dragend");var a=o.get("draggable");a&&i.on("drag",(function(o){switch(f){case"force":h.warmUp(),!r._layouting&&r._startForceLayoutIteration(h,d),h.setFixed(n),u.setItemLayout(n,[i.x,i.y]);break;case"circular":u.setItemLayout(n,[i.x,i.y]),e.setLayout({fixed:!0},!0),xu(t,"symbolSize",e,[o.offsetX,o.offsetY]),r.updateLayout(t);break;default:u.setItemLayout(n,[i.x,i.y]),pu(t.getGraph(),t),r.updateLayout(t)}})).on("dragend",(function(){h&&h.setUnfixed(n)})),i.setDraggable(a,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&((0,Ut.A)(i).focus=e.getAdjacentDataIndices())}})),u.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&((0,Ut.A)(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var p="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),g=u.getLayout("cx"),m=u.getLayout("cy");u.graph.eachNode((function(t){wu(t,p,g,m)})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function r(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())}))}()},e.prototype._updateController=function(t,e,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker((function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!po(e,n,t)})),$u(t.coordinateSystem)?(i.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(e){co(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){ho(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(),Ku(t.getGraph(),mu(t)),r._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=mu(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){Ku(t.getGraph(),mu(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(ve.Z),Qu=Ju;function tc(t){return"_EC_"+t}var ec=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[tc(t)]){var r=new nc(t,e);return r.hostGraph=this,this.nodes.push(r),n[tc(t)]=r,r}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[tc(t)]},t.prototype.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if(b.hj(t)&&(t=this.nodes[t]),b.hj(e)&&(e=this.nodes[e]),t instanceof nc||(t=r[tc(t)]),e instanceof nc||(e=r[tc(e)]),t&&e){var o=t.id+"-"+e.id,a=new rc(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),i[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof nc&&(t=t.id),e instanceof nc&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},t.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof nc||(e=this._nodesMap[tc(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[i];for(o=0;o<l.length;o++){var u=l[o],c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(t.call(r,c,s))return;a.push(c),c.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf((function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)r[e.getRawIndex(i)].dataIndex=i},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),nc=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=b.kW(),e=b.kW(),n=0;n<this.edges.length;n++){var r=this.edges[n];if(!(r.dataIndex<0)){t.set(r.dataIndex,!0);for(var i=[r.node1],o=[r.node2],a=0;a<i.length;){var s=i[a];a++,e.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)t.set(s.inEdges[l].dataIndex,!0),i.push(s.inEdges[l].node1)}for(a=0;a<o.length;){var u=o[a];a++,e.set(u.dataIndex,!0);for(l=0;l<u.outEdges.length;l++)t.set(u.outEdges[l].dataIndex,!0),o.push(u.outEdges[l].node2)}}}return{edge:t.keys(),node:e.keys()}},t}(),rc=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=b.kW(),e=b.kW();t.set(this.dataIndex,!0);for(var n=[this.node1],r=[this.node2],i=0;i<n.length;){var o=n[i];i++,e.set(o.dataIndex,!0);for(var a=0;a<o.inEdges.length;a++)t.set(o.inEdges[a].dataIndex,!0),n.push(o.inEdges[a].node1)}for(i=0;i<r.length;){var s=r[i];i++,e.set(s.dataIndex,!0);for(a=0;a<s.outEdges.length;a++)t.set(s.outEdges[a].dataIndex,!0),r.push(s.outEdges[a].node2)}return{edge:t.keys(),node:e.keys()}},t}();function ic(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}b.jB(nc,ic("hostGraph","data")),b.jB(rc,ic("hostGraph","edgeData"));var oc=ec,ac=n("./node_modules/echarts/lib/core/CoordinateSystem.js");function sc(t,e,n,r,i){for(var o=new oc(r),a=0;a<t.length;a++)o.addNode(b.Jv(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<e.length;a++){var c=e[a],h=c.source,d=c.target;o.addEdge(h,d,u)&&(l.push(c),s.push(b.Jv((0,se.U5)(c.id,null),h+" > "+d)),u++)}var f,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)f=(0,Rt.Z)(t,n);else{var g=ac.Z.get(p),m=g&&g.dimensions||[];b.cq(m,"value")<0&&m.concat(["value"]);var v=(0,Zn.Z)(t,{coordDimensions:m,encodeDefine:n.getEncode()}).dimensions;(f=new Un.Z(v,n)).initData(t)}var y=new Un.Z(["value"],n);return y.initData(l,s),i&&i(f,y),Ls({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var lc=n("./node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js"),uc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new Yn(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,se.Cc)(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n,r=t.edges||t.links||[],i=t.data||t.nodes||[],o=this;if(i&&r){ou(n=this)&&(n.__curvenessList=[],n.__edgeMap={},au(n));var a=sc(i,r,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var n=ni.Z.prototype.getModel;function r(t,e){var r=n.call(this,t,e);return r.resolveParentPath=i,r}function i(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=i,t.getModel=r,t}))}));return b.S6(a.edges,(function(t){!function(t,e,n,r){if(ou(n)){var i=su(t,e,n),o=n.__edgeMap,a=o[lu(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}(t.node1,t.node2,this,t.dataIndex)}),this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),(0,zi.TX)("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}return(0,lc.w)({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=b.UI(this.option.categories||[],(function(t){return null!=t.value?t:b.l7({value:0},t)})),e=new Un.Z(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(jt.Z),cc=uc,hc={type:"graphRoam",event:"graphRoam",update:"none"};var dc=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},fc=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new dc},e.prototype.buildPath=function(t,e){var n=Math.cos,r=Math.sin,i=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=i/3?1:2),l=e.y-r(a)*o*(o>=i/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+r(a)*o),t.lineTo(e.x+n(e.angle)*i,e.y+r(e.angle)*i),t.lineTo(e.x-n(a)*o,e.y-r(a)*o),t.lineTo(s,l)},e}(s.ZP),pc=fc;function gc(t,e){var n=null==t?"":t+"";return e&&((0,b.HD)(e)?n=e.replace("{value}",n):(0,b.mf)(e)&&(n=e(t))),n}var mc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var r=t.get(["axisLine","lineStyle","color"]),i=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i);return{cx:(0,xe.GM)(n[0],e.getWidth()),cy:(0,xe.GM)(n[1],e.getHeight()),r:(0,xe.GM)(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,r,i),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,r,i){var o=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,u=t.getModel("axisLine"),c=u.get("roundCap")?Qe:be.C,h=u.get("show"),d=u.getModel("lineStyle"),f=d.get("width"),p=[s,l];(0,j.L)(p,!a);for(var g=(l=p[1])-(s=p[0]),m=s,v=[],y=0;h&&y<r.length;y++){var x=new c({shape:{startAngle:m,endAngle:l=s+g*Math.min(Math.max(r[y][0],0),1),cx:i.cx,cy:i.cy,clockwise:a,r0:i.r-f,r:i.r},silent:!0});x.setStyle({fill:r[y][1]}),x.setStyle(d.getLineStyle(["color","width"])),v.push(x),m=l}v.reverse(),(0,b.S6)(v,(function(t){return o.add(t)}));var _=function(t){if(t<=0)return r[0][1];var e;for(e=0;e<r.length;e++)if(r[e][0]>=t&&(0===e?0:r[e-1][0])<t)return r[e][1];return r[e-1][1]};this._renderTicks(t,e,n,_,i,s,l,a,f),this._renderTitleAndDetail(t,e,n,_,i),this._renderAnchor(t,i),this._renderPointer(t,e,n,_,i,s,l,a,f)},e.prototype._renderTicks=function(t,e,n,r,i,o,a,s,l){for(var u,c,h=this.group,d=i.cx,f=i.cy,p=i.r,g=+t.get("min"),m=+t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),x=t.getModel("axisLabel"),_=t.get("splitNumber"),w=y.get("splitNumber"),S=(0,xe.GM)(v.get("length"),p),M=(0,xe.GM)(y.get("length"),p),k=o,E=(a-o)/_,A=E/w,T=v.getModel("lineStyle").getLineStyle(),I=y.getModel("lineStyle").getLineStyle(),C=v.get("distance"),D=0;D<=_;D++){if(u=Math.cos(k),c=Math.sin(k),v.get("show")){var N=C?C+l:l,O=new ei.Z({shape:{x1:u*(p-N)+d,y1:c*(p-N)+f,x2:u*(p-S-N)+d,y2:c*(p-S-N)+f},style:T,silent:!0});"auto"===T.stroke&&O.setStyle({stroke:r(D/_)}),h.add(O)}if(x.get("show")){N=x.get("distance")+C;var L=gc((0,xe.NM)(D/_*(m-g)+g),x.get("formatter")),P=r(D/_),R=u*(p-S-N)+d,j=c*(p-S-N)+f,z=x.get("rotate"),B=0;"radial"===z?(B=-k+2*Math.PI)>Math.PI/2&&(B+=Math.PI):"tangential"===z?B=-k-Math.PI/2:(0,b.hj)(z)&&(B=z*Math.PI/180),0===B?h.add(new X.ZP({style:(0,qt.Lr)(x,{text:L,x:R,y:j,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:P}),silent:!0})):h.add(new X.ZP({style:(0,qt.Lr)(x,{text:L,x:R,y:j,verticalAlign:"middle",align:"center"},{inheritColor:P}),silent:!0,originX:R,originY:j,rotation:B}))}if(y.get("show")&&D!==_){N=(N=y.get("distance"))?N+l:l;for(var F=0;F<=w;F++){u=Math.cos(k),c=Math.sin(k);var G=new ei.Z({shape:{x1:u*(p-N)+d,y1:c*(p-N)+f,x2:u*(p-M-N)+d,y2:c*(p-M-N)+f},silent:!0,style:I});"auto"===I.stroke&&G.setStyle({stroke:r((D+F/w)/_)}),h.add(G),k+=A}k-=A}else k+=E}},e.prototype._renderPointer=function(t,e,n,r,i,o,a,s,u){var c=this.group,h=this._data,d=this._progressEls,f=[],p=t.get(["pointer","show"]),g=t.getModel("progress"),m=g.get("show"),v=t.getData(),y=v.mapDimension("value"),x=+t.get("min"),_=+t.get("max"),w=[x,_],S=[o,a];function M(e,n){var r,o=v.getItemModel(e).getModel("pointer"),a=(0,xe.GM)(o.get("width"),i.r),s=(0,xe.GM)(o.get("length"),i.r),l=t.get(["pointer","icon"]),u=o.get("offsetCenter"),c=(0,xe.GM)(u[0],i.r),h=(0,xe.GM)(u[1],i.r),d=o.get("keepAspect");return(r=l?(0,zt.th)(l,c-a/2,h-s,a,s,null,d):new pc({shape:{angle:-Math.PI/2,width:a,r:s,x:c,y:h}})).rotation=-(n+Math.PI/2),r.x=i.cx,r.y=i.cy,r}function k(t,e){var n=g.get("roundCap")?Qe:be.C,r=g.get("overlap"),a=r?g.get("width"):u/v.count(),l=r?i.r-a:i.r-(t+1)*a,c=r?i.r:i.r-t*a,h=new n({shape:{startAngle:o,endAngle:e,cx:i.cx,cy:i.cy,clockwise:s,r0:l,r:c}});return r&&(h.z2=_-v.get(y,t)%_),h}(m||p)&&(v.diff(h).add((function(e){var n=v.get(y,e);if(p){var r=M(e,o);Vt.KZ(r,{rotation:-((isNaN(+n)?S[0]:(0,xe.NU)(n,w,S,!0))+Math.PI/2)},t),c.add(r),v.setItemGraphicEl(e,r)}if(m){var i=k(e,o),a=g.get("clip");Vt.KZ(i,{shape:{endAngle:(0,xe.NU)(n,w,S,a)}},t),c.add(i),(0,Ut.Q)(t.seriesIndex,v.dataType,e,i),f[e]=i}})).update((function(e,n){var r=v.get(y,e);if(p){var i=h.getItemGraphicEl(n),a=i?i.rotation:o,s=M(e,a);s.rotation=a,Vt.D(s,{rotation:-((isNaN(+r)?S[0]:(0,xe.NU)(r,w,S,!0))+Math.PI/2)},t),c.add(s),v.setItemGraphicEl(e,s)}if(m){var l=d[n],u=k(e,l?l.shape.endAngle:o),b=g.get("clip");Vt.D(u,{shape:{endAngle:(0,xe.NU)(r,w,S,b)}},t),c.add(u),(0,Ut.Q)(t.seriesIndex,v.dataType,e,u),f[e]=u}})).execute(),v.each((function(t){var e=v.getItemModel(t),n=e.getModel("emphasis"),i=n.get("focus"),o=n.get("blurScope"),a=n.get("disabled");if(p){var s=v.getItemGraphicEl(t),u=v.getItemVisual(t,"style"),c=u.fill;if(s instanceof l.ZP){var h=s.style;s.useStyle((0,b.l7)({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else s.useStyle(u),"pointer"!==s.type&&s.setColor(c);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",r((0,xe.NU)(v.get(y,t),w,[0,1],!0))),s.z2EmphasisLift=0,(0,Ht.WO)(s,e),(0,Ht.k5)(s,i,o,a)}if(m){var d=f[t];d.useStyle(v.getItemVisual(t,"style")),d.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),d.z2EmphasisLift=0,(0,Ht.WO)(d,e),(0,Ht.k5)(d,i,o,a)}})),this._progressEls=f)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor");if(n.get("show")){var r=n.get("size"),i=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=(0,zt.th)(i,e.cx-r/2+(0,xe.GM)(o[0],e.r),e.cy-r/2+(0,xe.GM)(o[1],e.r),r,r,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,r,i){var o=this,a=t.getData(),s=a.mapDimension("value"),l=+t.get("min"),u=+t.get("max"),c=new Bt.Z,h=[],d=[],f=t.isAnimationEnabled(),p=t.get(["pointer","showAbove"]);a.diff(this._data).add((function(t){h[t]=new X.ZP({silent:!0}),d[t]=new X.ZP({silent:!0})})).update((function(t,e){h[t]=o._titleEls[e],d[t]=o._detailEls[e]})).execute(),a.each((function(e){var n=a.getItemModel(e),o=a.get(s,e),g=new Bt.Z,m=r((0,xe.NU)(o,[l,u],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),b=i.cx+(0,xe.GM)(y[0],i.r),x=i.cy+(0,xe.GM)(y[1],i.r);(T=h[e]).attr({z2:p?0:2,style:(0,qt.Lr)(v,{x:b,y:x,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:m})}),g.add(T)}var _=n.getModel("detail");if(_.get("show")){var w=_.get("offsetCenter"),S=i.cx+(0,xe.GM)(w[0],i.r),M=i.cy+(0,xe.GM)(w[1],i.r),k=(0,xe.GM)(_.get("width"),i.r),E=(0,xe.GM)(_.get("height"),i.r),A=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:m,T=d[e],I=_.get("formatter");T.attr({z2:p?0:2,style:(0,qt.Lr)(_,{x:S,y:M,text:gc(o,I),width:isNaN(k)?null:k,height:isNaN(E)?null:E,align:"center",verticalAlign:"middle"},{inheritColor:A})}),(0,qt.pe)(T,{normal:_},o,(function(t){return gc(t,I)})),f&&(0,qt.tD)(T,e,a,t,{getFormattedLabel:function(t,e,n,r,i,a){return gc(a?a.interpolatedValue:o,I)}}),g.add(T)}c.add(g)})),this.group.add(c),this._titleEls=h,this._detailEls=d},e.type="gauge",e}(ve.Z),vc=mc,yc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){return Hn(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(jt.Z),bc=yc;var xc=["itemStyle","opacity"],_c=function(t){function e(e,n){var r=t.call(this)||this,i=r,o=new Dn.Z,a=new X.ZP;return i.setTextContent(a),r.setTextGuideLine(o),r.updateData(e,n,!0),r}return(0,Pt.ZT)(e,t),e.prototype.updateData=function(t,e,n){var r=this,i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=o.getModel("emphasis"),l=o.get(xc);l=null==l?1:l,n||(0,Vt.Zi)(r),r.useStyle(t.getItemVisual(e,"style")),r.style.lineJoin="round",n?(r.setShape({points:a.points}),r.style.opacity=0,Vt.KZ(r,{style:{opacity:l}},i,e)):Vt.D(r,{style:{opacity:l},shape:{points:a.points}},i,e),(0,Ht.WO)(r,o),this._updateLabel(t,e),(0,Ht.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t,e){var n=this,r=this.getTextGuideLine(),i=n.getTextContent(),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"style"),u=l.fill;(0,qt.ni)(i,(0,qt.k3)(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:l.opacity,defaultText:t.getName(e)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var c=s.linePoints;r.setShape({points:c}),n.textGuideLineConfig={anchor:c?new Nn.Z(c[0][0],c[0][1]):null},Vt.D(i,{style:{x:s.x,y:s.y}},o,e),i.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),(0,On.Iu)(n,(0,On.$x)(a),{stroke:u})},e}(Pi.Z),wc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this._data,o=this.group;r.diff(i).add((function(t){var e=new _c(r,t);r.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var n=i.getItemGraphicEl(e);n.updateData(r,t),o.add(n),r.setItemGraphicEl(t,n)})).remove((function(e){var n=i.getItemGraphicEl(e);Vt.XD(n,t,e)})).execute(),this._data=r},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(ve.Z),Sc=wc,Mc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Yn(b.ak(this.getData,this),b.ak(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return Hn(this,{coordDimensions:["value"],encodeDefaulter:b.WA(Wn.Ss,this)})},e.prototype._defaultLabelLine=function(t){(0,se.Cc)(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),r=t.prototype.getDataParams.call(this,e),i=n.mapDimension("value"),o=n.getSum(i);return r.percent=o?+(n.get(i,e)/o*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(jt.Z),kc=Mc;function Ec(t,e){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),r=n.mapDimension("value"),i=t.get("sort"),o=function(t,e){return Mn.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get("orient"),s=o.width,l=o.height,u=function(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,(function(t){return t})),i=[],o="ascending"===e,a=0,s=t.count();a<s;a++)i[a]=a;return(0,b.mf)(e)?i.sort(e):"none"!==e&&i.sort((function(t,e){return o?r[t]-r[e]:r[e]-r[t]})),i}(n,i),c=o.x,h=o.y,d="horizontal"===a?[(0,xe.GM)(t.get("minSize"),l),(0,xe.GM)(t.get("maxSize"),l)]:[(0,xe.GM)(t.get("minSize"),s),(0,xe.GM)(t.get("maxSize"),s)],f=n.getDataExtent(r),p=t.get("min"),g=t.get("max");null==p&&(p=Math.min(f[0],0)),null==g&&(g=f[1]);var m=t.get("funnelAlign"),v=t.get("gap"),y=(("horizontal"===a?s:l)-v*(n.count()-1))/n.count(),x=function(t,e){if("horizontal"===a){var i=n.get(r,t)||0,o=(0,xe.NU)(i,[p,g],d,!0),u=void 0;switch(m){case"top":u=h;break;case"center":u=h+(l-o)/2;break;case"bottom":u=h+(l-o)}return[[e,u],[e,u+o]]}var f,v=n.get(r,t)||0,y=(0,xe.NU)(v,[p,g],d,!0);switch(m){case"left":f=c;break;case"center":f=c+(s-y)/2;break;case"right":f=c+s-y}return[[f,e],[f+y,e]]};"ascending"===i&&(y=-y,v=-v,"horizontal"===a?c+=s:h+=l,u=u.reverse());for(var _=0;_<u.length;_++){var w=u[_],S=u[_+1],M=n.getItemModel(w);if("horizontal"===a){var k=M.get(["itemStyle","width"]);null==k?k=y:(k=(0,xe.GM)(k,s),"ascending"===i&&(k=-k));var E=x(w,c),A=x(S,c+k);c+=k+v,n.setItemLayout(w,{points:E.concat(A.slice().reverse())})}else{var T=M.get(["itemStyle","height"]);null==T?T=y:(T=(0,xe.GM)(T,l),"ascending"===i&&(T=-T));E=x(w,h),A=x(S,h+T);h+=T+v,n.setItemLayout(w,{points:E.concat(A.slice().reverse())})}}!function(t){var e=t.hostModel.get("orient");t.each((function(n){var r,i,o,a,s=t.getItemModel(n),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),c=t.getItemLayout(n),h=c.points,d="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(d)"insideLeft"===l?(i=(h[0][0]+h[3][0])/2+5,o=(h[0][1]+h[3][1])/2,r="left"):"insideRight"===l?(i=(h[1][0]+h[2][0])/2-5,o=(h[1][1]+h[2][1])/2,r="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,r="center"),a=[[i,o],[i,o]];else{var f=void 0,p=void 0,g=void 0,m=void 0,v=u.get("length");"left"===l?(f=(h[3][0]+h[0][0])/2,p=(h[3][1]+h[0][1])/2,i=(g=f-v)-5,r="right"):"right"===l?(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,i=(g=f+v)+5,r="left"):"top"===l?(f=(h[3][0]+h[0][0])/2,o=(m=(p=(h[3][1]+h[0][1])/2)-v)-5,r="center"):"bottom"===l?(f=(h[1][0]+h[2][0])/2,o=(m=(p=(h[1][1]+h[2][1])/2)+v)+5,r="center"):"rightTop"===l?(f="horizontal"===e?h[3][0]:h[1][0],p="horizontal"===e?h[3][1]:h[1][1],"horizontal"===e?(o=(m=p-v)-5,r="center"):(i=(g=f+v)+5,r="top")):"rightBottom"===l?(f=h[2][0],p=h[2][1],"horizontal"===e?(o=(m=p+v)+5,r="center"):(i=(g=f+v)+5,r="bottom")):"leftTop"===l?(f=h[0][0],p="horizontal"===e?h[0][1]:h[1][1],"horizontal"===e?(o=(m=p-v)-5,r="center"):(i=(g=f-v)-5,r="right")):"leftBottom"===l?(f="horizontal"===e?h[1][0]:h[3][0],p="horizontal"===e?h[1][1]:h[2][1],"horizontal"===e?(o=(m=p+v)+5,r="center"):(i=(g=f-v)-5,r="right")):(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,"horizontal"===e?(o=(m=p+v)+5,r="center"):(i=(g=f+v)+5,r="left")),"horizontal"===e?i=g=f:o=m=p,a=[[f,p],[g,m]]}c.label={linePoints:a,x:i,y:o,verticalAlign:"middle",textAlign:r,inside:d}}))}(n)}))}var Ac=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new Bt.Z,n._initialized=!1,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,r){this._progressiveEls=null;var i=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,u=Cc(t);if(o.diff(a).add((function(t){var e=Ic(o,i,t,l,s);Dc(e,o,t,u)})).update((function(e,n){var r=a.getItemGraphicEl(n),i=Tc(o,e,l,s);o.setItemGraphicEl(e,r),Vt.D(r,{shape:{points:i}},t,e),(0,Vt.Zi)(r),Dc(r,o,e,u)})).remove((function(t){var e=a.getItemGraphicEl(t);i.remove(e)})).execute(),!this._initialized){this._initialized=!0;var c=function(t,e,n){var r=t.model,i=t.getRect(),o=new ye.Z({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a="horizontal"===r.get("layout")?"width":"height";return o.setShape(a,0),Vt.KZ(o,{shape:{width:i.width,height:i.height}},e,n),o}(s,t,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(c)}this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var r=e.getData(),i=e.coordinateSystem,o=i.dimensions,a=Cc(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var u=Ic(r,this._dataGroup,l,o,i);u.incremental=!0,Dc(u,r,l,a),s.push(u)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(ve.Z);function Tc(t,e,n,r){for(var i,o=[],a=0;a<n.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);i=l,("category"===r.getAxis(s).type?null==i:null==i||isNaN(i))||o.push(r.dataToPoint(l,s))}return o}function Ic(t,e,n,r,i){var o=Tc(t,n,r,i),a=new Dn.Z({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function Cc(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),e=(0,xe.FK)(e),(0,b.Bu)(e)&&(e=0),{smooth:e}}function Dc(t,e,n,r){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var i=e.getItemModel(n),o=i.getModel("emphasis");(0,Ht.WO)(t,i,"lineStyle"),(0,Ht.k5)(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var Nc=Ac,Oc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,Rt.Z)(null,this,{useEncodeDefaulter:(0,b.ak)(Lc,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),r=[];return e.eachActiveState(n,(function(e,i){t===e&&r.push(n.getRawIndex(i))})),r},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(jt.Z);function Lc(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return(0,b.S6)(e.dimensions,(function(t){var e=+t.replace("dim","");n[t]=e})),n}}var Pc=Oc,Rc=["lineStyle","opacity"],jc={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var i=r[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(n).get(Rc,!0);null!=o&&(i=o)}e.ensureUniqueItemVisual(n,"style").opacity=i}),t.start,t.end)}}}};function zc(t){!function(t){if(t.parallel)return;var e=!1;b.S6(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){var e=se.kF(t.parallelAxis);b.S6(e,(function(e){if(b.Kn(e)){var n=e.parallelIndex||0,r=se.kF(t.parallel)[n];r&&r.parallelAxisDefault&&b.TS(e,r.parallelAxisDefault,!1)}}))}(t)}var Bc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},(0,b.S6)(Fc,(function(t,e){n.getZr().on(e,this._handlers[e]=(0,b.ak)(t,this))}),this)),(0,Ke.T9)(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){(0,Ke.ZH)(this,"_throttledDispatchExpand"),(0,b.S6)(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction((0,b.l7)({type:"parallelAxisExpand"},t))},e.type="parallel",e}(ar.Z),Fc={mousedown:function(t){Gc(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Gc(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&Gc(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function Gc(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var Vc=Bc,Zc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&b.TS(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){b.S6(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=b.hX(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);b.S6(n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(sr.Z),Uc=Zc,Hc=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r)||this;return a.type=i||"value",a.axisIndex=o,a}return(0,Pt.ZT)(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(Fr);function Wc(t,e,n,r,i,o){t=t||0;var a=n[1]-n[0];if(null!=i&&(i=Xc(i,[0,a])),null!=o&&(o=Math.max(o,null!=i?i:0)),"all"===r){var s=Math.abs(e[1]-e[0]);s=Xc(s,[0,a]),i=o=Xc(s,[i,o]),r=0}e[0]=Xc(e[0],n),e[1]=Xc(e[1],n);var l=Yc(e,r);e[r]+=t;var u,c=i||0,h=n.slice();return l.sign<0?h[0]+=c:h[1]-=c,e[r]=Xc(e[r],h),u=Yc(e,r),null!=i&&(u.sign!==l.sign||u.span<i)&&(e[1-r]=e[r]+l.sign*i),u=Yc(e,r),null!=o&&u.span>o&&(e[1-r]=e[r]+u.sign*o),e}function Yc(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function Xc(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var qc=b.S6,Kc=Math.min,$c=Math.max,Jc=Math.floor,Qc=Math.ceil,th=xe.NM,eh=Math.PI,nh=function(){function t(t,e,n){this.type="parallel",this._axesMap=b.kW(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var r=t.dimensions,i=t.parallelAxisIndex;qc(r,(function(t,n){var r=i[n],o=e.getComponent("parallelAxis",r),a=this._axesMap.set(t,new Hc(t,xr.aG(o),[0,0],o.get("type"),r)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,i=e.pixelDimIndex,o=t[1-i],a=t[i];return o>=n&&o<=n+e.axisLength&&a>=r&&a<=r+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var r=n.getData();qc(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(r,r.mapDimension(t)),xr.Jk(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Mn.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,r=["x","y"],i=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[i[a]],l=[0,s],u=this.dimensions.length,c=rh(e.get("axisExpandWidth"),l),h=rh(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>h&&h>1&&c>0&&s>0,f=e.get("axisExpandWindow");f?(t=rh(f[1]-f[0],l),f[1]=f[0]+t):(t=rh(c*(h-1),l),(f=[c*(e.get("axisExpandCenter")||Jc(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-h);p<3&&(p=0);var g=[Jc(th(f[0]/c,1))+1,Qc(th(f[1]/c,1))-1],m=p/c*f[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;e.each((function(t){var e=[0,r.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),qc(n,(function(e,n){var o=(r.axisExpandable?oh:ih)(n,r),a={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},s={horizontal:eh/2,vertical:0},l=[a[i].x+t.x,a[i].y+t.y],u=s[i],c=wr.Ue();wr.U1(c,c,u),wr.Iu(c,c,l),this._axesLayout[e]={position:l,rotation:u,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var i=this._axesMap,o=this.dimensions,a=[],s=[];b.S6(o,(function(e){a.push(t.mapDimension(e)),s.push(i.get(e).model)}));for(var l=this.hasAxisBrushed(),u=n;u<r;u++){var c=void 0;if(l){c="active";for(var h=t.getValues(a,u),d=0,f=o.length;d<f;d++){if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}}else c="normal";e(c,u)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,i=t.length;r<i;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Zt.applyTransform([t,0],n.transform)},t.prototype.getAxisLayout=function(t){return b.d9(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),i=r[1]-r[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];if(u)h&&u&&s<i*c[0]?(l="jump",a=s-i*c[2]):h&&u&&s>i*(1-c[0])?(l="jump",a=s-i*(1-c[2])):(a=s-i*c[1])>=0&&(a=s-i*(1-c[1]))<=0&&(a=0),(a*=e.axisExpandWidth/u)?Wc(a,r,o,"all"):l="none";else{var d=r[1]-r[0];(r=[$c(0,o[1]*s/d-d/2)])[1]=Kc(o[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:l}},t}();function rh(t,e){return Kc($c(t,e[0]),e[1])}function ih(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function oh(t,e){var n,r,i=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,c=!1;return t<l[0]?(n=t*s,r=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],u=o,c=!0):(n=i-(a-1-t)*s,r=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:r}}var ah=nh;var sh={create:function(t,e){var n=[];return t.eachComponent("parallel",(function(r,i){var o=new ah(r,t,e);o.name="parallel_"+i,o.resize(r,e),r.coordinateSystem=o,o.model=r,n.push(o)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",se.C6).models[0];t.coordinateSystem=e.coordinateSystem}})),n}},lh=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return(0,Pt.ZT)(e,t),e.prototype.getAreaSelectStyle=function(){return(0,ol.Z)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=b.d9(t);if(e)for(var n=e.length-1;n>=0;n--)xe.dt(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var r=0,i=e.length;r<i;r++)if(e[r][0]<=t&&t<=e[r][1])return"active";return"inactive"},e}(sr.Z);b.jB(lh,cr.W);var uh=lh,ch=!0,hh=Math.min,dh=Math.max,fh=Math.pow,ph=1e4,gh=6,mh=6,vh="globalPan",yh={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},bh={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},xh={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},_h=0,wh=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Bt.Z,n._uid="brushController_"+_h++,(0,b.S6)(qh,(function(t,e){this._handlers[e]=(0,b.ak)(t,this)}),n),n}return(0,Pt.ZT)(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){oo(t)[e]=n}(e,vh,this._uid),(0,b.S6)(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=(0,b.TS)((0,b.d9)(xh),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var r=oo(t);r[e]===n&&(r[e]=null)}(t,vh,this._uid),(0,b.S6)(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};(0,b.S6)(t,(function(t){e[t.panelId]=(0,b.d9)(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=(0,b.UI)(t,(function(t){return(0,b.TS)((0,b.d9)(xh),t,!0)}));var e="\0-brush-index-",n=this._covers,r=this._covers=[],i=this,o=this._creatingCover;return new Qs.Z(n,t,(function(t,e){return a(t.__brushOption,e)}),a).add(s).update(s).remove((function(t){n[t]!==o&&i.group.remove(n[t])})).execute(),this;function a(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(e,a){var s=t[e];if(null!=a&&n[a]===o)r[e]=n[a];else{var l=r[e]=null!=a?(n[a].__brushOption=s,n[a]):Mh(i,Sh(i,s));Ah(i,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),Dh(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(to.Z);function Sh(t,e){var n=$h[e.brushType].createCover(t,e);return n.__brushOption=e,Eh(n,e),t.group.add(n),n}function Mh(t,e){var n=Th(e);return n.endCreating&&(n.endCreating(t,e),Eh(e,e.__brushOption)),e}function kh(t,e){var n=e.__brushOption;Th(e).updateCoverShape(t,e,n.range,n)}function Eh(t,e){var n=e.z;null==n&&(n=ph),t.traverse((function(t){t.z=n,t.z2=n}))}function Ah(t,e){Th(e).updateCommon(t,e),kh(t,e)}function Th(t){return $h[t.__brushOption.brushType]}function Ih(t,e,n){var r,i=t._panels;if(!i)return ch;var o=t._transform;return(0,b.S6)(i,(function(t){t.isTargetByCursor(e,n,o)&&(r=t)})),r}function Ch(t,e){var n=t._panels;if(!n)return ch;var r=e.__brushOption.panelId;return null!=r?n[r]:ch}function Dh(t){var e=t._covers,n=e.length;return(0,b.S6)(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function Nh(t,e){var n=(0,b.UI)(t._covers,(function(t){var e=t.__brushOption,n=(0,b.d9)(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Oh(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Lh(t,e,n,r){var i=new Bt.Z;return i.add(new ye.Z({name:"main",style:zh(n),silent:!0,draggable:!0,cursor:"move",drift:(0,b.WA)(Gh,t,e,i,["n","s","w","e"]),ondragend:(0,b.WA)(Nh,e,{isEnd:!0})})),(0,b.S6)(r,(function(n){i.add(new ye.Z({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,b.WA)(Gh,t,e,i,n),ondragend:(0,b.WA)(Nh,e,{isEnd:!0})}))})),i}function Ph(t,e,n,r){var i=r.brushStyle.lineWidth||0,o=dh(i,mh),a=n[0][0],s=n[1][0],l=a-i/2,u=s-i/2,c=n[0][1],h=n[1][1],d=c-o+i/2,f=h-o+i/2,p=c-a,g=h-s,m=p+i,v=g+i;jh(t,e,"main",a,s,p,g),r.transformable&&(jh(t,e,"w",l,u,o,v),jh(t,e,"e",d,u,o,v),jh(t,e,"n",l,u,m,o),jh(t,e,"s",l,f,m,o),jh(t,e,"nw",l,u,o,o),jh(t,e,"ne",d,u,o,o),jh(t,e,"sw",l,f,o,o),jh(t,e,"se",d,f,o,o))}function Rh(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(zh(n)),i.attr({silent:!r,cursor:r?"move":"default"}),(0,b.S6)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var i=e.childOfName(n.join("")),o=1===n.length?Fh(t,n[0]):function(t,e){var n=[Fh(t,e[0]),Fh(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?bh[o]+"-resize":null})}))}function jh(t,e,n,r,i,o,a){var s=e.childOfName(n);s&&s.setShape(function(t){var e=hh(t[0][0],t[1][0]),n=hh(t[0][1],t[1][1]),r=dh(t[0][0],t[1][0]),i=dh(t[0][1],t[1][1]);return{x:e,y:n,width:r-e,height:i-n}}(Uh(t,e,[[r,i],[r+o,i+a]])))}function zh(t){return(0,b.ce)({strokeNoScale:!0},t.brushStyle)}function Bh(t,e,n,r){var i=[hh(t,n),hh(e,r)],o=[dh(t,n),dh(e,r)];return[[i[0],o[0]],[i[1],o[1]]]}function Fh(t,e){var n=Zt.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return Zt.getTransform(t.group)}(t));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function Gh(t,e,n,r,i,o){var a=n.__brushOption,s=t.toRectRange(a.range),l=Zh(e,i,o);(0,b.S6)(r,(function(t){var e=yh[t];s[e[0]][e[1]]+=l[e[0]]})),a.range=t.fromRectRange(Bh(s[0][0],s[1][0],s[0][1],s[1][1])),Ah(e,n),Nh(e,{isEnd:!1})}function Vh(t,e,n,r){var i=e.__brushOption.range,o=Zh(t,n,r);(0,b.S6)(i,(function(t){t[0]+=o[0],t[1]+=o[1]})),Ah(t,e),Nh(t,{isEnd:!1})}function Zh(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function Uh(t,e,n){var r=Ch(t,e);return r&&r!==ch?r.clipPath(n,t._transform):(0,b.d9)(n)}function Hh(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Wh(t,e,n){return t.childOfName("main").contain(e,n)}function Yh(t,e,n,r){var i,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],o=n[1]-r[1];return fh(i*i+o*o,.5)>gh}(t)||o){if(a&&!o){"single"===s.brushMode&&Dh(t);var l=(0,b.d9)(s);l.brushType=Xh(l.brushType,a),l.panelId=a===ch?null:a.panelId,o=t._creatingCover=Sh(t,l),t._covers.push(o)}if(o){var u=$h[Xh(t._brushType,a)];o.__brushOption.range=u.getCreatingRange(Uh(t,o,t._track)),r&&(Mh(t,o),u.updateCommon(t,o)),kh(t,o),i={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&Ih(t,e,n)&&Dh(t)&&(i={isEnd:r,removeOnClick:!0});return i}function Xh(t,e){return"auto"===t?e.defaultBrushType:t}var qh={mousedown:function(t){if(this._dragging)Kh(this,t);else if(!t.target||!t.target.draggable){Hh(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Ih(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var r=t._zr;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}(t,e.offsetX,e.offsetY)){var r=t._zr,i=t._covers,o=Ih(t,e,n);if(!t._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(o===ch||s.panelId===o.panelId)&&$h[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle("crosshair")}}(this,t,r),this._dragging){Hh(t);var i=Yh(this,t,r,!1);i&&Nh(this,i)}},mouseup:function(t){Kh(this,t)}};function Kh(t,e){if(t._dragging){Hh(e);var n=e.offsetX,r=e.offsetY,i=t.group.transformCoordToLocal(n,r),o=Yh(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&Nh(t,o)}}var $h={lineX:Jh(0),lineY:Jh(1),rect:{createCover:function(t,e){function n(t){return t}return Lh({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=Oh(t);return Bh(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){Ph(t,e,n,r)},updateCommon:Rh,contain:Wh},polygon:{createCover:function(t,e){var n=new Bt.Z;return n.add(new Dn.Z({name:"main",style:zh(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Pi.Z({name:"main",draggable:!0,drift:(0,b.WA)(Vh,t,e),ondragend:(0,b.WA)(Nh,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:Uh(t,e,n)})},updateCommon:Rh,contain:Wh}};function Jh(t){return{createCover:function(e,n){return Lh({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=Oh(e);return[hh(n[0][t],n[1][t]),dh(n[0][t],n[1][t])]},updateCoverShape:function(e,n,r,i){var o,a=Ch(e,n);if(a!==ch&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[r,o];t&&l.reverse(),Ph(e,n,l,i)},updateCommon:Rh,contain:Wh}}var Qh=wh;function td(t){return t=rd(t),function(e){return Zt.clipPointsByRect(e,t)}}function ed(t,e){return t=rd(t),function(n){var r=null!=e?e:n,i=r?t.width:t.height,o=r?t.x:t.y;return[o,o+(i||0)]}}function nd(t,e,n){var r=rd(t);return function(t,i){return r.contain(i[0],i[1])&&!po(t,e,n)}}function rd(t){return Qn.Z.create(t)}var id=["axisLine","axisTickLabel","axisName"],od=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new Qh(n.getZr())).on("brush",b.ak(this._onBrush,this))},e.prototype.render=function(t,e,n,r){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,r)){this.axisModel=t,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Bt.Z,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,c=a.getAxisLayout(u),h=b.l7({strokeContainThreshold:l},c),d=new ci(t,h);b.S6(id,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,s,t,o,l,n),Zt.groupTransition(i,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,r,i,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=Qn.Z.create({x:a[0],y:-i/2,width:s,height:i});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:td(u),isTargetByCursor:nd(u,o,r),getLinearBrushOtherExtent:ed(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return b.UI(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,r=n.axis,i=b.UI(e,(function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(ar.Z);var ad=od,sd={type:"axisAreaSelect",event:"axisAreaSelected"};var ld={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function ud(t){t.registerComponentView(Vc),t.registerComponentModel(Uc),t.registerCoordinateSystem("parallel",sh),t.registerPreprocessor(zc),t.registerComponentModel(uh),t.registerComponentView(ad),yr(t,"parallel",uh,ld),function(t){t.registerAction(sd,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}(t)}var cd=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},hd=function(t){function e(e){return t.call(this,e)||this}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new cd},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){(0,Ht.fD)(this)},e.prototype.downplay=function(){(0,Ht.Mh)(this)},e}(s.ZP),dd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getGraph(),o=this.group,a=t.layoutInfo,s=a.width,l=a.height,u=t.getData(),c=t.getData("edge"),h=t.get("orient");this._model=t,o.removeAll(),o.x=a.x,o.y=a.y,i.eachEdge((function(e){var n=new hd,r=(0,Ut.A)(n);r.dataIndex=e.dataIndex,r.seriesIndex=t.seriesIndex,r.dataType="edge";var i,a,u,d,f,p,g,m,v=e.getModel(),y=v.getModel("lineStyle"),x=y.get("curveness"),_=e.node1.getLayout(),w=e.node1.getModel(),S=w.get("localX"),M=w.get("localY"),k=e.node2.getLayout(),E=e.node2.getModel(),A=E.get("localX"),T=E.get("localY"),I=e.getLayout();n.shape.extent=Math.max(1,I.dy),n.shape.orient=h,"vertical"===h?(i=(null!=S?S*s:_.x)+I.sy,a=(null!=M?M*l:_.y)+_.dy,u=(null!=A?A*s:k.x)+I.ty,f=i,p=a*(1-x)+(d=null!=T?T*l:k.y)*x,g=u,m=a*x+d*(1-x)):(i=(null!=S?S*s:_.x)+_.dx,a=(null!=M?M*l:_.y)+I.sy,f=i*(1-x)+(u=null!=A?A*s:k.x)*x,p=a,g=i*x+u*(1-x),m=d=(null!=T?T*l:k.y)+I.ty),n.setShape({x1:i,y1:a,x2:u,y2:d,cpx1:f,cpy1:p,cpx2:g,cpy2:m}),n.useStyle(y.getItemStyle()),fd(n.style,h,e);var C=""+v.get("value"),D=(0,qt.k3)(v,"edgeLabel");(0,qt.ni)(n,D,{labelFetcher:{getFormattedLabel:function(e,n,r,i,o,a){return t.getFormattedLabel(e,n,"edge",i,(0,b.R1)(o,D.normal&&D.normal.get("formatter"),C),a)}},labelDataIndex:e.dataIndex,defaultText:C}),n.setTextConfig({position:"inside"});var N=v.getModel("emphasis");(0,Ht.WO)(n,v,"lineStyle",(function(t){var n=t.getItemStyle();return fd(n,h,e),n})),o.add(n),c.setItemGraphicEl(e.dataIndex,n);var O=N.get("focus");(0,Ht.k5)(n,"adjacency"===O?e.getAdjacentDataIndices():"trajectory"===O?e.getTrajectoryDataIndices():O,N.get("blurScope"),N.get("disabled"))})),i.eachNode((function(e){var n=e.getLayout(),r=e.getModel(),i=r.get("localX"),a=r.get("localY"),c=r.getModel("emphasis"),h=new ye.Z({shape:{x:null!=i?i*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle(),z2:10});(0,qt.ni)(h,(0,qt.k3)(r),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(e,n,"node")}},labelDataIndex:e.dataIndex,defaultText:e.id}),h.disableLabelAnimation=!0,h.setStyle("fill",e.getVisual("color")),h.setStyle("decal",e.getVisual("style").decal),(0,Ht.WO)(h,r),o.add(h),u.setItemGraphicEl(e.dataIndex,h),(0,Ut.A)(h).dataType="node";var d=c.get("focus");(0,Ht.k5)(h,"adjacency"===d?e.getAdjacentDataIndices():"trajectory"===d?e.getTrajectoryDataIndices():d,c.get("blurScope"),c.get("disabled"))})),u.eachItemGraphicEl((function(e,i){u.getItemModel(i).get("draggable")&&(e.drift=function(e,o){r._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){r._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&o.setClipPath(function(t,e,n){var r=new ye.Z({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Vt.KZ(r,{shape:{width:t.width+20}},e,n),r}(o.getBoundingRect(),t,(function(){o.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(ve.Z);function fd(t,e,n){switch(t.fill){case"source":t.fill=n.node1.getVisual("color"),t.decal=n.node1.getVisual("style").decal;break;case"target":t.fill=n.node2.getVisual("color"),t.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),i=n.node2.getVisual("color");(0,b.HD)(r)&&(0,b.HD)(i)&&(t.fill=new ae.Z(0,0,+("horizontal"===e),+("vertical"===e),[{color:r,offset:0},{color:i,offset:1}]))}}var pd=dd,gd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,r=t.data||t.nodes,i=t.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<i.length;a++)null!=i[a].depth&&i[a].depth>=0&&(o[i[a].depth]=new ni.Z(i[a],this,e));if(r&&n){var s=sc(r,n,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,r=n.getData().getItemLayout(e);if(r){var i=r.depth,o=n.levelModels[i];o&&(t.parentModel=o)}return t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,r=n.getGraph().getEdgeByIndex(e).node1.getLayout();if(r){var i=r.depth,o=n.levelModels[i];o&&(t.parentModel=o)}return t}))}));return s.data}},e.prototype.setNodePosition=function(t,e){var n=(this.option.data||this.option.nodes)[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function r(t){return isNaN(t)||null==t}if("edge"===n){var i=this.getDataParams(t,n),o=i.data,a=i.value,s=o.source+" -- "+o.target;return(0,zi.TX)("nameValue",{name:s,value:a,noValue:r(a)})}var l=this.getGraph().getNodeByIndex(t).getLayout().value,u=this.getDataParams(t,n).data.name;return(0,zi.TX)("nameValue",{name:null!=u?u+"":null,value:l,noValue:r(l)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var r=t.prototype.getDataParams.call(this,e,n);if(null==r.value&&"node"===n){var i=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=i}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(jt.Z),md=gd;function vd(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),i=function(t,e){return Mn.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var o=i.width,a=i.height,s=t.getGraph(),l=s.nodes,u=s.edges;!function(t){b.S6(t,(function(t){var e=Ad(t.outEdges,Ed),n=Ad(t.inEdges,Ed),r=t.getValue()||0,i=Math.max(e,n,r);t.setLayout({value:i},!0)}))}(l),function(t,e,n,r,i,o,a,s,l){(function(t,e,n,r,i,o,a){for(var s=[],l=[],u=[],c=[],h=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&u.push(t[d]);var f=-1;for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>f&&(f=m.depth),g.setLayout({depth:v?m.depth:h},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var x=g.outEdges[y];s[e.indexOf(x)]=0;var _=x.node2;0==--l[t.indexOf(_)]&&c.indexOf(_)<0&&c.push(_)}}++h,u=c,c=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var w=f>h-1?f:h-1;a&&"left"!==a&&function(t,e,n,r){if("right"===e){for(var i=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}o=i,i=[],++a}b.S6(t,(function(t){yd(t)||t.setLayout({depth:Math.max(0,r-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&function(t,e){b.S6(t,(function(t){yd(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}(t,r)}(t,a,0,w);var S="vertical"===o?(i-n)/w:(r-n)/w;!function(t,e,n){b.S6(t,(function(t){var r=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:r},!0):t.setLayout({x:r},!0)}))}(t,S,o)})(t,e,n,i,o,s,l),function(t,e,n,r,i,o,a){var s=function(t,e){var n=[],r="vertical"===e?"y":"x",i=(0,se.pv)(t,(function(t){return t.getLayout()[r]}));return i.keys.sort((function(t,e){return t-e})),b.S6(i.keys,(function(t){n.push(i.buckets.get(t))})),n}(t,a);(function(t,e,n,r,i,o){var a=1/0;b.S6(t,(function(t){var e=t.length,s=0;b.S6(t,(function(t){s+=t.getLayout().value}));var l="vertical"===o?(r-(e-1)*i)/s:(n-(e-1)*i)/s;l<a&&(a=l)})),b.S6(t,(function(t){b.S6(t,(function(t,e){var n=t.getLayout().value*a;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),b.S6(e,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))})(s,e,n,r,i,a),bd(s,i,n,r,a);for(var l=1;o>0;o--)xd(s,l*=.99,a),bd(s,i,n,r,a),Td(s,l,a),bd(s,i,n,r,a)}(t,e,o,i,r,a,s),function(t,e){var n="vertical"===e?"x":"y";b.S6(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),b.S6(t,(function(t){var e=0,n=0;b.S6(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),b.S6(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}(t,s)}(l,u,n,r,o,a,0!==b.hX(l,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))}))}function yd(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function bd(t,e,n,r,i){var o="vertical"===i?"x":"y";b.S6(t,(function(t){var a,s,l;t.sort((function(t,e){return t.getLayout()[o]-e.getLayout()[o]}));for(var u=0,c=t.length,h="vertical"===i?"dx":"dy",d=0;d<c;d++)(l=u-(s=t[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[h]+e;if((l=u-e-("vertical"===i?r:n))>0){a=s.getLayout()[o]-l,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a;for(d=c-2;d>=0;--d)(l=(s=t[d]).getLayout()[o]+s.getLayout()[h]+e-u)>0&&(a=s.getLayout()[o]-l,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}}))}function xd(t,e,n){b.S6(t.slice().reverse(),(function(t){b.S6(t,(function(t){if(t.outEdges.length){var r=Ad(t.outEdges,_d,n)/Ad(t.outEdges,Ed);if(isNaN(r)){var i=t.outEdges.length;r=i?Ad(t.outEdges,wd,n)/i:0}if("vertical"===n){var o=t.getLayout().x+(r-kd(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(r-kd(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function _d(t,e){return kd(t.node2,e)*t.getValue()}function wd(t,e){return kd(t.node2,e)}function Sd(t,e){return kd(t.node1,e)*t.getValue()}function Md(t,e){return kd(t.node1,e)}function kd(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Ed(t){return t.getValue()}function Ad(t,e,n){for(var r=0,i=t.length,o=-1;++o<i;){var a=+e(t[o],n);isNaN(a)||(r+=a)}return r}function Td(t,e,n){b.S6(t,(function(t){b.S6(t,(function(t){if(t.inEdges.length){var r=Ad(t.inEdges,Sd,n)/Ad(t.inEdges,Ed);if(isNaN(r)){var i=t.inEdges.length;r=i?Ad(t.inEdges,Md,n)/i:0}if("vertical"===n){var o=t.getLayout().x+(r-kd(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(r-kd(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function Id(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph(),n=e.nodes,r=e.edges;if(n.length){var i=1/0,o=-1/0;b.S6(n,(function(t){var e=t.getLayout().value;e<i&&(i=e),e>o&&(o=e)})),b.S6(n,(function(e){var n=new Ol({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),r=e.getModel().get(["itemStyle","color"]);null!=r?(e.setVisual("color",r),e.setVisual("style",{fill:r})):(e.setVisual("color",n),e.setVisual("style",{fill:n}))}))}r.length&&b.S6(r,(function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)}))}))}var Cd=n("./node_modules/echarts/lib/data/helper/dimensionHelper.js"),Dd=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,r,i=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,c=this._baseAxisDim=l[u],h=l[1-u],d=[i,o],f=d[u].get("type"),p=d[1-u].get("type"),g=t.data;if(g&&r){var m=[];b.S6(g,(function(t,e){var n;b.kJ(t)?(n=t.slice(),t.unshift(e)):b.kJ(t.value)?((n=b.l7({},t)).value=n.value.slice(),t.value.unshift(e)):n=t,m.push(n)})),t.data=m}var v=this.defaultValueDimensions,y=[{name:c,type:(0,Cd.T)(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:(0,Cd.T)(p),dimsDef:v.slice()}];return Hn(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:b.WA(Wn.pY,y,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),Nd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return(0,Pt.ZT)(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(jt.Z);(0,b.jB)(Nd,Dd,!0);var Od=Nd,Ld=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this.group,o=this._data;this._data||i.removeAll();var a="horizontal"===t.get("layout")?1:0;r.diff(o).add((function(t){if(r.hasValue(t)){var e=jd(r.getItemLayout(t),r,t,a,!0);r.setItemGraphicEl(t,e),i.add(e)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var s=r.getItemLayout(t);n?((0,Vt.Zi)(n),zd(s,n,r,t)):n=jd(s,r,t,a),i.add(n),r.setItemGraphicEl(t,n)}else i.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=r},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(ve.Z),Pd=function(){},Rd=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Pd},e.prototype.buildPath=function(t,e){var n=e.points,r=0;for(t.moveTo(n[r][0],n[r][1]),r++;r<4;r++)t.lineTo(n[r][0],n[r][1]);for(t.closePath();r<n.length;r++)t.moveTo(n[r][0],n[r][1]),r++,t.lineTo(n[r][0],n[r][1])},e}(s.ZP);function jd(t,e,n,r,i){var o=t.ends,a=new Rd({shape:{points:i?Bd(o,r,t):o}});return zd(t,a,e,n,i),a}function zd(t,e,n,r,i){var o=n.hostModel;(0,Zt[i?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,r),e.useStyle(n.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=n.getItemModel(r),s=a.getModel("emphasis");(0,Ht.WO)(e,a),(0,Ht.k5)(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Bd(t,e,n){return b.UI(t,(function(t){return(t=t.slice())[e]=n.initBaseline,t}))}var Fd=Ld,Gd=b.S6;function Vd(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var r=t.getBaseAxis(),i=b.cq(n,r);i<0&&(i=n.length,n[i]=r,e[i]={axis:r,seriesModels:[]}),e[i].seriesModels.push(t)})),e}(t);Gd(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n=t.axis,r=t.seriesModels,i=r.length,o=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if("category"===n.type)e=n.getBandWidth();else{var l=0;Gd(r,(function(t){l=Math.max(l,t.getData().count())}));var u=n.getExtent();e=Math.abs(u[1]-u[0])/l}Gd(r,(function(t){var n=t.get("boxWidth");b.kJ(n)||(n=[n,n]),s.push([(0,xe.GM)(n[0],e)||0,(0,xe.GM)(n[1],e)||0])}));var c=.8*e-2,h=c/i*.3,d=(c-h*(i-1))/i,f=d/2-c/2;Gd(r,(function(t,e){a.push(f),f+=h+d,o.push(Math.min(Math.max(d,s[e][0]),s[e][1]))}))}(t),Gd(e,(function(e,n){!function(t,e,n){var r=t.coordinateSystem,i=t.getData(),o=n/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],u=i.mapDimension(l[a]),c=i.mapDimensionsAll(l[s]);if(null==u||c.length<5)return;for(var h=0;h<i.count();h++){var d=i.get(u,h),f=b(d,c[2],h),p=b(d,c[0],h),g=b(d,c[1],h),m=b(d,c[3],h),v=b(d,c[4],h),y=[];x(y,g,!1),x(y,m,!0),y.push(p,g,v,m),_(y,p),_(y,v),_(y,f),i.setItemLayout(h,{initBaseline:f[s],ends:y})}function b(t,n,o){var l,u=i.get(n,o),c=[];return c[a]=t,c[s]=u,isNaN(t)||isNaN(u)?l=[NaN,NaN]:(l=r.dataToPoint(c))[a]+=e,l}function x(t,e,n){var r=e.slice(),i=e.slice();r[a]+=o,i[a]-=o,n?t.push(r,i):t.push(i,r)}function _(t,e){var n=e.slice(),r=e.slice();n[a]-=o,r[a]+=o,t.push(n,r)}}(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}var Zd=n("./node_modules/echarts/lib/util/log.js"),Ud=n("./node_modules/echarts/lib/util/types.js"),Hd={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Ud.XD){0,(0,Zd._y)("")}var n=function(t,e){for(var n=[],r=[],i=(e=e||{}).boundIQR,o="none"===i||0===i,a=0;a<t.length;a++){var s=(0,xe.dt)(t[a].slice()),l=(0,xe.VR)(s,.25),u=(0,xe.VR)(s,.5),c=(0,xe.VR)(s,.75),h=s[0],d=s[s.length-1],f=(null==i?1.5:i)*(c-l),p=o?h:Math.max(h,l-f),g=o?d:Math.min(d,c+f),m=e.itemNameFormatter,v=(0,b.mf)(m)?m({value:a}):(0,b.HD)(m)?m.replace("{value}",a+""):a+"";n.push([v,p,l,u,c,g]);for(var y=0;y<s.length;y++){var x=s[y];if(x<p||x>g){var _=[v,x];r.push(_)}}}return{boxData:n,outliers:r}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};var Wd=["color","borderColor"],Yd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Zt.traverseElements(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,r=this.group,i=e.getLayout("isSimpleBox"),o=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||r.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(o&&$d(s,a))return;var l=Kd(a,n,!0);Vt.KZ(l,{shape:{points:a.ends}},t,n),Jd(l,e,n,i),r.add(l),e.setItemGraphicEl(n,l)}})).update((function(a,l){var u=n.getItemGraphicEl(l);if(e.hasValue(a)){var c=e.getItemLayout(a);o&&$d(s,c)?r.remove(u):(u?(Vt.D(u,{shape:{points:c.ends}},t,a),(0,Vt.Zi)(u)):u=Kd(c,a),Jd(u,e,a,i),r.add(u),e.setItemGraphicEl(a,u))}else r.remove(u)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),nf(t,this.group);var e=t.get("clip",!0)?Se(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var n,r=e.getData(),i=r.getLayout("isSimpleBox");null!=(n=t.next());){var o=Kd(r.getItemLayout(n),n);Jd(o,r,n,i),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){nf(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(ve.Z),Xd=function(){},qd=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Xd},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(s.ZP);function Kd(t,e,n){var r=t.ends;return new qd({shape:{points:n?Qd(r,t):r},z2:100})}function $d(t,e){for(var n=!0,r=0;r<e.ends.length;r++)if(t.contain(e.ends[r][0],e.ends[r][1])){n=!1;break}return n}function Jd(t,e,n,r){var i=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=r,(0,Ht.WO)(t,i)}function Qd(t,e){return b.UI(t,(function(t){return(t=t.slice())[1]=e.initBaseline,t}))}var tf=function(){},ef=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return(0,Pt.ZT)(e,t),e.prototype.getDefaultShape=function(){return new tf},e.prototype.buildPath=function(t,e){for(var n=e.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];t.moveTo(i,n[r++]),t.lineTo(i,n[r++])}else r+=3},e}(s.ZP);function nf(t,e,n,r){var i=t.getData(),o=i.getLayout("largePoints"),a=new ef({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new ef({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new ef({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(l),rf(1,a,t,i),rf(-1,s,t,i),rf(0,l,t,i),r&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function rf(t,e,n,r){var i=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]);0===t&&(i=n.get(["itemStyle","borderColorDoji"]));var o=n.getModel("itemStyle").getItemStyle(Wd);e.useStyle(o),e.style.fill=null,e.style.stroke=i}var of=Yd,af=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return(0,Pt.ZT)(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var r=e.getItemLayout(t);return r&&n.rect(r.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(jt.Z);(0,b.jB)(af,Dd,!0);var sf=af;function lf(t){t&&b.kJ(t.series)&&b.S6(t.series,(function(t){b.Kn(t)&&"k"===t.type&&(t.type="candlestick")}))}var uf=["itemStyle","borderColor"],cf=["itemStyle","borderColor0"],hf=["itemStyle","borderColorDoji"],df=["itemStyle","color"],ff=["itemStyle","color0"],pf={seriesType:"candlestick",plan:(0,Be.Z)(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?df:ff)}function r(t,e){return e.get(0===t?hf:t>0?uf:cf)}if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var i;null!=(i=t.next());){var o=e.getItemModel(i),a=e.getItemLayout(i).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=r(a,o)||s.fill;var l=e.ensureUniqueItemVisual(i,"style");(0,b.l7)(l,s)}}}}},gf={seriesType:"candlestick",plan:(0,Be.Z)(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(t,e){var n,r=t.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=(0,xe.GM)((0,b.pD)(t.get("barMaxWidth"),i),i),a=(0,xe.GM)((0,b.pD)(t.get("barMinWidth"),1),i),s=t.get("barWidth");return null!=s?(0,xe.GM)(s,i):Math.max(Math.min(i/2,o),a)}(t,n),i=["x","y"],o=n.getDimensionIndex(n.mapDimension(i[0])),a=(0,b.UI)(n.mapDimensionsAll(i[1]),n.getDimensionIndex,n),s=a[0],l=a[1],u=a[2],c=a[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(o<0||a.length<4))return{progress:t.pipelineContext.large?function(n,r){var i,a,h=(0,oe.o)(4*n.count),d=0,f=[],p=[],g=r.getStore(),m=!!t.get(["itemStyle","borderColorDoji"]);for(;null!=(a=n.next());){var v=g.get(o,a),y=g.get(s,a),b=g.get(l,a),x=g.get(u,a),_=g.get(c,a);isNaN(v)||isNaN(x)||isNaN(_)?(h[d++]=NaN,d+=3):(h[d++]=mf(g,a,y,b,l,m),f[0]=v,f[1]=x,i=e.dataToPoint(f,null,p),h[d++]=i?i[0]:NaN,h[d++]=i?i[1]:NaN,f[1]=_,i=e.dataToPoint(f,null,p),h[d++]=i?i[1]:NaN)}r.setLayout("largePoints",h)}:function(t,n){var i,a=n.getStore();for(;null!=(i=t.next());){var h=a.get(o,i),d=a.get(s,i),f=a.get(l,i),p=a.get(u,i),g=a.get(c,i),m=Math.min(d,f),v=Math.max(d,f),y=M(m,h),b=M(v,h),x=M(p,h),_=M(g,h),w=[];k(w,b,0),k(w,y,1),w.push(A(_),A(b),A(x),A(y));var S=!!n.getItemModel(i).get(["itemStyle","borderColorDoji"]);n.setItemLayout(i,{sign:mf(a,i,d,f,l,S),initBaseline:d>f?b[1]:y[1],ends:w,brushRect:E(p,g,h)})}function M(t,n){var r=[];return r[0]=n,r[1]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(r)}function k(t,e,n){var i=e.slice(),o=e.slice();i[0]=(0,Zt.subPixelOptimize)(i[0]+r/2,1,!1),o[0]=(0,Zt.subPixelOptimize)(o[0]-r/2,1,!0),n?t.push(i,o):t.push(o,i)}function E(t,e,n){var i=M(t,n),o=M(e,n);return i[0]-=r/2,o[0]-=r/2,{x:i[0],y:i[1],width:r,height:o[1]-i[1]}}function A(t){return t[0]=(0,Zt.subPixelOptimize)(t[0],1),t}}}}};function mf(t,e,n,r,i,o){return n>r?-1:n<r?1:o?0:e>0?t.get(i,e-1)<=r?1:-1:1}var vf=gf;function yf(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}var bf=function(t){function e(e,n){var r=t.call(this)||this,i=new $t(e,n),o=new Bt.Z;return r.add(i),r.add(o),r.updateData(e,n),r}return(0,Pt.ZT)(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,r=t.rippleNumber,i=this.childAt(1),o=0;o<r;o++){var a=(0,zt.th)(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/r*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),i.add(a)}yf(i,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}yf(n,t)},e.prototype.highlight=function(){(0,Ht.fD)(this)},e.prototype.downplay=function(){(0,Ht.Mh)(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,r=t.hostModel;this.childAt(0).updateData(t,e);var i=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=(0,zt.zp)(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),u=l&&l.fill,c=o.getModel("emphasis");i.setScale(s),i.traverse((function(t){t.setStyle("fill",u)}));var h=(0,zt.Cq)(t.getItemVisual(e,"symbolOffset"),s);h&&(i.x=h[0],i.y=h[1]);var d=t.getItemVisual(e,"symbolRotate");i.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=r.get("showEffectOn"),f.rippleScale=o.get(["rippleEffect","scale"]),f.brushType=o.get(["rippleEffect","brushType"]),f.period=1e3*o.get(["rippleEffect","period"]),f.effectOffset=e/t.count(),f.z=r.getShallow("z")||0,f.zlevel=r.getShallow("zlevel")||0,f.symbolType=a,f.color=u,f.rippleEffectColor=o.get(["rippleEffect","color"]),f.rippleNumber=o.get(["rippleEffect","number"]),"render"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==f.showEffectOn&&n.startEffectAnimation(f):"normal"===t&&"render"!==f.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=f,(0,Ht.k5)(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Bt.Z),xf=bf,_f=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){this._symbolDraw=new ee(xf)},e.prototype.render=function(t,e,n){var r=t.getData(),i=this._symbolDraw;i.updateData(r,{clipShape:this._getClipShape(t)}),this.group.add(i.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var r=t.getData();this.group.dirty();var i=Fe("").reset(t,e,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=wr.d9(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(ve.Z),wf=_f,Sf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,Rt.Z)(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(jt.Z),Mf=Sf;var kf=function(t){function e(e,n,r){var i=t.call(this)||this;return i.add(i.createLine(e,n,r)),i._updateEffectSymbol(e,n),i}return(0,Pt.ZT)(e,t),e.prototype.createLine=function(t,e,n){return new zu(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");b.kJ(r)||(r=[r,r]);var o=t.getItemVisual(e,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==i&&(this.remove(s),(s=(0,zt.th)(i,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=r[0],s.scaleY=r[1],s.setColor(a),this._symbolType=i,this._symbolScale=r,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=t.getItemLayout(n),o=1e3*e.get("period"),a=e.get("loop"),s=e.get("roundTrip"),l=e.get("constantSpeed"),u=b.Jv(e.get("delay"),(function(e){return e/t.count()*o/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),l>0&&(o=this._getLineLength(r)/l*1e3),o!==this._period||a!==this._loop||s!==this._roundTrip){r.stopAnimation();var c=void 0;c=b.mf(u)?u(n):u,r.__t>0&&(c=-o*r.__t),this._animateSymbol(r,o,c,a,s)}this._period=o,this._loop=a,this._roundTrip=s}},e.prototype._animateSymbol=function(t,e,n,r,i){if(e>0){t.__t=0;var o=this,a=t.animate("",r).when(i?2*e:e,{__t:i?2:1}).delay(n).during((function(){o._updateSymbolPosition(t)}));r||a.done((function(){o.remove(t)})),a.start()}},e.prototype._getLineLength=function(t){return Sr.TK(t.__p1,t.__cp1)+Sr.TK(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],a=o.slice(),s=le.Zm,l=le.AZ;o[0]=s(e[0],r[0],n[0],i),o[1]=s(e[1],r[1],n[1],i);var u=t.__t<1?l(e[0],r[0],n[0],i):l(n[0],r[0],e[0],1-i),c=t.__t<1?l(e[1],r[1],n[1],i):l(n[1],r[1],e[1],1-i);t.rotation=-Math.atan2(c,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Sr.TK(a,o),1===i&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*Sr.TK(e,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(Bt.Z),Ef=kf,Af=function(t){function e(e,n,r){var i=t.call(this)||this;return i._createPolyline(e,n,r),i}return(0,Pt.ZT)(e,t),e.prototype._createPolyline=function(t,e,n){var r=t.getItemLayout(e),i=new Dn.Z({shape:{points:r}});this.add(i),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel,i=this.childAt(0),o={shape:{points:t.getItemLayout(e)}};Vt.D(i,o,r,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var r=this.childAt(0),i=t.getItemModel(e),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var u=i.getModel("emphasis");o=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),a=u.get("focus"),s=u.get("blurScope")}r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,(0,Ht.k5)(this,a,s,l)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},e}(Bt.Z),Tf=Af,If=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return(0,Pt.ZT)(e,t),e.prototype.createLine=function(t,e,n){return new Tf(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++){var o=e[i-1],a=e[i];r+=Sr.TK(o,a),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o,a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,i-1);o>=0&&!(r[o]<=e);o--);o=Math.min(o,i-2)}else{for(o=a;o<i&&!(r[o]>e);o++);o=Math.min(o-1,i-2)}var s=(e-r[o])/(r[o+1]-r[o]),l=n[o],u=n[o+1];t.x=l[0]*(1-s)+s*u[0],t.y=l[1]*(1-s)+s*u[1];var c=t.__t<1?u[0]-l[0]:l[0]-u[0],h=t.__t<1?u[1]-l[1]:l[1]-u[1];t.rotation=-Math.atan2(h,c)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},e}(Ef),Cf=If,Df=n("./node_modules/zrender/lib/contain/line.js"),Nf=n("./node_modules/zrender/lib/contain/quadratic.js"),Of=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Lf=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,Pt.ZT)(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Of},e.prototype.buildPath=function(t,e){var n,r=e.segs,i=e.curveness;if(e.polyline)for(n=this._off;n<r.length;){var o=r[n++];if(o>0){t.moveTo(r[n++],r[n++]);for(var a=1;a<o;a++)t.lineTo(r[n++],r[n++])}}else for(n=this._off;n<r.length;){var s=r[n++],l=r[n++],u=r[n++],c=r[n++];if(t.moveTo(s,l),i>0){var h=(s+u)/2-(l-c)*i,d=(l+c)/2-(u-s)*i;t.quadraticCurveTo(h,d,u,c)}else t.lineTo(u,c)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,r=n.segs,i=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<r.length;){var l=r[s++];if(l>0)for(var u=r[s++],c=r[s++],h=1;h<l;h++){var d=r[s++],f=r[s++];if(Df.m(u,c,d,f,o,t,e))return a}a++}else for(a=0,s=0;s<r.length;){u=r[s++],c=r[s++],d=r[s++],f=r[s++];if(i>0){var p=(u+d)/2-(c-f)*i,g=(c+f)/2-(d-u)*i;if(Nf.m(u,c,p,g,d,f,o,t,e))return a}else if(Df.m(u,c,d,f,o,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return t=n[0],e=n[1],r.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;){var s=e[a++],l=e[a++];n=Math.min(s,n),i=Math.max(s,i),r=Math.min(l,r),o=Math.max(l,o)}t=this._rect=new Qn.Z(n,r,i,o)}return t},e}(s.ZP),Pf=function(){function t(){this.group=new Bt.Z}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],r=e.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var o=i.length,a=new Float32Array(o+r.length);a.set(i),a.set(r,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:r}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new Lf({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("style");i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null);var o=(0,Ut.A)(t);o.seriesIndex=r.seriesIndex,t.on("mousemove",(function(e){o.dataIndex=null;var n=t.hoverDataIdx;n>0&&(o.dataIndex=n+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),Rf={seriesType:"lines",plan:(0,Be.Z)(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s=void 0,l=i.end-i.start;if(n){for(var u=0,c=i.start;c<i.end;c++)u+=t.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,d=[];for(c=i.start;c<i.end;c++){var f=t.getLineCoords(c,a);n&&(s[h++]=f);for(var p=0;p<f;p++)d=e.dataToPoint(a[p],!1,d),s[h++]=d[0],s[h++]=d[1]}o.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var g=o.getItemModel(c),m=(f=t.getLineCoords(c,a),[]);if(n)for(var v=0;v<f;v++)m.push(e.dataToPoint(a[v]));else{m[0]=e.dataToPoint(a[0]),m[1]=e.dataToPoint(a[1]);var y=g.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(c,m)}}}}}},jf=Rf,zf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),o=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r);var u=t.get("clip",!0)&&Se(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=jf.reset(t,e,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,r=this._showEffect(e),i=!!e.get("polyline"),o=e.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new Pf:new Vu(i?r?Cf:Tf:r?Ef:zu),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(ve.Z),Bf=zf,Ff="undefined"==typeof Uint32Array?Array:Uint32Array,Gf="undefined"==typeof Float64Array?Array:Float64Array;function Vf(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=(0,b.UI)(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),(0,b.Jn)([e,t[0],t[1]])})))}var Zf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e){e.data=e.data||[],Vf(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(Vf(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=(0,b.WW)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=(0,b.WW)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),(0,b.hj)(t[0])){for(var n=t.length,r=new Ff(n),i=new Gf(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=t[l++];r[a++]=o+e,r[a++]=u;for(var c=0;c<u;c++){var h=t[l++],d=t[l++];i[o++]=h,i[o++]=d}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new Un.Z(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var r=this.getData().getItemModel(t),i=r.get("name");if(i)return i;var o=r.get("fromName"),a=r.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),(0,zi.TX)("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(jt.Z),Uf=Zf;function Hf(t){return t instanceof Array||(t=[t,t]),t}var Wf={seriesType:"lines",reset:function(t){var e=Hf(t.get("symbol")),n=Hf(t.get("symbolSize")),r=t.getData();return r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?function(t,e){var n=t.getItemModel(e),r=Hf(n.getShallow("symbol",!0)),i=Hf(n.getShallow("symbolSize",!0));r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),i[0]&&t.setItemVisual(e,"fromSymbolSize",i[0]),i[1]&&t.setItemVisual(e,"toSymbolSize",i[1])}:null}}};var Yf=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=q.qW.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,r,i,o){var a=this._getBrush(),s=this._getGradient(i,"inRange"),l=this._getGradient(i,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),d=t.length;c.width=e,c.height=n;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=r(p[2]);h.globalAlpha=v,h.drawImage(a,g-u,m-u)}if(!c.width||!c.height)return c;for(var y=h.getImageData(0,0,c.width,c.height),b=y.data,x=0,_=b.length,w=this.minOpacity,S=this.maxOpacity-w;x<_;){v=b[x+3]/256;var M=4*Math.floor(255*v);if(v>0){var k=o(v)?s:l;v>0&&(v=v*S+w),b[x++]=k[M],b[x++]=k[M+1],b[x++]=k[M+2],b[x++]=k[M+3]*v*256}else x+=4}return h.putImageData(y,0,0),c},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=q.qW.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,r=n[e]||(n[e]=new Uint8ClampedArray(1024)),i=[0,0,0,0],o=0,a=0;a<256;a++)t[e](a/255,!0,i),r[o++]=i[0],r[o++]=i[1],r[o++]=i[2],r[o++]=i[3];return r},t}(),Xf=Yf;function qf(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var Kf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(r=e)}))})),this._progressiveEls=null,this.group.removeAll();var i=t.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):qf(i)&&this._renderOnGeo(i,t,r,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,r){var i=e.coordinateSystem;i&&(qf(i)?this.render(e,n,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,r,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Zt.traverseElements(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,r,i){var o,a,s,l,u=t.coordinateSystem,c=Me(u,"cartesian2d");if(c){var h=u.getAxis("x"),d=u.getAxis("y");0,o=h.getBandWidth()+.5,a=d.getBandWidth()+.5,s=h.scale.getExtent(),l=d.scale.getExtent()}for(var f=this.group,p=t.getData(),g=t.getModel(["emphasis","itemStyle"]).getItemStyle(),m=t.getModel(["blur","itemStyle"]).getItemStyle(),v=t.getModel(["select","itemStyle"]).getItemStyle(),y=t.get(["itemStyle","borderRadius"]),b=(0,qt.k3)(t),x=t.getModel("emphasis"),_=x.get("focus"),w=x.get("blurScope"),S=x.get("disabled"),M=c?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],k=n;k<r;k++){var E=void 0,A=p.getItemVisual(k,"style");if(c){var T=p.get(M[0],k),I=p.get(M[1],k);if(isNaN(p.get(M[2],k))||isNaN(T)||isNaN(I)||T<s[0]||T>s[1]||I<l[0]||I>l[1])continue;var C=u.dataToPoint([T,I]);E=new ye.Z({shape:{x:C[0]-o/2,y:C[1]-a/2,width:o,height:a},style:A})}else{if(isNaN(p.get(M[1],k)))continue;E=new ye.Z({z2:1,shape:u.dataToRect([p.get(M[0],k)]).contentShape,style:A})}if(p.hasItemOption){var D=p.getItemModel(k),N=D.getModel("emphasis");g=N.getModel("itemStyle").getItemStyle(),m=D.getModel(["blur","itemStyle"]).getItemStyle(),v=D.getModel(["select","itemStyle"]).getItemStyle(),y=D.get(["itemStyle","borderRadius"]),_=N.get("focus"),w=N.get("blurScope"),S=N.get("disabled"),b=(0,qt.k3)(D)}E.shape.r=y;var O=t.getRawValue(k),L="-";O&&null!=O[2]&&(L=O[2]+""),(0,qt.ni)(E,b,{labelFetcher:t,labelDataIndex:k,defaultOpacity:A.opacity,defaultText:L}),E.ensureState("emphasis").style=g,E.ensureState("blur").style=m,E.ensureState("select").style=v,(0,Ht.k5)(E,_,w,S),E.incremental=i,i&&(E.states.emphasis.hoverLayer=!0),f.add(E),p.setItemGraphicEl(k,E),this._progressiveEls&&this._progressiveEls.push(E)}},e.prototype._renderOnGeo=function(t,e,n,r){var i=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new Xf;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),c=t.getRoamTransform();u.applyTransform(c);var h=Math.max(u.x,0),d=Math.max(u.y,0),f=Math.min(u.width+u.x,r.getWidth()),p=Math.min(u.height+u.y,r.getHeight()),g=f-h,m=p-d,v=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],y=a.mapArray(v,(function(e,n,r){var i=t.dataToPoint([e,n]);return i[0]-=h,i[1]-=d,i.push(r),i})),x=n.getExtent(),_="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(x,n.option.range):function(t,e,n){var r=t[1]-t[0],i=(e=b.UI(e,(function(e){return{interval:[(e.interval[0]-t[0])/r,(e.interval[1]-t[0])/r]}}))).length,o=0;return function(t){var r;for(r=o;r<i;r++)if((a=e[r].interval)[0]<=t&&t<=a[1]){o=r;break}if(r===i)for(r=o-1;r>=0;r--){var a;if((a=e[r].interval)[0]<=t&&t<=a[1]){o=r;break}}return r>=0&&r<i&&n[r]}}(x,n.getPieceList(),n.option.selected);s.update(y,g,m,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:o.color.getColorMapper()},_);var w=new l.ZP({style:{width:g,height:m,x:h,y:d,image:s.canvas},silent:!0});this.group.add(w)},e.type="heatmap",e}(ve.Z),$f=Kf,Jf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,Rt.Z)(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=ac.Z.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(jt.Z),Qf=Jf;var tp=["itemStyle","borderWidth"],ep=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],np=new Hi.Z,rp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=this.group,i=t.getData(),o=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:ep[+s],categoryDim:ep[1-+s]};return i.diff(o).add((function(t){if(i.hasValue(t)){var e=hp(i,t),n=ip(i,t,e,u),o=pp(i,u,n);i.setItemGraphicEl(t,o),r.add(o),bp(o,u,n)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var a=hp(i,t),s=ip(i,t,a,u),l=mp(i,s);n&&l!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var r=n.animationModel,i=n.dataIndex,o=t.__pictorialBundle;Vt.D(o,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?sp(t,e,n,!0):lp(t,e,n,!0);up(t,n,!0),cp(t,e,n,!0)}(n,u,s):n=pp(i,u,s,!0),i.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,r.add(n),bp(n,u,s)}else r.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&gp(o,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=i,this.group},e.prototype.remove=function(t,e){var n=this.group,r=this._data;t.get("animation")?r&&r.eachItemGraphicEl((function(e){gp(r,(0,Ut.A)(e).dataIndex,t,e)})):n.removeAll()},e.type="pictorialBar",e}(ve.Z);function ip(t,e,n,r){var i=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(t,e,n,r,i){var o,a=r.valueDim,s=t.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(b.kJ(s)){var h=[op(l,s[0])-u,op(l,s[1])-u];h[1]<h[0]&&h.reverse(),o=h[c]}else o=null!=s?op(l,s)-u:e?r.coordSysExtent[a.index][c]-u:n[a.wh];i.boundingLength=o,e&&(i.repeatCutLength=n[a.wh]);i.pxSign=o>0?1:-1}(n,o,i,r,h),function(t,e,n,r,i,o,a,s,l,u){var c,h=l.valueDim,d=l.categoryDim,f=Math.abs(n[d.wh]),p=t.getItemVisual(e,"symbolSize");c=b.kJ(p)?p.slice():null==p?["100%","100%"]:[p,p];c[d.index]=(0,xe.GM)(c[d.index],f),c[h.index]=(0,xe.GM)(c[h.index],r?f:Math.abs(o)),u.symbolSize=c;var g=u.symbolScale=[c[0]/s,c[1]/s];g[h.index]*=(l.isHorizontal?-1:1)*a}(t,e,i,o,0,h.boundingLength,h.pxSign,u,r,h),function(t,e,n,r,i){var o=t.get(tp)||0;o&&(np.attr({scaleX:e[0],scaleY:e[1],rotation:n}),np.updateTransform(),o/=np.getLineScale(),o*=e[r.valueDim.index]);i.valueLineWidth=o||0}(n,h.symbolScale,l,r,h);var d=h.symbolSize,f=(0,zt.Cq)(n.get("symbolOffset"),d);return function(t,e,n,r,i,o,a,s,l,u,c,h){var d=c.categoryDim,f=c.valueDim,p=h.pxSign,g=Math.max(e[f.index]+s,0),m=g;if(r){var v=Math.abs(l),y=b.Jv(t.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1));var _=(0,xe.GM)(y,e[f.index]),w=Math.max(g+2*_,0),S=x?0:2*_,M=(0,xe.kE)(r),k=M?r:xp((v+S)/w);w=g+2*(_=(v-k*g)/2/(x?k:Math.max(k-1,1))),S=x?0:2*_,M||"fixed"===r||(k=u?xp((Math.abs(u)+S)/w):0),m=k*w-S,h.repeatTimes=k,h.symbolMargin=_}var E=p*(m/2),A=h.pathPosition=[];A[d.index]=n[d.wh]/2,A[f.index]="start"===a?E:"end"===a?l-E:l/2,o&&(A[0]+=o[0],A[1]+=o[1]);var T=h.bundlePosition=[];T[d.index]=n[d.xy],T[f.index]=n[f.xy];var I=h.barRectShape=b.l7({},n);I[f.wh]=p*Math.max(Math.abs(n[f.wh]),Math.abs(A[f.index]+E)),I[d.wh]=n[d.wh];var C=h.clipShape={};C[d.xy]=-n[d.xy],C[d.wh]=c.ecSize[d.wh],C[f.xy]=0,C[f.wh]=n[f.wh]}(n,d,i,o,0,f,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function op(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function ap(t){var e=t.symbolPatternSize,n=(0,zt.th)(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function sp(t,e,n,r){var i=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,c=0,h=o[e.valueDim.index]+a+2*n.symbolMargin;for(vp(t,(function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=u,c<u?yp(t,null,p(c),n,r):yp(t,null,{scaleX:0,scaleY:0},n,r,(function(){i.remove(t)})),c++}));c<u;c++){var d=ap(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,i.add(d);var f=p(c);yp(d,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},n,r)}function p(t){var e=s.slice(),r=n.pxSign,i=t;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=u-1-t),e[l.index]=h*(i-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function lp(t,e,n,r){var i=t.__pictorialBundle,o=t.__pictorialMainPath;o?yp(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(o=t.__pictorialMainPath=ap(n),i.add(o),yp(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function up(t,e,n){var r=b.l7({},e.barRectShape),i=t.__pictorialBarRect;i?yp(i,null,{shape:r},e,n):((i=t.__pictorialBarRect=new ye.Z({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(i))}function cp(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,o=b.l7({},n.clipShape),a=e.valueDim,s=n.animationModel,l=n.dataIndex;if(i)Vt.D(i,{shape:o},s,l);else{o[a.wh]=0,i=new ye.Z({shape:o}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var u={};u[a.wh]=n.clipShape[a.wh],Zt[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function hp(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=dp,n.isAnimationEnabled=fp,n}function dp(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function fp(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function pp(t,e,n,r){var i=new Bt.Z,o=new Bt.Z;return i.add(o),i.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?sp(i,e,n):lp(i,0,n),up(i,n,r),cp(i,e,n,r),i.__pictorialShapeStr=mp(t,n),i.__pictorialSymbolMeta=n,i}function gp(t,e,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var o=[];vp(r,(function(t){o.push(t)})),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),b.S6(o,(function(t){Vt.bX(t,{scaleX:0,scaleY:0},n,e,(function(){r.parent&&r.parent.remove(r)}))})),t.setItemGraphicEl(e,null)}function mp(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function vp(t,e,n){b.S6(t.__pictorialBundle.children(),(function(r){r!==t.__pictorialBarRect&&e.call(n,r)}))}function yp(t,e,n,r,i,o){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&Zt[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,o)}function bp(t,e,n){var r=n.dataIndex,i=n.itemModel,o=i.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),u=i.getModel(["select","itemStyle"]).getItemStyle(),c=i.getShallow("cursor"),h=o.get("focus"),d=o.get("blurScope"),f=o.get("scale");vp(t,(function(t){if(t instanceof l.ZP){var e=t.style;t.useStyle(b.l7({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var r=t.ensureState("emphasis");r.style=a,f&&(r.scaleX=1.1*t.scaleX,r.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=u,c&&(t.cursor=c),t.z2=n.z2}));var p=e.valueDim.posDesc[+(n.boundingLength>0)],g=t.__pictorialBarRect;(0,qt.ni)(g,(0,qt.k3)(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:Yt(e.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),(0,Ht.k5)(t,h,d,o.get("disabled"))}function xp(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var _p=rp,wp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=(0,Ye.ZL)(We.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(We),Sp=wp;var Mp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this,o=this.group,a=t.getLayerSeries(),s=r.getLayout("layoutInfo"),l=s.rect,u=s.boundaryGap;function c(t){return t.name}o.x=0,o.y=l.y+u[0];var h=new Qs.Z(this._layersSeries||[],a,c,c),d=[];function f(e,n,s){var l=i._layers;if("remove"!==e){for(var u,c,h=[],f=[],p=a[n].indices,g=0;g<p.length;g++){var m=r.getItemLayout(p[g]),v=m.x,y=m.y0,b=m.y;h.push(v,y),f.push(v,y+b),u=r.getItemVisual(p[g],"style")}var x=r.getItemLayout(p[0]),_=t.getModel("label").get("margin"),w=t.getModel("emphasis");if("add"===e){var S=d[n]=new Bt.Z;c=new me({shape:{points:h,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(c),o.add(S),t.isAnimationEnabled()&&c.setClipPath(function(t,e,n){var r=new ye.Z({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Vt.KZ(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),r}(c.getBoundingRect(),t,(function(){c.removeClipPath()})))}else{S=l[s];c=S.childAt(0),o.add(S),d[n]=S,Vt.D(c,{shape:{points:h,stackedOnPoints:f}},t),(0,Vt.Zi)(c)}(0,qt.ni)(c,(0,qt.k3)(t),{labelDataIndex:p[g-1],defaultText:r.getName(p[g-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var M=c.getTextContent();M&&(M.x=x.x-_,M.y=x.y0+x.y/2),c.useStyle(u),r.setItemGraphicEl(n,c),(0,Ht.WO)(c,t),(0,Ht.k5)(c,w.get("focus"),w.get("blurScope"),w.get("disabled"))}else o.remove(l[n])}h.add((0,b.ak)(f,this,"add")).update((0,b.ak)(f,this,"update")).remove((0,b.ak)(f,this,"remove")).execute(),this._layersSeries=a,this._layers=d},e.type="themeRiver",e}(ve.Z);var kp=Mp,Ep=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Yn(b.ak(this.getData,this),b.ak(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},r=(0,se.pv)(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),i=[];r.buckets.each((function(t,e){i.push({name:e,dataList:t})}));for(var o=i.length,a=0;a<o;++a){for(var s=i[a].name,l=0;l<i[a].dataList.length;++l){var u=i[a].dataList[l][0]+"";n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,t[e]=[u,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",se.C6).models[0].get("type"),r=b.hX(t.data,(function(t){return void 0!==t[2]})),i=this.fixData(r||[]),o=[],a=this.nameMap=b.kW(),s=0,l=0;l<i.length;++l)o.push(i[l][2]),a.get(i[l][2])||(a.set(i[l][2],s),s++);var u=(0,Zn.Z)(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,Cd.T)(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new Un.Z(u,this);return c.initData(i),c},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],r=0;r<e;++r)n[r]=r;var i=t.mapDimension("single"),o=(0,se.pv)(n,(function(e){return t.get("name",e)})),a=[];return o.buckets.each((function(e,n){e.sort((function(e,n){return t.get(i,e)-t.get(i,n)})),a.push({name:n,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,n){b.kJ(t)||(t=t?[t]:[]);for(var r,i=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,h=o[l].indices.length,d=0;d<h;++d){var f=i.get(t[0],o[l].indices[d]),p=Math.abs(f-e);p<=u&&(r=f,u=p,c=o[l].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:r}},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=r.getName(t),o=r.get(r.mapDimension("value"),t);return(0,zi.TX)("nameValue",{name:i,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(jt.Z),Ap=Ep;function Tp(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,r={},i=n.getRect();r.rect=i;var o=t.get("boundaryGap"),a=n.getAxis();(r.boundaryGap=o,"horizontal"===a.orient)?(o[0]=xe.GM(o[0],i.height),o[1]=xe.GM(o[1],i.height),Ip(e,t,i.height-o[0]-o[1])):(o[0]=xe.GM(o[0],i.width),o[1]=xe.GM(o[1],i.width),Ip(e,t,i.width-o[0]-o[1]));e.setLayout("layoutInfo",r)}))}function Ip(t,e,n){if(t.count())for(var r,i=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=b.UI(o,(function(e){return b.UI(e.indices,(function(e){var n=i.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n}))})),u=function(t){for(var e=t.length,n=t[0].length,r=[],i=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>o&&(o=s),r.push(s)}for(var u=0;u<n;++u)i[u]=(o-r[u])/2;o=0;for(var c=0;c<n;++c){var h=r[c]+i[c];h>o&&(o=h)}return{y0:i,max:o}}(l),c=u.y0,h=n/u.max,d=o.length,f=o[0].indices.length,p=0;p<f;++p){r=c[p]*h,t.setItemLayout(o[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:r,y:l[0][p][1]*h});for(var g=1;g<d;++g)r+=l[g-1][p][1]*h,t.setItemLayout(o[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:r,y:l[g][p][1]*h})}}var Cp=n("./node_modules/zrender/lib/contain/util.js"),Dp=function(t){function e(e,n,r,i){var o=t.call(this)||this;o.z2=2,o.textConfig={inside:!0},(0,Ut.A)(o).seriesIndex=n.seriesIndex;var a=new X.ZP({z2:4,silent:e.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,e,n,r,i),o}return(0,Pt.ZT)(e,t),e.prototype.updateData=function(t,e,n,r,i){this.node=e,e.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var o=this;(0,Ut.A)(o).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),l=e.getLayout(),u=b.l7({},l);u.label=null;var c=e.getVisual("style");c.lineJoin="bevel";var h=e.getVisual("decal");h&&(c.decal=(0,pa.I)(h,i));var d=nn(a.getModel("itemStyle"),u,!0);b.l7(u,d),b.S6(Ht.L1,(function(t){var e=o.ensureState(t),n=a.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var r=nn(n,u);r&&(e.shape=r)})),t?(o.setShape(u),o.shape.r=l.r0,Vt.KZ(o,{shape:{r:l.r}},n,e.dataIndex)):(Vt.D(o,{shape:u},n),(0,Vt.Zi)(o)),o.useStyle(c),this._updateLabel(n);var f=a.getShallow("cursor");f&&o.attr("cursor",f),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var p=s.get("focus"),g="ancestor"===p?e.getAncestorsIndices():"descendant"===p?e.getDescendantIndices():p;(0,Ht.k5)(this,g,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),r=n.getModel("label"),i=this.node.getLayout(),o=i.endAngle-i.startAngle,a=(i.startAngle+i.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,c=u.getTextContent(),h=this.node.dataIndex,d=r.get("minAngle")/180*Math.PI,f=r.get("show")&&!(null!=d&&Math.abs(o)<d);function p(t,e){var n=t.get(e);return null==n?r.get(e):n}c.ignore=!f,b.S6(Ht.qc,(function(r){var d="normal"===r?n.getModel("label"):n.getModel([r,"label"]),f="normal"===r,g=f?c:c.ensureState(r),m=t.getFormattedLabel(h,r);f&&(m=m||e.node.name),g.style=(0,qt.Lr)(d,{},null,"normal"!==r,!0),m&&(g.style.text=m);var v=d.get("show");null==v||f||(g.ignore=!v);var y,x=p(d,"position"),_=f?u:u.states[r],w=_.style.fill;_.textConfig={outsideFill:"inherit"===d.get("color")?w:null,inside:"outside"!==x};var S=p(d,"distance")||0,M=p(d,"align");"outside"===x?(y=i.r+S,M=a>Math.PI/2?"right":"left"):M&&"center"!==M?"left"===M?(y=i.r0+S,a>Math.PI/2&&(M="right")):"right"===M&&(y=i.r-S,a>Math.PI/2&&(M="left")):(y=o===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,M="center"),g.style.align=M,g.style.verticalAlign=p(d,"verticalAlign")||"middle",g.x=y*s+i.cx,g.y=y*l+i.cy;var k=p(d,"rotate"),E=0;"radial"===k?(E=(0,Cp.m)(-a))>Math.PI/2&&E<1.5*Math.PI&&(E+=Math.PI):"tangential"===k?(E=Math.PI/2-a)>Math.PI/2?E-=Math.PI:E<-Math.PI/2&&(E+=Math.PI):b.hj(k)&&(E=k*Math.PI/180),g.rotation=(0,Cp.m)(E)})),c.dirtyStyle()},e}(be.C),Np=Dp,Op="sunburstRootToNode",Lp="sunburstHighlight",Pp="sunburstUnhighlight";var Rp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){var i=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),l=this.group,u=t.get("renderLabelForZeroData"),c=[];s.eachNode((function(t){c.push(t)}));var h=this._oldChildren||[];!function(r,i){if(0===r.length&&0===i.length)return;function s(t){return t.getId()}function c(s,c){!function(r,i){u||!r||r.getValue()||(r=null);if(r!==a&&i!==a)if(i&&i.piece)r?(i.piece.updateData(!1,r,t,e,n),o.setItemGraphicEl(r.dataIndex,i.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(i);else if(r){var s=new Np(r,t,e,n);l.add(s),o.setItemGraphicEl(r.dataIndex,s)}}(null==s?null:r[s],null==c?null:i[c])}new Qs.Z(i,r,s,s).add(c).update(c).remove(b.WA(c,null)).execute()}(c,h),function(r,o){o.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,r,t,e,n):(i.virtualPiece=new Np(r,t,e,n),l.add(i.virtualPiece)),o.piece.off("click"),i.virtualPiece.on("click",(function(t){i._rootToNode(o.parentNode)}))):i.virtualPiece&&(l.remove(i.virtualPiece),i.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=c},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1;t.seriesModel.getViewRoot().eachNode((function(r){if(!n&&r.piece&&r.piece===e.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)t._rootToNode(r);else if("link"===i){var o=r.getModel(),a=o.get("link");if(a){var s=o.get("target",!0)||"_blank";(0,ke.MI)(a,s)}}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Op,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},e.type="sunburst",e}(ve.Z),jp=Rp,zp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return(0,Pt.ZT)(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};Bp(n);var r=this._levelModels=b.UI(t.levels||[],(function(t){return new ni.Z(t,this,e)}),this),i=js.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=i.getNodeByDataIndex(e),o=r[n.depth];return o&&(t.parentModel=o),t}))}));return i.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=Gs(r,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){qs(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(jt.Z);function Bp(t){var e=0;b.S6(t.children,(function(t){Bp(t);var n=t.value;b.kJ(n)&&(n=n[0]),e+=n}));var n=t.value;b.kJ(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),b.kJ(t.value)?t.value[0]=n:t.value=n}var Fp=zp,Gp=Math.PI/180;function Vp(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),r=t.get("radius");b.kJ(r)||(r=[0,r]),b.kJ(e)||(e=[e,e]);var i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o),s=(0,xe.GM)(e[0],i),l=(0,xe.GM)(e[1],o),u=(0,xe.GM)(r[0],a/2),c=(0,xe.GM)(r[1],a/2),h=-t.get("startAngle")*Gp,d=t.get("minAngle")*Gp,f=t.getData().tree.root,p=t.getViewRoot(),g=p.depth,m=t.get("sort");null!=m&&Zp(p,m);var v=0;b.S6(p.children,(function(t){!isNaN(t.getValue())&&v++}));var y=p.getValue(),x=Math.PI/(y||v)*2,_=p.depth>0,w=p.height-(_?-1:1),S=(c-u)/(w||1),M=t.get("clockwise"),k=t.get("stillShowZeroSum"),E=M?1:-1,A=function(e,n){if(e){var r=n;if(e!==f){var i=e.getValue(),o=0===y&&k?x:i*x;o<d&&(o=d),r=n+E*o;var c=e.depth-g-(_?-1:1),h=u+S*c,p=u+S*(c+1),m=t.getLevelModel(e);if(m){var v=m.get("r0",!0),w=m.get("r",!0),T=m.get("radius",!0);null!=T&&(v=T[0],w=T[1]),null!=v&&(h=(0,xe.GM)(v,a/2)),null!=w&&(p=(0,xe.GM)(w,a/2))}e.setLayout({angle:o,startAngle:n,endAngle:r,clockwise:M,cx:s,cy:l,r0:h,r:p})}if(e.children&&e.children.length){var I=0;b.S6(e.children,(function(t){I+=A(t,n+I)}))}return r-n}};if(_){var T=u,I=u+S,C=2*Math.PI;f.setLayout({angle:C,startAngle:h,endAngle:h+C,clockwise:M,cx:s,cy:l,r0:T,r:I})}A(p,h)}))}function Zp(t,e){var n=t.children||[];t.children=function(t,e){if(b.mf(e)){var n=b.UI(t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),b.UI(n,(function(e){return t[e.index]}))}var r="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(r?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(r?-1:1):n}))}(n,e),n.length&&b.S6(t.children,(function(t){Zp(t,e)}))}function Up(t){var e={};t.eachSeriesByType("sunburst",(function(t){var n=t.getData(),r=n.tree;r.eachNode((function(i){var o=i.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(t,n,r){for(var i=t;i&&i.depth>1;)i=i.parentNode;var o=n.getColorFromPalette(i.name||i.dataIndex+"",e);return t.depth>1&&(0,b.HD)(o)&&(o=(0,Ee.xb)(o,(t.depth-1)/(r-1)*.5)),o}(i,t,r.root.height));var a=n.ensureUniqueItemVisual(i.dataIndex,"style");(0,b.l7)(a,o)}))}))}var Hp={color:"fill",borderColor:"stroke"},Wp={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Yp=(0,se.Yf)(),Xp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return(0,Rt.Z)(null,this)},e.prototype.getDataParams=function(e,n,r){var i=t.prototype.getDataParams.call(this,e,n);return r&&(i.info=Yp(r).info),i},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(jt.Z),qp=Xp;function Kp(t,e){return e=e||[0,0],b.UI(["x","y"],(function(n,r){var i=this.getAxis(n),o=e[r],a=t[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))}),this)}function $p(t,e){return e=e||[0,0],b.UI([0,1],(function(n){var r=e[n],i=t[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function Jp(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function Qp(t,e){return e=e||[0,0],b.UI(["Radius","Angle"],(function(n,r){var i=this["get"+n+"Axis"](),o=e[r],a=t[r]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}function tg(t,e,n,r){return t&&(t.legacy||!1!==t.legacy&&!n&&!r&&"tspan"!==e&&("text"===e||(0,b.RI)(t,"text")))}function eg(t,e,n){var r,i,o,a=t;if("text"===e)o=a;else{o={},(0,b.RI)(a,"text")&&(o.text=a.text),(0,b.RI)(a,"rich")&&(o.rich=a.rich),(0,b.RI)(a,"textFill")&&(o.fill=a.textFill),(0,b.RI)(a,"textStroke")&&(o.stroke=a.textStroke),(0,b.RI)(a,"fontFamily")&&(o.fontFamily=a.fontFamily),(0,b.RI)(a,"fontSize")&&(o.fontSize=a.fontSize),(0,b.RI)(a,"fontStyle")&&(o.fontStyle=a.fontStyle),(0,b.RI)(a,"fontWeight")&&(o.fontWeight=a.fontWeight),i={type:"text",style:o,silent:!0},r={};var s=(0,b.RI)(a,"textPosition");n?r.position=s?a.textPosition:"inside":s&&(r.position=a.textPosition),(0,b.RI)(a,"textPosition")&&(r.position=a.textPosition),(0,b.RI)(a,"textOffset")&&(r.offset=a.textOffset),(0,b.RI)(a,"textRotation")&&(r.rotation=a.textRotation),(0,b.RI)(a,"textDistance")&&(r.distance=a.textDistance)}return ng(o,t),(0,b.S6)(o.rich,(function(t){ng(t,t)})),{textConfig:r,textContent:i}}function ng(t,e){e&&(e.font=e.textFont||e.font,(0,b.RI)(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),(0,b.RI)(e,"textAlign")&&(t.align=e.textAlign),(0,b.RI)(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),(0,b.RI)(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),(0,b.RI)(e,"textWidth")&&(t.width=e.textWidth),(0,b.RI)(e,"textHeight")&&(t.height=e.textHeight),(0,b.RI)(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),(0,b.RI)(e,"textPadding")&&(t.padding=e.textPadding),(0,b.RI)(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),(0,b.RI)(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),(0,b.RI)(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),(0,b.RI)(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),(0,b.RI)(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),(0,b.RI)(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),(0,b.RI)(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function rg(t,e,n){var r=t;r.textPosition=r.textPosition||n.position||"inside",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,o=t.fill||"#000";ig(r,e);var a=null==r.textFill;return i?a&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=o),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(a&&(r.textFill=t.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=e.text,r.rich=e.rich,(0,b.S6)(e.rich,(function(t){ig(t,t)})),r}function ig(t,e){e&&((0,b.RI)(e,"fill")&&(t.textFill=e.fill),(0,b.RI)(e,"stroke")&&(t.textStroke=e.fill),(0,b.RI)(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),(0,b.RI)(e,"font")&&(t.font=e.font),(0,b.RI)(e,"fontStyle")&&(t.fontStyle=e.fontStyle),(0,b.RI)(e,"fontWeight")&&(t.fontWeight=e.fontWeight),(0,b.RI)(e,"fontSize")&&(t.fontSize=e.fontSize),(0,b.RI)(e,"fontFamily")&&(t.fontFamily=e.fontFamily),(0,b.RI)(e,"align")&&(t.textAlign=e.align),(0,b.RI)(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),(0,b.RI)(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),(0,b.RI)(e,"width")&&(t.textWidth=e.width),(0,b.RI)(e,"height")&&(t.textHeight=e.height),(0,b.RI)(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),(0,b.RI)(e,"padding")&&(t.textPadding=e.padding),(0,b.RI)(e,"borderColor")&&(t.textBorderColor=e.borderColor),(0,b.RI)(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),(0,b.RI)(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),(0,b.RI)(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),(0,b.RI)(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),(0,b.RI)(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),(0,b.RI)(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),(0,b.RI)(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),(0,b.RI)(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),(0,b.RI)(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),(0,b.RI)(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var og=n("./node_modules/zrender/lib/animation/Animator.js"),ag={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},sg=(0,b.XP)(ag),lg=((0,b.u4)(R.dN,(function(t,e){return t[e]=1,t}),{}),R.dN.join(", "),["","style","shape","extra"]),ug=(0,se.Yf)();function cg(t,e,n,r,i){var o=t+"Animation",a=(0,Vt.ke)(t,r,i)||{},s=ug(e).userDuring;return a.duration>0&&(a.during=s?(0,b.ak)(vg,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),(0,b.l7)(a,n[o]),a}function hg(t,e,n,r){var i=(r=r||{}).dataIndex,o=r.isInit,a=r.clearStyle,l=n.isAnimationEnabled(),u=ug(t),c=e.style;u.userDuring=e.during;var h={},d={};if(function(t,e,n){for(var r=0;r<sg.length;r++){var i=sg[r],o=ag[i],a=e[i];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(r=0;r<R.dN.length;r++){var s=R.dN[r];null!=e[s]&&(n[s]=e[s])}}(0,e,d),bg("shape",e,d),bg("extra",e,d),!o&&l&&(function(t,e,n){for(var r=e.transition,i=pg(r)?R.dN:(0,se.kF)(r||[]),o=0;o<i.length;o++){var a=i[o];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=t[a];0,n[a]=s}}}(t,e,h),yg("shape",t,e,h),yg("extra",t,e,h),function(t,e,n,r){if(!n)return;var i,o=t.style;if(o){var a=n.transition,s=e.transition;if(a&&!pg(a)){var l=(0,se.kF)(a);!i&&(i=r.style={});for(var u=0;u<l.length;u++){var c=o[p=l[u]];i[p]=c}}else if(t.getAnimationStyleProps&&(pg(s)||pg(a)||(0,b.cq)(s,"style")>=0)){var h=t.getAnimationStyleProps(),d=h?h.style:null;if(d){!i&&(i=r.style={});var f=(0,b.XP)(n);for(u=0;u<f.length;u++){var p;if(d[p=f[u]]){c=o[p];i[p]=c}}}}}}(t,e,c,h)),d.style=c,function(t,e,n){var r=e.style;if(!t.isGroup&&r){if(n){t.useStyle({});for(var i=t.animators,o=0;o<i.length;o++){var a=i[o];"style"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(r)}e&&(e.style=null,e&&t.attr(e),e.style=r)}(t,d,a),function(t,e){(0,b.RI)(e,"silent")&&(t.silent=e.silent),(0,b.RI)(e,"ignore")&&(t.ignore=e.ignore),t instanceof ga.ZP&&(0,b.RI)(e,"invisible")&&(t.invisible=e.invisible);t instanceof s.ZP&&(0,b.RI)(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}(t,e),l)if(o){var f={};(0,b.S6)(lg,(function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(f[t]=f[t]||{}),(0,b.l7)(t?f[t]:f,n.enterFrom))}));var p=cg("enter",t,e,n,i);p.duration>0&&t.animateFrom(f,p)}else!function(t,e,n,r,i){if(i){var o=cg("update",t,e,r,n);o.duration>0&&t.animateFrom(i,o)}}(t,e,i||0,n,h);dg(t,e),c?t.dirty():t.markRedraw()}function dg(t,e){for(var n=ug(t).leaveToProps,r=0;r<lg.length;r++){var i=lg[r],o=i?e[i]:e;o&&o.leaveTo&&(n||(n=ug(t).leaveToProps={}),i&&(n[i]=n[i]||{}),(0,b.l7)(i?n[i]:n,o.leaveTo))}}function fg(t,e,n,r){if(t){var i=t.parent,o=ug(t).leaveToProps;if(o){var a=cg("update",t,e,n,0);a.done=function(){i.remove(t),r&&r()},t.animateTo(o,a)}else i.remove(t),r&&r()}}function pg(t){return"all"===t}var gg={},mg={setTransform:function(t,e){return gg.el[t]=e,this},getTransform:function(t){return gg.el[t]},setShape:function(t,e){var n=gg.el;return(n.shape||(n.shape={}))[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=gg.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=gg.el,r=n.style;return r&&(r[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=gg.el.style;if(e)return e[t]},setExtra:function(t,e){return(gg.el.extra||(gg.el.extra={}))[t]=e,this},getExtra:function(t){var e=gg.el.extra;if(e)return e[t]}};function vg(){var t=this,e=t.el;if(e){var n=ug(e).userDuring,r=t.userDuring;n===r?(gg.el=e,r(mg)):t.el=t.userDuring=null}}function yg(t,e,n,r){var i=n[t];if(i){var o,a=e[t];if(a){var s=n.transition,l=i.transition;if(l)if(!o&&(o=r[t]={}),pg(l))(0,b.l7)(o,a);else for(var u=(0,se.kF)(l),c=0;c<u.length;c++){var h=a[f=u[c]];o[f]=h}else if(pg(s)||(0,b.cq)(s,t)>=0){!o&&(o=r[t]={});var d=(0,b.XP)(a);for(c=0;c<d.length;c++){var f;h=a[f=d[c]];xg(i[f],h)&&(o[f]=h)}}}}}function bg(t,e,n){var r=e[t];if(r)for(var i=n[t]={},o=(0,b.XP)(r),a=0;a<o.length;a++){var s=o[a];i[s]=(0,og.V)(r[s])}}function xg(t,e){return(0,b.zG)(t)?t!==e:null!=t&&isFinite(t)}var _g=(0,se.Yf)(),wg=["percent","easing","shape","style","extra"];function Sg(t){t.stopAnimation("keyframe"),t.attr(_g(t))}function Mg(t,e,n){if(n.isAnimationEnabled()&&e)if((0,b.kJ)(e))(0,b.S6)(e,(function(e){Mg(t,e,n)}));else{var r=e.keyframes,i=e.duration;if(n&&null==i){var o=(0,Vt.ke)("enter",n,0);i=o&&o.duration}if(r&&i){var a=_g(t);(0,b.S6)(lg,(function(n){if(!n||t[n]){var o;r.sort((function(t,e){return t.percent-e.percent})),(0,b.S6)(r,(function(r){var s=t.animators,l=n?r[n]:r;if(l){var u=(0,b.XP)(l);if(n||(u=(0,b.hX)(u,(function(t){return(0,b.cq)(wg,t)<0}))),u.length){o||((o=t.animate(n,e.loop,!0)).scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==o&&s[c].targetName===o.targetName&&s[c].stopTracks(u);n&&(a[n]=a[n]||{});var h=n?a[n]:a;(0,b.S6)(u,(function(e){h[e]=((n?t[n]:t)||{})[e]})),o.whenWithKeys(i*r.percent,l,u,r.easing)}}})),o&&o.delay(e.delay||0).duration(i).start(e.easing)}}))}}}var kg="emphasis",Eg="normal",Ag="blur",Tg="select",Ig=[Eg,kg,Ag,Tg],Cg={normal:["itemStyle"],emphasis:[kg,"itemStyle"],blur:[Ag,"itemStyle"],select:[Tg,"itemStyle"]},Dg={normal:["label"],emphasis:[kg,"label"],blur:[Ag,"label"],select:[Tg,"label"]},Ng=["x","y"],Og="e\0\0",Lg={normal:{},emphasis:{},blur:{},select:{}},Pg={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:b.ak(Kp,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:b.ak($p,t)}}},single:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:(0,b.ak)(Jp,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(r){var i=e.dataToRadius(r[0]),o=n.dataToAngle(r[1]),a=t.coordToPoint([i,o]);return a.push(i,o*Math.PI/180),a},size:b.ak(Qp,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};function Rg(t){return t instanceof s.ZP}function jg(t){return t instanceof ga.ZP}var zg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){this._progressiveEls=null;var i=this._data,o=t.getData(),a=this.group,s=Ug(t,o,e,n);i||a.removeAll(),o.diff(i).add((function(e){Wg(n,null,e,s(e,r),t,a,o)})).remove((function(e){var n=i.getItemGraphicEl(e);n&&fg(n,Yp(n).option,t)})).update((function(e,l){var u=i.getItemGraphicEl(l);Wg(n,u,e,s(e,r),t,a,o)})).execute();var l=t.get("clip",!0)?Se(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,r,i){var o=e.getData(),a=Ug(e,o,n,r),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var u=t.start;u<t.end;u++){var c=Wg(null,null,u,a(u,i),e,this.group,o);c&&(c.traverse(l),s.push(c))}},e.prototype.eachRendered=function(t){Zt.traverseElements(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,r){var i=e.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},e.type="custom",e}(ve.Z),Bg=zg;function Fg(t){var e,n=t.type;if("path"===n){var r=t.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=nm(r);e=Zt.makePath(o,null,i,r.layout||"center"),Yp(e).customPathData=o}else if("image"===n)e=new l.ZP({}),Yp(e).customImagePath=t.style.image;else if("text"===n)e=new X.ZP({});else if("group"===n)e=new Bt.Z;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=Zt.getShapeClass(n);if(!a){0,(0,Zd._y)("")}e=new a}return Yp(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function Gg(t,e,n,r,i,o,a){Sg(e);var s=i&&i.normal.cfg;s&&e.setTextConfig(s),r&&null==r.transition&&(r.transition=Ng);var l=r&&r.style;if(l){if("text"===e.type){var u=l;(0,b.RI)(u,"textFill")&&(u.fill=u.textFill),(0,b.RI)(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,h=Rg(e)?l.decal:null;t&&h&&(h.dirty=!0,c=(0,pa.I)(h,t)),l.__decalPattern=c}jg(e)&&(l&&(c=l.__decalPattern)&&(l.decal=c));hg(e,r,o,{dataIndex:n,isInit:a,clearStyle:!0}),Mg(e,r.keyframeAnimation,o)}function Vg(t,e,n,r,i){var o=e.isGroup?null:e,a=i&&i[t].cfg;if(o){var s=o.ensureState(t);if(!1===r){var l=o.getState(t);l&&(l.style=null)}else s.style=r||null;a&&(s.textConfig=a),(0,Ht.MA)(o)}}function Zg(t,e,n){var r=n===Eg,i=r?e:Kg(e,n),o=i?i.z2:null;null!=o&&((r?t:t.ensureState(n)).z2=o||0)}function Ug(t,e,n,r){var i=t.get("renderItem"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):Pg[o.type](o));for(var s,l,u=(0,b.ce)({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)},style:function(n,r){0;null==r&&(r=s);var i=e.getItemVisual(r,"style"),o=i&&i.fill,a=i&&i.opacity,l=y(r,Eg).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var u={inheritColor:(0,b.HD)(o)?o:"#000"},c=x(r,Eg),h=qt.Lr(c,null,u,!1,!0);h.text=c.getShallow("show")?(0,b.pD)(t.getFormattedLabel(r,Eg),Yt(e,r)):null;var d=qt.nC(c,u,!1);return w(n,l),l=rg(l,h,d),n&&_(l,n),l.legacy=!0,l},ordinalRawValue:function(t,n){null==n&&(n=s),t=t||0;var r=e.getDimensionInfo(t);if(!r){var i=e.getDimensionIndex(t);return i>=0?e.getStore().get(i,n):void 0}var o=e.get(r.name,n),a=r&&r.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,r){0;null==r&&(r=s);var i=y(r,kg).getItemStyle(),o=x(r,kg),a=qt.Lr(o,null,null,!0,!0);a.text=o.getShallow("show")?(0,b.R1)(t.getFormattedLabel(r,kg),t.getFormattedLabel(r,Eg),Yt(e,r)):null;var l=qt.nC(o,null,!0);return w(n,i),i=rg(i,a,l),n&&_(i,n),i.legacy=!0,i},visual:function(t,n){if(null==n&&(n=s),(0,b.RI)(Hp,t)){var r=e.getItemVisual(n,"style");return r?r[Hp[t]]:null}if((0,b.RI)(Wp,t))return e.getItemVisual(n,t)},barLayout:function(t){if("cartesian2d"===o.type){var e=o.getBaseAxis();return(0,Ue.Gk)((0,b.ce)({axis:e},t))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return qt.qT(t,n)}},a.api||{}),c={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:Hg(t.getData())},h={},d={},f={},p={},g=0;g<Ig.length;g++){var m=Ig[g];f[m]=t.getModel(Cg[m]),p[m]=t.getModel(Dg[m])}function v(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function y(t,n){return e.hasItemOption?t===s?h[n]||(h[n]=v(t).getModel(Cg[n])):v(t).getModel(Cg[n]):f[n]}function x(t,n){return e.hasItemOption?t===s?d[n]||(d[n]=v(t).getModel(Dg[n])):v(t).getModel(Dg[n]):p[n]}return function(t,n){return s=t,l=null,h={},d={},i&&i((0,b.ce)({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},c),u)};function _(t,e){for(var n in e)(0,b.RI)(e,n)&&(t[n]=e[n])}function w(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function Hg(t){var e={};return(0,b.S6)(t.dimensions,(function(n){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim;(e[i]=e[i]||[])[r.coordDimIndex]=t.getDimensionIndex(n)}})),e}function Wg(t,e,n,r,i,o,a){if(r){var s=Yg(t,e,n,r,i,o);return s&&a.setItemGraphicEl(n,s),s&&(0,Ht.k5)(s,r.focus,r.blurScope,r.emphasisDisabled),s}o.remove(e)}function Yg(t,e,n,r,i,o){var a=-1,s=e;e&&Xg(e,r,i)&&(a=(0,b.cq)(o.childrenRef(),e),e=null);var l,u,c=!e,h=e;h?h.clearStates():(h=Fg(r),s&&(l=s,(u=h).copyTransform(l),jg(u)&&jg(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,Rg(u)&&Rg(l)&&u.setShape(l.shape)))),!1===r.morph?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),Lg.normal.cfg=Lg.normal.conOpt=Lg.emphasis.cfg=Lg.emphasis.conOpt=Lg.blur.cfg=Lg.blur.conOpt=Lg.select.cfg=Lg.select.conOpt=null,Lg.isLegacy=!1,function(t,e,n,r,i,o){if(t.isGroup)return;qg(n,null,o),qg(n,kg,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var c=t.getTextContent();if(!1===a)c&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=Fg(a),t.setTextContent(c)),Gg(null,c,e,a,null,r,i);for(var h=a&&a.style,d=0;d<Ig.length;d++){var f=Ig[d];if(f!==Eg){var p=o[f].conOpt;Vg(f,c,0,$g(a,p,f),null)}}h?c.dirty():c.markRedraw()}}}(h,n,r,i,c,Lg),function(t,e,n,r,i){var o=n.clipPath;if(!1===o)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&Xg(a,o,r)&&(a=null),a||(a=Fg(o),t.setClipPath(a)),Gg(null,a,e,o,null,r,i)}}(h,n,r,i,c),Gg(t,h,n,r,Lg,i,c),(0,b.RI)(r,"info")&&(Yp(h).info=r.info);for(var d=0;d<Ig.length;d++){var f=Ig[d];if(f!==Eg){var p=Kg(r,f);Vg(f,h,0,$g(r,p,f),Lg)}}return function(t,e,n){if(!t.isGroup){var r=t,i=n.currentZ,o=n.currentZLevel;r.z=i,r.zlevel=o;var a=e.z2;null!=a&&(r.z2=a||0);for(var s=0;s<Ig.length;s++)Zg(r,e,Ig[s])}}(h,r,i),"group"===r.type&&function(t,e,n,r,i){var o=r.children,a=o?o.length:0,s=r.$mergeChildren,l="byName"===s||r.diffChildrenByName,u=!1===s;if(!a&&!l&&!u)return;if(l)return c={api:t,oldChildren:e.children()||[],newChildren:o||[],dataIndex:n,seriesModel:i,group:e},void new Qs.Z(c.oldChildren,c.newChildren,Qg,Qg,c).add(tm).update(tm).remove(em).execute();var c;u&&e.removeAll();for(var h=0;h<a;h++){var d=o[h],f=e.childAt(h);d?(null==d.ignore&&(d.ignore=!1),Yg(t,f,n,d,i,e)):f.ignore=!0}for(var p=e.childCount()-1;p>=h;p--){var g=e.childAt(p);Jg(e,g,i)}}(t,h,n,r,i),a>=0?o.replaceAt(h,a):o.add(h),h}function Xg(t,e,n){var r,i=Yp(t),o=e.type,a=e.shape,s=e.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==i.customGraphicType||"path"===o&&((r=a)&&((0,b.RI)(r,"pathData")||(0,b.RI)(r,"d")))&&nm(a)!==i.customPathData||"image"===o&&(0,b.RI)(s,"image")&&s.image!==i.customImagePath}function qg(t,e,n){var r=e?Kg(t,e):t,i=e?$g(t,r,kg):t.style,o=t.type,a=r?r.textConfig:null,s=t.textContent,l=s?e?Kg(s,e):s:null;if(i&&(n.isLegacy||tg(i,o,!!a,!!l))){n.isLegacy=!0;var u=eg(i,o,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var h=e?n[e]:n.normal;h.cfg=a,h.conOpt=l}function Kg(t,e){return e?t?t[e]:null:t}function $g(t,e,n){var r=e&&e.style;return null==r&&n===kg&&t&&(r=t.styleEmphasis),r}function Jg(t,e,n){e&&fg(e,Yp(t).option,n)}function Qg(t,e){var n=t&&t.name;return null!=n?n:Og+e}function tm(t,e){var n=this.context,r=null!=t?n.newChildren[t]:null,i=null!=e?n.oldChildren[e]:null;Yg(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function em(t){var e=this.context,n=e.oldChildren[t];n&&fg(n,Yp(n).option,e.seriesModel)}function nm(t){return t&&(t.pathData||t.d)}var rm=(0,se.Yf)(),im=b.d9,om=b.ak,am=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,r){var i=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==i||this._lastStatus!==o){this._lastValue=i,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,i,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(t,e);if(a){var h=b.WA(sm,e,c);this.updatePointerEl(a,l,h),this.updateLabelEl(a,l,h,e)}else a=this._group=new Bt.Z,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),n.getZr().add(a);hm(a,e,!0),this._renderHandle(i)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,i="category"===r.type,o=e.get("snap");if(!o&&!i)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(i&&r.getBandWidth()>a)return!0;if(o){var s=fi(t).seriesDataCount,l=r.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,r,i){},t.prototype.createPointerEl=function(t,e,n,r){var i=e.pointer;if(i){var o=rm(t).pointerEl=new Zt[i.type](im(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,r){if(e.label){var i=rm(t).labelEl=new X.ZP(im(e.label));t.add(i),um(i,r)}},t.prototype.updatePointerEl=function(t,e,n){var r=rm(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,r){var i=rm(t).labelEl;i&&(i.setStyle(e.label.style),n(i,{x:e.label.x,y:e.label.y}),um(i,r))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=Zt.createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){eo.sT(t.event)},onmousedown:om(this._onHandleDragMove,this,0,0),drift:om(this._onHandleDragMove,this),ondragend:om(this._onHandleDragEnd,this)}),r.add(i)),hm(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");b.kJ(s)||(s=[s,s]),i.scaleX=s[0]/2,i.scaleY=s[1]/2,Ke.T9(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){sm(this._axisPointerModel,!e&&this._moveAnimation,this._handle,cm(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(cm(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(cm(r)),rm(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Ke.ZH(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function sm(t,e,n,r){lm(rm(n).lastProp,r)||(rm(n).lastProp=r,e?Vt.D(n,r,t):(n.stopAnimation(),n.attr(r)))}function lm(t,e){if(b.Kn(t)&&b.Kn(e)){var n=!0;return b.S6(e,(function(e,r){n=n&&lm(t[r],e)})),!!n}return t===e}function um(t,e){t[e.get(["label","show"])?"show":"hide"]()}function cm(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function hm(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=i&&(t.zlevel=i),t.silent=n)}))}var dm=am;function fm(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle()).fill=null:"shadow"===n&&((e=r.getAreaStyle()).stroke=null),e}function pm(t,e,n,r,i){var o=gm(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=ke.MY(a.get("padding")||0),l=a.getFont(),c=u.lP(o,l),h=i.position,d=c.width+s[1]+s[3],f=c.height+s[0]+s[2],p=i.align;"right"===p&&(h[0]-=d),"center"===p&&(h[0]-=d/2);var g=i.verticalAlign;"bottom"===g&&(h[1]-=f),"middle"===g&&(h[1]-=f/2),function(t,e,n,r){var i=r.getWidth(),o=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,d,f,r);var m=a.get("backgroundColor");m&&"auto"!==m||(m=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:(0,qt.Lr)(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:m}),z2:10}}function gm(t,e,n,r,i){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:i.precision}),a=i.formatter;if(a){var s={value:xr.DX(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};b.S6(r,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,i=e&&e.getDataParams(r);i&&s.seriesData.push(i)})),b.HD(a)?o=a.replace("{value}",o):b.mf(a)&&(o=a(s))}return o}function mm(t,e,n){var r=wr.Ue();return wr.U1(r,r,n.rotation),wr.Iu(r,r,n.position),Zt.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function vm(t,e,n,r,i,o){var a=ci.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),pm(e,r,i,o,{position:mm(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function ym(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function bm(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function xm(t,e,n,r,i,o){return{cx:t,cy:e,r0:n,r:r,startAngle:i,endAngle:o,clockwise:!0}}var _m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,r,i){var o=n.axis,a=o.grid,s=r.get("type"),l=wm(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var c=fm(r),h=Sm[s](o,u,l);h.style=c,t.graphicKey=h.type,t.pointer=h}vm(e,t,Zr(a.model,n),n,r,i)},e.prototype.getHandleTransform=function(t,e,n){var r=Zr(e.axis.grid.model,e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=mm(e.axis,t,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var i=n.axis,o=i.grid,a=i.getGlobalExtent(!0),s=wm(o,i).getOtherAxis(i).getGlobalExtent(),l="x"===i.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var c=(s[1]+s[0])/2,h=[c,c];h[l]=u[l];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(dm);function wm(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var Sm={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:ym([e,n[0]],[e,n[1]],Mm(t))}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:bm([e-r/2,n[0]],[r,i],Mm(t))}}};function Mm(t){return"x"===t.dim?0:1}var km=_m,Em=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(sr.Z),Am=Em,Tm=n("./node_modules/zrender/lib/core/env.js"),Im=(0,se.Yf)(),Cm=b.S6;function Dm(t,e,n){if(!Tm.Z.node){var r=e.getZr();Im(r).records||(Im(r).records={}),function(t,e){if(Im(t).initialized)return;function n(n,r){t.on(n,(function(n){var i=function(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}(e);Cm(Im(t).records,(function(t){t&&r(t,n,i.dispatchAction)})),function(t,e){var n,r=t.showTip.length,i=t.hideTip.length;r?n=t.showTip[r-1]:i&&(n=t.hideTip[i-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(i.pendings,e)}))}Im(t).initialized=!0,n("click",b.WA(Om,"click")),n("mousemove",b.WA(Om,"mousemove")),n("globalout",Nm)}(r,e),(Im(r).records[t]||(Im(r).records[t]={})).handler=n}}function Nm(t,e,n){t.handler("leave",null,n)}function Om(t,e,n,r){e.handler(t,n,r)}function Lm(t,e){if(!Tm.Z.node){var n=e.getZr();(Im(n).records||{})[t]&&(Im(n).records[t]=null)}}var Pm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=e.getComponent("tooltip"),i=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";Dm("axisPointer",n,(function(t,e,n){"none"!==i&&("leave"===t||i.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){Lm("axisPointer",e)},e.prototype.dispose=function(t,e){Lm("axisPointer",e)},e.type="axisPointer",e}(ar.Z),Rm=Pm;function jm(t,e){var n,r=[],i=t.seriesIndex;if(null==i||!(n=e.getSeriesByIndex(i)))return{point:[]};var o=n.getData(),a=se.gO(o,t);if(null==a||a<0||b.kJ(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u).dim,h=u.dim,d="x"===c||"radius"===c?1:0,f=o.mapDimension(h),p=[];p[d]=o.get(f,a),p[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),r=l.dataToPoint(p)||[]}else r=l.dataToPoint(o.getValues(b.UI(l.dimensions,(function(t){return o.mapDimension(t)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var zm=(0,se.Yf)();function Bm(t,e,n){var r=t.currTrigger,i=[t.x,t.y],o=t,a=t.dispatchAction||(0,b.ak)(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Um(i)&&(i=jm({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Um(i),u=o.axesInfo,c=s.axesInfo,h="leave"===r||Um(i),d={},f={},p={list:[],map:{}},g={showPointer:(0,b.WA)(Gm,f),showTooltip:(0,b.WA)(Vm,p)};(0,b.S6)(s.coordSysMap,(function(t,e){var n=l||t.containPoint(i);(0,b.S6)(s.coordSysAxesInfo[e],(function(t,e){var r=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}(u,t);if(!h&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=r.pointToData(i)),null!=a&&Fm(t,a,g,!1,d)}}))}));var m={};return(0,b.S6)(c,(function(t,e){var n=t.linkGroup;n&&!f[e]&&(0,b.S6)(n.axesInfo,(function(e,r){var i=f[r];if(e!==t&&i){var o=i.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,Zm(e),Zm(t)))),m[t.key]=o}}))})),(0,b.S6)(m,(function(t,e){Fm(c[e],t,g,!0,d)})),function(t,e,n){var r=n.axesInfo=[];(0,b.S6)(e,(function(e,n){var i=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(i.status="show"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})}))}(f,c,d),function(t,e,n,r){if(Um(e)||!t.list.length)return void r({type:"hideTip"});var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}(p,i,t,a),function(t,e,n){var r=n.getZr(),i="axisPointerLastHighlights",o=zm(r)[i]||{},a=zm(r)[i]={};(0,b.S6)(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&t.triggerEmphasis&&(0,b.S6)(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var s=[],l=[];(0,b.S6)(o,(function(t,e){!a[e]&&l.push(t)})),(0,b.S6)(a,(function(t,e){!o[e]&&s.push(t)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(c,0,n),d}}function Fm(t,e,n,r,i){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,r=n.dim,i=t,o=[],a=Number.MAX_VALUE,s=-1;return(0,b.S6)(e.seriesModels,(function(e,l){var u,c,h=e.getData().mapDimensionsAll(r);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(h,t,n);c=d.dataIndices,u=d.nestestValue}else{if(!(c=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null)).length)return;u=e.getData().get(h[0],c[0])}if(null!=u&&isFinite(u)){var f=t-u,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,i=u,o.length=0),(0,b.S6)(c,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:i}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==i.seriesIndex&&(0,b.l7)(i,s[0]),!r&&t.snap&&o.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}else n.showPointer(t,e)}function Gm(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function Vm(t,e,n,r){var i=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var l=e.coordSys.model,u=gi(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Zm(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function Um(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Hm(t){yi.registerAxisPointerClass("CartesianAxisPointer",km),t.registerComponentModel(Am),t.registerComponentView(Rm),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!(0,b.kJ)(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=hi(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Bm)}var Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,r,i){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(e),u=r.get("type");if(u&&"none"!==u){var c=fm(r),h=Ym[u](o,a,l,s);h.style=c,t.graphicKey=h.type,t.pointer=h}var d=function(t,e,n,r,i){var o=e.axis,a=o.dataToCoord(t),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,c,h=r.getRadiusAxis().getExtent();if("radius"===o.dim){var d=wr.Ue();wr.U1(d,d,s),wr.Iu(d,d,[r.cx,r.cy]),l=Zt.applyTransform([a,-i],d);var f=e.getModel("axisLabel").get("rotate")||0,p=ci.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,c=p.textVerticalAlign}else{var g=h[1];l=r.coordToPoint([g+i,a]);var m=r.cx,v=r.cy;u=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",c=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:c}}(e,n,0,a,r.get(["label","margin"]));pm(t,n,r,i,d)},e}(dm);var Ym={line:function(t,e,n,r){return"angle"===t.dim?{type:"Line",shape:ym(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:xm(e.cx,e.cy,r[0],r[1],(-n-i/2)*o,(i/2-n)*o)}:{type:"Sector",shape:xm(e.cx,e.cy,n-i/2,n+i/2,0,2*Math.PI)}}},Xm=Wm,qm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(sr.Z),Km=qm,$m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",se.C6).models[0]},e.type="polarAxis",e}(sr.Z);b.jB($m,cr.W);var Jm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="angleAxis",e}($m),Qm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="radiusAxis",e}($m),tv=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return(0,Pt.ZT)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(Fr);tv.prototype.dataToRadius=Fr.prototype.dataToCoord,tv.prototype.radiusToData=Fr.prototype.coordToData;var ev=tv,nv=(0,se.Yf)(),rv=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return(0,Pt.ZT)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),n=t.scale,r=n.getExtent(),i=n.count();if(r[1]-r[0]<1)return 0;var o=r[0],a=t.dataToCoord(o+1)-t.dataToCoord(o),s=Math.abs(a),l=u.lP(null==o?"":o+"",e.getFont(),"center","top"),c=Math.max(l.height,7)/s;isNaN(c)&&(c=1/0);var h=Math.max(0,Math.floor(c)),d=nv(t.model),f=d.lastAutoInterval,p=d.lastTickCount;return null!=f&&null!=p&&Math.abs(f-h)<=1&&Math.abs(p-i)<=1&&f>h?h=f:(d.lastTickCount=i,d.lastAutoInterval=h),h},e}(Fr);rv.prototype.dataToAngle=Fr.prototype.dataToCoord,rv.prototype.angleToData=Fr.prototype.coordToData;var iv=rv,ov=["radius","angle"],av=function(){function t(t){this.dimensions=ov,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new ev,this._angleAxis=new iv,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l<o?1:-1;l<o||l>a;)l+=360*u;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,r=e-this.cy,i=n*n+r*r-1e-4,o=this.r,a=this.r0;return i<=o*o&&i>=a*a}}},t.prototype.convertToPixel=function(t,e,n){return sv(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return sv(e)===this?this.pointToData(n):null},t}();function sv(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var lv=av;function uv(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();b.S6((0,xr.PY)(e,"radius"),(function(t){i.scale.unionExtentFromData(e,t)})),b.S6((0,xr.PY)(e,"angle"),(function(t){r.scale.unionExtentFromData(e,t)}))}})),(0,xr.Jk)(r.scale,r.model),(0,xr.Jk)(i.scale,i.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}}function cv(t,e){if(t.type=e.get("type"),t.scale=(0,xr.aG)(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),function(t){return"angleAxis"===t.mainType}(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var hv={dimensions:ov,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,r){var i=new lv(r+"");i.update=uv;var o=i.getRadiusAxis(),a=i.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");cv(o,s),cv(a,l),function(t,e,n){var r=e.get("center"),i=n.getWidth(),o=n.getHeight();t.cx=(0,xe.GM)(r[0],i),t.cy=(0,xe.GM)(r[1],o);var a=t.getRadiusAxis(),s=Math.min(i,o)/2,l=e.get("radius");null==l?l=[0,"100%"]:b.kJ(l)||(l=[0,l]);var u=[(0,xe.GM)(l[0],s),(0,xe.GM)(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(i,t,e),n.push(i),t.coordinateSystem=i,i.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",se.C6).models[0];0,t.coordinateSystem=e.coordinateSystem}})),n}},dv=hv,fv=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function pv(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function gv(t){return t.getRadiusAxis().inverse?0:1}function mv(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var vv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=b.UI(n.getViewLabels(),(function(t){t=b.d9(t);var e=n.scale,r="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(r),t}));mv(s),mv(o),b.S6(fv,(function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||yv[e](this.group,t,r,o,a,i,s)}),this)}},e.type="angleAxis",e}(yi),yv={axisLine:function(t,e,n,r,i,o){var a,s=e.getModel(["axisLine","lineStyle"]),l=gv(n),u=l?0:1;(a=0===o[u]?new Hi.Z({shape:{cx:n.cx,cy:n.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Wi.Z({shape:{cx:n.cx,cy:n.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,n,r,i,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[gv(n)],u=b.UI(r,(function(t){return new ei.Z({shape:pv(n,[l,l+s],t.coord)})}));t.add(Zt.mergePath(u,{style:b.ce(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,r,i,o){if(i.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[gv(n)],c=[],h=0;h<i.length;h++)for(var d=0;d<i[h].length;d++)c.push(new ei.Z({shape:pv(n,[u,u+l],i[h][d].coord)}));t.add(Zt.mergePath(c,{style:b.ce(s.getModel("lineStyle").getLineStyle(),b.ce(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,r,i,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");b.S6(a,(function(r,i){var a=l,h=r.tickValue,d=o[gv(n)],f=n.coordToPoint([d+u,r.coord]),p=n.cx,g=n.cy,m=Math.abs(f[0]-p)/d<.3?"center":f[0]>p?"left":"right",v=Math.abs(f[1]-g)/d<.3?"middle":f[1]>g?"top":"bottom";if(s&&s[h]){var y=s[h];b.Kn(y)&&y.textStyle&&(a=new ni.Z(y.textStyle,l,l.ecModel))}var x=new X.ZP({silent:ci.isLabelSilent(e),style:(0,qt.Lr)(a,{x:f[0],y:f[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:m,verticalAlign:v})});if(t.add(x),c){var _=ci.makeAxisEventDataBase(e);_.targetType="axisLabel",_.value=r.rawLabel,(0,Ut.A)(x).eventData=_}}),this)},splitLine:function(t,e,n,r,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<r.length;c++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new ei.Z({shape:pv(n,o,r[c].coord)}))}for(c=0;c<u.length;c++)t.add(Zt.mergePath(u[c],{style:b.ce({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,r,i,o){if(i.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<i.length;l++)for(var u=0;u<i[l].length;u++)s.push(new ei.Z({shape:pv(n,o,i[l][u].coord)}));t.add(Zt.mergePath(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,r,i,o){if(r.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=Math.PI/180,h=-r[0].coord*c,d=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),p=e.get("clockwise"),g=1,m=r.length;g<=m;g++){var v=g===m?r[0].coord:r[g].coord,y=l++%s.length;u[y]=u[y]||[],u[y].push(new be.C({shape:{cx:n.cx,cy:n.cy,r0:d,r:f,startAngle:h,endAngle:-v*c,clockwise:p},silent:!0})),h=-v*c}for(g=0;g<u.length;g++)t.add(Zt.mergePath(u[g],{style:b.ce({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},bv=vv,xv=["axisLine","axisTickLabel","axisName"],_v=["splitLine","splitArea","minorSplitLine"],wv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,r=this._axisGroup=new Bt.Z;this.group.add(r);var i=t.axis,o=i.polar,a=o.getAngleAxis(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=a.getExtent()[0],c=i.getExtent(),h=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(o,t,u),d=new ci(t,h);b.S6(xv,d.add,d),r.add(d.getGroup()),Zt.groupTransition(n,r,t),b.S6(_v,(function(e){t.get([e,"show"])&&!i.scale.isBlank()&&Sv[e](this.group,t,o,u,c,s,l)}),this)}},e.type="radiusAxis",e}(yi),Sv={splitLine:function(t,e,n,r,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<o.length;c++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Hi.Z({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[c].coord,0)}}))}for(c=0;c<u.length;c++)t.add(Zt.mergePath(u[c],{style:b.ce({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,r,i,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new Hi.Z({shape:{cx:n.cx,cy:n.cy,r:a[u][c].coord}}));t.add(Zt.mergePath(l,{style:b.ce({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,r,i,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=o[0].coord,h=1;h<o.length;h++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new be.C({shape:{cx:n.cx,cy:n.cy,r0:c,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[h].coord}for(h=0;h<u.length;h++)t.add(Zt.mergePath(u[h],{style:b.ce({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}};var Mv=wv;function kv(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Ev(t,e){return e.dim+t.model.componentIndex}var Av=function(t,e,n){var r={},i=function(t){var e={};b.S6(t,(function(t,n){var r=t.getData(),i=t.coordinateSystem,o=i.getBaseAxis(),a=Ev(i,o),s=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/r.count(),u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;e[a]=u;var h=kv(t);c[h]||u.autoWidthCount++,c[h]=c[h]||{width:0,maxWidth:0};var d=(0,xe.GM)(t.get("barWidth"),l),f=(0,xe.GM)(t.get("barMaxWidth"),l),p=t.get("barGap"),g=t.get("barCategoryGap");d&&!c[h].width&&(d=Math.min(u.remainedWidth,d),c[h].width=d,u.remainedWidth-=d),f&&(c[h].maxWidth=f),null!=p&&(u.gap=p),null!=g&&(u.categoryGap=g)}));var n={};return b.S6(e,(function(t,e){n[e]={};var r=t.stacks,i=t.bandWidth,o=(0,xe.GM)(t.categoryGap,i),a=(0,xe.GM)(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),b.S6(r,(function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)})),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var c,h=0;b.S6(r,(function(t,e){t.width||(t.width=u),c=t,h+=t.width*(1+a)})),c&&(h-=c.width*a);var d=-h/2;b.S6(r,(function(t,r){n[e][r]=n[e][r]||{offset:d,width:t.width},d+=t.width*(1+a)}))})),n}(b.hX(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=Ev(n,o),s=kv(t),l=i[a][s],u=l.offset,c=l.width,h=n.getOtherAxis(o),d=t.coordinateSystem.cx,f=t.coordinateSystem.cy,p=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0;r[s]=r[s]||[];for(var m=e.mapDimension(h.dim),v=e.mapDimension(o.dim),y=(0,ne.M)(e,m),b="radius"!==o.dim||!t.get("roundCap",!0),x=h.dataToCoord(0),_=0,w=e.count();_<w;_++){var S=e.get(m,_),M=e.get(v,_),k=S>=0?"p":"n",E=x;y&&(r[s][M]||(r[s][M]={p:x,n:x}),E=r[s][M][k]);var A=void 0,T=void 0,I=void 0,C=void 0;if("radius"===h.dim){var D=h.dataToCoord(S)-x,N=o.dataToCoord(M);Math.abs(D)<p&&(D=(D<0?-1:1)*p),A=E,T=E+D,C=(I=N-u)-c,y&&(r[s][M][k]=T)}else{var O=h.dataToCoord(S,b)-x,L=o.dataToCoord(M);Math.abs(O)<g&&(O=(O<0?-1:1)*g),T=(A=L+u)+c,I=E,C=E+O,y&&(r[s][M][k]=C)}e.setItemLayout(_,{cx:d,cy:f,r0:A,r:T,startAngle:-I*Math.PI/180,endAngle:-C*Math.PI/180,clockwise:I>=C})}}}))},Tv={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Iv={splitNumber:5},Cv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="polar",e}(ar.Z);function Dv(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,i={},o=r.position,a=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]];i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),b.Jv(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var c=e.rotate;return null==c&&(c=t.get(["axisLabel","rotate"])),i.labelRotation="top"===o?-c:c,i.z2=1,i}var Nv=["axisLine","axisTickLabel","axisName"],Ov=["splitArea","splitLine"],Lv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return(0,Pt.ZT)(e,t),e.prototype.render=function(e,n,r,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new Bt.Z;var s=Dv(e),l=new ci(e,s);b.S6(Nv,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),b.S6(Ov,(function(t){e.get([t,"show"])&&Pv[t](this,this.group,this._axisGroup,e)}),this),Zt.groupTransition(a,this._axisGroup,e),t.prototype.render.call(this,e,n,r,i)},e.prototype.remove=function(){_i(this)},e.type="singleAxis",e}(yi),Pv={splitLine:function(t,e,n,r){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),u=r.coordinateSystem.getRect(),c=i.isHorizontal(),h=[],d=0,f=i.getTicksCoords({tickModel:o}),p=[],g=[],m=0;m<f.length;++m){var v=i.toGlobalCoord(f[m].coord);c?(p[0]=v,p[1]=u.y,g[0]=v,g[1]=u.y+u.height):(p[0]=u.x,p[1]=v,g[0]=u.x+u.width,g[1]=v);var y=new ei.Z({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});Zt.subPixelOptimizeLine(y.shape,l);var x=d++%s.length;h[x]=h[x]||[],h[x].push(y)}var _=a.getLineStyle(["color"]);for(m=0;m<h.length;++m)e.add(Zt.mergePath(h[m],{style:b.ce({stroke:s[m%s.length]},_),silent:!0}))}},splitArea:function(t,e,n,r){xi(t,n,r,r)}},Rv=Lv,jv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(sr.Z);(0,b.jB)(jv,cr.W.prototype);var zv=jv,Bv=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r)||this;return a.type=i||"value",a.position=o||"bottom",a}return(0,Pt.ZT)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(Fr),Fv=Bv,Gv=["single"];function Vv(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var Zv=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=Gv,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var r=this.dimension,i=new Fv(r,xr.aG(t),[0,0],t.get("type"),t.get("position")),o="category"===i.type;i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();(0,b.S6)(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),xr.Jk(this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=(0,Mn.ME)({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],i=e.inverse?1:0;e.setExtent(r[i],r[1-i]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),r=n[0]+n[1],i=t.isHorizontal();t.toGlobalCoord=i?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord=i?function(t){return t-e}:function(t){return r-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[i]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r},t.prototype.convertToPixel=function(t,e,n){return Vv(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return Vv(e)===this?this.pointToData(n):null},t}();var Uv={create:function(t,e){var n=[];return t.eachComponent("singleAxis",(function(r,i){var o=new Zv(r,t,e);o.name="single_"+i,o.resize(r,e),r.coordinateSystem=o,n.push(o)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",se.C6).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n},dimensions:Gv},Hv=["x","y"],Wv=["width","height"],Yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,r,i){var o=n.axis,a=o.coordinateSystem,s=Kv(a,1-qv(o)),l=a.dataToPoint(e)[0],u=r.get("type");if(u&&"none"!==u){var c=fm(r),h=Xv[u](o,l,s);h.style=c,t.graphicKey=h.type,t.pointer=h}vm(e,t,Dv(n),n,r,i)},e.prototype.getHandleTransform=function(t,e,n){var r=Dv(e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=mm(e.axis,t,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var i=n.axis,o=i.coordinateSystem,a=qv(i),s=Kv(o,a),l=[t.x,t.y];l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=Kv(o,1-a),c=(u[1]+u[0])/2,h=[c,c];return h[a]=l[a],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e}(dm),Xv={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:ym([e,n[0]],[e,n[1]],qv(t))}},shadow:function(t,e,n){var r=t.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:bm([e-r/2,n[0]],[r,i],qv(t))}}};function qv(t){return t.isHorizontal()?0:1}function Kv(t,e){var n=t.getRect();return[n[Hv[e]],n[Hv[e]]+n[Wv[e]]]}var $v=Yv,Jv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="single",e}(ar.Z);var Qv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(e,n,r){var i=(0,Mn.tE)(e);t.prototype.init.apply(this,arguments),ty(e,i)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),ty(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(sr.Z);function ty(t,e){var n,r=t.cellSize;1===(n=b.kJ(r)?r:t.cellSize=[r,r]).length&&(n[1]=n[0]);var i=b.UI([0,1],(function(t){return(0,Mn.QM)(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));(0,Mn.dt)(t,e,{type:"box",ignoreSize:i})}var ey=Qv,ny=n("./node_modules/echarts/lib/core/locale.js"),ry=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r=this.group;r.removeAll();var i=t.coordinateSystem,o=i.getRangeInfo(),a=i.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,o,r),this._renderLines(t,o,a,r),this._renderYearText(t,o,a,r),this._renderMonthText(t,s,a,r),this._renderWeekText(t,s,o,a,r)},e.prototype._renderDayRect=function(t,e,n){for(var r=t.coordinateSystem,i=t.getModel("itemStyle").getItemStyle(),o=r.getCellWidth(),a=r.getCellHeight(),s=e.start.time;s<=e.end.time;s=r.getNextNDay(s,1).time){var l=r.dataToRect([s],!1).tl,u=new ye.Z({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:i});n.add(u)}},e.prototype._renderLines=function(t,e,n,r){var i=this,o=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,c=0;u.time<=e.end.time;c++){d(u.formatedDate),0===c&&(u=o.getDateInfo(e.start.y+"-"+e.start.m));var h=u.date;h.setMonth(h.getMonth()+1),u=o.getDateInfo(h)}function d(e){i._firstDayOfMonth.push(o.getDateInfo(e)),i._firstDayPoints.push(o.dataToRect([e],!1).tl);var l=i._getLinePointsOfOneWeek(t,e,n);i._tlpoints.push(l[0]),i._blpoints.push(l[l.length-1]),s&&i._drawSplitline(l,a,r)}d(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,l,n),a,r),s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,l,n),a,r)},e.prototype._getEdgesPoints=function(t,e,n){var r=[t[0].slice(),t[t.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-e/2,r[1][i]=r[1][i]+e/2,r},e.prototype._drawSplitline=function(t,e,n){var r=new Dn.Z({z2:20,shape:{points:t},style:e});n.add(r)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var r=t.coordinateSystem,i=r.getDateInfo(e),o=[],a=0;a<7;a++){var s=r.getNextNDay(i.time,a),l=r.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,e){return(0,b.HD)(t)&&t?(0,ke.wx)(t,e):(0,b.mf)(t)?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,n,r,i){var o=e[0],a=e[1],s=["center","bottom"];"bottom"===r?(a+=i,s=["center","top"]):"left"===r?o-=i:"right"===r?(o+=i,s=["center","top"]):a-=i;var l=0;return"left"!==r&&"right"!==r||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,r){var i=t.getModel("yearLabel");if(i.get("show")){var o=i.get("margin"),a=i.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,h={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=i.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new X.ZP({z2:30,style:(0,qt.Lr)(i,{text:g})});m.attr(this._yearTextPositionControl(m,h[a],n,a,o)),r.add(m)}},e.prototype._monthTextPositionControl=function(t,e,n,r,i){var o="left",a="top",s=t[0],l=t[1];return"horizontal"===n?(l+=i,e&&(o="center"),"start"===r&&(a="bottom")):(s+=i,e&&(a="middle"),"start"===r&&(o="right")),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n,r){var i=t.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),l=i.get("align"),u=[this._tlpoints,this._blpoints];o&&!(0,b.HD)(o)||(o&&(e=(0,ny.G8)(o)||e),o=e.get(["time","monthAbbr"])||[]);var c="start"===s?0:1,h="horizontal"===n?0:1;a="start"===s?-a:a;for(var d="center"===l,f=0;f<u[c].length-1;f++){var p=u[c][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[h]=(m[h]+u[0][f+1][h])/2}var v=i.get("formatter"),y=o[+g.m-1],x={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:y},_=this._formatterLabel(v,x),w=new X.ZP({z2:30,style:(0,b.l7)((0,qt.Lr)(i,{text:_}),this._monthTextPositionControl(p,d,n,s,a))});r.add(w)}}},e.prototype._weekTextPositionControl=function(t,e,n,r,i){var o="center",a="middle",s=t[0],l=t[1],u="start"===n;return"horizontal"===e?(s=s+r+(u?1:-1)*i[0]/2,o=u?"right":"left"):(l=l+r+(u?1:-1)*i[1]/2,a=u?"bottom":"top"),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,r,i){var o=t.getModel("dayLabel");if(o.get("show")){var a=t.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek();if(!l||(0,b.HD)(l))l&&(e=(0,ny.G8)(l)||e),l=e.get(["time","dayOfWeekShort"])||(0,b.UI)(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}));var h=a.getNextNDay(n.end.time,7-n.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];u=(0,xe.GM)(u,Math.min(d[1],d[0])),"start"===s&&(h=a.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,g=a.getNextNDay(h,f),m=a.dataToRect([g.time],!1).center;p=Math.abs((f+c)%7);var v=new X.ZP({z2:30,style:(0,b.l7)((0,qt.Lr)(o,{text:l[p]}),this._weekTextPositionControl(m,r,s,u,d))});i.add(v)}}},e.type="calendar",e}(ar.Z),iy=ry,oy=864e5;function ay(t){var e=t.calendarModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem:null}var sy=function(){function t(e,n,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=xe.sG(t)).getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:""+n,i=t.getDate(),o=i<10?"0"+i:""+i,a=t.getDay();return{y:e+"",m:r,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+o,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];b.S6([0,1],(function(t){u(i,t)&&(o[r[t]]=i[t]*a[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Mn.ME(o,s);function u(t,e){return null!=t[e]&&"auto"!==t[e]}b.S6([0,1],(function(t){u(i,t)||(i[t]=l[r[t]]/a[t])})),this._sw=i[0],this._sh=i[1]},t.prototype.dataToPoint=function(t,e){b.kJ(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,i=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+oy))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},t.prototype.convertToPixel=function(t,e,n){var r=ay(e);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var r=ay(e);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(t){return!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(b.kJ(e)&&1===e.length&&(e=e[0]),b.kJ(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),i=r.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);t=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var r=Math.floor(n[1].time/oy)-Math.floor(n[0].time/oy)+1,i=new Date(n[0].time),o=i.getDate(),a=n[1].date.getDate();i.setDate(o+r-1);var s=i.getDate();if(s!==a)for(var l=i.getTime()-n[1].time>0?1:-1;(s=i.getDate())!==a&&(i.getTime()-n[1].time)*l>0;)r-=l,i.setDate(s-l);var u=Math.floor((r+n[0].day+6)/7),c=e?1-u:u-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:u,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var i=7*(t-1)-r.fweek+e,o=new Date(r.start.time);return o.setDate(+r.start.d+i),this.getDateInfo(o)},t.create=function(e,n){var r=[];return e.eachComponent("calendar",(function(i){var o=new t(i,e,n);r.push(o),i.coordinateSystem=o})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("calendarIndex")||0])})),r},t.dimensions=["time","value"],t}();function ly(t,e){var n;return b.S6(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}var uy=["transition","enterFrom","leaveTo"],cy=uy.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function hy(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var r=n?uy:cy,i=0;i<r.length;i++){var o=r[i];null==t[o]&&null!=e[o]&&(t[o]=e[o])}}var dy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return(0,Pt.ZT)(e,t),e.prototype.mergeOption=function(e,n){var r=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=r},e.prototype.optionUpdated=function(t,e){var n=this.option,r=(e?n:t).elements,i=n.elements=e?[]:n.elements,o=[];this._flatten(r,o,null);var a=se.ab(i,o,"normalMerge"),s=this._elOptionsToUpdate=[];b.S6(a,(function(t,e){var n=t.newOption;n&&(s.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var r=b.l7({},n),i=t[e],o=n.$action||"merge";"merge"===o?i?(b.TS(i,r,!0),(0,Mn.dt)(i,r,{ignoreSize:!0}),(0,Mn.QT)(n,i),hy(n,i),hy(n,i,"shape"),hy(n,i,"style"),hy(n,i,"extra"),n.clipPath=i.clipPath):t[e]=r:"replace"===o?t[e]=r:"remove"===o&&i&&(t[e]=null)}(i,e,n),function(t,e){if(t&&(t.hv=e.hv=[ly(e,["left","right"]),ly(e,["top","bottom"])],"group"===t.type)){var n=t,r=e;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}(i[e],n))}),this),n.elements=b.hX(i,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){b.S6(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var r=t.children;r&&r.length&&this._flatten(r,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(sr.Z),fy={path:null,compoundPath:null,group:Bt.Z,image:l.ZP,text:X.ZP},py=se.Yf(),gy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){this._elMap=b.kW()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,r=this.group,i=t.get("z"),o=t.get("zlevel");b.S6(e,(function(e){var a=se.U5(e.id,null),s=null!=a?n.get(a):null,l=se.U5(e.parentId,null),u=null!=l?n.get(l):r,c=e.type,h=e.style;"text"===c&&h&&e.hv&&e.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var d=e.textContent,f=e.textConfig;if(h&&tg(h,c,!!f,!!d)){var p=eg(h,c,!0);!f&&p.textConfig&&(f=e.textConfig=p.textConfig),!d&&p.textContent&&(d=p.textContent)}var g=function(t){return t=b.l7({},t),b.S6(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Mn.gN),(function(e){delete t[e]})),t}(e);var m=e.$action||"merge",v="merge"===m,y="replace"===m;if(v){var x=s;(A=!s)?x=vy(a,u,e.type,n):(x&&(py(x).isNew=!1),Sg(x)),x&&(hg(x,g,t,{isInit:A}),by(x,e,i,o))}else if(y){yy(s,e,n,t);var _=vy(a,u,e.type,n);_&&(hg(_,g,t,{isInit:!0}),by(_,e,i,o))}else"remove"===m&&(dg(s,e),yy(s,e,n,t));var w=n.get(a);if(w&&d)if(v){var S=w.getTextContent();S?S.attr(d):w.setTextContent(new X.ZP(d))}else y&&w.setTextContent(new X.ZP(d));if(w){var M=e.clipPath;if(M){var k=M.type,E=void 0,A=!1;if(v){var T=w.getClipPath();E=(A=!T||py(T).type!==k)?my(k):T}else y&&(A=!0,E=my(k));w.setClipPath(E),hg(E,M,t,{isInit:A}),Mg(E,M.keyframeAnimation,t)}var I=py(w);w.setTextConfig(f),I.option=e,function(t,e,n){var r=(0,Ut.A)(t).eventData;t.silent||t.ignore||r||(r=(0,Ut.A)(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});r&&(r.info=n.info)}(w,t,e),Zt.setTooltipConfig({el:w,componentModel:t,itemName:w.name,itemTooltipOption:e.tooltip}),Mg(w,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,r=this.group,i=this._elMap,o=e.getWidth(),a=e.getHeight(),s=["x","y"],l=0;l<n.length;l++){var u=n[l];if((p=null!=(f=se.U5(u.id,null))?i.get(f):null)&&p.isGroup){var c=(g=p.parent)===r,h=py(p),d=py(g);h.width=(0,xe.GM)(h.option.width,c?o:d.width)||0,h.height=(0,xe.GM)(h.option.height,c?a:d.height)||0}}for(l=n.length-1;l>=0;l--){var f,p;u=n[l];if(p=null!=(f=se.U5(u.id,null))?i.get(f):null){var g=p.parent,m=(d=py(g),g===r?{width:o,height:a}:{width:d.width,height:d.height}),v={},y=Mn.p$(p,u,m,null,{hv:u.hv,boundingMode:u.bounding},v);if(!py(p).isNew&&y){for(var x=u.transition,_={},w=0;w<s.length;w++){var S=s[w],M=v[S];x&&(pg(x)||b.cq(x,S)>=0)?_[S]=M:p[S]=M}(0,Vt.D)(p,_,t,0)}else p.attr(v)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){yy(n,py(n).option,e,t._lastGraphicModel)})),this._elMap=b.kW()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(ar.Z);function my(t){var e=new(b.RI(fy,t)?fy[t]:Zt.getShapeClass(t))({});return py(e).type=t,e}function vy(t,e,n,r){var i=my(n);return e.add(i),r.set(t,i),py(i).id=t,py(i).isNew=!0,i}function yy(t,e,n,r){t&&t.parent&&("group"===t.type&&t.traverse((function(t){yy(t,e,n,r)})),fg(t,e,r),n.removeKey(py(t).id))}function by(t,e,n,r){t.isGroup||b.S6([["cursor",ga.ZP.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],(function(n){var r=n[0];b.RI(e,r)?t[r]=b.pD(e[r],n[1]):null==t[r]&&(t[r]=n[1])})),b.S6(b.XP(e),(function(n){if(0===n.indexOf("on")){var r=e[n];t[n]=b.mf(r)?r:null}})),b.RI(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var xy=["x","y","radius","angle","single"],_y=["cartesian2d","polar","singleAxis"];function wy(t){return t+"Axis"}function Sy(t,e){var n,r=(0,b.kW)(),i=[],o=(0,b.kW)();t.eachComponent({mainType:"dataZoom",query:e},(function(t){o.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis((function(t,n){var i=r.get(t);i&&i[n]&&(e=!0)})),e}(t)&&(s(t),n=!0)}function s(t){o.set(t.uid,!0),i.push(t),t.eachTargetAxis((function(t,e){(r.get(t)||r.set(t,[]))[e]=!0}))}return i}function My(t){var e=t.ecModel,n={infoList:[],infoMap:(0,b.kW)()};return t.eachTargetAxis((function(t,r){var i=e.getComponent(wy(t),r);if(i){var o=i.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(i)}}})),n}var ky=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),Ey=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e,n){var r=Ay(t);this.settledOption=r,this.mergeDefaultAndTheme(t,n),this._doInit(r)},e.prototype.mergeOption=function(t){var e=Ay(t);(0,b.TS)(this.option,t,!0),(0,b.TS)(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;(0,b.S6)([["start","startValue"],["end","endValue"]],(function(t,r){"value"===this._rangePropMode[r]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=(0,b.kW)();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return(0,b.S6)(xy,(function(n){var r=this.getReferringComponents(wy(n),se.iP);if(r.specified){e=!0;var i=new ky;(0,b.S6)(r.models,(function(t){i.add(t.componentIndex)})),t.set(n,i)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,r=!0;if(r){var i="vertical"===e?"y":"x";o(n.findComponents({mainType:i+"Axis"}),i)}r&&o(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function o(e,n){var i=e[0];if(i){var o=new ky;if(o.add(i.componentIndex),t.set(n,o),r=!1,"x"===n||"y"===n){var a=i.getReferringComponents("grid",se.C6).models[0];a&&(0,b.S6)(e,(function(t){i.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",se.C6).models[0]&&o.add(t.componentIndex)}))}}}r&&(0,b.S6)(xy,(function(e){if(r){var i=n.findComponents({mainType:wy(e),filter:function(t){return"category"===t.get("type",!0)}});if(i[0]){var o=new ky;o.add(i[0].componentIndex),t.set(e,o),r=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");(0,b.S6)([["start","startValue"],["end","endValue"]],(function(r,i){var o=null!=t[r[0]],a=null!=t[r[1]];o&&!a?e[i]="percent":!o&&a?e[i]="value":n?e[i]=n[i]:o&&(e[i]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(wy(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,r){(0,b.S6)(n.indexList,(function(n){t.call(e,r,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(wy(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;(0,b.S6)([["start","startValue"],["end","endValue"]],(function(r){null==t[r[0]]&&null==t[r[1]]||(e[r[0]]=n[r[0]]=t[r[0]],e[r[1]]=n[r[1]]=t[r[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;(0,b.S6)(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var i=n[r],o=this._targetAxisInfoMap.get(i),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(i,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(sr.Z);function Ay(t){var e={};return(0,b.S6)(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var Ty=Ey,Iy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="dataZoom.select",e}(Ty),Cy=Iy,Dy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(ar.Z),Ny=Dy,Oy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="dataZoom.select",e}(Ny),Ly=Oy,Py=n("./node_modules/echarts/lib/coord/scaleRawExtentInfo.js"),Ry=b.S6,jy=xe.dt,zy=function(){function t(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(function(t){var e=t.get("coordinateSystem");return(0,b.cq)(_y,e)>=0}(e)){var n=wy(this._dimName),r=e.getReferringComponents(n,se.C6).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return b.d9(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,r=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];Ry(["start","end"],(function(l,u){var c=t[l],h=t[l+"Value"];"percent"===i[u]?(null==c&&(c=o[u]),h=r.parse(xe.NU(c,o,n))):(e=!0,h=null==h?n[u]:r.parse(h),c=xe.NU(h,n,o)),s[u]=null==h||isNaN(h)?n[u]:h,a[u]=null==c||isNaN(c)?o[u]:c})),jy(s),jy(a);var l=this._minMaxSpan;function u(t,e,n,i,o){var a=o?"Span":"ValueSpan";Wc(0,t,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)e[s]=xe.NU(t[s],n,i,!0),o&&(e[s]=r.parse(e[s]))}return e?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var r=[1/0,-1/0];Ry(n,(function(t){(0,xr.AH)(r,t.getData(),e)}));var i=t.getAxisModel(),o=(0,Py.Qw)(i.axis.scale,i,r).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;"none"!==i&&Ry(r,(function(t){var e=t.getData(),r=e.mapDimensionsAll(n);if(r.length){if("weakFilter"===i){var a=e.getStore(),s=b.UI(r,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,n,i,l=0;l<r.length;l++){var u=a.get(s[l],t),c=!isNaN(u),h=u<o[0],d=u>o[1];if(c&&!h&&!d)return!0;c&&(i=!0),h&&(e=!0),d&&(n=!0)}return i&&e&&n}))}else Ry(r,(function(n){if("empty"===i)t.setData(e=e.map(n,(function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN})));else{var r={};r[n]=o,e.selectRange(r)}}));Ry(r,(function(t){e.setApproximateExtent(o,t)}))}}))}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Ry(["min","max"],(function(r){var i=e.get(r+"Span"),o=e.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?i=xe.NU(n[0]+o,n,[0,100],!0):null!=i&&(o=xe.NU(i,[0,100],n,!0)-n[0]),t[r+"Span"]=i,t[r+"ValueSpan"]=o}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var r=xe.M9(n,[0,500]);r=Math.min(r,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==e[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(r)),i.freeze()}},t}();var By=zy,Fy={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(r,i){var o=t.getComponent(wy(r),i);e(r,i,o,n)}))}))}e((function(t,e,n,r){n.__dzAxisProxy=null}));var n=[];e((function(e,r,i,o){i.__dzAxisProxy||(i.__dzAxisProxy=new By(e,r,o,t),n.push(i.__dzAxisProxy))}));var r=(0,b.kW)();return(0,b.S6)(n,(function(t){(0,b.S6)(t.getTargetSeriesModels(),(function(t){r.set(t.uid,t)}))})),r},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,r){t.getAxisProxy(n,r).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}}))}};var Gy=!1;function Vy(t){Gy||(Gy=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,Fy),function(t){t.registerAction("dataZoom",(function(t,e){var n=Sy(e,t);(0,b.S6)(n,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function Zy(t){t.registerComponentModel(Cy),t.registerComponentView(Ly),Vy(t)}var Uy=function(){},Hy={};function Wy(t,e){Hy[t]=e}function Yy(t){return Hy[t]}var Xy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;b.S6(this.option.feature,(function(t,n){var r=Yy(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(e)),b.TS(t,r.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(sr.Z),qy=Xy;function Ky(t,e){var n=ke.MY(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new ye.Z({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})}var $y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){var i=this.group;if(i.removeAll(),t.get("show")){var o=+t.get("itemSize"),a="vertical"===t.get("orient"),s=t.get("feature")||{},l=this._features||(this._features={}),c=[];b.S6(s,(function(t,e){c.push(e)})),new Qs.Z(this._featureNames||[],c).add(h).update(h).remove(b.WA(h,null)).execute(),this._featureNames=c,function(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=(0,Mn.ME)(r,o,i);(0,Mn.BZ)(e.get("orient"),t,e.get("itemGap"),a.width,a.height),(0,Mn.p$)(t,r,o,i)}(i,t,n),i.add(Ky(i.getBoundingRect(),t)),a||i.eachChild((function(t){var e=t.__title,r=t.ensureState("emphasis"),a=r.textConfig||(r.textConfig={}),s=t.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!b.mf(l)&&e){var c=l.style||(l.style={}),h=u.lP(e,X.ZP.makeFont(c)),d=t.x+i.x,f=!1;t.y+i.y+o+h.height>n.getHeight()&&(a.position="top",f=!0);var p=f?-5-h.height:o+10;d+h.width/2>n.getWidth()?(a.position=["100%",p],c.align="right"):d-h.width/2<0&&(a.position=[0,p],c.align="left")}}))}function h(u,h){var d,f=c[u],p=c[h],g=s[f],m=new ni.Z(g,t,t.ecModel);if(r&&null!=r.newTitle&&r.featureName===f&&(g.title=r.newTitle),f&&!p){if(function(t){return 0===t.indexOf("my")}(f))d={onclick:m.option.onclick,featureName:f};else{var v=Yy(f);if(!v)return;d=new v}l[f]=d}else if(!(d=l[p]))return;d.uid=(0,Ye.Kr)("toolbox-feature"),d.model=m,d.ecModel=e,d.api=n;var y=d instanceof Uy;f||!p?!m.get("show")||y&&d.unusable?y&&d.remove&&d.remove(e,n):(!function(r,s,l){var u,c,h=r.getModel("iconStyle"),d=r.getModel(["emphasis","iconStyle"]),f=s instanceof Uy&&s.getIcons?s.getIcons():r.get("icon"),p=r.get("title")||{};b.HD(f)?(u={})[l]=f:u=f;b.HD(p)?(c={})[l]=p:c=p;var g=r.iconPaths={};b.S6(u,(function(l,u){var f=Zt.createIcon(l,{},{x:-o/2,y:-o/2,width:o,height:o});f.setStyle(h.getItemStyle()),f.ensureState("emphasis").style=d.getItemStyle();var p=new X.ZP({style:{text:c[u],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null},ignore:!0});f.setTextContent(p),Zt.setTooltipConfig({el:f,componentModel:t,itemName:u,formatterParamsExtra:{title:c[u]}}),f.__title=c[u],f.on("mouseover",(function(){var e=d.getItemStyle(),r=a?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";p.setStyle({fill:d.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),f.setTextConfig({position:d.get("textPosition")||r}),p.ignore=!t.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",u])&&n.leaveEmphasis(this),p.hide()})),("emphasis"===r.get(["iconStatus",u])?Ht.fD:Ht.Mh)(f),i.add(f),f.on("click",b.ak(s.onclick,s,e,n,u)),g[u]=f}))}(m,d,f),m.setIconStatus=function(t,e){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,r[t]&&("emphasis"===e?Ht.fD:Ht.Mh)(r[t])},d instanceof Uy&&d.render&&d.render(m,e,n,r)):y&&d.dispose&&d.dispose(e,n)}},e.prototype.updateView=function(t,e,n,r){b.S6(this._features,(function(t){t instanceof Uy&&t.updateView&&t.updateView(t.model,e,n,r)}))},e.prototype.remove=function(t,e){b.S6(this._features,(function(n){n instanceof Uy&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){b.S6(this._features,(function(n){n instanceof Uy&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(ar.Z);var Jy=$y,Qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",i="svg"===e.getZr().painter.getType(),o=i?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=Tm.Z.browser;if((0,b.mf)(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=r+"."+o,l.target="_blank",l.href=a;var u=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(u)}else if(window.navigator.msSaveOrOpenBlob||i){var c=a.split(","),h=c[0].indexOf("base64")>-1,d=i?decodeURIComponent(c[1]):c[1];h&&(d=window.atob(d));var f=r+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var p=d.length,g=new Uint8Array(p);p--;)g[p]=d.charCodeAt(p);var m=new Blob([g]);window.navigator.msSaveOrOpenBlob(m,f)}else{var v=document.createElement("iframe");document.body.appendChild(v);var y=v.contentWindow,x=y.document;x.open("image/svg+xml","replace"),x.write(d),x.close(),y.focus(),x.execCommand("SaveAs",!0,f),document.body.removeChild(v)}}else{var _=n.get("lang"),w='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',S=window.open();S.document.write(w),S.document.title=r}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(Uy),tb=Qy,eb="__ec_magicType_stack__",nb=[["line","bar"],["stack"]],rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return b.S6(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var r=this.model,i=r.get(["seriesIndex",n]);if(ib[n]){var o,a={series:[]};b.S6(nb,(function(t){b.cq(t,n)>=0&&b.S6(t,(function(t){r.setIconStatus(t,"normal")}))})),r.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},(function(t){var e=t.subType,i=t.id,o=ib[n](e,i,t,r);o&&(b.ce(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",c=t.getReferringComponents(u,se.C6).models[0].componentIndex;a[u]=a[u]||[];for(var h=0;h<=c;h++)a[u][c]=a[u][c]||{};a[u][c].boundaryGap="bar"===n}}}));var s=n;"stack"===n&&(o=b.TS({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),"emphasis"!==r.get(["iconStatus",n])&&(s="tiled")),e.dispatchAction({type:"changeMagicType",currentType:s,newOption:a,newTitle:o,featureName:"magicType"})}},e}(Uy),ib={line:function(t,e,n,r){if("bar"===t)return b.TS({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if("line"===t)return b.TS({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var i=n.get("stack")===eb;if("line"===t||"bar"===t)return r.setIconStatus("stack",i?"normal":"emphasis"),b.TS({id:e,stack:i?"":eb},r.get(["option","stack"])||{},!0)}};no.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var ob=rb,ab=new Array(60).join("-"),sb="\t";function lb(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var ub=new RegExp("["+sb+"]+","g");function cb(t,e){var n=t.split(new RegExp("\n*"+ab+"\n*","g")),r={series:[]};return b.S6(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(sb)>=0)return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),n=lb(e.shift()).split(ub),r=[],i=b.UI(n,(function(t){return{name:t,data:[]}})),o=0;o<e.length;o++){var a=lb(e[o]).split(ub);r.push(a.shift());for(var s=0;s<a.length;s++)i[s]&&(i[s].data[o]=a[s])}return{series:i,categories:r}}(t),o=e[n],a=o.axisDim+"Axis";o&&(r[a]=r[a]||[],r[a][o.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{i=function(t){for(var e=t.split(/\n+/g),n=lb(e.shift()),r=[],i=0;i<e.length;i++){var o=lb(e[i]);if(o){var a=o.split(ub),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<a.length;c++)l.push(+a[c]);1===l.length&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:n,data:r}}(t);r.series.push(i)}})),r}var hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var n=e.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=r.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=r.get("lang")||[];o.innerHTML=a[0]||r.get("title"),o.style.cssText="margin:10px 20px",o.style.color=r.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var u=r.get("optionToContent"),c=r.get("contentToOption"),h=function(t){var e,n,r,i=function(t){var e={},n=[],r=[];return t.eachRawSeries((function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var o=i.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:r}}(t);return{value:b.hX([(n=i.seriesGroupByCategoryAxis,r=[],b.S6(n,(function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,o=[" "].concat(b.UI(t.series,(function(t){return t.name}))),a=[n.model.getCategories()];b.S6(t.series,(function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(i),(function(t){return t})))}));for(var s=[o.join(sb)],l=0;l<a[0].length;l++){for(var u=[],c=0;c<a.length;c++)u.push(a[c][l]);s.push(u.join(sb))}r.push(s.join("\n"))})),r.join("\n\n"+ab+"\n\n")),(e=i.other,b.UI(e,(function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,i=arguments[t-1],o=e.getName(i),a=0;a<t-1;a++)r[a]=arguments[a];n.push((o?o+sb:"")+r.join(sb))})),n.join("\n")})).join("\n\n"+ab+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+ab+"\n\n"),meta:i.meta}}(t);if(b.mf(u)){var d=u(e.getOption());b.HD(d)?s.innerHTML=d:b.Mh(d)&&s.appendChild(d)}else{l.readOnly=r.get("readOnly");var f=l.style;f.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",f.color=r.get("textColor"),f.borderColor=r.get("textareaBorderColor"),f.backgroundColor=r.get("textareaColor"),l.value=h.value,s.appendChild(l)}var p=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+r.get("buttonColor"),m+=";color:"+r.get("buttonTextColor");var x=this;function _(){n.removeChild(i),x._dom=null}(0,eo.Oo)(v,"click",_),(0,eo.Oo)(y,"click",(function(){if(null==c&&null!=u||null!=c&&null==u)_();else{var t;try{t=b.mf(c)?c(s,e.getOption()):cb(l.value,p)}catch(t){throw _(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),_()}})),v.innerHTML=a[1],y.innerHTML=a[2],y.style.cssText=v.style.cssText=m,!r.get("readOnly")&&g.appendChild(y),g.appendChild(v),i.appendChild(o),i.appendChild(s),i.appendChild(g),s.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(Uy);function db(t,e){return b.UI(t,(function(t,n){var r=e&&e[n];if(b.Kn(r)&&!b.kJ(r)){b.Kn(t)&&!b.kJ(t)||(t={value:t});var i=null!=r.name&&null==t.name;return t=b.ce(t,r),i&&delete t.name,t}return t}))}no.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];b.S6(t.newOption.series,(function(t){var r=e.getSeriesByName(t.name)[0];if(r){var i=r.get("data");n.push({name:t.name,data:db(t.data,i)})}else n.push(b.l7({type:"scatter"},t))})),e.mergeOption(b.ce({series:n},t.newOption))}));var fb=hb,pb=b.S6,gb=(0,se.Yf)();function mb(t){var e=gb(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.onclick=function(t,e){!function(t){gb(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(Uy);no.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var yb=vb,bb=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],xb=function(){function t(t,e,n){var r=this;this._targetInfoList=[];var i=wb(e,t);(0,b.S6)(Sb,(function(t,e){(!n||!n.include||(0,b.cq)(n.include,e)>=0)&&t(i,r._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var r=Eb[t.brushType](0,n,e);t.__rangeOffset={offset:Tb[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){(0,b.S6)(t,(function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&(0,b.S6)(r.coordSyses,(function(r){var i=Eb[t.brushType](1,r,t.range,!0);n(t,i.values,r,e)}))}),this)},t.prototype.setInputRanges=function(t,e){(0,b.S6)(t,(function(t){var n,r,i,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=Eb[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?Tb[t.brushType](l.values,u.offset,(n=l.xyMinMax,r=u.xyMinMax,i=Cb(n),o=Cb(r),a=[i[0]/o[0],i[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},t.prototype.makePanelOpts=function(t,e){return(0,b.UI)(this._targetInfoList,(function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:td(r),isTargetByCursor:nd(r,t,n.coordSysModel),getLinearBrushOtherExtent:ed(r)}}))},t.prototype.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&(0,b.cq)(r.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=wb(e,t),i=0;i<n.length;i++){var o=n[i],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<Mb.length;s++)if(Mb[s](r,o))return o}return!0},t}();function _b(t){return t[0]>t[1]&&t.reverse(),t}function wb(t,e){return(0,se.pm)(t,e,{includeMainTypes:bb})}var Sb={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,o=(0,b.kW)(),a={},s={};(n||r||i)&&((0,b.S6)(n,(function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0})),(0,b.S6)(r,(function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0})),(0,b.S6)(i,(function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0})),o.each((function(t){var i=t.coordinateSystem,o=[];(0,b.S6)(i.getCartesians(),(function(t,e){((0,b.cq)(n,t.getAxis("x").model)>=0||(0,b.cq)(r,t.getAxis("y").model)>=0)&&o.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:kb.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){(0,b.S6)(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:kb.geo})}))}},Mb=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],kb={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Zt.getTransform(t)),e}},Eb={lineX:(0,b.WA)(Ab,0),lineY:(0,b.WA)(Ab,1),rect:function(t,e,n,r){var i=t?e.pointToData([n[0][0],n[1][0]],r):e.dataToPoint([n[0][0],n[1][0]],r),o=t?e.pointToData([n[0][1],n[1][1]],r):e.dataToPoint([n[0][1],n[1][1]],r),a=[_b([i[0],o[0]]),_b([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,r){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,b.UI)(n,(function(n){var o=t?e.pointToData(n,r):e.dataToPoint(n,r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o})),xyMinMax:i}}};function Ab(t,e,n,r){var i=n.getAxis(["x","y"][t]),o=_b((0,b.UI)([0,1],(function(t){return e?i.coordToData(i.toLocalCoord(r[t]),!0):i.toGlobalCoord(i.dataToCoord(r[t]))}))),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var Tb={lineX:(0,b.WA)(Ib,0),lineY:(0,b.WA)(Ib,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return(0,b.UI)(t,(function(t,r){return[t[0]-n[0]*e[r][0],t[1]-n[1]*e[r][1]]}))}};function Ib(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function Cb(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var Db=xb,Nb=n("./node_modules/echarts/lib/model/internalComponentCreator.js"),Ob=b.S6,Lb=(0,se.g0)("toolbox-dataZoom_"),Pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n,r){this._brushController||(this._brushController=new Qh(n.getZr()),this._brushController.on("brush",b.ak(this._onBrush,this)).mount()),function(t,e,n,r,i){var o=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(o="dataZoomSelect"===r.key&&r.dataZoomSelectActive);n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new Db(jb(t),e,{include:["grid"]}),s=a.makePanelOpts(i,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(s).enableBrush(!(!o||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,r,n),function(t,e){t.setIconStatus("back",function(t){return mb(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){Rb[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},r=this.ecModel;this._brushController.updateCovers([]),new Db(jb(this.model),r,{include:["grid"]}).matchOutputRanges(e,r,(function(t,e,n){if("cartesian2d"===n.type){var r=t.brushType;"rect"===r?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[r],n,e)}})),function(t,e){var n=mb(t);pb(e,(function(e,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var a=o.getPercentRange();n[0][r]={dataZoomId:r,start:a[0],end:a[1]}}}})),n.push(e)}(r,n),this._dispatchZoomAction(n)}function i(t,e,i){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(t,e.componentIndex)&&(r=n)})),r}(t,a,r),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(i=Wc(0,i.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];Ob(t,(function(t,n){e.push(b.d9(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(Uy),Rb={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=mb(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return pb(n,(function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){r[n]=t;break}})),r}(this.ecModel))}};function jb(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}(0,Nb.f)("dataZoom",(function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var r=e.getModel(n),i=[],o=jb(r),a=(0,se.pm)(t,o);return Ob(a.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),Ob(a.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),i}function s(t,e,n){var o=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:Lb+e+o};a[n]=o,i.push(a)}}));var zb=Pb;var Bb=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(sr.Z),Fb=Bb;function Gb(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function Vb(t){if(Tm.Z.domSupported)for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}var Zb=Vb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Ub(t,e){if(!t)return e;e=(0,ke.zW)(e,!0);var n=t.indexOf(e);return(t=-1===n?e:"-"+t.slice(0,n)+"-"+e).toLowerCase()}var Hb=Ub(Vb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Wb=Ub(Zb,"transform"),Yb="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Tm.Z.transform3dSupported?"will-change:transform;":"");function Xb(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Tm.Z.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=Tm.Z.transform3dSupported,a="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+Wb+":"+a+";":[["top",0],["left",0],[Zb,a]]}function qb(t,e,n){var r=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=(0,zi.d_)(t,"html"),d=l+"px "+u+"px "+a+"px "+s;return r.push("box-shadow:"+d),e&&i&&r.push(function(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,i="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,i+=Tm.Z.transformSupported?","+Wb+r:",left"+r+",top"+r),Hb+":"+i}(i,n)),o&&r.push("background-color:"+o),(0,b.S6)(["width","color","radius"],(function(e){var n="border-"+e,i=(0,ke.zW)(n),o=t.get(i);null!=o&&r.push(n+":"+o+("color"===e?"":"px"))})),r.push(function(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var i=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+i),(0,b.S6)(["decoration","align"],(function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)})),e.join(";")}(c)),null!=h&&r.push("padding:"+(0,ke.MY)(h).join("px ")+"px"),r.join(";")+";"}function Kb(t,e,n,r,i){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&(0,k.YB)(t,a,document.body,r,i)}else{t[0]=r,t[1]=i;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var $b=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Tm.Z.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),o=this._appendToBody=n&&n.appendToBody;Kb(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(r):t.appendChild(r),this._container=t;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=i.handler,n=i.painter.getViewportRoot();(0,eo.OD)(n,t,!0),e.dispatch("mousemove",t)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e,n,r,i=this._container,o=(n="position",(r=(e=i).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?n?r[n]:r:null),a=i.style;"absolute"!==a.position&&"absolute"!==o&&(a.position="relative");var s=t.get("alwaysShowContent");s&&this._moveIfResized(),this._alwaysShowContent=s,this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,i=this._styleCoord;n.innerHTML?r.cssText=Yb+qb(t,!this._firstShow,this._longHide)+Xb(i[0],i[1],!0)+"border-color:"+(0,ke.Lz)(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,r,i){var o=this.el;if(null!=t){var a="";if((0,b.HD)(i)&&"item"===n.get("trigger")&&!Gb(n)&&(a=function(t,e,n){if(!(0,b.HD)(n)||"inside"===n)return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=(0,ke.Lz)(e);var o,a,s="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",l=Math.max(1.5*Math.round(i),6),u="",c=Wb+":";(0,b.cq)(["left","right"],s)>-1?(u+="top:50%",c+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(u+="left:50%",c+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var h=a*Math.PI/180,d=l+i,f=d*Math.abs(Math.cos(h))+d*Math.abs(Math.sin(h)),p=e+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",(u+=";"+s+":-"+Math.round(100*((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-d)/2))/100+"px")+";"+c+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(n,r,i)),(0,b.HD)(t))o.innerHTML=t+a;else if(t){o.innerHTML="",(0,b.kJ)(t)||(t=[t]);for(var s=0;s<t.length;s++)(0,b.Mh)(t[s])&&t[s].parentNode!==o&&o.appendChild(t[s]);if(a&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=a,o.appendChild(l)}}}else o.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(Kb(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var r=this.el.style,i=Xb(n[0],n[1]);(0,b.S6)(i,(function(t){r[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Tm.Z.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout((0,b.ak)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),Jb=$b,Qb=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),nx(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,r,i){var o=this;b.Kn(t)&&(0,Zd._y)(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new X.ZP({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:(0,zi.d_)(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),b.S6(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){o.el.style[t]=n.get(t)})),b.S6(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){o.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=ex(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;nx(r,this._zr,t,e),t=r[0],e=r[1];var i=n.style,o=tx(i.borderWidth||0),a=ex(i);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(b.ak(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function tx(t){return Math.max(0,t)}function ex(t){var e=tx(t.shadowBlur||0),n=tx(t.shadowOffsetX||0),r=tx(t.shadowOffsetY||0);return{left:tx(e-n),right:tx(e+n),top:tx(e-r),bottom:tx(e+r)}}function nx(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var rx=Qb,ix=n("./node_modules/echarts/lib/util/time.js"),ox=n("./node_modules/echarts/lib/model/mixin/dataFormat.js"),ax=new ye.Z({shape:{x:-1,y:-1,width:2,height:2}}),sx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){if(!Tm.Z.node&&e.getDom()){var n=t.getComponent("tooltip"),r=this._renderMode=(0,se.U9)(n.get("renderMode"));this._tooltipContent="richText"===r?new rx(e):new Jb(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!Tm.Z.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n;var r=this._tooltipContent;r.update(t),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?(0,Ke.T9)(this,"_updatePosition",50,"fixRate"):(0,Ke.ZH)(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");Dm("itemTooltip",this._api,(0,b.ak)((function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api,r=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==r&&"click"!==r){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,r){if(r.from!==this.uid&&!Tm.Z.node&&n.getDom()){var i=ux(r,n);this._ticket="";var o=r.dataByCoordSys,a=function(t,e,n){var r=(0,se.zH)(t).queryOptionMap,i=r.keys()[0];if(!i||"series"===i)return;var o=(0,se.HZ)(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(!a)return;var s,l=n.getViewOfComponentModel(a);if(l.group.traverse((function(e){var n=(0,Ut.A)(e).tooltipConfig;if(n&&n.name===t.name)return s=e,!0})),s)return{componentMainType:i,componentIndex:a.componentIndex,el:s}}(r,e,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:r.position,positionDefault:"bottom"},i)}else if(r.tooltip&&null!=r.x&&null!=r.y){var l=ax;l.x=r.x,l.y=r.y,l.update(),(0,Ut.A)(l).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:l},i)}else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:o,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var u=jm(r,e),c=u.point[0],h=u.point[1];null!=c&&null!=h&&this._tryShow({offsetX:c,offsetY:h,target:u.el,position:r.position,positionDefault:"bottom"},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},i))}},e.prototype.manuallyHideTip=function(t,e,n,r){var i=this._tooltipContent;this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(ux(r,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,r){var i=r.seriesIndex,o=r.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=o&&null!=a){var s=e.getSeriesByIndex(i);if(s)if("axis"===lx([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:o,position:r.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,t);else if(n){var i,o;this._lastDataByCoordSys=null,(0,Qa.o)(n,(function(t){return null!=(0,Ut.A)(t).dataIndex?(i=t,!0):null!=(0,Ut.A)(t).tooltipConfig?(o=t,!0):void 0}),!0),i?this._showSeriesItemTooltip(t,i,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=(0,b.ak)(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,r=this._tooltipModel,i=[e.offsetX,e.offsetY],o=lx([e.tooltipOption],r),a=this._renderMode,s=[],l=(0,zi.TX)("section",{blocks:[],noHeader:!0}),u=[],c=new zi.iv;(0,b.S6)(t,(function(t){(0,b.S6)(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value;if(e&&null!=i){var o=gm(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),h=(0,zi.TX)("section",{header:o,noHeader:!(0,b.fy)(o),sortBlocks:!0,blocks:[]});l.blocks.push(h),(0,b.S6)(t.seriesDataIndices,(function(l){var d=n.getSeriesByIndex(l.seriesIndex),f=l.dataIndexInside,p=d.getDataParams(f);if(!(p.dataIndex<0)){p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=xr.DX(e.axis,{value:i}),p.axisValueLabel=o,p.marker=c.makeTooltipMarker("item",(0,ke.Lz)(p.color),a);var g=(0,ox.f)(d.formatTooltip(f,!0,null)),m=g.frag;if(m){var v=lx([d],r).get("valueFormatter");h.blocks.push(v?(0,b.l7)({valueFormatter:v},m):m)}g.text&&u.push(g.text),s.push(p)}}))}}))})),l.blocks.reverse(),u.reverse();var h=e.position,d=o.get("order"),f=(0,zi.BY)(l,c,a,d,n.get("useUTC"),o.get("textStyle"));f&&u.unshift(f);var p="richText"===a?"\n\n":"<br/>",g=u.join(p);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(o,h,i[0],i[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",i[0],i[1],h,null,c)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var r=this._ecModel,i=(0,Ut.A)(e),o=i.seriesIndex,a=r.getSeriesByIndex(o),s=i.dataModel||a,l=i.dataIndex,u=i.dataType,c=s.getData(u),h=this._renderMode,d=t.positionDefault,f=lx([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),p=f.get("trigger");if(null==p||"item"===p){var g=s.getDataParams(l,u),m=new zi.iv;g.marker=m.makeTooltipMarker("item",(0,ke.Lz)(g.color),h);var v=(0,ox.f)(s.formatTooltip(l,!1,u)),y=f.get("order"),x=f.get("valueFormatter"),_=v.frag,w=_?(0,zi.BY)(x?(0,b.l7)({valueFormatter:x},_):_,m,h,y,r.get("useUTC"),f.get("textStyle")):v.text,S="item_"+s.name+"_"+l;this._showOrMove(f,(function(){this._showTooltipContent(f,w,g,S,t.offsetX,t.offsetY,t.position,t.target,m)})),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var r=(0,Ut.A)(e),i=r.tooltipConfig.option||{};if((0,b.HD)(i)){i={content:i,formatter:i}}var o=[i],a=this._ecModel.getComponent(r.componentMainType,r.componentIndex);a&&o.push(a),o.push({formatter:i.content});var s=t.positionDefault,l=lx(o,this._tooltipModel,s?{position:s}:null),u=l.get("content"),c=Math.random()+"",h=new zi.iv;this._showOrMove(l,(function(){var n=(0,b.d9)(l.get("formatterParams")||{});this._showTooltipContent(l,u,n,c,t.offsetX,t.offsetY,t.position,e,h)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,r,i,o,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent;u.setEnterable(t.get("enterable"));var c=t.get("formatter");a=a||t.get("position");var h=e,d=this._getNearestPoint([i,o],n,t.get("trigger"),t.get("borderColor")).color;if(c)if((0,b.HD)(c)){var f=t.ecModel.get("useUTC"),p=(0,b.kJ)(n)?n[0]:n;h=c,p&&p.axisType&&p.axisType.indexOf("time")>=0&&(h=(0,ix.WU)(p.axisValue,h,f)),h=(0,ke.kF)(h,n,!0)}else if((0,b.mf)(c)){var g=(0,b.ak)((function(e,r){e===this._ticket&&(u.setContent(r,l,t,d,a),this._updatePosition(t,a,i,o,u,n,s))}),this);this._ticket=r,h=c(n,r,g)}else h=c;u.setContent(h,l,t,d,a),u.show(t,d),this._updatePosition(t,a,i,o,u,n,s)}},e.prototype._getNearestPoint=function(t,e,n,r){return"axis"===n||(0,b.kJ)(e)?{color:r||("html"===this._renderMode?"#fff":"none")}:(0,b.kJ)(e)?void 0:{color:r||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,r,i,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=i.getSize(),c=t.get("align"),h=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),(0,b.mf)(e)&&(e=e([n,r],o,i.el,d,{viewSize:[s,l],contentSize:u.slice()})),(0,b.kJ)(e))n=(0,xe.GM)(e[0],s),r=(0,xe.GM)(e[1],l);else if((0,b.Kn)(e)){var f=e;f.width=u[0],f.height=u[1];var p=(0,Mn.ME)(f,{width:s,height:l});n=p.x,r=p.y,c=null,h=null}else if((0,b.HD)(e)&&a){var g=function(t,e,n,r){var i=n[0],o=n[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,c=e.height;switch(t){case"inside":s=e.x+u/2-i/2,l=e.y+c/2-o/2;break;case"top":s=e.x+u/2-i/2,l=e.y-o-a;break;case"bottom":s=e.x+u/2-i/2,l=e.y+c+a;break;case"left":s=e.x-i-a,l=e.y+c/2-o/2;break;case"right":s=e.x+u+a,l=e.y+c/2-o/2}return[s,l]}(e,d,u,t.get("borderWidth"));n=g[0],r=g[1]}else{g=function(t,e,n,r,i,o,a){var s=n.getSize(),l=s[0],u=s[1];null!=o&&(t+l+o+2>r?t-=l+o:t+=o);null!=a&&(e+u+a>i?e-=u+a:e+=a);return[t,e]}(n,r,i,s,l,c?null:20,h?null:20);n=g[0],r=g[1]}if(c&&(n-=cx(c)?u[0]/2:"right"===c?u[0]:0),h&&(r-=cx(h)?u[1]/2:"bottom"===h?u[1]:0),Gb(t)){g=function(t,e,n,r,i){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,r,i,s,l);n=g[0],r=g[1]}i.moveTo(n,r)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,r=this._cbParamsList,i=!!n&&n.length===t.length;return i&&(0,b.S6)(n,(function(n,o){var a=n.dataByAxis||[],s=(t[o]||{}).dataByAxis||[];(i=i&&a.length===s.length)&&(0,b.S6)(a,(function(t,n){var o=s[n]||{},a=t.seriesDataIndices||[],l=o.seriesDataIndices||[];(i=i&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===l.length)&&(0,b.S6)(a,(function(t,e){var n=l[e];i=i&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})),r&&(0,b.S6)(t.seriesDataIndices,(function(t){var n=t.seriesIndex,o=e[n],a=r[n];o&&a&&a.data!==o.data&&(i=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!i},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!Tm.Z.node&&e.getDom()&&((0,Ke.ZH)(this,"_updatePosition"),this._tooltipContent.dispose(),Lm("itemTooltip",e))},e.type="tooltip",e}(ar.Z);function lx(t,e,n){var r,i=e.ecModel;n?(r=new ni.Z(n,i,i),r=new ni.Z(e.option,r,i)):r=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof ni.Z&&(a=a.get("tooltip",!0)),(0,b.HD)(a)&&(a={formatter:a}),a&&(r=new ni.Z(a,r,i)))}return r}function ux(t,e){return t.dispatchAction||(0,b.ak)(e.dispatchAction,e)}function cx(t){return"center"===t||"middle"===t}var hx=sx;var dx=["rect","polygon","keep","clear"];function fx(t,e){var n=(0,se.kF)(t?t.brush:[]);if(n.length){var r=[];b.S6(n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))}));var i=t&&t.toolbox;b.kJ(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]);var o,a,s=i.feature||(i.feature={}),l=s.brush||(s.brush={}),u=l.type||(l.type=[]);u.push.apply(u,r),o=u,a={},b.S6(o,(function(t){a[t]=1})),o.length=0,b.S6(a,(function(t,e){o.push(e)})),e&&!u.length&&u.push.apply(u,dx)}}var px=n("./node_modules/echarts/lib/visual/helper.js"),gx=b.S6;function mx(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function vx(t,e,n){var r={};return gx(e,(function(e){var i,o=r[e]=((i=function(){}).prototype.__hidden=i.prototype,new i);gx(t[e],(function(t,r){if(Ol.isValidType(r)){var i={type:r,visual:t};n&&n(i,e),o[r]=new Ol(i),"opacity"===r&&((i=b.d9(i)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Ol(i))}}))})),r}function yx(t,e,n){var r;b.S6(n,(function(t){e.hasOwnProperty(t)&&mx(e[t])&&(r=!0)})),r&&b.S6(n,(function(n){e.hasOwnProperty(n)&&mx(e[n])?t[n]=b.d9(e[n]):delete t[n]}))}var bx={lineX:xx(0),lineY:xx(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Zo(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,o=t.y,a=t.width,s=t.height,l=r[0];return!!(Zo(r,i,o)||Zo(r,i+a,o)||Zo(r,i,o+s)||Zo(r,i+a,o+s)||Qn.Z.create(t).contain(l[0],l[1])||(0,Zt.linePolygonIntersect)(i,o,i+a,o,r)||(0,Zt.linePolygonIntersect)(i,o,i,o+s,r)||(0,Zt.linePolygonIntersect)(i+a,o,i+a,o+s,r)||(0,Zt.linePolygonIntersect)(i,o+s,i+a,o+s,r))||void 0}}};function xx(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,r){if(e){var i=r.range;return _x(e[t],i)}},rect:function(r,i,o){if(r){var a=o.range,s=[r[e[t]],r[e[t]]+r[n[t]]];return s[1]<s[0]&&s.reverse(),_x(s[0],a)||_x(s[1],a)||_x(a[0],s)||_x(a[1],s)}}}}function _x(t,e){return e[0]<=t&&t<=e[1]}var wx=["inBrush","outOfBrush"],Sx="__ecBrushSelect",Mx="__ecInBrushSelectEvent";function kx(t){t.eachComponent({mainType:"brush"},(function(e){(e.brushTargetManager=new Db(e.option,t)).setInputRanges(e.areas,t)}))}function Ex(t,e,n){var r,i,o=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),kx(t),t.eachComponent({mainType:"brush"},(function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:b.d9(e.areas),selected:[]};o.push(a);var s=e.option,l=s.brushLink,u=[],c=[],h=[],d=!1;n||(r=s.throttleType,i=s.throttleDelay);var f=b.UI(e.areas,(function(t){var e=Ix[t.brushType],n=b.ce({boundingRect:e?e(t):void 0},t);return n.selectors=function(t){var e=t.brushType,n={point:function(r){return bx[e].point(r,n,t)},rect:function(r){return bx[e].rect(r,n,t)}};return n}(n),n})),p=vx(e.option,wx,(function(t){t.mappingMethod="fixed"}));function g(t){return"all"===l||!!u[t]}function m(t){return!!t.length}b.kJ(l)&&b.S6(l,(function(t){u[t]=1})),t.eachSeries((function(n,r){var i=h[r]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(c[e]=1)}))}(n,r):function(n,r,i){if(!n.brushSelector||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(b.kJ(n)?b.cq(n,e)<0:e!==n)}(e,r))return;if(b.S6(f,(function(r){e.brushTargetManager.controlSeries(r,n,t)&&i.push(r),d=d||m(i)})),g(r)&&m(i)){var o=n.getData();o.each((function(t){Tx(n,i,o,t)&&(c[t]=1)}))}}(n,r,i)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var r=h[e],i=t.getData(),o=g(e)?function(t){return c[t]?(n.dataIndex.push(i.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return Tx(t,r,i,e)?(n.dataIndex.push(i.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(e)?d:m(r))&&function(t,e,n,r,i,o){var a,s={};function l(t){return(0,px.Or)(n,a,t)}function u(t,e){(0,px.LZ)(n,a,t,e)}function c(t,c){a=null==o?t:c;var h=n.getRawDataItem(a);if(!h||!1!==h.visualMap)for(var d=r.call(i,t),f=e[d],p=s[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(t,l,u)}}b.S6(t,(function(t){var n=Ol.prepareVisualTypes(e[t]);s[t]=n})),null==o?n.each(c):n.each([o],c)}(wx,p,i,o)}))})),function(t,e,n,r,i){if(!i)return;var o=t.getZr();if(o[Mx])return;o[Sx]||(o[Sx]=Ax);var a=Ke.T9(o,Sx,n,e);a(t,r)}(e,r,i,o,n)}function Ax(t,e){if(!t.isDisposed()){var n=t.getZr();n[Mx]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[Mx]=!1}}function Tx(t,e,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];if(t.brushSelector(r,n,a.selectors,a))return!0}}var Ix={rect:function(t){return Cx(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&Cx(e)}};function Cx(t){return new Qn.Z(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var Dx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Qh(e.getZr())).on("brush",b.ak(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,r){this.model=t,this._updateController(t,e,n,r)},e.prototype.updateTransform=function(t,e,n,r){kx(e),this._updateController(t,e,n,r)},e.prototype.updateVisual=function(t,e,n,r){this.updateTransform(t,e,n,r)},e.prototype.updateView=function(t,e,n,r){this._updateController(t,e,n,r)},e.prototype._updateController=function(t,e,n,r){(!r||r.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:b.d9(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:b.d9(n),$from:e})},e.type="brush",e}(ar.Z),Nx=Dx,Ox=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return(0,Pt.ZT)(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&yx(n,t,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},r.hasOwnProperty("liftZ")||(r.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=b.UI(t,(function(t){return Lx(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=Lx(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(sr.Z);function Lx(t,e){return b.TS({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new ni.Z(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var Px=Ox,Rx=["rect","polygon","lineX","lineY","keep","clear"],jx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){var r,i,o;e.eachComponent({mainType:"brush"},(function(t){r=t.brushType,i=t.brushOption.brushMode||"single",o=o||!!t.areas.length})),this._brushType=r,this._brushMode=i,b.S6(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?o:e===r)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return b.S6(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var r=this._brushType,i=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},e.getDefaultOption=function(t){return{show:!0,type:Rx.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(Uy),zx=jx;var Bx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,Pt.ZT)(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(sr.Z),Fx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,i=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=b.pD(t.get("textBaseline"),t.get("textVerticalAlign")),l=new X.ZP({style:(0,qt.Lr)(i,{text:t.get("text"),fill:i.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=t.get("subtext"),h=new X.ZP({style:(0,qt.Lr)(o,{text:c,fill:o.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);l.silent=!d&&!p,h.silent=!f&&!p,d&&l.on("click",(function(){(0,ke.MI)(d,"_"+t.get("target"))})),f&&h.on("click",(function(){(0,ke.MI)(f,"_"+t.get("subtarget"))})),(0,Ut.A)(l).eventData=(0,Ut.A)(h).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(l),c&&r.add(h);var g=r.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=(0,Mn.ME)(m,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),r.x=v.x,r.y=v.y,r.markRedraw();var y={align:a,verticalAlign:s};l.setStyle(y),h.setStyle(y),g=r.getBoundingRect();var x=v.margin,_=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var w=new ye.Z({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:_,subPixelOptimize:!0,silent:!0});r.add(w)}},e.type="title",e}(ar.Z);var Gx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],r=e.axisType,i=this._names=[];"category"===r?(t=[],(0,b.S6)(n,(function(e,n){var r,o=(0,se.U5)((0,se.C4)(e),"");(0,b.Kn)(e)?(r=(0,b.d9)(e)).value=n:r=n,t.push(r),i.push(o)}))):t=n;var o={category:"ordinal",time:"time",value:"number"}[r]||"number";(this._data=new Un.Z([{name:"value",type:o}],this)).initData(t,i)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(sr.Z),Vx=Gx,Zx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="timeline.slider",e.defaultOption=(0,Ye.ZL)(Vx.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Vx);(0,b.jB)(Zx,ox.X.prototype);var Ux=Zx,Hx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="timeline",e}(ar.Z),Wx=Hx,Yx=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r)||this;return o.type=i||"value",o}return(0,Pt.ZT)(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(Fr),Xx=n("./node_modules/echarts/lib/scale/Ordinal.js"),qx=n("./node_modules/echarts/lib/scale/Time.js"),Kx=Math.PI,$x=(0,se.Yf)(),Jx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var r=this._layout(t,n),i=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(r,t);t.formatTooltip=function(t){var e=a.scale.getLabel({value:t});return(0,zi.TX)("nameValue",{noName:!0,value:e})},(0,b.S6)(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](r,i,a,t)}),this),this._renderAxisLabel(r,o,a,t),this._position(r,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,r,i,o,a=t.get(["label","position"]),s=t.get("orient"),l=function(t,e){return Mn.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e),u={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?l.y+l.height/2<e.getHeight()/2?"-":"+":l.x+l.width/2<e.getWidth()/2?"+":"-":(0,b.HD)(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Kx/2},d="vertical"===s?l.height:l.width,f=t.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,m=p?f.get("itemGap"):0,v=g+m,y=t.get(["label","rotate"])||0;y=y*Kx/180;var x=f.get("position",!0),_=p&&f.get("showPlayBtn",!0),w=p&&f.get("showPrevBtn",!0),S=p&&f.get("showNextBtn",!0),M=0,k=d;"left"===x||"bottom"===x?(_&&(r=[0,0],M+=v),w&&(i=[M,0],M+=v),S&&(o=[k-g,0],k-=v)):(_&&(r=[k-g,0],k-=v),w&&(i=[0,0],M+=v),S&&(o=[k-g,0],k-=v));var E=[M,k];return t.get("inverse")&&E.reverse(),{viewRect:l,mainLength:d,orient:s,rotation:h[s],labelRotation:y,labelPosOpt:n,labelAlign:t.get(["label","align"])||u[s],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[s],playPosition:r,prevBtnPosition:i,nextBtnPosition:o,axisExtent:E,controlSize:g,controlGap:m}},e.prototype._position=function(t,e){var n=this._mainGroup,r=this._labelGroup,i=t.viewRect;if("vertical"===t.orient){var o=wr.Ue(),a=i.x,s=i.y+i.height;wr.Iu(o,o,[-a,-s]),wr.U1(o,o,-Kx/2),wr.Iu(o,o,[a,s]),(i=i.clone()).applyTransform(o)}var l=m(i),u=m(n.getBoundingRect()),c=m(r.getBoundingRect()),h=[n.x,n.y],d=[r.x,r.y];d[0]=h[0]=l[0][0];var f,p=t.labelPosOpt;null==p||(0,b.HD)(p)?(v(h,u,l,1,f="+"===p?0:1),v(d,c,l,1,1-f)):(v(h,u,l,1,f=p>=0?0:1),d[1]=h[1]+p);function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,r,i){t[r]+=n[r][i]-e[r][i]}n.setPosition(h),r.setPosition(d),n.rotation=r.rotation=t.rotation,g(n),g(r)},e.prototype._createAxis=function(t,e){var n=e.getData(),r=e.get("axisType"),i=function(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Xx.Z({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new qx.Z({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Yr.Z}}(e,r);i.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))};var o=n.getDataExtent("value");i.setExtent(o[0],o[1]),i.calcNiceTicks();var a=new Yx("value",i,t.axisExtent,r);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new Bt.Z;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,r){var i=n.getExtent();if(r.get(["lineStyle","show"])){var o=new ei.Z({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:(0,b.l7)({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(o);var a=this._progressLine=new ei.Z({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:(0,b.ce)({lineCap:"round",lineWidth:o.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,r){var i=this,o=r.getData(),a=n.scale.getTicks();this._tickSymbols=[],(0,b.S6)(a,(function(t){var a=n.dataToCoord(t.value),s=o.getItemModel(t.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),h={x:a,y:0,onclick:(0,b.ak)(i._changeTimeline,i,t.value)},d=Qx(s,l,e,h);d.ensureState("emphasis").style=u.getItemStyle(),d.ensureState("progress").style=c.getItemStyle(),(0,Ht.vF)(d);var f=(0,Ut.A)(d);s.get("tooltip")?(f.dataIndex=t.value,f.dataModel=r):f.dataIndex=f.dataModel=null,i._tickSymbols.push(d)}))},e.prototype._renderAxisLabel=function(t,e,n,r){var i=this;if(n.getLabelModel().get("show")){var o=r.getData(),a=n.getViewLabels();this._tickLabels=[],(0,b.S6)(a,(function(r){var a=r.tickValue,s=o.getItemModel(a),l=s.getModel("label"),u=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),h=n.dataToCoord(r.tickValue),d=new X.ZP({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:(0,b.ak)(i._changeTimeline,i,a),silent:!1,style:(0,qt.Lr)(l,{text:r.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=(0,qt.Lr)(u),d.ensureState("progress").style=(0,qt.Lr)(c),e.add(d),(0,Ht.vF)(d),$x(d).dataIndex=a,i._tickLabels.push(d)}))}},e.prototype._renderControl=function(t,e,n,r){var i=t.controlSize,o=t.rotation,a=r.getModel("controlStyle").getItemStyle(),s=r.getModel(["emphasis","controlStyle"]).getItemStyle(),l=r.getPlayState(),c=r.get("inverse",!0);function h(t,n,l,c){if(t){var h=(0,u.GM)((0,b.pD)(r.get(["controlStyle",n+"BtnSize"]),i),i),d=function(t,e,n,r){var i=r.style,o=Zt.createIcon(t.get(["controlStyle",e]),r||{},new Qn.Z(n[0],n[1],n[2],n[3]));i&&o.setStyle(i);return o}(r,n+"Icon",[0,-h/2,h,h],{x:t[0],y:t[1],originX:i/2,originY:0,rotation:c?-o:0,rectHover:!0,style:a,onclick:l});d.ensureState("emphasis").style=s,e.add(d),(0,Ht.vF)(d)}}h(t.nextBtnPosition,"next",(0,b.ak)(this._changeTimeline,this,c?"-":"+")),h(t.prevBtnPosition,"prev",(0,b.ak)(this._changeTimeline,this,c?"+":"-")),h(t.playPosition,l?"stop":"play",(0,b.ak)(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,r){var i=r.getData(),o=r.getCurrentIndex(),a=i.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=(0,b.ak)(s._handlePointerDrag,s),t.ondragend=(0,b.ak)(s._handlePointerDragend,s),t_(t,s._progressLine,o,n,r,!0)},onUpdate:function(t){t_(t,s._progressLine,o,n,r)}};this._currentPointer=Qx(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],r=this._axis,i=xe.dt(r.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=n,o.dirty());var a=this._findNearestTick(n),s=this.model;(e||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return Zt.applyTransform(t,e,!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],(function(n,o){var a=i.dataToCoord(n),s=Math.abs(a-t);s<r&&(r=s,e=o)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var r=0;r<e.length;r++)e&&e[r]&&e[r].toggleState("progress",r<t);if(n)for(r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",$x(n[r]).dataIndex<=t)},e.type="timeline.slider",e}(Wx);function Qx(t,e,n,r,i,o){var a=e.get("color");if(i)i.setColor(a),n.add(i),o&&o.onUpdate(i);else{var s=t.get("symbol");(i=(0,zt.th)(s,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(i),o&&o.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=(0,b.TS)({rectHover:!0,z2:100},r,!0);var u=(0,zt.zp)(t.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=(0,zt.Cq)(t.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var h=t.get("symbolRotate");return r.rotation=(h||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function t_(t,e,n,r,i,o){if(!t.dragging){var a=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",n));if(o||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var e_=Jx;function n_(t){var e=t&&t.timeline;b.kJ(e)||(e=e?[e]:[]),b.S6(e,(function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(r_(t),i_(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});i_(r,"position")||(r.position=t.controlPosition),"none"!==r.position||i_(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}b.S6(t.data||[],(function(t){b.Kn(t)&&!b.kJ(t)&&(!i_(t,"value")&&i_(t,"name")&&(t.value=t.name),r_(t))}))}(t)}))}function r_(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};b.S6(r,(function(t,e){o[e]||i_(i,e)||(i[e]=t)})),n.label&&!i_(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function i_(t,e){return t.hasOwnProperty(e)}function o_(t,e){if(!t)return!1;for(var n=(0,b.kJ)(t)?t:[t],r=0;r<n.length;r++)if(n[r]&&n[r][e])return!0;return!1}function a_(t){(0,se.Cc)(t,"label",["show"])}var s_=(0,se.Yf)(),l_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Tm.Z.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,r){var i=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),o=s_(t)[i];n&&n.data?(o?o._mergeOption(n,e,!0):(r&&a_(n),b.S6(n.data,(function(t){t instanceof Array?(a_(t[0]),a_(t[1])):a_(t)})),o=this.createMarkerModelFromSeries(n,this,e),b.l7(o,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),o.__hostSeries=t),s_(t)[i]=o):s_(t)[i]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.getRawValue(t),o=r.getName(t);return(0,zi.TX)("section",{header:this.name,blocks:[(0,zi.TX)("nameValue",{name:o,value:i,noName:!o,noValue:null==i})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return s_(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(sr.Z);b.jB(l_,ox.X.prototype);var u_=l_,c_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(u_),h_=c_,d_=n("./node_modules/echarts/lib/data/helper/dataValueHelper.js");function f_(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function p_(t,e,n,r,i,o){var a=[],s=(0,ne.M)(e,r)?e.getCalculationInfo("stackResultDimension"):r,l=x_(e,s,t),u=e.indicesOfNearest(s,l)[0];a[i]=e.get(n,u),a[o]=e.get(s,u);var c=e.get(r,u),h=xe.p8(e.get(r,u));return(h=Math.min(h,20))>=0&&(a[o]=+a[o].toFixed(h)),[a,c]}var g_={min:(0,b.WA)(p_,"min"),max:(0,b.WA)(p_,"max"),average:(0,b.WA)(p_,"average"),median:(0,b.WA)(p_,"median")};function m_(t,e){if(e){var n=t.getData(),r=t.coordinateSystem,i=r&&r.dimensions;if(!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!(0,b.kJ)(e.coord)&&(0,b.kJ)(i)){var o=v_(e,n,r,t);if((e=(0,b.d9)(e)).type&&g_[e.type]&&o.baseAxis&&o.valueAxis){var a=(0,b.cq)(i,o.baseAxis.dim),s=(0,b.cq)(i,o.valueAxis.dim),l=g_[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&(0,b.kJ)(i))for(var u=e.coord,c=0;c<2;c++)g_[u[c]]&&(u[c]=x_(n,n.mapDimension(i[c]),u[c]));else e.coord=[];return e}}function v_(t,e,n,r){var i={};return null!=t.valueIndex||null!=t.valueDim?(i.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(function(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function y_(t,e){return!(t&&t.containData&&e.coord&&!f_(e))||t.containData(e.coord)}function b_(t,e){return t?function(t,n,r,i){var o=i<2?t.coord&&t.coord[i]:t.value;return(0,d_.yQ)(o,e[i])}:function(t,n,r,i){return(0,d_.yQ)(t.value,e[i])}}function x_(t,e,n){if("average"===n){var r=0,i=0;return t.each(e,(function(t,e){isNaN(t)||(r+=t,i++)})),r/i}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var __=(0,se.Yf)(),w_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){this.markerGroupMap=(0,b.kW)()},e.prototype.render=function(t,e,n){var r=this,i=this.markerGroupMap;i.each((function(t){__(t).keep=!1})),e.eachSeries((function(t){var i=u_.getMarkerModelFromSeries(t,r.type);i&&r.renderSeries(t,i,e,n)})),i.each((function(t){!__(t).keep&&r.group.remove(t.group)}))},e.prototype.markKeep=function(t){__(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var n=this;(0,b.S6)(t,(function(t){var r=u_.getMarkerModelFromSeries(t,n.type);r&&r.getData().eachItemGraphicEl((function(t){t&&(e?(0,Ht.SX)(t):(0,Ht.VP)(t))}))}))},e.type="marker",e}(ar.Z),S_=w_;function M_(t,e,n){var r=e.coordinateSystem;t.each((function(i){var o,a=t.getItemModel(i),s=xe.GM(a.get("x"),n.getWidth()),l=xe.GM(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var u=t.get(r.dimensions[0],i),c=t.get(r.dimensions[1],i);o=r.dataToPoint([u,c])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),t.setItemLayout(i,o)}))}var k_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=u_.getMarkerModelFromSeries(t,"markPoint");e&&(M_(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new ee),u=function(t,e,n){var r;r=t?(0,b.UI)(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return(0,b.l7)((0,b.l7)({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new Un.Z(r,n),o=(0,b.UI)(n.get("data"),(0,b.WA)(m_,e));t&&(o=(0,b.hX)(o,(0,b.WA)(y_,t)));var a=b_(!!t,r);return i.initData(o,null,a),i}(i,t,e);e.setData(u),M_(e.getData(),t,r),u.each((function(t){var n=u.getItemModel(t),r=n.getShallow("symbol"),i=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if((0,b.mf)(r)||(0,b.mf)(i)||(0,b.mf)(o)||(0,b.mf)(s)){var c=e.getRawValue(t),h=e.getDataParams(t);(0,b.mf)(r)&&(r=r(c,h)),(0,b.mf)(i)&&(i=i(c,h)),(0,b.mf)(o)&&(o=o(c,h)),(0,b.mf)(s)&&(s=s(c,h))}var d=n.getModel("itemStyle").getItemStyle(),f=(0,px.UL)(a,"color");d.fill||(d.fill=f),u.setItemVisual(t,{symbol:r,symbolSize:i,symbolRotate:o,symbolOffset:s,symbolKeepAspect:l,style:d})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(t){t.traverse((function(t){(0,Ut.A)(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(S_);var E_=k_;var A_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(u_),T_=A_,I_=(0,se.Yf)(),C_=function(t,e,n,r){var i,o=t.getData();if((0,b.kJ)(r))i=r;else{var a=r.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=r.xAxis||null!=r.yAxis){var s=void 0,l=void 0;if(null!=r.yAxis||null!=r.xAxis)s=e.getAxis(null!=r.yAxis?"y":"x"),l=(0,b.Jv)(r.yAxis,r.xAxis);else{var u=v_(r,o,e,t);s=u.valueAxis,l=x_(o,(0,ne.IR)(o,u.valueDataDim),a)}var c="x"===s.dim?0:1,h=1-c,d=(0,b.d9)(r),f={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,f.coord[h]=1/0;var p=n.get("precision");p>=0&&(0,b.hj)(l)&&(l=+l.toFixed(Math.min(p,20))),d.coord[c]=f.coord[c]=l,i=[d,f,{type:a,valueIndex:r.valueIndex,value:l}]}else i=[]}var g=[m_(t,i[0]),m_(t,i[1]),(0,b.l7)({},i[2])];return g[2].type=g[2].type||null,(0,b.TS)(g[2],g[0]),(0,b.TS)(g[2],g[1]),g};function D_(t){return!isNaN(t)&&!isFinite(t)}function N_(t,e,n,r){var i=1-t,o=r.dimensions[t];return D_(e[i])&&D_(n[i])&&e[t]===n[t]&&r.getAxis(o).containData(e[t])}function O_(t,e){if("cartesian2d"===t.type){var n=e[0].coord,r=e[1].coord;if(n&&r&&(N_(1,n,r,t)||N_(0,n,r,t)))return!0}return y_(t,e[0])&&y_(t,e[1])}function L_(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),l=xe.GM(s.get("x"),i.getWidth()),u=xe.GM(s.get("y"),i.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=a.dimensions,h=t.get(c[0],e),d=t.get(c[1],e);o=a.dataToPoint([h,d])}if(Me(a,"cartesian2d")){var f=a.getAxis("x"),p=a.getAxis("y");c=a.dimensions;D_(t.get(c[0],e))?o[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):D_(t.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];t.setItemLayout(e,o)}var P_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=u_.getMarkerModelFromSeries(t,"markLine");if(e){var r=e.getData(),i=I_(e).from,o=I_(e).to;i.each((function(e){L_(i,e,!0,t,n),L_(o,e,!1,t,n)})),r.each((function(t){r.setItemLayout(t,[i.getItemLayout(t),o.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new Vu);this.group.add(l.group);var u=function(t,e,n){var r;r=t?(0,b.UI)(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return(0,b.l7)((0,b.l7)({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new Un.Z(r,n),o=new Un.Z(r,n),a=new Un.Z([],n),s=(0,b.UI)(n.get("data"),(0,b.WA)(C_,e,t,n));t&&(s=(0,b.hX)(s,(0,b.WA)(O_,t)));var l=b_(!!t,r);return i.initData((0,b.UI)(s,(function(t){return t[0]})),null,l),o.initData((0,b.UI)(s,(function(t){return t[1]})),null,l),a.initData((0,b.UI)(s,(function(t){return t[2]}))),a.hasItemOption=!0,{from:i,to:o,line:a}}(i,t,e),c=u.from,h=u.to,d=u.line;I_(e).from=c,I_(e).to=h,e.setData(d);var f=e.get("symbol"),p=e.get("symbolSize"),g=e.get("symbolRotate"),m=e.get("symbolOffset");function v(e,n,i){var o=e.getItemModel(n);L_(e,n,i,t,r);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=(0,px.UL)(a,"color")),e.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:(0,b.pD)(o.get("symbolOffset",!0),m[i?0:1]),symbolRotate:(0,b.pD)(o.get("symbolRotate",!0),g[i?0:1]),symbolSize:(0,b.pD)(o.get("symbolSize"),p[i?0:1]),symbol:(0,b.pD)(o.get("symbol",!0),f[i?0:1]),style:s})}(0,b.kJ)(f)||(f=[f,f]),(0,b.kJ)(p)||(p=[p,p]),(0,b.kJ)(g)||(g=[g,g]),(0,b.kJ)(m)||(m=[m,m]),u.from.each((function(t){v(c,t,!0),v(h,t,!1)})),d.each((function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[c.getItemLayout(t),h.getItemLayout(t)]),null==e.stroke&&(e.stroke=c.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolKeepAspect:c.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(t,"symbolOffset"),fromSymbolRotate:c.getItemVisual(t,"symbolRotate"),fromSymbolSize:c.getItemVisual(t,"symbolSize"),fromSymbol:c.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})})),l.updateData(d),u.line.eachItemGraphicEl((function(t){(0,Ut.A)(t).dataModel=e,t.traverse((function(t){(0,Ut.A)(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(S_);var R_=P_;var j_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(u_),z_=j_,B_=(0,se.Yf)(),F_=function(t,e,n,r){var i=r[0],o=r[1];if(i&&o){var a=m_(t,i),s=m_(t,o),l=a.coord,u=s.coord;l[0]=(0,b.Jv)(l[0],-1/0),l[1]=(0,b.Jv)(l[1],-1/0),u[0]=(0,b.Jv)(u[0],1/0),u[1]=(0,b.Jv)(u[1],1/0);var c=(0,b.Jn)([{},a,s]);return c.coord=[a.coord,s.coord],c.x0=a.x,c.y0=a.y,c.x1=s.x,c.y1=s.y,c}};function G_(t){return!isNaN(t)&&!isFinite(t)}function V_(t,e,n,r){var i=1-t;return G_(e[i])&&G_(n[i])}function Z_(t,e){var n=e.coord[0],r=e.coord[1],i={coord:n,x:e.x0,y:e.y0},o={coord:r,x:e.x1,y:e.y1};return Me(t,"cartesian2d")?!(!n||!r||!V_(1,n,r)&&!V_(0,n,r))||function(t,e,n){return!(t&&t.containZone&&e.coord&&n.coord&&!f_(e)&&!f_(n))||t.containZone(e.coord,n.coord)}(t,i,o):y_(t,i)||y_(t,o)}function U_(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),l=xe.GM(s.get(n[0]),i.getWidth()),u=xe.GM(s.get(n[1]),i.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition){var c=t.getValues(["x0","y0"],e),h=t.getValues(["x1","y1"],e),d=a.clampData(c),f=a.clampData(h),p=[];"x0"===n[0]?p[0]=d[0]>f[0]?h[0]:c[0]:p[0]=d[0]>f[0]?c[0]:h[0],"y0"===n[1]?p[1]=d[1]>f[1]?h[1]:c[1]:p[1]=d[1]>f[1]?c[1]:h[1],o=r.getMarkerPosition(p,n,!0)}else{var g=[y=t.get(n[0],e),b=t.get(n[1],e)];a.clampData&&a.clampData(g,g),o=a.dataToPoint(g,!0)}if(Me(a,"cartesian2d")){var m=a.getAxis("x"),v=a.getAxis("y"),y=t.get(n[0],e),b=t.get(n[1],e);G_(y)?o[0]=m.toGlobalCoord(m.getExtent()["x0"===n[0]?0:1]):G_(b)&&(o[1]=v.toGlobalCoord(v.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var H_=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],W_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=u_.getMarkerModelFromSeries(t,"markArea");if(e){var r=e.getData();r.each((function(e){var i=(0,b.UI)(H_,(function(i){return U_(r,e,i,t,n)}));r.setItemLayout(e,i),r.getItemGraphicEl(e).setShape("points",i)}))}}),this)},e.prototype.renderSeries=function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new Bt.Z});this.group.add(l.group),this.markKeep(l);var u=function(t,e,n){var r,i,o=["x0","y0","x1","y1"];if(t){var a=(0,b.UI)(t&&t.dimensions,(function(t){var n=e.getData(),r=n.getDimensionInfo(n.mapDimension(t))||{};return(0,b.l7)((0,b.l7)({},r),{name:t,ordinalMeta:null})}));i=(0,b.UI)(o,(function(t,e){return{name:t,type:a[e%2].type}})),r=new Un.Z(i,n)}else i=[{name:"value",type:"float"}],r=new Un.Z(i,n);var s=(0,b.UI)(n.get("data"),(0,b.WA)(F_,e,t,n));t&&(s=(0,b.hX)(s,(0,b.WA)(Z_,t)));var l=t?function(t,e,n,r){var o=t.coord[Math.floor(r/2)][r%2];return(0,d_.yQ)(o,i[r])}:function(t,e,n,r){return(0,d_.yQ)(t.value,i[r])};return r.initData(s,null,l),r.hasItemOption=!0,r}(i,t,e);e.setData(u),u.each((function(e){var n=(0,b.UI)(H_,(function(n){return U_(u,e,n,t,r)})),o=i.getAxis("x").scale,s=i.getAxis("y").scale,l=o.getExtent(),c=s.getExtent(),h=[o.parse(u.get("x0",e)),o.parse(u.get("x1",e))],d=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];xe.dt(h),xe.dt(d);var f=!!(l[0]>h[1]||l[1]<h[0]||c[0]>d[1]||c[1]<d[0]);u.setItemLayout(e,{points:n,allClipped:f});var p=u.getItemModel(e).getModel("itemStyle").getItemStyle(),g=(0,px.UL)(a,"color");p.fill||(p.fill=g,(0,b.HD)(p.fill)&&(p.fill=Ee.m8(p.fill,.4))),p.stroke||(p.stroke=g),u.setItemVisual(e,"style",p)})),u.diff(B_(l).data).add((function(t){var e=u.getItemLayout(t);if(!e.allClipped){var n=new Pi.Z({shape:{points:e.points}});u.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var r=B_(l).data.getItemGraphicEl(n),i=u.getItemLayout(t);i.allClipped?r&&l.group.remove(r):(r?Vt.D(r,{shape:{points:i.points}},e,t):r=new Pi.Z({shape:{points:i.points}}),u.setItemGraphicEl(t,r),l.group.add(r))})).remove((function(t){var e=B_(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),u.eachItemGraphicEl((function(t,n){var r=u.getItemModel(n),i=u.getItemVisual(n,"style");t.useStyle(u.getItemVisual(n,"style")),(0,qt.ni)(t,(0,qt.k3)(r),{labelFetcher:e,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:(0,b.HD)(i.fill)?Ee.m8(i.fill,1):"#000"}),(0,Ht.WO)(t,r),(0,Ht.k5)(t,null,null,r.get(["emphasis","disabled"])),(0,Ut.A)(t).dataModel=e})),B_(l).data=u,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(S_);var Y_=W_;var X_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),b.kJ(e)&&b.S6(e,(function(t,r){b.HD(t)&&(t={type:t}),e[r]=b.TS(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(r){var i,o=r.name;if(n.push(o),r.legendVisualProvider){var a=r.legendVisualProvider.getAllNames();t.isSeriesFiltered(r)||(n=n.concat(a)),a.length?e=e.concat(a):i=!0}else i=!0;i&&(0,se.yu)(r)&&e.push(r.name)})),this._availableNames=n;var r=this.get("data")||e,i=b.kW(),o=b.UI(r,(function(t){return(b.HD(t)||b.hj(t))&&(t={name:t}),i.get(t.name)?null:(i.set(t.name,!0),new ni.Z(t,this,this.ecModel))}),this);this._data=b.hX(o,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;b.S6(n,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;b.S6(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;b.S6(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&b.cq(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(sr.Z),q_=X_,K_=b.WA,$_=b.S6,J_=Bt.Z,Q_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new J_),this.group.add(this._selectorGroup=new J_),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var i=t.get("align"),o=t.get("orient");i&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===o?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(i,t,e,n,a,o,s);var l=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},c=t.get("padding"),h=Mn.ME(l,u,c),d=this.layoutInner(t,i,h,r,a,s),f=Mn.ME(b.ce({width:d.width,height:d.height},l),u,c);this.group.x=f.x-d.x,this.group.y=f.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Ky(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,r,i,o,a){var s=this.getContentGroup(),l=b.kW(),u=e.get("selectedMode"),c=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&c.push(t.id)})),$_(e.getData(),(function(i,o){var a=i.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var h=new J_;return h.newline=!0,void s.add(h)}var d=n.getSeriesByName(a)[0];if(!l.get(a)){if(d){var f=d.getData(),p=f.getVisual("legendLineStyle")||{},g=f.getVisual("legendIcon"),m=f.getVisual("style");this._createItem(d,a,o,i,e,t,p,m,g,u,r).on("click",K_(tw,a,null,r,c)).on("mouseover",K_(nw,d.name,null,r,c)).on("mouseout",K_(rw,d.name,null,r,c)),l.set(a,!0)}else n.eachRawSeries((function(n){if(!l.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var h=s.indexOfName(a),d=s.getItemVisual(h,"style"),f=s.getItemVisual(h,"legendIcon"),p=(0,Ee.Qc)(d.fill);p&&0===p[3]&&(p[3]=.2,d=b.l7(b.l7({},d),{fill:(0,Ee.Pz)(p,"rgba")})),this._createItem(n,a,o,i,e,t,{},d,f,u,r).on("click",K_(tw,null,a,r,c)).on("mouseover",K_(nw,null,a,r,c)).on("mouseout",K_(rw,null,a,r,c)),l.set(a,!0)}}),this);0}}),this),i&&this._createSelector(i,e,r,o,a)},e.prototype._createSelector=function(t,e,n,r,i){var o=this.getSelectorGroup();$_(t,(function(t){var r=t.type,i=new X.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});o.add(i);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);(0,qt.ni)(i,{normal:a,emphasis:s},{defaultText:t.title}),(0,Ht.vF)(i)}))},e.prototype._createItem=function(t,e,n,r,i,o,a,s,l,u,c){var h=t.visualDrawType,d=i.get("itemWidth"),f=i.get("itemHeight"),p=i.isSelected(e),g=r.get("symbolRotate"),m=r.get("symbolKeepAspect"),v=r.get("icon"),y=function(t,e,n,r,i,o,a){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),$_(t,(function(n,r){"inherit"===t[r]&&(t[r]=e[r])}))}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=0===t.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");u.decal=h&&"inherit"!==h?(0,pa.I)(h,a):r.decal,"inherit"===u.fill&&(u.fill=r[i]);"inherit"===u.stroke&&(u.stroke=r[c]);"inherit"===u.opacity&&(u.opacity=("fill"===i?r:n).opacity);s(u,r);var d=e.getModel("lineStyle"),f=d.getLineStyle();if(s(f,n),"auto"===u.fill&&(u.fill=r.fill),"auto"===u.stroke&&(u.stroke=r.fill),"auto"===f.stroke&&(f.stroke=r.fill),!o){var p=e.get("inactiveBorderWidth"),g=u[c];u.lineWidth="auto"===p?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=d.get("inactiveColor"),f.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}(l=v||l||"roundRect",r,a,s,h,p,c),x=new J_,_=r.getModel("textStyle");if(!b.mf(t.getLegendIcon)||v&&"inherit"!==v){var w="inherit"===v&&t.getData().getVisual("symbol")?"inherit"===g?t.getData().getVisual("symbolRotate"):g:0;x.add(function(t){var e=t.icon||"roundRect",n=(0,zt.th)(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:d,itemHeight:f,icon:l,iconRotate:w,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}))}else x.add(t.getLegendIcon({itemWidth:d,itemHeight:f,icon:l,iconRotate:g,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));var S="left"===o?d+5:-5,M=o,k=i.get("formatter"),E=e;b.HD(k)&&k?E=k.replace("{name}",null!=e?e:""):b.mf(k)&&(E=k(e));var A=p?_.getTextColor():r.get("inactiveColor");x.add(new X.ZP({style:(0,qt.Lr)(_,{text:E,x:S,y:f/2,fill:A,align:M,verticalAlign:"middle"},{inheritColor:A})}));var T=new ye.Z({shape:x.getBoundingRect(),invisible:!0}),I=r.getModel("tooltip");return I.get("show")&&Zt.setTooltipConfig({el:T,componentModel:i,itemName:e,itemTooltipOption:I.option}),x.add(T),x.eachChild((function(t){t.silent=!0})),T.silent=!u,this.getContentGroup().add(x),(0,Ht.vF)(x),x.__legendDataIndex=n,x},e.prototype.layoutInner=function(t,e,n,r,i,o){var a=this.getContentGroup(),s=this.getSelectorGroup();Mn.BZ(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),i){Mn.BZ("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),h=[-c.x,-c.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",m=0===f?"y":"x";"end"===o?h[f]+=l[p]+d:u[f]+=c[p]+d,h[1-f]+=l[g]/2-c[g]/2,s.x=h[0],s.y=h[1],a.x=u[0],a.y=u[1];var v={x:0,y:0};return v[p]=l[p]+d+c[p],v[g]=Math.max(l[g],c[g]),v[m]=Math.min(0,c[m]+h[1-f]),v}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(ar.Z);function tw(t,e,n,r){rw(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),nw(t,e,n,r)}function ew(t){for(var e,n=t.getZr().storage.getDisplayList(),r=0,i=n.length;r<i&&!(e=n[r].states.emphasis);)r++;return e&&e.hoverLayer}function nw(t,e,n,r){ew(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function rw(t,e,n,r){ew(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}var iw=Q_;function ow(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function aw(t,e,n){var r,i={},o="toggleSelected"===t;return n.eachComponent("legend",(function(n){o&&null!=r?n[r?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),r=n.isSelected(e.name));var a=n.getData();(0,b.S6)(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);i.hasOwnProperty(e)?i[e]=i[e]&&r:i[e]=r}}))})),"allSelect"===t||"inverseSelect"===t?{selected:i}:{name:e.name,selected:i}}function sw(t){t.registerComponentModel(q_),t.registerComponentView(iw),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,ow),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",(0,b.WA)(aw,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",(0,b.WA)(aw,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",(0,b.WA)(aw,"inverseSelect")),t.registerAction("legendSelect","legendselected",(0,b.WA)(aw,"select")),t.registerAction("legendUnSelect","legendunselected",(0,b.WA)(aw,"unSelect"))}(t)}var lw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,r){var i=(0,Mn.tE)(e);t.prototype.init.call(this,e,n,r),uw(this,e,i)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),uw(this,this.option,e)},e.type="legend.scroll",e.defaultOption=(0,Ye.ZL)(q_.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(q_);function uw(t,e,n){var r=[1,1];r[t.getOrient().index]=0,(0,Mn.dt)(e,n,{type:"box",ignoreSize:!!r})}var cw=lw,hw=Bt.Z,dw=["width","height"],fw=["x","y"],pw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return(0,Pt.ZT)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new hw),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new hw)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,r,i,o,a,s){var l=this;t.prototype.renderInner.call(this,e,n,r,i,o,a,s);var u=this._controllerGroup,c=n.get("pageIconSize",!0),h=b.kJ(c)?c:[c,c];f("pagePrev",0);var d=n.getModel("pageTextStyle");function f(t,e){var r=t+"DataIndex",o=Zt.createIcon(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:b.ak(l._pageGo,l,r,n,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});o.name=t,u.add(o)}u.add(new X.ZP({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},e.prototype.layoutInner=function(t,e,n,r,i,o){var a=this.getSelectorGroup(),s=t.getOrient().index,l=dw[s],u=fw[s],c=dw[1-s],h=fw[1-s];i&&Mn.BZ("horizontal",a,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=a.getBoundingRect(),p=[-f.x,-f.y],g=b.d9(n);i&&(g[l]=n[l]-f[l]-d);var m=this._layoutContentAndController(t,r,g,s,l,c,h,u);if(i){if("end"===o)p[s]+=m[l]+d;else{var v=f[l]+d;p[s]-=v,m[u]-=v}m[l]+=f[l]+d,p[1-s]+=m[h]+m[c]/2-f[c]/2,m[c]=Math.max(m[c],f[c]),m[h]=Math.min(m[h],f[h]+p[1-s]),a.x=p[0],a.y=p[1],a.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,n,r,i,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;Mn.BZ(t.get("orient"),l,t.get("itemGap"),r?n.width:null,r?null:n.height),Mn.BZ("horizontal",c,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),d=c.getBoundingRect(),f=this._showController=h[i]>n[i],p=[-h.x,-h.y];e||(p[r]=l[s]);var g=[0,0],m=[-d.x,-d.y],v=b.pD(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?m[r]+=n[i]-d[i]:g[r]+=d[i]+v);m[1-r]+=h[o]/2-d[o]/2,l.setPosition(p),u.setPosition(g),c.setPosition(m);var y={x:0,y:0};if(y[i]=f?n[i]:h[i],y[o]=Math.max(h[o],d[o]),y[a]=Math.min(0,d[a]+m[1-r]),u.__rectSize=n[i],f){var x={x:0,y:0};x[i]=Math.max(n[i]-d[i]-v,0),x[o]=y[o],u.setClipPath(new ye.Z({shape:x})),u.__rectSize=x[i]}else c.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(t);return null!=_.pageIndex&&Vt.D(l,{x:_.contentPosition[0],y:_.contentPosition[1]},f?t:null),this._updatePageInfoView(t,_),y},e.prototype._pageGo=function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;b.S6(["pagePrev","pageNext"],(function(r){var i=null!=e[r+"DataIndex"],o=n.childOfName(r);o&&(o.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=i?"pointer":"default")}));var r=n.childOfName("pageText"),i=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;r&&i&&r.setStyle("text",b.HD(i)?i.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):i({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,i=t.getOrient().index,o=dw[i],a=fw[i],s=this._findTargetItemIndex(e),l=n.children(),u=l[s],c=l.length,h=c?1:0,d={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var f=y(u);d.contentPosition[i]=-f.s;for(var p=s+1,g=f,m=f,v=null;p<=c;++p)(!(v=y(l[p]))&&m.e>g.s+r||v&&!b(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(p=s-1,g=f,m=f,v=null;p>=-1;--p)(v=y(l[p]))&&b(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+r}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(r,i){var o=r.__legendDataIndex;null==n&&null!=o&&(n=i),o===t&&(e=i)})),null!=e?e:n):0;var e,n},e.type="legend.scroll",e}(iw),gw=pw;function mw(t){(0,r.D)(sw),t.registerComponentModel(cw),t.registerComponentView(gw),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}(t)}var vw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="dataZoom.inside",e.defaultOption=(0,Ye.ZL)(Ty.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Ty),yw=vw,bw=(0,se.Yf)();function xw(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function _w(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function ww(t,e,n,r){return t.coordinateSystem.containPoint([n,r])}function Sw(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=bw(e),r=n.coordSysRecordMap||(n.coordSysRecordMap=(0,b.kW)());r.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=My(t);(0,b.S6)(n.infoList,(function(n){var i=n.model.uid,o=r.get(i)||r.set(i,function(t,e){var n={model:e,containsPoint:(0,b.WA)(ww,e),dispatchAction:(0,b.WA)(_w,t),dataZoomInfoMap:null,controller:null},r=n.controller=new uo(t.getZr());return(0,b.S6)(["pan","zoom","scrollMove"],(function(t){r.on(t,(function(e){var r=[];n.dataZoomInfoMap.each((function(i){if(e.isAvailableBehavior(i.model.option)){var o=(i.getRange||{})[t],a=o&&o(i.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!i.model.get("disabled",!0)&&a&&r.push({dataZoomId:i.model.id,start:a[0],end:a[1]})}})),r.length&&n.dispatchAction(r)}))})),n}(e,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=(0,b.kW)())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),r.each((function(t){var e,n=t.controller,i=t.dataZoomInfoMap;if(i){var o=i.keys()[0];null!=o&&(e=i.get(o))}if(e){var a=function(t){var e,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each((function(t){var o=t.model,a=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");r[n+a]>r[n+e]&&(e=a),i=i&&o.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(i);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),Ke.T9(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else xw(r,t)}))}))}var Mw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return(0,Pt.ZT)(e,t),e.prototype.render=function(e,n,r){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function(t,e,n){bw(t).coordSysRecordMap.each((function(t){var r=t.dataZoomInfoMap.get(e.uid);r&&(r.getRange=n)}))}(r,e,{pan:(0,b.ak)(kw.pan,this),zoom:(0,b.ak)(kw.zoom,this),scrollMove:(0,b.ak)(kw.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=bw(t).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var o=r[i],a=n.get(o),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||xw(n,a))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Ny),kw={zoom:function(t,e,n,r){var i=this.range,o=i.slice(),a=t.axisModels[0];if(a){var s=Aw[e](null,[r.originX,r.originY],a,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/r.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Wc(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1]?o:void 0}},pan:Ew((function(t,e,n,r,i,o){var a=Aw[r]([o.oldX,o.oldY],[o.newX,o.newY],e,i,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:Ew((function(t,e,n,r,i,o){return Aw[r]([0,0],[o.scrollDelta,o.scrollDelta],e,i,n).signal*(t[1]-t[0])*o.scrollDelta}))};function Ew(t){return function(e,n,r,i){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s)return Wc(t(a,s,e,n,r,i),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var Aw={grid:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,r,i){var o=n.axis,a=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},Tw=Mw;function Iw(t){Vy(t),t.registerComponentModel(yw),t.registerComponentView(Tw),Sw(t)}var Cw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=(0,Ye.ZL)(Ty.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Ty),Dw=Cw,Nw=ye.Z,Ow="horizontal",Lw="vertical",Pw=["line","bar","candlestick","scatter"],Rw={easing:"cubicOut",duration:100,delay:0},jw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=(0,b.ak)(this._onBrush,this),this._onBrushEnd=(0,b.ak)(this._onBrushEnd,this)},e.prototype.render=function(e,n,r,i){if(t.prototype.render.apply(this,arguments),Ke.T9(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Ke.ZH(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new Bt.Z;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,r=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},o=this._orient===Ow?{right:i.width-r.x-r.width,top:i.height-30-7-n,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},a=Mn.tE(t.option);(0,b.S6)(["right","top","width","height"],(function(t){"ph"===a[t]&&(a[t]=o[t])}));var s=Mn.ME(a,i);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===Lw&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==Ow||i?n===Ow&&i?{scaleY:a?1:-1,scaleX:-1}:n!==Lw||i?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([o]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,r=t.get("brushSelect");n.add(new Nw({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var i=new Nw({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:(0,b.ak)(this._onClickPanel,this)}),o=this.api.getZr();r?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(i)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],r=t.series,i=r.getRawData(),o=r.getShadowDim&&r.getShadowDim(),a=o&&i.getDimensionInfo(o)?r.getShadowDim():t.otherDim;if(null!=a){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(i!==this._shadowData||a!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var u=i.getDataExtent(a),c=.3*(u[1]-u[0]);u=[u[0]-c,u[1]+c];var h,d=[0,e[1]],f=[0,e[0]],p=[[e[0],0],[0,0]],g=[],m=f[1]/(i.count()-1),v=0,y=Math.round(i.count()/e[0]);i.each([a],(function(t,e){if(y>0&&e%y)v+=m;else{var n=null==t||isNaN(t)||""===t,r=n?0:(0,xe.NU)(t,u,d,!0);n&&!h&&e?(p.push([p[p.length-1][0],0]),g.push([g[g.length-1][0],0])):!n&&h&&(p.push([v,0]),g.push([v,0])),p.push([v,r]),g.push([v,r]),v+=m,h=n}})),s=this._shadowPolygonPts=p,l=this._shadowPolylinePts=g}this._shadowData=i,this._shadowDim=a,this._shadowSize=[e[0],e[1]];for(var b=this.dataZoomModel,x=0;x<3;x++){var _=w(1===x);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}function w(t){var e=b.getModel(t?"selectedDataBackground":"dataBackground"),n=new Bt.Z,r=new Pi.Z({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new Dn.Z({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(r),n.add(i),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis((function(i,o){var a=t.getAxisProxy(i,o).getTargetSeriesModels();(0,b.S6)(a,(function(t){if(!(n||!0!==e&&(0,b.cq)(Pw,t.get("type"))<0)){var a,s=r.getComponent(wy(i),o).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[i],u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:i,otherDim:l,otherAxisInverse:a}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],r=e.handleLabels=[null,null],i=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,u=a.get("brushSelect"),c=e.filler=new Nw({silent:u,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});i.add(c),i.add(new Nw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),(0,b.S6)([0,1],(function(e){var o=a.get("handleIcon");!zt.Pw[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var s=(0,zt.th)(o,-1,0,2,2,null,!0);s.attr({cursor:zw(this._orient),draggable:!0,drift:(0,b.ak)(this._onDragMove,this,e),ondragend:(0,b.ak)(this._onDragEnd,this),onmouseover:(0,b.ak)(this._showDataInfo,this,!0),onmouseout:(0,b.ak)(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=a.get("handleSize");this._handleHeight=(0,xe.GM)(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,Ht.vF)(s);var c=a.get("handleColor");null!=c&&(s.style.fill=c),i.add(n[e]=s);var h=a.getModel("textStyle");t.add(r[e]=new X.ZP({silent:!0,invisible:!0,style:(0,qt.Lr)(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=c;if(u){var d=(0,xe.GM)(a.get("moveHandleSize"),o[1]),f=e.moveHandle=new ye.Z({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:d}}),p=.8*d,g=e.moveHandleIcon=(0,zt.th)(a.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);g.silent=!0,g.y=o[1]+d/2-.5,f.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(o[1]/2,Math.max(d,10));(h=e.moveZone=new ye.Z({invisible:!0,shape:{y:o[1]-m,height:d+m}})).on("mouseover",(function(){s.enterEmphasis(f)})).on("mouseout",(function(){s.leaveEmphasis(f)})),i.add(f),i.add(g),i.add(h)}h.attr({draggable:!0,cursor:zw(this._orient),drift:(0,b.ak)(this._onDragMove,this,"all"),ondragstart:(0,b.ak)(this._showDataInfo,this,!0),ondragend:(0,b.ak)(this._onDragEnd,this),onmouseover:(0,b.ak)(this._showDataInfo,this,!0),onmouseout:(0,b.ak)(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[(0,xe.NU)(t[0],[0,100],e,!0),(0,xe.NU)(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];Wc(e,r,i,n.get("zoomLock")?"all":t,null!=o.minSpan?(0,xe.NU)(o.minSpan,a,i,!0):null,null!=o.maxSpan?(0,xe.NU)(o.maxSpan,a,i,!0):null);var s=this._range,l=this._range=(0,xe.dt)([(0,xe.NU)(r[0],i,a,!0),(0,xe.NU)(r[1],i,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,r=(0,xe.dt)(n.slice()),i=this._size;(0,b.S6)([0,1],(function(t){var r=e.handles[t],o=this._handleHeight;r.attr({scaleX:o/2,scaleY:o/2,x:n[t]+(t?-1:1),y:i[1]/2-o/2})}),this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]});var o={x:r[0],width:r[1]-r[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=e.dataShadowSegs,s=[0,r[0],r[1],i[0]],l=0;l<a.length;l++){var u=a[l],c=u.getClipPath();c||(c=new ye.Z,u.setClipPath(c)),c.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:i[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,r=n.handleLabels,i=this._orient,o=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=t?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var c=(0,xe.dt)(this._handleEnds.slice());function h(t){var e=Zt.getTransform(n.handles[t].parent,this.group),a=Zt.transformDirection(0===t?"right":"left",e),s=this._handleWidth/2+5,l=Zt.applyTransform([c[t]+(0===t?-s:s),this._size[1]/2],e);r[t].setStyle({x:l[0],y:l[1],verticalAlign:i===Ow?"middle":a,align:i===Ow?a:"center",text:o[t]})}h.call(this,0),h.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(i,20));return(0,b.mf)(r)?r(t,o):(0,b.HD)(r)?r.replace("{value}",o):o},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,r){this._dragging=!0,eo.sT(r.event);var i=this._displayables.sliderGroup.getLocalTransform(),o=Zt.applyTransform([e,n],i,!0),a=this._updateInterval(t,o[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,o=this._updateInterval("all",n[0]-i);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Nn.Z(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var r=this._getViewExtent(),i=[0,100];this._range=(0,xe.dt)([(0,xe.NU)(n.x,r,i,!0),(0,xe.NU)(n.x+n.width,r,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(eo.sT(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,r=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new Nw({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),l=a.transformCoordToLocal(o.x,o.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),i.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Rw:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=My(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var r=this.api.getWidth(),i=this.api.getHeight();t={x:.2*r,y:.2*i,width:.6*r,height:.6*i}}return t},e.type="dataZoom.slider",e}(Ny);function zw(t){return"vertical"===t?"ns-resize":"ew-resize"}var Bw=jw;function Fw(t){t.registerComponentModel(Dw),t.registerComponentView(Bw),Vy(t)}var Gw={get:function(t,e,n){var r=b.d9((Vw[t]||{})[e]);return n&&b.kJ(r)?r[r.length-1]:r}},Vw={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Zw=Gw,Uw=Ol.mapVisual,Hw=Ol.eachVisual,Ww=b.kJ,Yw=b.S6,Xw=xe.dt,qw=xe.NU,Kw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&yx(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=b.ak(t,this),this.controllerVisuals=vx(this.option.controller,e,t),this.targetVisuals=vx(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=se.kF(t),e},e.prototype.eachTargetSeries=function(t,e){b.S6(this.getTargetSeriesIndices(),(function(n){var r=this.ecModel.getSeriesByIndex(n);r&&t.call(e,r)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var r,i=this.option,o=i.precision,a=this.dataBound,s=i.formatter;n=n||["<",">"],b.kJ(t)&&(t=t.slice(),r=!0);var l=e?t:r?[u(t[0]),u(t[1])]:u(t);return b.HD(s)?s.replace("{value}",r?l[0]:l).replace("{value2}",r?l[1]:l):b.mf(s)?r?s(t[0],t[1]):s(t):r?t[0]===a[0]?n[0]+" "+l[1]:t[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,e=Xw([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,r=n.length-1;r>=0;r--){var i=n[r],o=t.getDimensionInfo(i);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},r=e.target||(e.target={}),i=e.controller||(e.controller={});b.TS(r,n),b.TS(i,n);var o=this.isCategory();function a(n){Ww(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}a.call(this,r),a.call(this,i),function(t,e,n){var r=t[e],i=t[n];r&&!i&&(i=t[n]={},Yw(r,(function(t,e){if(Ol.isValidType(e)){var n=Zw.get(e,"inactive",o);null!=n&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}})))}.call(this,r,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),i=this.getItemSymbol()||"roundRect";Yw(this.stateList,(function(a){var s=this.itemSize,l=t[a];l||(l=t[a]={color:o?r:[r]}),null==l.symbol&&(l.symbol=e&&b.d9(e)||(o?i:[i])),null==l.symbolSize&&(l.symbolSize=n&&b.d9(n)||(o?s[0]:[s[0],s[0]])),l.symbol=Uw(l.symbol,(function(t){return"none"===t?i:t}));var u=l.symbolSize;if(null!=u){var c=-1/0;Hw(u,(function(t){t>c&&(c=t)})),l.symbolSize=Uw(u,(function(t){return qw(t,[0,c],[0,s[0]],!0)}))}}),this)}.call(this,i)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(sr.Z),$w=Kw,Jw=[20,140],Qw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=Jw[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=Jw[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):b.kJ(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),b.S6(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=xe.dt((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var r=[],i=n.getData();i.each(this.getDataDimensionIndex(i),(function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)}),this),e.push({seriesId:n.id,dataIndex:r})}),this),e},e.prototype.getVisualMeta=function(t){var e=tS(this,"outOfRange",this.getExtent()),n=tS(this,"inRange",this.option.range.slice()),r=[];function i(e,n){r.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,l=e.length;a<l&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&i(e[a],"outOfRange");for(var u=1;o<s;o++,u=0)u&&r.length&&i(n[o],"outOfRange"),i(n[o],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<e[a])&&(u&&(r.length&&i(r[r.length-1].value,"outOfRange"),u=0),i(e[a],"outOfRange"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:"transparent",c?r[c-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=(0,Ye.ZL)($w.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}($w);function tS(t,e,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],o=[],a=0;a<=200&&i<n[1];a++)o.push(i),i+=r;return o.push(n[1]),o}var eS=Qw,nS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return(0,Pt.ZT)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,r):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=ke.MY(e.get("padding")||0),r=t.getBoundingRect();t.add(new ye.Z({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var r=(n=n||{}).forceState,i=this.visualMapModel,o={};if("color"===e){var a=i.get("contentColor");o.color=a}function s(t){return o[t]}function l(t,e){o[t]=e}var u=i.controllerVisuals[r||i.getValueState(t)],c=Ol.prepareVisualTypes(u);return b.S6(c,(function(r){var i=u[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=u.__alphaForOpacity),Ol.dependsOn(r,e)&&i&&i.applyVisual(t,s,l)})),o[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;Mn.p$(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,r){},e.type="visualMap",e}(ar.Z),rS=nS,iS=[["left","right","width"],["top","bottom","height"]];function oS(t,e,n){var r=t.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===r.orient?1:0,s=iS[a],l=[0,null,10],u={},c=0;c<3;c++)u[iS[1-a][c]]=l[c],u[s[c]]=2===c?n[0]:r[s[c]];var h=[["x","width",3],["y","height",0]][a],d=(0,Mn.ME)(u,o,r.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*o[h[1]]?0:1]}function aS(t,e){return b.S6(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var sS=xe.NU,lS=b.S6,uS=Math.min,cS=Math.max,hS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return(0,Pt.ZT)(e,t),e.prototype.doRender=function(t,e,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,o=i.get("textGap"),a=i.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new X.ZP({style:(0,qt.Lr)(h,{x:l[0],y:l[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:r})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,i=this._orient,o=this._useHandle,a=oS(e,this.api,r),s=n.mainGroup=this._createBarGroup(a),l=new Bt.Z;s.add(l),l.add(n.outOfRange=dS()),l.add(n.inRange=dS(null,o?pS(this._orient):null,b.ak(this._dragHandle,this,"all",!1),b.ak(this._dragHandle,this,"all",!0))),l.setClipPath(new ye.Z({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var u=e.textStyleModel.getTextRect("国"),c=cS(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,r,c,i),this._createHandle(e,s,1,r,c,i)),this._createIndicator(e,s,r,c,i),t.add(s)},e.prototype._createHandle=function(t,e,n,r,i,o){var a=b.ak(this._dragHandle,this,n,!1),s=b.ak(this._dragHandle,this,n,!0),l=(0,u.GM)(t.get("handleSize"),r[0]),c=(0,zt.th)(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),h=pS(this._orient);c.attr({cursor:h,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){eo.sT(t.event)}}),c.x=r[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,Ht.Nj)(c,!0),e.add(c);var d=this.visualMapModel.textStyleModel,f=new X.ZP({cursor:h,draggable:!0,drift:a,onmousemove:function(t){eo.sT(t.event)},ondragend:s,style:(0,qt.Lr)(d,{x:0,y:0,text:""})});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var p=[l,0],g=this._shapes;g.handleThumbs[n]=c,g.handleLabelPoints[n]=p,g.handleLabels[n]=f},e.prototype._createIndicator=function(t,e,n,r,i){var o=(0,u.GM)(t.get("indicatorSize"),n[0]),a=(0,zt.th)(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(a instanceof l.ZP){var c=a.style;a.useStyle(b.l7({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},s))}else a.useStyle(s);e.add(a);var h=this.visualMapModel.textStyleModel,d=new X.ZP({silent:!0,invisible:!0,style:(0,qt.Lr)(h,{x:0,y:0,text:""})});this.group.add(d);var f=[("horizontal"===i?r/2:6)+n[0]/2,0],p=this._shapes;p.indicator=a,p.indicatorLabel=d,p.indicatorLabelPoint=f,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var i=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(t,i[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():fS(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[sS(e[0],n,r,!0),sS(e[1],n,r,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];Wc(e,r,i,t,0);var o=n.getExtent();this._dataInterval=[sS(r[0],i,o,!0),sS(r[1],i,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,i=[0,e.itemSize[1]],o=t?i:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,r){var i={forceState:r,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,i),a=[this.getControllerVisual(t[0],"symbolSize",i),this.getControllerVisual(t[1],"symbolSize",i)],s=this._createBarPoints(n,a);return{barColor:new ae.Z(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],r=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var o=t[0]+r*i;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new Bt.Z("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,o=n.handleLabels,a=r.itemSize,s=r.getExtent();lS([0,1],(function(l){var u=i[l];u.setStyle("fill",e.handlesColor[l]),u.y=t[l];var c=sS(t[l],[0,a[1]],s,!0),h=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=h/a[0],u.x=a[0]-h/2;var d=Zt.applyTransform(n.handleLabelPoints[l],Zt.getTransform(u,this.group));o[l].setStyle({x:d[0],y:d[1],text:r.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,r){var i=this.visualMapModel,o=i.getExtent(),a=i.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var c=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(t,"symbolSize"),d=sS(t,o,s,!0),f=a[0]-h/2,p={x:u.x,y:u.y};u.y=d,u.x=f;var g=Zt.applyTransform(l.indicatorLabelPoint,Zt.getTransform(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;m.setStyle({text:(n||"")+i.formatValueText(e),verticalAlign:y?v:"middle",align:y?"center":v});var b={x:f,y:d,style:{fill:c}},x={style:{x:g[0],y:g[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var _={duration:100,easing:"cubicInOut",additive:!0};u.x=p.x,u.y=p.y,u.animateTo(b,_),m.animateTo(x,_)}else u.attr(b),m.attr(x);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var S=0;S<w.length;S++)this._api.enterBlur(w[S])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);r[1]=uS(cS(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],o=n.getExtent();t=uS(cS(i[0],t),i[1]);var a=function(t,e,n){var r=6,i=t.get("hoverLinkDataSize");i&&(r=sS(i,e,n,!0)/2);return r}(n,o,i),s=[t-a,t+a],l=sS(t,i,o,!0),u=[sS(s[0],i,o,!0),sS(s[1],i,o,!0)];s[0]<i[0]&&(u[0]=-1/0),s[1]>i[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var c=this._hoverLinkDataIndices,h=[];(e||fS(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var d=se.XI(c,h);this._dispatchHighDown("downplay",aS(d[0],n)),this._dispatchHighDown("highlight",aS(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if((0,Qa.o)(t.target,(function(t){var n=(0,Ut.A)(t);if(null!=n.dataIndex)return e=n,!0}),!0),e){var n=this.ecModel.getSeriesByIndex(e.seriesIndex),r=this.visualMapModel;if(r.isTargetSeries(n)){var i=n.getData(e.dataType),o=i.getStore().get(r.getDataDimensionIndex(i),e.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",aS(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,r){var i=Zt.getTransform(e,r?null:this.group);return b.kJ(t)?Zt.applyTransform(t,i,n):Zt.transformDirection(t,i,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(rS);function dS(t,e,n,r){return new Pi.Z({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){eo.sT(t.event)},ondragend:r})}function fS(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function pS(t){return"vertical"===t?"ns-resize":"ew-resize"}var gS=hS,mS={type:"selectDataRange",event:"dataRangeSelected",update:"update"},vS=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},yS=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var r,i,o,a,s,l=t.pipelineContext;!e.isTargetSeries(t)||l&&l.large||n.push((r=e.stateList,i=e.targetVisuals,o=b.ak(e.getValueState,e),a=e.getDataDimensionIndex(t.getData()),s={},b.S6(r,(function(t){var e=Ol.prepareVisualTypes(i[t]);s[t]=e})),{progress:function(t,e){var n,r;function l(t){return(0,px.Or)(e,r,t)}function u(t,n){(0,px.LZ)(e,r,t,n)}null!=a&&(n=e.getDimensionIndex(a));for(var c=e.getStore();null!=(r=t.next());){var h=e.getRawDataItem(r);if(!h||!1!==h.visualMap)for(var d=null!=a?c.get(n,r):r,f=o(d),p=i[f],g=s[f],m=0,v=g.length;m<v;m++){var y=g[m];p[y]&&p[y].applyVisual(d,l,u)}}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var i=e.getVisualMeta(b.ak(bS,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimensionIndex(n);o>=0&&(i.dimension=o,r.push(i))}})),t.getData().setVisual("visualMeta",r)}}];function bS(t,e,n,r){for(var i=e.targetVisuals[r],o=Ol.prepareVisualTypes(i),a={color:(0,px.UL)(t.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],c=i["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(n,h,d)}return a.color;function h(t){return a[t]}function d(t,e){a[t]=e}}var xS=b.S6;function _S(t){var e=t&&t.visualMap;b.kJ(e)||(e=e?[e]:[]),xS(e,(function(t){if(t){wS(t,"splitList")&&!wS(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&b.kJ(e)&&xS(e,(function(t){b.Kn(t)&&(wS(t,"start")&&!wS(t,"min")&&(t.min=t.start),wS(t,"end")&&!wS(t,"max")&&(t.max=t.end))}))}}))}function wS(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var SS=!1;function MS(t){SS||(SS=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(mS,vS),(0,b.S6)(yS,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(_S))}function kS(t){t.registerComponentModel(eS),t.registerComponentView(gS),MS(t)}var ES=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return(0,Pt.ZT)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],AS[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var i=this.option.categories;this.resetVisual((function(t,e){"categories"===r?(t.mappingMethod="category",t.categories=b.d9(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=b.UI(this._pieceList,(function(t){return t=b.d9(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},r=Ol.listVisualTypes(),i=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}b.S6(e.pieces,(function(t){b.S6(r,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),b.S6(n,(function(t,n){var r=!1;b.S6(this.stateList,(function(t){r=r||o(e,t,n)||o(e.target,t,n)}),this),!r&&b.S6(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=Zw.get(n,"inRange"===t?"active":"inactive",i)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,r=this._pieceList,i=(e?n:t).selected||{};if(n.selected=i,b.S6(r,(function(t,e){var n=this.getSelectedMapKey(t);i.hasOwnProperty(n)||(i[n]=!0)}),this),"single"===n.selectedMode){var o=!1;b.S6(r,(function(t,e){var n=this.getSelectedMapKey(t);i[n]&&(o?i[n]=!1:o=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=b.d9(t)},e.prototype.getValueState=function(t){var e=Ol.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(r){var i=[],o=r.getData();o.each(this.getDataDimensionIndex(o),(function(e,r){Ol.findPieceIndex(e,n)===t&&i.push(r)}),this),e.push({seriesId:r.id,dataIndex:i})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],r=this,i=this._pieceList.slice();if(i.length){var o=i[0].interval[0];o!==-1/0&&i.unshift({interval:[-1/0,o]}),(o=i[i.length-1].interval[1])!==1/0&&i.push({interval:[o,1/0]})}else i.push({interval:[-1/0,1/0]});var a=-1/0;return b.S6(i,(function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])}),this),{stops:e,outerColors:n}}function s(i,o){var a=r.getRepresentValue({interval:i});o||(o=r.getValueState(a));var s=t(a,o);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:e.push({value:i[0],color:s},{value:i[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=(0,Ye.ZL)($w.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}($w),AS={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,s=r[0];a<i;s+=o,a++){var l=a===i-1?r[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),(0,xe.nR)(t),b.S6(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;b.S6(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),TS(e,t)},pieces:function(t){var e=this.option;b.S6(e.pieces,(function(e,n){b.Kn(e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var i=r.value=e.value;r.interval=[i,i],r.close=[1,1]}else{for(var o=r.interval=[],a=r.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==o[c];d++)o[c]=e[h[d]],a[c]=s[d],u[c]=2===d;null==o[c]&&(o[c]=l[c])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(r.value=o[0])}r.visual=Ol.retrieveVisuals(e),t.push(r)}),this),TS(e,t),(0,xe.nR)(t),b.S6(t,(function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function TS(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var IS=ES,CS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,Pt.ZT)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,i=r.getFont(),o=r.getTextColor(),a=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,c=b.Jv(e.get("showLabel",!0),!u);u&&this._renderEndsText(t,u[0],s,c,a),b.S6(l.viewPieceList,(function(r){var l=r.piece,u=new Bt.Z;u.onclick=b.ak(this._onItemClick,this,l),this._enableHoverLink(u,r.indexInModelPieceList);var h=e.getRepresentValue(l);if(this._createItemSymbol(u,h,[0,0,s[0],s[1]]),c){var d=this.visualMapModel.getValueState(h);u.add(new X.ZP({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:i,fill:o,opacity:"outOfRange"===d?.5:1}}))}t.add(u)}),this),u&&this._renderEndsText(t,u[1],s,c,a),Mn.BZ(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(t){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:t,batch:aS(r.findTargetDataIndices(e),r)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return oS(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,r,i){if(e){var o=new Bt.Z,a=this.visualMapModel.textStyleModel;o.add(new X.ZP({style:(0,qt.Lr)(a,{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?i:"center",text:e})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=b.UI(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),r=t.get("orient"),i=t.get("inverse");return("horizontal"===r?i:!i)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add((0,zt.th)(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,r=n.selectedMode;if(r){var i=b.d9(n.selected),o=e.getSelectedMapKey(t);"single"===r||!0===r?(i[o]=!0,b.S6(i,(function(t,e){i[e]=e===o}))):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}},e.type="visualMap.piecewise",e}(rS),DS=CS;function NS(t){t.registerComponentModel(IS),t.registerComponentView(DS),MS(t)}var OS={label:{enabled:!0},decal:{show:!1}},LS=(0,se.Yf)(),PS={};function RS(t,e){var n=t.getModel("aria");if(n.get("enabled")){var r=b.d9(OS);b.TS(r.label,t.getLocaleModel().get("aria"),!1),b.TS(n.option,r,!1),function(){if(n.getModel("decal").get("show")){var e=b.kW();t.eachSeries((function(t){if(!t.isColorBySeries()){var n=e.get(t.type);n||(n={},e.set(t.type,n)),LS(t).scope=n}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(b.mf(e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var r=(0,Xs.i)(e.ecModel,e.name,PS,t.getSeriesCount()),i=n.getVisual("decal");n.setVisual("decal",u(i,r))}else{var o=e.getRawData(),a={},s=LS(e).scope;n.each((function(t){var e=n.getRawIndex(t);a[e]=t}));var l=o.count();o.each((function(t){var r=a[t],i=o.getName(t)||t+"",c=(0,Xs.i)(e.ecModel,i,s,l),h=n.getItemVisual(r,"decal");n.setItemVisual(r,"decal",u(h,c))}))}}function u(t,e){var n=t?b.l7(b.l7({},e),t):e;return n.dirty=!0,n}}))}}(),function(){var r=t.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=b.ce(o.option,r),!o.get("enabled"))return;var a=e.getZr().dom;if(o.get("description"))return void a.setAttribute("aria-label",o.get("description"));var s,l=t.getSeriesCount(),u=o.get(["data","maxCount"])||10,c=o.get(["series","maxCount"])||10,h=Math.min(l,c);if(l<1)return;var d=function(){var e=t.get("title");e&&e.length&&(e=e[0]);return e&&e.text}();s=d?i(o.get(["general","withTitle"]),{title:d}):o.get(["general","withoutTitle"]);var f=[];s+=i(l>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]),{seriesCount:l}),t.eachSeries((function(e,n){if(n<h){var r=void 0,a=e.get("name")?"withName":"withoutName";r=i(r=l>1?o.get(["series","multiple",a]):o.get(["series","single",a]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(b=e.subType,t.getLocaleModel().get(["series","typeNames"])[b]||"自定义图")});var s=e.getData();if(s.count()>u)r+=i(o.get(["data","partialData"]),{displayCnt:u});else r+=o.get(["data","allData"]);for(var c=o.get(["data","separator","middle"]),d=o.get(["data","separator","end"]),p=[],g=0;g<s.count();g++)if(g<u){var m=s.getName(g),v=s.getValues(g),y=o.get(["data",m?"withName":"withoutName"]);p.push(i(y,{name:m,value:v.join(c)}))}r+=p.join(c)+d,f.push(r)}var b}));var p=o.getModel(["series","multiple","separator"]),g=p.get("middle"),m=p.get("end");s+=f.join(g)+m,a.setAttribute("aria-label",s)}()}function i(t,e){if(!b.HD(t))return t;var n=t;return b.S6(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}}function jS(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},b.S6(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}var zS={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},BS=function(){function t(t){if(null==(this._condVal=(0,b.HD)(t)?new RegExp(t):(0,b.Kj)(t)?t:null)){0,(0,Zd._y)("")}}return t.prototype.evaluate=function(t){var e=typeof t;return(0,b.HD)(e)?this._condVal.test(t):!!(0,b.hj)(e)&&this._condVal.test(t+"")},t}(),FS=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),GS=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),VS=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),ZS=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),US=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?n:e))return!1;return!0},t}();function HS(t,e){if(!0===t||!1===t){var n=new FS;return n.value=t,n}return YS(t)||(0,Zd._y)(""),t.and?WS("and",t,e):t.or?WS("or",t,e):t.not?function(t,e){var n=t.not,r="";0;YS(n)||(0,Zd._y)(r);var i=new ZS;i.child=HS(n,e),i.child||(0,Zd._y)(r);return i}(t,e):function(t,e){for(var n="",r=e.prepareGetValue(t),i=[],o=(0,b.XP)(t),a=t.parser,s=a?(0,d_.o2)(a):null,l=0;l<o.length;l++){var u=o[l];if("parser"!==u&&!e.valueGetterAttrMap.get(u)){var c=(0,b.RI)(zS,u)?zS[u]:u,h=t[u],d=s?s(h):h,f=(0,d_.tR)(c,d)||"reg"===c&&new BS(d);f||(0,Zd._y)(n),i.push(f)}}i.length||(0,Zd._y)(n);var p=new US;return p.valueGetterParam=r,p.valueParser=s,p.getValue=e.getValue,p.subCondList=i,p}(t,e)}function WS(t,e,n){var r=e[t];(0,b.kJ)(r)||(0,Zd._y)(""),r.length||(0,Zd._y)("");var i="and"===t?new GS:new VS;return i.children=(0,b.UI)(r,(function(t){return HS(t,n)})),i.children.length||(0,Zd._y)(""),i}function YS(t){return(0,b.Kn)(t)&&!(0,b.zG)(t)}var XS=function(){function t(t,e){this._cond=HS(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var qS={type:"echarts:filter",transform:function(t){for(var e,n,r,i=t.upstream,o=(n=t.config,r={valueGetterAttrMap:(0,b.kW)({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;(0,b.RI)(t,"dimension")||(0,Zd._y)("");var n=i.getDimensionInfo(e);return n||(0,Zd._y)(""),{dimIdx:n.index}},getValue:function(t){return i.retrieveValueFromItem(e,t.dimIdx)}},new XS(n,r)),a=[],s=0,l=i.count();s<l;s++)e=i.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};var KS={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,r="",i=(0,se.kF)(n);i.length||(0,Zd._y)(r);var o=[];(0,b.S6)(i,(function(t){var n=t.dimension,i=t.order,a=t.parser,s=t.incomparable;if(null==n&&(0,Zd._y)(r),"asc"!==i&&"desc"!==i&&(0,Zd._y)(r),s&&"min"!==s&&"max"!==s){0,(0,Zd._y)("")}if("asc"!==i&&"desc"!==i){0,(0,Zd._y)("")}var l=e.getDimensionInfo(n);l||(0,Zd._y)(r);var u=a?(0,d_.o2)(a):null;a&&!u&&(0,Zd._y)(r),o.push({dimIdx:l.index,parser:u,comparator:new d_.ID(i,s)})}));var a=e.sourceFormat;a!==Ud.XD&&a!==Ud.qb&&(0,Zd._y)(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,n){for(var r=0;r<o.length;r++){var i=o[r],a=e.retrieveValueFromItem(t,i.dimIdx),s=e.retrieveValueFromItem(n,i.dimIdx);i.parser&&(a=i.parser(a),s=i.parser(s));var l=i.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};var $S=n("./node_modules/echarts/lib/component/dataset/install.js"),JS=j.Z.CMD;function QS(t,e){return Math.abs(t-e)<1e-5}function tM(t){var e,n,r,i,o,a=t.data,s=t.len(),l=[],u=0,c=0,h=0,d=0;function f(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function p(t,n,r,i){QS(t,r)&&QS(n,i)||e.push(t,n,r,i,r,i)}function g(t,n,r,i,o,a){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,u=n<t?-1:1,c=Math.cos(t),h=Math.sin(t),d=Math.cos(n),f=Math.sin(n),p=c*o+r,g=h*a+i,m=d*o+r,v=f*a+i,y=o*l*u,b=a*l*u;e.push(p-y*h,g+b*c,m+y*f,v-b*d,m,v)}for(var m=0;m<s;){var v=a[m++],y=1===m;switch(y&&(h=u=a[m],d=c=a[m+1],v!==JS.L&&v!==JS.C&&v!==JS.Q||(e=[h,d])),v){case JS.M:u=h=a[m++],c=d=a[m++],f(h,d);break;case JS.L:p(u,c,n=a[m++],r=a[m++]),u=n,c=r;break;case JS.C:e.push(a[m++],a[m++],a[m++],a[m++],u=a[m++],c=a[m++]);break;case JS.Q:n=a[m++],r=a[m++],i=a[m++],o=a[m++],e.push(u+2/3*(n-u),c+2/3*(r-c),i+2/3*(n-i),o+2/3*(r-o),i,o),u=i,c=o;break;case JS.A:var b=a[m++],x=a[m++],_=a[m++],w=a[m++],S=a[m++],M=a[m++]+S;m+=1;var k=!a[m++];n=Math.cos(S)*_+b,r=Math.sin(S)*w+x,y?f(h=n,d=r):p(u,c,n,r),u=Math.cos(M)*_+b,c=Math.sin(M)*w+x;for(var E=(k?-1:1)*Math.PI/2,A=S;k?A>M:A<M;A+=E){g(A,k?Math.max(A+E,M):Math.min(A+E,M),b,x,_,w)}break;case JS.R:h=u=a[m++],d=c=a[m++],n=h+a[m++],r=d+a[m++],f(n,d),p(n,d,n,r),p(n,r,h,r),p(h,r,h,d),p(h,d,n,d);break;case JS.Z:e&&p(u,c,h,d),u=h,c=d}}return e&&e.length>2&&l.push(e),l}function eM(t,e,n,r,i,o,a,s,l,u){if(QS(t,n)&&QS(e,r)&&QS(i,a)&&QS(o,s))l.push(a,s);else{var c=2/u,h=c*c,d=a-t,f=s-e,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=n-t,m=r-e,v=i-a,y=o-s,b=g*g+m*m,x=v*v+y*y;if(b<h&&x<h)l.push(a,s);else{var _=d*g+f*m,w=-d*v-f*y;if(b-_*_<h&&_>=0&&x-w*w<h&&w>=0)l.push(a,s);else{var S=[],M=[];(0,le.Vz)(t,n,i,a,.5,S),(0,le.Vz)(e,r,o,s,.5,M),eM(S[0],M[0],S[1],M[1],S[2],M[2],S[3],M[3],l,u),eM(S[4],M[4],S[5],M[5],S[6],M[6],S[7],M[7],l,u)}}}}function nM(t,e,n){var r=t[e],i=t[1-e],o=Math.abs(r/i),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var l=[],u=0;u<a;u++)l.push(s);var c=n-a*s;if(c>0)for(u=0;u<c;u++)l[u%a]+=1;return l}function rM(t,e,n){for(var r=t.r0,i=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),l=s*i,u=i-r,c=l>Math.abs(u),h=nM([l,u],c?0:1,e),d=(c?s:u)/h.length,f=0;f<h.length;f++)for(var p=(c?u:s)/h[f],g=0;g<h[f];g++){var m={};c?(m.startAngle=o+d*f,m.endAngle=o+d*(f+1),m.r0=r+p*g,m.r=r+p*(g+1)):(m.startAngle=o+p*g,m.endAngle=o+p*(g+1),m.r0=r+d*f,m.r=r+d*(f+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,n.push(m)}}function iM(t,e,n,r){return t*r-n*e}function oM(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,h=s-o,d=iM(c,h,l,u);if(Math.abs(d)<1e-6)return null;var f=iM(t-i,e-o,c,h)/d;return f<0||f>1?null:new Nn.Z(f*l+t,f*u+e)}function aM(t,e,n){var r=new Nn.Z;Nn.Z.sub(r,n,e),r.normalize();var i=new Nn.Z;return Nn.Z.sub(i,t,e),i.dot(r)}function sM(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function lM(t){var e=t.points,n=[],r=[];(0,gs.zk)(e,n,r);var i=new Qn.Z(n[0],n[1],r[0]-n[0],r[1]-n[1]),o=i.width,a=i.height,s=i.x,l=i.y,u=new Nn.Z,c=new Nn.Z;return o>a?(u.x=c.x=s+o/2,u.y=l,c.y=l+a):(u.y=c.y=l+a/2,u.x=s,c.x=s+o),function(t,e,n){for(var r=t.length,i=[],o=0;o<r;o++){var a=t[o],s=t[(o+1)%r],l=oM(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&i.push({projPt:aM(l,e,n),pt:l,idx:o})}if(i.length<2)return[{points:t},{points:t}];i.sort((function(t,e){return t.projPt-e.projPt}));var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var h=u;u=c,c=h}var d=[u.pt.x,u.pt.y],f=[c.pt.x,c.pt.y],p=[d],g=[f];for(o=u.idx+1;o<=c.idx;o++)sM(p,t[o].slice());for(sM(p,f),sM(p,d),o=c.idx+1;o<=u.idx+r;o++)sM(g,t[o%r].slice());return sM(g,d),sM(g,f),[{points:p},{points:g}]}(e,u,c)}function uM(t,e,n,r){if(1===n)r.push(e);else{var i=Math.floor(n/2),o=t(e);uM(t,o[0],i,r),uM(t,o[1],n-i,r)}return r}function cM(t,e){var n,r=[],i=t.shape;switch(t.type){case"rect":!function(t,e,n){for(var r=t.width,i=t.height,o=r>i,a=nM([r,i],o?0:1,e),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",c=o?"y":"x",h=t[s]/a.length,d=0;d<a.length;d++)for(var f=t[l]/a[d],p=0;p<a[d];p++){var g={};g[u]=d*h,g[c]=p*f,g[s]=h,g[l]=f,g.x+=t.x,g.y+=t.y,n.push(g)}}(i,e,r),n=ye.Z;break;case"sector":rM(i,e,r),n=be.C;break;case"circle":rM({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,r),n=be.C;break;default:var o=t.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=(0,b.UI)(function(t,e){var n=tM(t),r=[];e=e||1;for(var i=0;i<n.length;i++){var o=n[i],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u<o.length;){var c=o[u++],h=o[u++],d=o[u++],f=o[u++],p=o[u++],g=o[u++];eM(s,l,c,h,d,f,p,g,a,e),s=p,l=g}r.push(a)}return r}(t.getUpdatedPathProxy(),a),(function(t){return function(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}(t)})),l=s.length;if(0===l)uM(lM,{points:s[0]},e,r);else if(l===e)for(var u=0;u<l;u++)r.push({points:s[u]});else{var c=0,h=(0,b.UI)(s,(function(t){var e=[],n=[];(0,gs.zk)(t,e,n);var r=(n[1]-e[1])*(n[0]-e[0]);return c+=r,{poly:t,area:r}}));h.sort((function(t,e){return e.area-t.area}));var d=e;for(u=0;u<l;u++){var f=h[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(f.area/c*e);p<0||(uM(lM,{points:f.poly},p,r),d-=p)}}n=Pi.Z}if(!n)return function(t,e){for(var n=[],r=0;r<e;r++)n.push((0,vo.U5)(t));return n}(t,e);var g,m,v=[];for(u=0;u<r.length;u++){var y=new n;y.setShape(r[u]),g=t,(m=y).setStyle(g.style),m.z=g.z,m.z2=g.z2,m.zlevel=g.zlevel,v.push(y)}return v}function hM(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var i=[],o=[],a=n<r?t:e,s=Math.min(n,r),l=Math.abs(r-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,h=[a[0],a[1]],d=l,f=2;f<s;){var p=a[f-2],g=a[f-1],m=a[f++],v=a[f++],y=a[f++],b=a[f++],x=a[f++],_=a[f++];if(d<=0)h.push(m,v,y,b,x,_);else{for(var w=Math.min(d,c-1)+1,S=1;S<=w;S++){var M=S/w;(0,le.Vz)(p,m,y,x,M,i),(0,le.Vz)(g,v,b,_,M,o),p=i[3],g=o[3],h.push(i[1],o[1],i[2],o[2],p,g),m=i[5],v=o[5],y=i[6],b=o[6]}d-=w-1}}return a===t?[h,e]:[t,h]}function dM(t,e){for(var n=t.length,r=t[n-2],i=t[n-1],o=[],a=0;a<e.length;)o[a++]=r,o[a++]=i;return o}function fM(t){for(var e=0,n=0,r=0,i=t.length,o=0,a=i-2;o<i;a=o,o+=2){var s=t[a],l=t[a+1],u=t[o],c=t[o+1],h=s*c-u*l;e+=h,n+=(s+u)*h,r+=(l+c)*h}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function pM(t,e,n,r){for(var i=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,u=0;u<i;u++){for(var c=6*u,h=0,d=0;d<s;d+=2){var f=0===d?c:(c+d-2)%l+2,p=t[f]-n[0],g=t[f+1]-n[1],m=e[d]-r[0]-p,v=e[d+1]-r[1]-g;h+=m*m+v*v}h<o&&(o=h,a=u)}return a}function gM(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function mM(t){return t.__isCombineMorphing}var vM="__mOriginal_";function yM(t,e,n){var r=vM+e,i=t[r]||t[e];t[r]||(t[r]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=o?o.apply(this,e):i.apply(this,e),a&&a.apply(this,e),t}}function bM(t,e){var n=vM+e;t[n]&&(t[e]=t[n],t[n]=null)}function xM(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;){var o=r[i],a=r[i+1];r[i++]=e[0]*o+e[2]*a+e[4],r[i++]=e[1]*o+e[3]*a+e[5]}}function _M(t,e){var n=t.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=function(t,e){for(var n,r,i,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],c=void 0,h=void 0;l?u?(r=c=(n=hM(l,u))[0],i=h=n[1]):(h=dM(i||l,l),c=l):(c=dM(r||u,u),h=u),o.push(c),a.push(h)}return[o,a]}(tM(n),tM(r)),o=i[0],a=i[1],s=t.getComputedTransform(),l=e.getComputedTransform();s&&xM(o,s),l&&xM(a,l),yM(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var u=function(t,e,n,r){for(var i,o=[],a=0;a<t.length;a++){var s=t[a],l=e[a],u=fM(s),c=fM(l);null==i&&(i=u[2]<0!=c[2]<0);var h=[],d=[],f=0,p=1/0,g=[],m=s.length;i&&(s=gM(s));for(var v=6*pM(s,l,u,c),y=m-2,b=0;b<y;b+=2){var x=(v+b)%y+2;h[b+2]=s[x]-u[0],h[b+3]=s[x+1]-u[1]}if(h[0]=s[v]-u[0],h[1]=s[v+1]-u[1],n>0)for(var _=r/n,w=-r/2;w<=r/2;w+=_){var S=Math.sin(w),M=Math.cos(w),k=0;for(b=0;b<s.length;b+=2){var E=h[b],A=h[b+1],T=l[b]-c[0],I=l[b+1]-c[1],C=T*M-I*S,D=T*S+I*M;g[b]=C,g[b+1]=D;var N=C-E,O=D-A;k+=N*N+O*O}if(k<p){p=k,f=w;for(var L=0;L<g.length;L++)d[L]=g[L]}}else for(var P=0;P<m;P+=2)d[P]=l[P]-c[0],d[P+1]=l[P+1]-c[1];o.push({from:h,to:d,fromCp:u,toCp:c,rotation:-f})}return o}(o,a,10,Math.PI),c=[];yM(e,"buildPath",{replace:function(t){for(var n=e.__morphT,r=1-n,i=[],o=0;o<u.length;o++){var a=u[o],s=a.from,l=a.to,h=a.rotation*n,d=a.fromCp,f=a.toCp,p=Math.sin(h),g=Math.cos(h);(0,Sr.t7)(i,d,f,n);for(var m=0;m<s.length;m+=2){var v=s[m],y=s[m+1],b=v*r+(S=l[m])*n,x=y*r+(M=l[m+1])*n;c[m]=b*g-x*p+i[0],c[m+1]=b*p+x*g+i[1]}var _=c[0],w=c[1];t.moveTo(_,w);for(m=2;m<s.length;){var S=c[m++],M=c[m++],k=c[m++],E=c[m++],A=c[m++],T=c[m++];_===S&&w===M&&k===A&&E===T?t.lineTo(A,T):t.bezierCurveTo(S,M,k,E,A,T),_=A,w=T}}}})}function wM(t,e,n){if(!t||!e)return e;var r=n.done,i=n.during;return _M(t,e),e.__morphT=0,e.animateTo({__morphT:1},(0,b.ce)({during:function(t){e.dirtyShape(),i&&i(t)},done:function(){bM(e,"buildPath"),bM(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),r&&r()}},n)),e}function SM(t,e,n,r,i,o){t=i===n?0:Math.round(32767*(t-n)/(i-n)),e=o===r?0:Math.round(32767*(e-r)/(o-r));for(var a,s=0,l=32768;l>0;l/=2){var u=0,c=0;(t&l)>0&&(u=1),(e&l)>0&&(c=1),s+=l*l*(3*u^c),0===c&&(1===u&&(t=l-1-t,e=l-1-e),a=t,t=e,e=a)}return s}function MM(t){var e=1/0,n=1/0,r=-1/0,i=-1/0,o=(0,b.UI)(t,(function(t){var o=t.getBoundingRect(),a=t.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),l=o.y+o.height/2+(a?a[5]:0);return e=Math.min(s,e),n=Math.min(l,n),r=Math.max(s,r),i=Math.max(l,i),[s,l]}));return(0,b.UI)(o,(function(o,a){return{cp:o,z:SM(o[0],o[1],e,n,r,i),path:t[a]}})).sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function kM(t){return cM(t.path,t.count)}function EM(t){return(0,b.kJ)(t[0])}function AM(t,e){for(var n=[],r=t.length,i=0;i<r;i++)n.push({one:t[i],many:[]});for(i=0;i<e.length;i++){var o=e[i].length,a=void 0;for(a=0;a<o;a++)n[a%r].many.push(e[i][a])}var s=0;for(i=r-1;i>=0;i--)if(!n[i].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}o=l.length;var u=Math.ceil(o/2);n[i].many=l.slice(u,o),n[s].many=l.slice(0,u),s++}return n}var TM={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var i=(0,vo.U5)(t.path);i.setStyle("opacity",n),e.push(i)}return e},split:null};function IM(t,e,n,r,i,o){if(t.length&&e.length){var a=(0,Vt.ke)("update",r,i);if(a&&a.duration>0){var l,u,c=r.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},a);EM(t)&&(l=t,u=e),EM(e)&&(l=e,u=t);for(var d=l?l===t:t.length>e.length,f=l?AM(u,l):AM(d?e:t,[d?t:e]),p=0,g=0;g<f.length;g++)p+=f[g].many.length;var m=0;for(g=0;g<f.length;g++)v(f[g],d,m,p),m+=f[g].many.length}}function v(t,e,r,i,a){var l=t.many,u=t.one;if(1!==l.length||a)for(var d=(0,b.ce)({dividePath:TM[n],individualDelay:c&&function(t,e,n,o){return c(t+r,i)}},h),f=e?function(t,e,n){var r=[];!function t(e){for(var n=0;n<e.length;n++){var i=e[n];mM(i)?t(i.childrenRef()):i instanceof s.ZP&&r.push(i)}}(t);var i=r.length;if(!i)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||kM)({path:e,count:i});if(o.length!==i)return{fromIndividuals:[],toIndividuals:[],count:0};r=MM(r),o=MM(o);for(var a=n.done,l=n.during,u=n.individualDelay,c=new R.ZP,h=0;h<i;h++){var d=r[h],f=o[h];f.parent=e,f.copyTransform(c),u||_M(d,f)}function p(t){for(var e=0;e<o.length;e++)o[e].addSelfToZr(t)}function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,bM(e,"addSelfToZr"),bM(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return o},yM(e,"addSelfToZr",{after:function(t){p(t)}}),yM(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<o.length;e++)o[e].removeSelfFromZr(t)}});var m=o.length;if(u){var v=m,y=function(){0==--v&&(g(),a&&a())};for(h=0;h<m;h++){var x=u?(0,b.ce)({delay:(n.delay||0)+u(h,m,r[h],o[h]),done:y},n):n;wM(r[h],o[h],x)}}else e.__morphT=0,e.animateTo({__morphT:1},(0,b.ce)({during:function(t){for(var n=0;n<m;n++){var r=o[n];r.__morphT=e.__morphT,r.dirtyShape()}l&&l(t)},done:function(){g();for(var e=0;e<t.length;e++)bM(t[e],"updateTransform");a&&a()}},n));return e.__zr&&p(e.__zr),{fromIndividuals:r,toIndividuals:o,count:m}}(l,u,d):function(t,e,n){var r=e.length,i=[],o=n.dividePath||kM;if(mM(t)){!function t(e){for(var n=0;n<e.length;n++){var r=e[n];mM(r)?t(r.childrenRef()):r instanceof s.ZP&&i.push(r)}}(t.childrenRef());var a=i.length;if(a<r)for(var l=0,u=a;u<r;u++)i.push((0,vo.U5)(i[l++%a]));i.length=r}else{i=o({path:t,count:r});var c=t.getComputedTransform();for(u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return{fromIndividuals:[],toIndividuals:[],count:0}}i=MM(i),e=MM(e);var h=n.individualDelay;for(u=0;u<r;u++){var d=h?(0,b.ce)({delay:(n.delay||0)+h(u,r,i[u],e[u])},n):n;wM(i[u],e[u],d)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}(u,l,d),p=f.fromIndividuals,g=f.toIndividuals,m=p.length,y=0;y<m;y++){x=c?(0,b.ce)({delay:c(y,m)},h):h;o(p[y],g[y],e?l[y]:t.one,e?t.one:l[y],x)}else{var x,_=e?l[0]:u,w=e?u:l[0];if(mM(_))v({many:[_],one:w},!0,r,i,!0);else wM(_,w,x=c?(0,b.ce)({delay:c(r,i)},h):h),o(_,w,_,w,x)}}}function CM(t){if(!t)return[];if((0,b.kJ)(t)){for(var e=[],n=0;n<t.length;n++)e.push(CM(t[n]));return e}var r=[];return t.traverse((function(t){t instanceof s.ZP&&!t.disableMorphing&&!t.invisible&&!t.ignore&&r.push(t)})),r}var DM=1e4,NM=(0,se.Yf)();function OM(t){var e=[];return(0,b.S6)(t,(function(t){var n=t.data;if(!(n.count()>DM))for(var r=n.getIndices(),i=function(t){for(var e=t.dimensions,n=0;n<e.length;n++){var r=t.getDimensionInfo(e[n]);if(r&&0===r.otherDims.itemGroupId)return e[n]}}(n),o=0;o<r.length;o++)e.push({dataGroupId:t.dataGroupId,data:n,dim:t.dim||i,divide:t.divide,dataIndex:o})})),e}function LM(t,e,n){t.traverse((function(t){t instanceof s.ZP&&(0,Vt.KZ)(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function PM(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function RM(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function jM(t,e,n){var r=OM(t),i=OM(e);function o(t,e,n,r,i){(n||t)&&e.animateFrom({style:n&&n!==t?(0,b.l7)((0,b.l7)({},n.style),t.style):t.style},i)}function a(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var l=a(r),u=a(i),c=!1;function h(t,e){return function(n){var r=n.data,i=n.dataIndex;if(e)return r.getId(i);var o=n.dataGroupId,a=t?l||u:u||l,s=a&&r.getDimensionInfo(a),c=s&&s.ordinalMeta;if(s){var h=r.get(s.name,i);return c&&c.categories[h]||h+""}var d=r.getRawDataItem(i);return d&&d.groupId?d.groupId+"":o||r.getId(i)}}var d=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++){var i=t[r],o=e[r];if(i.data.getId(i.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(r,i),f={};if(!d)for(var p=0;p<i.length;p++){var g=i[p],m=g.data.getItemGraphicEl(g.dataIndex);m&&(f[m.id]=!0)}function v(t,e){var n=r[e],a=i[t],s=a.data.hostModel,l=n.data.getItemGraphicEl(n.dataIndex),u=a.data.getItemGraphicEl(a.dataIndex);l!==u?l&&f[l.id]||u&&(RM(u),l?(RM(l),PM(l),c=!0,IM(CM(l),CM(u),a.divide,s,t,o)):LM(u,s,t)):u&&function(t,e,n){var r=(0,Vt.ke)("update",n,e);r&&t.traverse((function(t){if(t instanceof ga.ZP){var e=(0,Vt._W)(t);e&&t.animateFrom({style:e},r)}}))}(u,a.dataIndex,s)}new Qs.Z(r,i,h(!0,d),h(!1,d),null,"multiple").update(v).updateManyToOne((function(t,e){var n=i[t],a=n.data,s=a.hostModel,l=a.getItemGraphicEl(n.dataIndex),u=(0,b.hX)((0,b.UI)(e,(function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)})),(function(t){return t&&t!==l&&!f[t.id]}));l&&(RM(l),u.length?((0,b.S6)(u,(function(t){RM(t),PM(t)})),c=!0,IM(CM(u),CM(l),n.divide,s,t,o)):LM(l,s,n.dataIndex))})).updateOneToMany((function(t,e){var n=r[e],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!f[a.id]){var s=(0,b.hX)((0,b.UI)(t,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==a})),l=i[t[0]].data.hostModel;s.length&&((0,b.S6)(s,(function(t){return RM(t)})),a?(RM(a),PM(a),c=!0,IM(CM(a),CM(s),n.divide,l,t[0],o)):(0,b.S6)(s,(function(e){return LM(e,l,t[0])})))}})).updateManyToMany((function(t,e){new Qs.Z(e,t,(function(t){return r[t].data.getId(r[t].dataIndex)}),(function(t){return i[t].data.getId(i[t].dataIndex)})).update((function(n,r){v(t[n],e[r])})).execute()})).execute(),c&&(0,b.S6)(e,(function(t){var e=t.data.hostModel,r=e&&n.getViewOfSeriesModel(e),i=(0,Vt.ke)("update",e,0);r&&e.isAnimationEnabled()&&i&&i.duration>0&&r.group.traverse((function(t){t instanceof s.ZP&&!t.animators.length&&t.animateFrom({style:{opacity:0}},i)}))}))}function zM(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function BM(t){return(0,b.kJ)(t)?t.sort().join(","):t}function FM(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function GM(t,e){for(var n=0;n<t.length;n++){if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}}var VM=n("./node_modules/echarts/lib/label/installLabelLayout.js");(0,r.D)([o.N]),(0,r.D)([function(t){t.registerPainter("svg",Lt)}]),(0,r.D)([function(t){t.registerChartView(ze),t.registerSeriesModel(Gt),t.registerLayout(Fe("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Ze("line"))},function(t){t.registerChartView(wn),t.registerSeriesModel(qe),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,b.WA(Ue.bK,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ue.Bk)("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Ze("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))},function(t){t.registerChartView(Vn),t.registerSeriesModel(Kn),(0,Sn.y)("pie",t.registerAction),t.registerLayout((0,b.WA)(In,"pie")),t.registerProcessor(Cn("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,e){var n=t.getData();n.filterSelf((function(t){var e=n.mapDimension("value"),r=n.get(e,t);return!((0,b.hj)(r)&&!isNaN(r)&&r<0)}))}})},function(t){(0,r.D)(Ci),t.registerSeriesModel(Jn),t.registerChartView(or),t.registerLayout(Fe("scatter"))},function(t){(0,r.D)(Qi),t.registerChartView(ji),t.registerSeriesModel(Fi),t.registerLayout(Di),t.registerProcessor(Cn("radar")),t.registerPreprocessor(Li)},function(t){(0,r.D)(rs),t.registerChartView(Na),t.registerSeriesModel(La),t.registerLayout(Ra),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Pa),(0,Sn.y)("map",t.registerAction)},function(t){t.registerChartView(ks),t.registerSeriesModel(Zs),t.registerLayout(Hs),t.registerVisual(Ws),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,r=e.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var r=Ja(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)}))}))}(t)},function(t){t.registerSeriesModel(Js),t.registerChartView(vl),t.registerVisual(Pl),t.registerLayout(Xl),function(t){for(var e=0;e<Ys.length;e++)t.registerAction({type:Ys[e],update:"updateView"},b.ZT);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var r=zs(t,["treemapZoomToNode","treemapRootToNode"],e);if(r){var i=e.getViewRoot();i&&(t.direction=Fs(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}}))}))}(t)},function(t){t.registerChartView(Qu),t.registerSeriesModel(cc),t.registerProcessor(tu),t.registerVisual(eu),t.registerVisual(ru),t.registerLayout(gu),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,Su),t.registerLayout(ku),t.registerCoordinateSystem("graphView",{dimensions:Fa.dimensions,create:Eu}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},b.ZT),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},b.ZT),t.registerAction(hc,(function(t,e,n){e.eachComponent({mainType:"series",query:t},(function(e){var r=Ja(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)}))}))},function(t){t.registerChartView(vc),t.registerSeriesModel(bc)},function(t){t.registerChartView(Sc),t.registerSeriesModel(kc),t.registerLayout(Ec),t.registerProcessor(Cn("funnel"))},function(t){(0,r.D)(ud),t.registerChartView(Nc),t.registerSeriesModel(Pc),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,jc)},function(t){t.registerChartView(pd),t.registerSeriesModel(md),t.registerLayout(vd),t.registerVisual(Id),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t){t.registerSeriesModel(Od),t.registerChartView(Fd),t.registerLayout(Vd),t.registerTransform(Hd)},function(t){t.registerChartView(of),t.registerSeriesModel(sf),t.registerPreprocessor(lf),t.registerVisual(pf),t.registerLayout(vf)},function(t){t.registerChartView(wf),t.registerSeriesModel(Mf),t.registerLayout(Fe("effectScatter"))},function(t){t.registerChartView(Bf),t.registerSeriesModel(Uf),t.registerLayout(jf),t.registerVisual(Wf)},function(t){t.registerChartView($f),t.registerSeriesModel(Qf)},function(t){t.registerChartView(_p),t.registerSeriesModel(Sp),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,(0,b.WA)(Ue.bK,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ue.Bk)("pictorialBar"))},function(t){t.registerChartView(kp),t.registerSeriesModel(Ap),t.registerLayout(Tp),t.registerProcessor(Cn("themeRiver"))},function(t){t.registerChartView(jp),t.registerSeriesModel(Fp),t.registerLayout((0,b.WA)(Vp,"sunburst")),t.registerProcessor((0,b.WA)(Cn,"sunburst")),t.registerVisual(Up),function(t){t.registerAction({type:Op,update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){var r=zs(t,[Op],e);if(r){var i=e.getViewRoot();i&&(t.direction=Fs(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}}))})),t.registerAction({type:Lp,update:"none"},(function(t,e,n){t=(0,b.l7)({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e){var n=zs(t,[Lp],e);n&&(t.dataIndex=n.node.dataIndex)})),n.dispatchAction((0,b.l7)(t,{type:"highlight"}))})),t.registerAction({type:Pp,update:"updateView"},(function(t,e,n){t=(0,b.l7)({},t),n.dispatchAction((0,b.l7)(t,{type:"downplay"}))}))}(t)},function(t){t.registerChartView(Bg),t.registerSeriesModel(qp)}]),(0,r.D)((function(t){(0,r.D)(Ci),(0,r.D)(Hm)})),(0,r.D)((function(t){(0,r.D)(Hm),yi.registerAxisPointerClass("PolarAxisPointer",Xm),t.registerCoordinateSystem("polar",dv),t.registerComponentModel(Km),t.registerComponentView(Cv),yr(t,"angle",Jm,Tv),yr(t,"radius",Qm,Iv),t.registerComponentView(bv),t.registerComponentView(Mv),t.registerLayout((0,b.WA)(Av,"bar"))})),(0,r.D)(rs),(0,r.D)((function(t){(0,r.D)(Hm),yi.registerAxisPointerClass("SingleAxisPointer",$v),t.registerComponentView(Jv),t.registerComponentView(Rv),t.registerComponentModel(zv),yr(t,"single",zv,zv.defaultOption),t.registerCoordinateSystem("single",Uv)})),(0,r.D)(ud),(0,r.D)((function(t){t.registerComponentModel(ey),t.registerComponentView(iy),t.registerCoordinateSystem("calendar",sy)})),(0,r.D)((function(t){t.registerComponentModel(dy),t.registerComponentView(gy),t.registerPreprocessor((function(t){var e=t.graphic;(0,b.kJ)(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))})),(0,r.D)((function(t){t.registerComponentModel(qy),t.registerComponentView(Jy),Wy("saveAsImage",tb),Wy("magicType",ob),Wy("dataView",fb),Wy("dataZoom",zb),Wy("restore",yb),(0,r.D)(Zy)})),(0,r.D)((function(t){(0,r.D)(Hm),t.registerComponentModel(Fb),t.registerComponentView(hx),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},b.ZT),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},b.ZT)})),(0,r.D)(Hm),(0,r.D)((function(t){t.registerComponentView(Nx),t.registerComponentModel(Px),t.registerPreprocessor(fx),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,Ex),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},b.ZT),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},b.ZT),Wy("brush",zx)})),(0,r.D)((function(t){t.registerComponentModel(Bx),t.registerComponentView(Fx)})),(0,r.D)((function(t){t.registerComponentModel(Ux),t.registerComponentView(e_),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,n){var r=e.getComponent("timeline");return r&&null!=t.currentIndex&&(r.setCurrentIndex(t.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),(0,b.ce)({currentIndex:r.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))}(t),t.registerPreprocessor(n_)})),(0,r.D)((function(t){t.registerComponentModel(h_),t.registerComponentView(E_),t.registerPreprocessor((function(t){o_(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))})),(0,r.D)((function(t){t.registerComponentModel(T_),t.registerComponentView(R_),t.registerPreprocessor((function(t){o_(t.series,"markLine")&&(t.markLine=t.markLine||{})}))})),(0,r.D)((function(t){t.registerComponentModel(z_),t.registerComponentView(Y_),t.registerPreprocessor((function(t){o_(t.series,"markArea")&&(t.markArea=t.markArea||{})}))})),(0,r.D)((function(t){(0,r.D)(sw),(0,r.D)(mw)})),(0,r.D)((function(t){(0,r.D)(Iw),(0,r.D)(Fw)})),(0,r.D)(Iw),(0,r.D)(Fw),(0,r.D)((function(t){(0,r.D)(kS),(0,r.D)(NS)})),(0,r.D)(kS),(0,r.D)(NS),(0,r.D)((function(t){t.registerPreprocessor(jS),t.registerVisual(t.PRIORITY.VISUAL.ARIA,RS)})),(0,r.D)((function(t){t.registerTransform(qS),t.registerTransform(KS)})),(0,r.D)($S.N),(0,r.D)((function(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){(0,b.S6)((0,se.kF)(n.seriesTransition),(function(t){(0,b.S6)((0,se.kF)(t.to),(function(t){for(var e=n.updatedSeries,r=0;r<e.length;r++)(null!=t.seriesIndex&&t.seriesIndex===e[r].seriesIndex||null!=t.seriesId&&t.seriesId===e[r].id)&&(e[r][jt.V]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){var r=NM(e);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)(0,b.S6)((0,se.kF)(i),(function(t){!function(t,e,n,r){var i=[],o=[];(0,b.S6)((0,se.kF)(t.from),(function(t){var n=GM(e.oldSeries,t);n>=0&&i.push({dataGroupId:e.oldDataGroupIds[n],data:e.oldData[n],divide:FM(e.oldData[n]),dim:t.dimension})})),(0,b.S6)((0,se.kF)(t.to),(function(t){var r=GM(n.updatedSeries,t);if(r>=0){var i=n.updatedSeries[r].getData();o.push({dataGroupId:e.oldDataGroupIds[r],data:i,divide:FM(i),dim:t.dimension})}})),i.length>0&&o.length>0&&jM(i,o,r)}(t,r,n,e)}));else{var o=function(t,e){var n=(0,b.kW)(),r=(0,b.kW)(),i=(0,b.kW)();return(0,b.S6)(t.oldSeries,(function(e,n){var o=t.oldDataGroupIds[n],a=t.oldData[n],s=zM(e),l=BM(s);r.set(l,{dataGroupId:o,data:a}),(0,b.kJ)(s)&&(0,b.S6)(s,(function(t){i.set(t,{key:l,dataGroupId:o,data:a})}))})),(0,b.S6)(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId"),o=t.getData(),a=zM(t),s=BM(a),l=r.get(s);if(l)n.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:FM(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:FM(o),data:o}]});else if((0,b.kJ)(a)){var u=[];(0,b.S6)(a,(function(t){var e=r.get(t);e.data&&u.push({dataGroupId:e.dataGroupId,divide:FM(e.data),data:e.data})})),u.length&&n.set(s,{oldSeries:u,newSeries:[{dataGroupId:e,data:o,divide:FM(o)}]})}else{var c=i.get(a);if(c){var h=n.get(c.key);h||(h={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:FM(c.data)}],newSeries:[]},n.set(c.key,h)),h.newSeries.push({dataGroupId:e,data:o,divide:FM(o)})}}}})),n}(r,n);(0,b.S6)(o.keys(),(function(t){var n=o.get(t);jM(n.oldSeries,n.newSeries,e)}))}(0,b.S6)(n.updatedSeries,(function(t){t[jt.V]&&(t[jt.V]=!1)}))}for(var a=t.getSeries(),s=r.oldSeries=[],l=r.oldDataGroupIds=[],u=r.oldData=[],c=0;c<a.length;c++){var h=a[c].getData();h.count()<DM&&(s.push(a[c]),l.push(a[c].get("dataGroupId")),u.push(h))}}))})),(0,r.D)(VM.T)},"./node_modules/echarts/lib/animation/basicTransition.js":function(t,e,n){"use strict";n.d(e,{D:function(){return s},KZ:function(){return l},XD:function(){return d},Zi:function(){return f},_W:function(){return p},bX:function(){return c},eq:function(){return u},ke:function(){return o}});var r=n("./node_modules/zrender/lib/core/util.js"),i=(0,n("./node_modules/echarts/lib/util/model.js").Yf)();function o(t,e,n,i,o){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var l="update"===t;if(e&&e.isAnimationEnabled()){var u=void 0,c=void 0,h=void 0;return i?(u=(0,r.pD)(i.duration,200),c=(0,r.pD)(i.easing,"cubicOut"),h=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),h=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(u=a.duration),null!=a.easing&&(c=a.easing),null!=a.delay&&(h=a.delay)),(0,r.mf)(h)&&(h=h(n,o)),(0,r.mf)(u)&&(u=u(n)),{duration:u||0,delay:h,easing:c}}return null}function a(t,e,n,i,a,s,l){var u,c=!1;(0,r.mf)(a)?(l=s,s=a,a=null):(0,r.Kn)(a)&&(s=a.cb,l=a.during,c=a.isFrom,u=a.removeOpt,a=a.dataIndex);var h="leave"===t;h||e.stopAnimation("leave");var d=o(t,i,a,h?u||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,a):null);if(d&&d.duration>0){var f={duration:d.duration,delay:d.delay||0,easing:d.easing,done:s,force:!!s||!!l,setToFinal:!h,scope:t,during:l};c?e.animateFrom(n,f):e.animateTo(n,f)}else e.stopAnimation(),!c&&e.attr(n),l&&l(1),s&&s()}function s(t,e,n,r,i,o){a("update",t,e,n,r,i,o)}function l(t,e,n,r,i,o){a("enter",t,e,n,r,i,o)}function u(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("leave"===t.animators[e].scope)return!0}return!1}function c(t,e,n,r,i,o){u(t)||a("leave",t,e,n,r,i,o)}function h(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),c(t,{style:{opacity:0}},e,n,r)}function d(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||h(t,e,n,r)})):h(t,e,n,r)}function f(t){i(t).oldStyle=t.style}function p(t){return i(t).oldStyle}},"./node_modules/echarts/lib/chart/helper/createRenderPlanner.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n("./node_modules/echarts/lib/util/model.js");function i(){var t=(0,r.Yf)();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===a&&o===s)&&"reset"}}},"./node_modules/echarts/lib/chart/helper/createSeriesData.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/data/SeriesData.js"),o=n("./node_modules/echarts/lib/data/helper/createDimensions.js"),a=n("./node_modules/echarts/lib/data/helper/dimensionHelper.js"),s=n("./node_modules/echarts/lib/util/model.js"),l=n("./node_modules/echarts/lib/core/CoordinateSystem.js"),u=function(t){this.coordSysDims=[],this.axisMap=(0,r.kW)(),this.categoryAxisMap=(0,r.kW)(),this.coordSysName=t};var c={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",s.C6).models[0],o=t.getReferringComponents("yAxis",s.C6).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),h(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),h(o)&&(r.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",s.C6).models[0];e.coordSysDims=["single"],n.set("single",i),h(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",s.C6).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),h(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),h(a)&&(r.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();(0,r.S6)(a.parallelAxisIndex,(function(t,r){var a=o.getComponent("parallelAxis",t),l=s[r];n.set(l,a),h(a)&&(i.set(l,a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))}))}};function h(t){return"category"===t.get("type")}var d=n("./node_modules/echarts/lib/data/Source.js"),f=n("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),p=n("./node_modules/echarts/lib/data/helper/sourceHelper.js"),g=n("./node_modules/echarts/lib/util/types.js");var m=function(t,e,n){n=n||{};var h,m=e.getSourceManager(),v=!1;t?(v=!0,h=(0,d.nx)(t)):v=(h=m.getSource()).sourceFormat===g.cy;var y=function(t){var e=t.get("coordinateSystem"),n=new u(e),r=c[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}(e),b=function(t,e){var n,i=t.get("coordinateSystem"),o=l.Z.get(i);return e&&e.coordSysDims&&(n=r.UI(e.coordSysDims,(function(t){var n={name:t},r=e.axisMap.get(t);if(r){var i=r.get("type");n.type=(0,a.T)(i)}return n}))),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),n}(e,y),x=n.useEncodeDefaulter,_=r.mf(x)?x:x?r.WA(p.pY,b,e):null,w={coordDimensions:b,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:_,canOmitUnusedDimensions:!v},S=(0,o.Z)(h,w),M=function(t,e,n){var i,o;return n&&r.S6(t,(function(t,r){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==i&&(i=r),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(o=!0)})),o||null==i||(t[i].otherDims.itemName=0),i}(S.dimensions,n.createInvertedIndices,y),k=v?null:m.getSharedDataStore(S),E=(0,f.BM)(e,{schema:S,store:k}),A=new i.Z(S,e);A.setCalculationInfo(E);var T=null!=M&&function(t){if(t.sourceFormat===g.cy){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!r.kJ((0,s.C4)(e))}}(h)?function(t,e,n,r){return r===M?n:this.defaultDimValueGetter(t,e,n,r)}:null;return A.hasItemOption=!1,A.initData(v?h:k,null,T),A}},"./node_modules/echarts/lib/component/dataset/install.js":function(t,e,n){"use strict";n.d(e,{N:function(){return c}});var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/echarts/lib/model/Component.js"),o=n("./node_modules/echarts/lib/view/Component.js"),a=n("./node_modules/echarts/lib/util/types.js"),s=n("./node_modules/echarts/lib/data/helper/sourceManager.js"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,r.ZT)(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),this._sourceManager=new s.U(this),(0,s.t)(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),(0,s.t)(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:a.fY},e}(i.Z),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,r.ZT)(e,t),e.type="dataset",e}(o.Z);function c(t){t.registerComponentModel(l),t.registerComponentView(u)}},"./node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js":function(t,e,n){"use strict";n.d(e,{w:function(){return s}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),o=n("./node_modules/echarts/lib/data/helper/dataProvider.js"),a=n("./node_modules/echarts/lib/util/model.js");function s(t){var e,n,s,l,u=t.series,c=t.dataIndex,h=t.multipleSeries,d=u.getData(),f=d.mapDimensionsAll("defaultedTooltip"),p=f.length,g=u.getRawValue(c),m=(0,r.kJ)(g),v=(0,i.jT)(u,c);if(p>1||m&&!p){var y=function(t,e,n,a,s){var l=e.getData(),u=(0,r.u4)(t,(function(t,e,n){var r=l.getDimensionInfo(n);return t||r&&!1!==r.tooltip&&null!=r.displayName}),!1),c=[],h=[],d=[];function f(t,e){var n=l.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(u?d.push((0,i.TX)("nameValue",{markerType:"subItem",markerColor:s,name:n.displayName,value:t,valueType:n.type})):(c.push(t),h.push(n.type)))}return a.length?(0,r.S6)(a,(function(t){f((0,o.hk)(l,n,t),t)})):(0,r.S6)(t,f),{inlineValues:c,inlineValueTypes:h,blocks:d}}(g,u,c,f,v);e=y.inlineValues,n=y.inlineValueTypes,s=y.blocks,l=y.inlineValues[0]}else if(p){var b=d.getDimensionInfo(f[0]);l=e=(0,o.hk)(d,c,f[0]),n=b.type}else l=e=m?g[0]:g;var x=(0,a.yu)(u),_=x&&u.name||"",w=d.getName(c),S=h?_:w;return(0,i.TX)("section",{header:_,noHeader:h||!x,sortParam:l,blocks:[(0,i.TX)("nameValue",{markerType:"item",markerColor:v,name:S,noName:!(0,r.fy)(S),value:e,valueType:n})].concat(s||[])})}},"./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js":function(t,e,n){"use strict";n.d(e,{BY:function(){return y},TX:function(){return d},d_:function(){return w},iv:function(){return S},jT:function(){return _}});var r=n("./node_modules/zrender/lib/core/dom.js"),i=n("./node_modules/echarts/lib/util/format.js"),o=n("./node_modules/zrender/lib/core/util.js"),a=n("./node_modules/echarts/lib/data/helper/dataValueHelper.js"),s=n("./node_modules/echarts/lib/util/number.js"),l="line-height:1";function u(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,o=t.fontWeight||"400",a=t.color||"#464646",s=t.fontSize||14,l=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+(0,r.F1)(i+"")+"px;color:"+(0,r.F1)(n)+";font-weight:"+(0,r.F1)(o+""),valueStyle:"font-size:"+(0,r.F1)(s+"")+"px;color:"+(0,r.F1)(a)+";font-weight:"+(0,r.F1)(l+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:o},valueStyle:{fontSize:s,fill:a,fontWeight:l}}}var c=[0,10,20,30],h=["","\n","\n\n","\n\n\n"];function d(t,e){return e.type=t,e}function f(t){return"section"===t.type}function p(t){return f(t)?m:v}function g(t){if(f(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return(0,o.S6)(t.blocks,(function(t){var n=g(t);n>=e&&(e=n+ +(r&&(!n||f(t)&&!t.noHeader)))})),e}return 0}function m(t,e,n,s){var d,f=e.noHeader,m=(d=g(e),{html:c[d],richText:h[d]}),v=[],y=e.blocks||[];(0,o.hu)(!y||(0,o.kJ)(y)),y=y||[];var _=t.orderMode;if(e.sortBlocks&&_){y=y.slice();var w={valueAsc:"asc",valueDesc:"desc"};if((0,o.RI)(w,_)){var S=new a.ID(w[_],null);y.sort((function(t,e){return S.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===_&&y.reverse()}(0,o.S6)(y,(function(n,r){var i=e.valueFormatter,a=p(n)(i?(0,o.l7)((0,o.l7)({},t),{valueFormatter:i}):t,n,r>0?m.html:0,s);null!=a&&v.push(a)}));var M="richText"===t.renderMode?v.join(m.richText):b(v.join(""),f?n:m.html);if(f)return M;var k=(0,i.uX)(e.header,"ordinal",t.useUTC),E=u(s,t.renderMode).nameStyle;return"richText"===t.renderMode?x(t,k,E)+m.richText+M:b('<div style="'+E+";"+l+';">'+(0,r.F1)(k)+"</div>"+M,n)}function v(t,e,n,a){var s=t.renderMode,l=e.noName,c=e.noValue,h=!e.markerType,d=e.name,f=t.useUTC,p=e.valueFormatter||t.valueFormatter||function(t){return t=(0,o.kJ)(t)?t:[t],(0,o.UI)(t,(function(t,e){return(0,i.uX)(t,(0,o.kJ)(v)?v[e]:v,f)}))};if(!l||!c){var g=h?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",s),m=l?"":(0,i.uX)(d,"ordinal",f),v=e.valueType,y=c?[]:p(e.value),_=!h||!l,w=!h&&l,S=u(a,s),M=S.nameStyle,k=S.valueStyle;return"richText"===s?(h?"":g)+(l?"":x(t,m,M))+(c?"":function(t,e,n,r,i){var a=[i],s=r?10:20;return n&&a.push({padding:[0,0,0,s],align:"right"}),t.markupStyleCreator.wrapRichTextStyle((0,o.kJ)(e)?e.join("  "):e,a)}(t,y,_,w,k)):b((h?"":g)+(l?"":function(t,e,n){return'<span style="'+n+";"+(e?"margin-left:2px":"")+'">'+(0,r.F1)(t)+"</span>"}(m,!h,M))+(c?"":function(t,e,n,i){var a=n?"10px":"20px",s=e?"float:right;margin-left:"+a:"";return t=(0,o.kJ)(t)?t:[t],'<span style="'+s+";"+i+'">'+(0,o.UI)(t,(function(t){return(0,r.F1)(t)})).join("&nbsp;&nbsp;")+"</span>"}(y,_,w,k)),n)}}function y(t,e,n,r,i,o){if(t)return p(t)({useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,o)}function b(t,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+l+';">'+t+'<div style="clear:both"></div></div>'}function x(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function _(t,e){var n=t.getData().getItemVisual(e,"style")[t.visualDrawType];return(0,i.Lz)(n)}function w(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var S=function(){function t(){this.richTextStyles={},this._nextStyleNameId=(0,s.jj)()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var r="richText"===n?this._generateStyleName():null,a=(0,i.A0)({color:e,type:t,renderMode:n,markerId:r});return(0,o.HD)(a)?a:(this.richTextStyles[r]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};(0,o.kJ)(e)?(0,o.S6)(e,(function(t){return(0,o.l7)(n,t)})):(0,o.l7)(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},t}()},"./node_modules/echarts/lib/coord/axisHelper.js":function(t,e,n){"use strict";n.d(e,{aG:function(){return T},Do:function(){return N},DX:function(){return D},PY:function(){return P},rk:function(){return O},Xv:function(){return E},Yb:function(){return I},J9:function(){return C},Jk:function(){return A},WY:function(){return L},AH:function(){return R}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/scale/Ordinal.js"),o=n("./node_modules/echarts/lib/scale/Interval.js"),a=n("./node_modules/echarts/lib/scale/Scale.js"),s=n("./node_modules/echarts/lib/layout/barGrid.js"),l=n("./node_modules/zrender/lib/core/BoundingRect.js"),u=n("./node_modules/echarts/lib/scale/Time.js"),c=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),h=n("./node_modules/echarts/lib/util/number.js"),d=n("./node_modules/echarts/lib/scale/helper.js"),f=a.Z.prototype,p=o.Z.prototype,g=h.NM,m=Math.floor,v=Math.ceil,y=Math.pow,b=Math.log,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new o.Z,e._interval=0,e}return(0,c.ZT)(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent(),o=p.getTicks.call(this,t);return r.UI(o,(function(t){var e=t.value,r=h.NM(y(this.base,e));return r=e===n[0]&&this._fixMin?w(r,i[0]):r,{value:r=e===n[1]&&this._fixMax?w(r,i[1]):r}}),this)},e.prototype.setExtent=function(t,e){var n=b(this.base);t=b(Math.max(0,t))/n,e=b(Math.max(0,e))/n,p.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=f.getExtent.call(this);e[0]=y(t,e[0]),e[1]=y(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=w(e[0],n[0])),this._fixMax&&(e[1]=w(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=b(t[0])/b(e),t[1]=b(t[1])/b(e),f.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=h.Xd(n);for(t/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[h.NM(v(e[0]/r)*r),h.NM(m(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},e.prototype.calcNiceExtent=function(t){p.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=b(t)/b(this.base),d.XS(t,this._extent)},e.prototype.normalize=function(t){return t=b(t)/b(this.base),d.Fv(t,this._extent)},e.prototype.scale=function(t){return t=d.bA(t,this._extent),y(this.base,t)},e.type="log",e}(a.Z),_=x.prototype;function w(t,e){return g(t,h.p8(e))}_.getMinorTicks=p.getMinorTicks,_.getLabel=p.getLabel,a.Z.registerClass(x);var S=x,M=n("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),k=n("./node_modules/echarts/lib/coord/scaleRawExtentInfo.js");function E(t,e){var n=t.type,i=(0,k.Qw)(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var o=i.min,a=i.max,l=e.ecModel;if(l&&"time"===n){var u=(0,s.Ge)("bar",l),c=!1;if(r.S6(u,(function(t){c=c||t.getBaseAxis()===e.axis})),c){var h=(0,s.My)(u),d=function(t,e,n,i){var o=n.axis.getExtent(),a=o[1]-o[0],l=(0,s.G_)(i,n.axis);if(void 0===l)return{min:t,max:e};var u=1/0;r.S6(l,(function(t){u=Math.min(t.offset,u)}));var c=-1/0;r.S6(l,(function(t){c=Math.max(t.offset+t.width,c)})),u=Math.abs(u),c=Math.abs(c);var h=u+c,d=e-t,f=d/(1-(u+c)/a)-d;return e+=f*(c/h),t-=f*(u/h),{min:t,max:e}}(o,a,e,h);o=d.min,a=d.max}}return{extent:[o,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function A(t,e){var n=e,r=E(t,n),i=r.extent,o=n.get("splitNumber");t instanceof S&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),l="interval"===a||"time"===a;t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function T(t,e){if(e=e||t.get("type"))switch(e){case"category":return new i.Z({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new u.Z({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(a.Z.getClass(e)||o.Z)}}function I(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function C(t){var e,n,i=t.getLabelModel().get("formatter"),o="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(n=i,function(e,r){return t.scale.getFormattedLabel(e,r,n)}):r.HD(i)?function(e){return function(n){var r=t.scale.getLabel(n);return e.replace("{value}",null!=r?r:"")}}(i):r.mf(i)?(e=i,function(n,r){return null!=o&&(r=n.value-o),e(D(t,n),r,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function D(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function N(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var r,o,a=n.getExtent();o=n instanceof i.Z?n.count():(r=n.getTicks()).length;var s,u,c,h,d,f,p,g,m=t.getLabelModel(),v=C(t),y=1;o>40&&(y=Math.ceil(o/40));for(var b=0;b<o;b+=y){var x=v(r?r[b]:{value:a[0]+b},b),_=m.getTextRect(x),w=(u=_,c=m.get("rotate")||0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,void 0,h=c*Math.PI/180,d=u.width,f=u.height,p=d*Math.abs(Math.cos(h))+Math.abs(f*Math.sin(h)),g=d*Math.abs(Math.sin(h))+Math.abs(f*Math.cos(h)),new l.Z(u.x,u.y,p,g));s?s.union(w):s=w}return s}}function O(t){var e=t.get("interval");return null==e?"auto":e}function L(t){return"category"===t.type&&0===O(t.getLabelModel())}function P(t,e){var n={};return r.S6(t.mapDimensionsAll(e),(function(e){n[(0,M.IR)(t,e)]=!0})),r.XP(n)}function R(t,e,n){e&&r.S6(P(e,n),(function(n){var r=e.getApproximateExtent(n);r[0]<t[0]&&(t[0]=r[0]),r[1]>t[1]&&(t[1]=r[1])}))}},"./node_modules/echarts/lib/coord/axisModelCommonMixin.js":function(t,e,n){"use strict";n.d(e,{W:function(){return r}});var r=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}()},"./node_modules/echarts/lib/coord/scaleRawExtentInfo.js":function(t,e,n){"use strict";n.d(e,{Qw:function(){return l}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/contain/text.js"),o=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var o=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);(0,r.mf)(a)?this._modelMinNum=u(t,a({min:n[0],max:n[1]})):"dataMin"!==a&&(this._modelMinNum=u(t,a));var s=this._modelMaxRaw=e.get("max",!0);if((0,r.mf)(s)?this._modelMaxNum=u(t,s({min:n[0],max:n[1]})):"dataMax"!==s&&(this._modelMaxNum=u(t,s)),o)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),c=(0,r.kJ)(l)?l:[l||0,l||0];"boolean"==typeof c[0]||"boolean"==typeof c[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,i.GM)(c[0],1),(0,i.GM)(c[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,u=null!=s,c=null!=l;null==s&&(s=t?i?0:NaN:e-o[0]*a),null==l&&(l=t?i?i-1:NaN:n+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var h=(0,r.Bu)(s)||(0,r.Bu)(l)||t&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,f=this._determinedMax;return null!=d&&(s=d,u=!0),null!=f&&(l=f,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[s[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){this[a[t]]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),a={min:"_determinedMin",max:"_determinedMax"},s={min:"_dataMin",max:"_dataMax"};function l(t,e,n){var r=t.rawExtentInfo;return r||(r=new o(t,e,n),t.rawExtentInfo=r,r)}function u(t,e){return null==e?null:(0,r.Bu)(e)?NaN:t.parse(e)}},"./node_modules/echarts/lib/core/CoordinateSystem.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/util.js"),i={},o=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];r.S6(i,(function(r,i){var o=r.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){r.S6(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){i[t]=e},t.get=function(t){return i[t]},t}();e.Z=o},"./node_modules/echarts/lib/core/echarts.js":function(t,e,n){"use strict";n.d(e,{Hr:function(){return _e},S1:function(){return dn},zl:function(){return xn},RS:function(){return _n},qR:function(){return wn},yn:function(){return En},je:function(){return An},sq:function(){return vn},Br:function(){return yn},ds:function(){return gn},Pu:function(){return mn},OB:function(){return Tn},YK:function(){return bn},Og:function(){return Sn}});var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/zrender.js"),o=n("./node_modules/zrender/lib/core/util.js"),a=n("./node_modules/zrender/lib/core/env.js"),s=n("./node_modules/zrender/lib/core/timsort.js"),l=n("./node_modules/zrender/lib/core/Eventful.js"),u=n("./node_modules/echarts/lib/util/model.js"),c=n("./node_modules/echarts/lib/model/Model.js"),h=n("./node_modules/echarts/lib/model/Component.js"),d="";"undefined"!=typeof navigator&&(d=navigator.platform||"");var f,p,g,m="rgba(0, 0, 0, 0.2)",v={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:m,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:m,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:m,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:m,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:m,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:m,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:d.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},y=n("./node_modules/echarts/lib/data/helper/sourceHelper.js"),b=n("./node_modules/echarts/lib/model/internalComponentCreator.js"),x=n("./node_modules/echarts/lib/model/mixin/palette.js"),_="\0_ec_inner";var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.init=function(t,e,n,r,i,o){r=r||{},this.option=null,this._theme=new c.Z(r),this._locale=new c.Z(i),this._optionManager=o},e.prototype.setOption=function(t,e,n){var r=k(e);this._optionManager.setOption(t,n,r),this._resetOption(null,r)},e.prototype.resetOption=function(t,e){return this._resetOption(t,k(e))},e.prototype._resetOption=function(t,e){var n=!1,r=this._optionManager;if(!t||"recreate"===t){var i=r.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(i,e)):g(this,i),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=r.getTimelineOption(this);a&&(n=!0,this._mergeOption(a,e))}if(!t||"recreate"===t||"media"===t){var s=r.getMediaOption(this);s.length&&(0,o.S6)(s,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,r=this._componentsMap,i=this._componentsCount,a=[],s=(0,o.kW)(),l=e&&e.replaceMergeMainTypeMap;(0,y.md)(this),(0,o.S6)(t,(function(t,e){null!=t&&(h.Z.hasClass(e)?e&&(a.push(e),s.set(e,!0)):n[e]=null==n[e]?(0,o.d9)(t):(0,o.TS)(n[e],t,!0))})),l&&l.each((function(t,e){h.Z.hasClass(e)&&!s.get(e)&&(a.push(e),s.set(e,!0))})),h.Z.topologicalTravel(a,h.Z.getAllClassMainTypes(),(function(e){var a=(0,b.R)(this,e,u.kF(t[e])),s=r.get(e),c=s?l&&l.get(e)?"replaceMerge":"normalMerge":"replaceAll",d=u.ab(s,a,c);u.O0(d,e,h.Z),n[e]=null,r.set(e,null),i.set(e,0);var p,g=[],m=[],v=0;(0,o.S6)(d,(function(t,n){var r=t.existing,i=t.newOption;if(i){var a="series"===e,s=h.Z.getClass(e,t.keyInfo.subType,!a);if(!s)return;if("tooltip"===e){if(p)return void 0;p=!0}if(r&&r.constructor===s)r.name=t.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var l=(0,o.l7)({componentIndex:n},t.keyInfo);r=new s(i,this,this,l),(0,o.l7)(r,l),t.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(g.push(r.option),m.push(r),v++):(g.push(void 0),m.push(void 0))}),this),n[e]=g,r.set(e,m),i.set(e,v),"series"===e&&f(this)}),this),this._seriesIndices||f(this)},e.prototype.getOption=function(){var t=(0,o.d9)(this.option);return(0,o.S6)(t,(function(e,n){if(h.Z.hasClass(n)){for(var r=u.kF(e),i=r.length,o=!1,a=i-1;a>=0;a--)r[a]&&!u.lY(r[a])?o=!0:(r[a]=null,!o&&i--);r.length=i,t[n]=r}})),delete t[_],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var r=n[e||0];if(r)return r;if(null==e)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,a=t.name,s=this._componentsMap.get(e);return s&&s.length?(null!=r?(n=[],(0,o.S6)(u.kF(r),(function(t){s[t]&&n.push(s[t])}))):n=null!=i?S("id",i,s):null!=a?S("name",a,s):(0,o.hX)(s,(function(t){return!!t})),M(n,t)):[]},e.prototype.findComponents=function(t){var e,n,r,i,a,s=t.query,l=t.mainType,u=(n=l+"Index",r=l+"Id",i=l+"Name",!(e=s)||null==e[n]&&null==e[r]&&null==e[i]?null:{mainType:l,index:e[n],id:e[r],name:e[i]}),c=u?this.queryComponents(u):(0,o.hX)(this._componentsMap.get(l),(function(t){return!!t}));return a=M(c,t),t.filter?(0,o.hX)(a,t.filter):a},e.prototype.eachComponent=function(t,e,n){var r=this._componentsMap;if((0,o.mf)(t)){var i=e,a=t;r.each((function(t,e){for(var n=0;t&&n<t.length;n++){var r=t[n];r&&a.call(i,e,r,r.componentIndex)}}))}else for(var s=(0,o.HD)(t)?r.get(t):(0,o.Kn)(t)?this.findComponents(t):null,l=0;s&&l<s.length;l++){var u=s[l];u&&e.call(n,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=u.U5(t,null);return(0,o.hX)(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return(0,o.hX)(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return(0,o.hX)(this._componentsMap.get("series"),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){p(this),(0,o.S6)(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)}),this)},e.prototype.eachRawSeries=function(t,e){(0,o.S6)(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){p(this),(0,o.S6)(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return(0,o.S6)(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return p(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){p(this);var n=[];(0,o.S6)(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=(0,o.kW)(n)},e.prototype.restoreData=function(t){f(this);var e=this._componentsMap,n=[];e.each((function(t,e){h.Z.hasClass(e)&&n.push(e)})),h.Z.topologicalTravel(n,h.Z.getAllClassMainTypes(),(function(n){(0,o.S6)(e.get(n),(function(e){!e||"series"===n&&function(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}(e,t)||e.restoreData()}))}))},e.internalField=(f=function(t){var e=t._seriesIndices=[];(0,o.S6)(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=(0,o.kW)(e)},p=function(t){},void(g=function(t,e){t.option={},t.option[_]=1,t._componentsMap=(0,o.kW)({series:[]}),t._componentsCount=(0,o.kW)();var n=e.aria;(0,o.Kn)(n)&&null==n.enabled&&(n.enabled=!0),function(t,e){var n=t.color&&!t.colorLayer;(0,o.S6)(e,(function(e,r){"colorLayer"===r&&n||h.Z.hasClass(r)||("object"==typeof e?t[r]=t[r]?(0,o.TS)(t[r],e,!1):(0,o.d9)(e):null==t[r]&&(t[r]=e))}))}(e,t._theme.option),(0,o.TS)(e,v,!1),t._mergeOption(e,null)})),e}(c.Z);function S(t,e,n){if((0,o.kJ)(e)){var r=(0,o.kW)();return(0,o.S6)(e,(function(t){null!=t&&(null!=u.U5(t,null)&&r.set(t,!0))})),(0,o.hX)(n,(function(e){return e&&r.get(e[t])}))}var i=u.U5(e,null);return(0,o.hX)(n,(function(e){return e&&null!=i&&e[t]===i}))}function M(t,e){return e.hasOwnProperty("subType")?(0,o.hX)(t,(function(t){return t&&t.subType===e.subType})):t}function k(t){var e=(0,o.kW)();return t&&(0,o.S6)(u.kF(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}(0,o.jB)(w,x._);var E=w,A=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],T=function(t){o.S6(A,(function(e){this[e]=o.ak(t[e],t)}),this)},I=n("./node_modules/echarts/lib/core/CoordinateSystem.js"),C=/^(min|max)?(.+)$/,D=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&((0,o.S6)((0,u.kF)(t.series),(function(t){t&&t.data&&(0,o.fU)(t.data)&&(0,o.s7)(t.data)})),(0,o.S6)((0,u.kF)(t.dataset),(function(t){t&&t.source&&(0,o.fU)(t.source)&&(0,o.s7)(t.source)}))),t=(0,o.d9)(t);var r=this._optionBackup,i=function(t,e,n){var r,i,a=[],s=t.baseOption,l=t.timeline,u=t.options,c=t.media,h=!!t.media,d=!!(u||l||s&&s.timeline);s?(i=s).timeline||(i.timeline=l):((d||h)&&(t.options=t.media=null),i=t);h&&(0,o.kJ)(c)&&(0,o.S6)(c,(function(t){t&&t.option&&(t.query?a.push(t):r||(r=t))}));function f(t){(0,o.S6)(e,(function(e){e(t,n)}))}return f(i),(0,o.S6)(u,(function(t){return f(t)})),(0,o.S6)(a,(function(t){return f(t.option)})),{baseOption:i,timelineOptions:u||[],mediaDefault:r,mediaList:a}}(t,e,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],(0,o.d9)(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=(0,o.d9)(n[r.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,r=this._api.getWidth(),i=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!a.length&&!s)return u;for(var c=0,h=a.length;c<h;c++)N(a[c].query,r,i)&&l.push(c);return!l.length&&s&&(l=[-1]),l.length&&(e=l,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(u=(0,o.UI)(l,(function(t){return(0,o.d9)(-1===t?s.option:a[t].option)}))),this._currentMediaIndices=l,u},t}();function N(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return(0,o.S6)(t,(function(t,e){var n=e.match(C);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(r[a],t,o)||(i=!1)}})),i}var O=D,L=o.S6,P=o.Kn,R=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function j(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=R.length;n<r;n++){var i=R[n],a=e.normal,s=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?o.TS(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),s&&s[i]&&(t[i]=t[i]||{},t[i].emphasis?o.TS(t[i].emphasis,s[i]):t[i].emphasis=s[i],s[i]=null)}}function z(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,o.ce(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function B(t){z(t,"itemStyle"),z(t,"lineStyle"),z(t,"areaStyle"),z(t,"label"),z(t,"labelLine"),z(t,"upperLabel"),z(t,"edgeLabel")}function F(t,e){var n=P(t)&&t[e],r=P(n)&&n.textStyle;if(r){0;for(var i=0,o=u.Td.length;i<o;i++){var a=u.Td[i];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function G(t){t&&(B(t),F(t,"label"),t.emphasis&&F(t.emphasis,"label"))}function V(t){return o.kJ(t)?t:t?[t]:[]}function Z(t){return(o.kJ(t)?t[0]:t)||{}}function U(t,e){L(V(t.series),(function(t){P(t)&&function(t){if(P(t)){j(t),B(t),F(t,"label"),F(t,"upperLabel"),F(t,"edgeLabel"),t.emphasis&&(F(t.emphasis,"label"),F(t.emphasis,"upperLabel"),F(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(j(e),G(e));var n=t.markLine;n&&(j(n),G(n));var r=t.markArea;r&&G(r);var i=t.data;if("graph"===t.type){i=i||t.nodes;var a=t.links||t.edges;if(a&&!o.fU(a))for(var s=0;s<a.length;s++)G(a[s]);o.S6(t.categories,(function(t){B(t)}))}if(i&&!o.fU(i))for(s=0;s<i.length;s++)G(i[s]);if((e=t.markPoint)&&e.data){var l=e.data;for(s=0;s<l.length;s++)G(l[s])}if((n=t.markLine)&&n.data){var u=n.data;for(s=0;s<u.length;s++)o.kJ(u[s])?(G(u[s][0]),G(u[s][1])):G(u[s])}"gauge"===t.type?(F(t,"axisLabel"),F(t,"title"),F(t,"detail")):"treemap"===t.type?(z(t.breadcrumb,"itemStyle"),o.S6(t.levels,(function(t){B(t)}))):"tree"===t.type&&B(t.leaves)}}(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),L(n,(function(e){L(V(t[e]),(function(t){t&&(F(t,"axisLabel"),F(t.axisPointer,"label"))}))})),L(V(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;F(e,"axisLabel"),F(e&&e.axisPointer,"label")})),L(V(t.calendar),(function(t){z(t,"itemStyle"),F(t,"dayLabel"),F(t,"monthLabel"),F(t,"yearLabel")})),L(V(t.radar),(function(t){F(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),L(V(t.geo),(function(t){P(t)&&(G(t),L(V(t.regions),(function(t){G(t)})))})),L(V(t.timeline),(function(t){G(t),z(t,"label"),z(t,"itemStyle"),z(t,"controlStyle",!0);var e=t.data;o.kJ(e)&&o.S6(e,(function(t){o.Kn(t)&&(z(t,"label"),z(t,"itemStyle"))}))})),L(V(t.toolbox),(function(t){z(t,"iconStyle"),L(t.feature,(function(t){z(t,"iconStyle")}))})),F(Z(t.axisPointer),"label"),F(Z(t.tooltip).axisPointer,"label")}function H(t){t&&(0,o.S6)(W,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var W=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Y=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],X=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function q(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<X.length;n++){var r=X[n][1],i=X[n][0];null!=e[r]&&(e[i]=e[r])}}function K(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function $(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function J(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&J(t[n].children,e)}function Q(t,e){U(t,e),t.series=(0,u.kF)(t.series),(0,o.S6)(t.series,(function(t){if((0,o.Kn)(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){if(null!=t.clockWise&&(t.clockwise=t.clockWise),K(t.label),(i=t.data)&&!(0,o.fU)(i))for(var n=0;n<i.length;n++)K(i[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var r=function(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&null!=(r=r&&r[n[i]]);i++);return r}(t,"pointer.color");null!=r&&function(t,e,n,r){for(var i,o=e.split(","),a=t,s=0;s<o.length-1;s++)null==a[i=o[s]]&&(a[i]={}),a=a[i];(r||null==a[o[s]])&&(a[o[s]]=n)}(t,"itemStyle.color",r)}else if("bar"===e){var i;if(q(t),q(t.backgroundStyle),q(t.emphasis),(i=t.data)&&!(0,o.fU)(i))for(n=0;n<i.length;n++)"object"==typeof i[n]&&(q(i[n]),q(i[n]&&i[n].emphasis))}else if("sunburst"===e){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),$(t),J(t.data,$)}else"graph"===e||"sankey"===e?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&(0,o.ce)(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),H(t)}})),t.dataRange&&(t.visualMap=t.dataRange),(0,o.S6)(Y,(function(e){var n=t[e];n&&((0,o.kJ)(n)||(n=[n]),(0,o.S6)(n,(function(t){H(t)})))}))}var tt=n("./node_modules/echarts/lib/util/number.js");function et(t){(0,o.S6)(t,(function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,(function(o,u,c){var h,d,f=a.get(e.stackedDimension,c);if(isNaN(f))return i;s?d=a.getRawIndex(c):h=a.get(e.stackedByDimension,c);for(var p=NaN,g=n-1;g>=0;g--){var m=t[g];if(s||(d=m.data.rawIndexOf(m.stackedByDimension,h)),d>=0){var v=m.data.getByRawIndex(m.stackResultDimension,d);if("all"===l||"positive"===l&&v>0||"negative"===l&&v<0||"samesign"===l&&f>=0&&v>0||"samesign"===l&&f<=0&&v<0){f=(0,tt.S$)(f,v),p=v;break}}}return r[0]=f,r[1]=p,r}))}))}var nt=n("./node_modules/echarts/lib/model/Series.js"),rt=n("./node_modules/echarts/lib/view/Component.js"),it=n("./node_modules/echarts/lib/view/Chart.js"),ot=n("./node_modules/zrender/lib/graphic/shape/Rect.js"),at=n("./node_modules/zrender/lib/graphic/Image.js"),st=n("./node_modules/echarts/lib/animation/basicTransition.js"),lt=n("./node_modules/zrender/lib/graphic/Path.js"),ut=n("./node_modules/echarts/lib/util/innerStore.js"),ct=n("./node_modules/echarts/lib/util/states.js"),ht=n("./node_modules/echarts/lib/util/throttle.js"),dt=n("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),ft=n("./node_modules/echarts/lib/model/mixin/itemStyle.js"),pt=n("./node_modules/echarts/lib/model/mixin/lineStyle.js"),gt=(0,u.Yf)(),mt={itemStyle:(0,dt.Z)(ft.t,!0),lineStyle:(0,dt.Z)(pt.v,!0)},vt={lineStyle:"stroke",itemStyle:"fill"};function yt(t,e){var n=t.visualStyleMapper||mt[e];return n||mt.itemStyle}function bt(t,e){var n=t.visualDrawType||vt[e];return n||"fill"}var xt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),a=yt(t,r)(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=bt(t,r),u=a[l],c=(0,o.mf)(u)?u:null,h="auto"===a.fill||"auto"===a.stroke;if(!a[l]||c||h){var d=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[l]||(a[l]=d,n.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||(0,o.mf)(a.fill)?d:a.fill,a.stroke="auto"===a.stroke||(0,o.mf)(a.stroke)?d:a.stroke}if(n.setVisual("style",a),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var r=t.getDataParams(n),i=(0,o.l7)({},a);i[l]=c(r),e.setItemVisual(n,"style",i)}}}},_t=new c.Z,wt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=yt(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[r]){_t.option=n[r];var s=i(_t),l=t.ensureUniqueItemVisual(e,"style");(0,o.l7)(l,s),_t.option.decal&&(t.setItemVisual(e,"decal",_t.option.decal),_t.option.decal.dirty=!0),a in s&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},St={performRawSeries:!0,overallReset:function(t){var e=(0,o.kW)();t.eachSeries((function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+n,i=e.get(r);i||(i={},e.set(r,i)),gt(t).scope=i}})),t.eachSeries((function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),r={},i=e.getData(),o=gt(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=bt(e,a);i.each((function(t){var e=i.getRawIndex(t);r[e]=t})),n.each((function(t){var a=r[t];if(i.getItemVisual(a,"colorFromPalette")){var l=i.ensureUniqueItemVisual(a,"style"),u=n.getName(t)||t+"",c=n.count();l[s]=e.getColorFromPalette(u,o,c)}}))}}))}},Mt=n("./node_modules/zrender/lib/graphic/Group.js"),kt=n("./node_modules/zrender/lib/graphic/Text.js"),Et=n("./node_modules/zrender/lib/graphic/shape/Arc.js"),At=Math.PI;var Tt=n("./node_modules/echarts/lib/core/task.js"),It=n("./node_modules/echarts/lib/util/component.js"),Ct=function(){function t(t,e,n,r){this._stageTaskMap=(0,o.kW)(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=r&&r.modDataCount;return{step:i,modBy:null!=o?Math.ceil(o/i):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,o=t.get("large")&&r>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=(0,o.kW)();t.eachSeries((function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;(0,o.S6)(this._allHandlers,(function(r){var i=t.get(r.uid)||t.set(r.uid,{});(0,o.hu)(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,i,e,n),r.overallReset&&this._createOverallStageTask(r,i,e,n)}),this)},t.prototype.prepareView=function(t,e,n,r){var i=t.renderTask,o=i.context;o.model=e,o.ecModel=n,o.api=r,i.__block=!t.incrementalPrepareRender,this._pipe(e,i)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,r){r=r||{};var i=!1,a=this;function s(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}(0,o.S6)(t,(function(t,o){if(!r.visualType||r.visualType===t.visualType){var l=a._stageTaskMap.get(t.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var h,d=c.agentStubMap;d.each((function(t){s(r,t)&&(t.dirty(),h=!0)})),h&&c.dirty(),a.updatePayload(c,n);var f=a.getPerformArgs(c,r.block);d.each((function(t){t.perform(f)})),c.perform(f)&&(i=!0)}else u&&u.each((function(o,l){s(r,o)&&o.dirty();var u=a.getPerformArgs(o,r.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(o.context.model),a.updatePayload(o,n),o.perform(u)&&(i=!0)}))}})),this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,r){var i=this,a=e.seriesTaskMap,s=e.seriesTaskMap=(0,o.kW)(),l=t.seriesType,u=t.getTargetSeries;function c(e){var o=e.uid,l=s.set(o,a&&a.get(o)||(0,Tt.v)({plan:Pt,reset:Rt,count:Bt}));l.context={model:e,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,r).each(c)},t.prototype._createOverallStageTask=function(t,e,n,r){var i=this,a=e.overallTask=e.overallTask||(0,Tt.v)({reset:Dt});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var s=a.agentStubMap,l=a.agentStubMap=(0,o.kW)(),u=t.seriesType,c=t.getTargetSeries,h=!0,d=!1;function f(t){var e=t.uid,n=l.set(e,s&&s.get(e)||(d=!0,(0,Tt.v)({reset:Nt,onDirty:Lt})));n.context={model:t,overallProgress:h},n.agent=a,n.__block=h,i._pipe(t,n)}(0,o.hu)(!t.createOnAllSeries,""),u?n.eachRawSeriesByType(u,f):c?c(n,r).each(f):(h=!1,(0,o.S6)(n.getSeries(),f)),d&&a.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},t.wrapStageHandler=function(t,e){return(0,o.mf)(t)&&(t={overallReset:t,seriesType:Ft(t)}),t.uid=(0,It.Kr)("stageHandler"),e&&(t.visualType=e),t},t}();function Dt(t){t.overallReset(t.ecModel,t.api,t.payload)}function Nt(t){return t.overallProgress&&Ot}function Ot(){this.agent.dirty(),this.getDownstream().dirty()}function Lt(){this.agent&&this.agent.dirty()}function Pt(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Rt(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=(0,u.kF)(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?(0,o.UI)(e,(function(t,e){return zt(e)})):jt}var jt=zt(0);function zt(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function Bt(t){return t.data.count()}function Ft(t){Gt=null;try{t(Vt,Zt)}catch(t){}return Gt}var Gt,Vt={},Zt={};function Ut(t,e){for(var n in e.prototype)t[n]=o.ZT}Ut(Vt,E),Ut(Zt,T),Vt.eachSeriesByType=Vt.eachRawSeriesByType=function(t){Gt=t},Vt.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Gt=t.subType)};var Ht=Ct,Wt=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Yt={color:Wt,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Wt]},Xt="#B9B8CE",qt="#100C2A",Kt=function(){return{axisLine:{lineStyle:{color:Xt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},$t=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Jt={darkMode:!0,color:$t,backgroundColor:qt,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Xt}},textStyle:{color:Xt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Xt}},dataZoom:{borderColor:"#71708A",textStyle:{color:Xt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Xt}},timeline:{lineStyle:{color:Xt},label:{color:Xt},controlStyle:{color:Xt,borderColor:Xt}},calendar:{itemStyle:{color:qt},dayLabel:{color:Xt},monthLabel:{color:Xt},yearLabel:{color:Xt}},timeAxis:Kt(),logAxis:Kt(),valueAxis:Kt(),categoryAxis:Kt(),line:{symbol:"circle"},graph:{color:$t},gauge:{title:{color:Xt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Xt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Jt.categoryAxis.splitLine.show=!1;var Qt=Jt,te=n("./node_modules/echarts/lib/util/clazz.js"),ee=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},r={};if(o.HD(t)){var i=(0,te.u9)(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};o.S6(t,(function(t,i){for(var o=!1,l=0;l<a.length;l++){var u=a[l],c=i.lastIndexOf(u);if(c>0&&c===i.length-u.length){var h=i.slice(0,c);"data"!==h&&(e.mainType=h,e[u.toLowerCase()]=t,o=!0)}}s.hasOwnProperty(i)&&(n[i]=t,o=!0),o||(r[i]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:r}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,"mainType")&&u(s,o,"subType")&&u(s,o,"index","componentIndex")&&u(s,o,"name")&&u(s,o,"id")&&u(l,i,"name")&&u(l,i,"dataIndex")&&u(l,i,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,i));function u(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),ne=["symbol","symbolSize","symbolRotate","symbolOffset"],re=ne.concat(["symbolKeepAspect"]),ie={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var r={},i={},a=!1,s=0;s<ne.length;s++){var l=ne[s],u=t.get(l);(0,o.mf)(u)?(a=!0,i[l]=u):r[l]=u}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual((0,o.l7)({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),!e.isSeriesFiltered(t)){var c=(0,o.XP)(i);return{dataEach:a?function(e,n){for(var r=t.getRawValue(n),o=t.getDataParams(n),a=0;a<c.length;a++){var s=c[a];e.setItemVisual(n,s,i[s](r,o))}}:null}}}}},oe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),r=0;r<re.length;r++){var i=re[r],o=n.getShallow(i,!0);null!=o&&t.setItemVisual(e,i,o)}}:null}}},ae=n("./node_modules/echarts/lib/visual/helper.js"),se=n("./node_modules/echarts/lib/util/log.js"),le=n("./node_modules/echarts/lib/legacy/dataSelectAction.js"),ue=n("./node_modules/echarts/lib/data/helper/transform.js"),ce=n("./node_modules/echarts/lib/core/locale.js"),he=n("./node_modules/echarts/lib/util/event.js"),de=n("./node_modules/echarts/lib/util/decal.js");var fe=new l.Z,pe=n("./node_modules/zrender/lib/core/platform.js"),ge=n("./node_modules/echarts/lib/core/impl.js"),me=2e3,ve=1e3,ye=2e3,be=3e3,xe=4500,_e={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:ve,PROGRESSIVE_LAYOUT:1100,GLOBAL:ye,CHART:be,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:xe,ARIA:6e3,DECAL:7e3}},we="__flagInMainProcess",Se="__pendingUpdate",Me="__needsUpdateStatus",ke=/^[a-zA-Z0-9_]+$/,Ee="__connectUpdateStatus";function Ae(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return Ie(this,t,e);Qe(this.id)}}function Te(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Ie(this,t,e)}}function Ie(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),l.Z.prototype[e].apply(t,n)}var Ce,De,Ne,Oe,Le,Pe,Re,je,ze,Be,Fe,Ge,Ve,Ze,Ue,He,We,Ye,Xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e}(l.Z),qe=Xe.prototype;qe.on=Te("on"),qe.off=Te("off");var Ke=function(t){function e(e,n,r){var a=t.call(this,new ee)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},(0,o.HD)(n)&&(n=an[n]),a._dom=e;var l=a._zr=i.S1(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:(0,o.pD)(r.useDirtyRect,!1),useCoarsePointer:(0,o.pD)(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=(0,ht.P2)((0,o.ak)(l.flush,l),17),(n=(0,o.d9)(n))&&Q(n,!0),a._theme=n,a._locale=(0,ce.D0)(r.locale||ce.sO),a._coordSysMgr=new I.Z;var u=a._api=Ue(a);function c(t,e){return t.__prio-e.__prio}return(0,s.Z)(on,c),(0,s.Z)(nn,c),a._scheduler=new Ht(a,u,nn,on),a._messageCenter=new Xe,a._initEvents(),a.resize=(0,o.ak)(a.resize,a),l.animation.on("frame",a._onframe,a),Be(l,a),Fe(l,a),(0,o.s7)(a),a}return(0,r.ZT)(e,t),e.prototype._onframe=function(){if(!this._disposed){Ye(this);var t=this._scheduler;if(this[Se]){var e=this[Se].silent;this[we]=!0;try{Ce(this),Oe.update.call(this,null,this[Se].updateParams)}catch(t){throw this[we]=!1,this[Se]=null,t}this._zr.flush(),this[we]=!1,this[Se]=null,je.call(this,e),ze.call(this,e)}else if(t.unfinished){var n=1,r=this._model,i=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),Pe(this,r),t.performVisualTasks(r),Ze(this,this._model,i,"remain",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this[we])if(this._disposed)Qe(this.id);else{var r,i,a;if((0,o.Kn)(e)&&(n=e.lazyUpdate,r=e.silent,i=e.replaceMerge,a=e.transition,e=e.notMerge),this[we]=!0,!this._model||e){var s=new O(this._api),l=this._theme,u=this._model=new E;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,l,this._locale,s)}this._model.setOption(t,{replaceMerge:i},rn);var c={seriesTransition:a,optionChanged:!0};if(n)this[Se]={silent:r,updateParams:c},this[we]=!1,this.getZr().wakeUp();else{try{Ce(this),Oe.update.call(this,null,c)}catch(t){throw this[Se]=null,this[we]=!1,t}this._ssr||this._zr.flush(),this[Se]=null,this[we]=!1,je.call(this,r),ze.call(this,r)}}},e.prototype.setTheme=function(){(0,se.Sh)("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||a.Z.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return t=t||{},this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return t=t||{},this._zr.painter.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(a.Z.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return(0,o.S6)(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,r=[],i=this;(0,o.S6)(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)}))}));var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return(0,o.S6)(r,(function(t){t.group.ignore=!1})),a}Qe(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e="svg"===t.type,n=this.group,r=Math.min,a=Math.max,s=1/0;if(un[n]){var l=s,u=s,c=-1/0,h=-1/0,d=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();(0,o.S6)(ln,(function(i,s){if(i.group===n){var f=e?i.getZr().painter.getSvgDom().innerHTML:i.renderToCanvas((0,o.d9)(t)),p=i.getDom().getBoundingClientRect();l=r(p.left,l),u=r(p.top,u),c=a(p.right,c),h=a(p.bottom,h),d.push({dom:f,left:p.left,top:p.top})}}));var p=(c*=f)-(l*=f),g=(h*=f)-(u*=f),m=pe.qW.createCanvas(),v=i.S1(m,{renderer:e?"svg":"canvas"});if(v.resize({width:p,height:g}),e){var y="";return(0,o.S6)(d,(function(t){var e=t.left-l,n=t.top-u;y+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return t.connectedBackgroundColor&&v.add(new ot.Z({shape:{x:0,y:0,width:p,height:g},style:{fill:t.connectedBackgroundColor}})),(0,o.S6)(d,(function(t){var e=new at.ZP({style:{x:t.left*f-l,y:t.top*f-u,image:t.dom}});v.add(e)})),v.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}Qe(this.id)},e.prototype.convertToPixel=function(t,e){return Le(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return Le(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,r=this._model,i=u.pm(r,t);return(0,o.S6)(i,(function(t,r){r.indexOf("Models")>=0&&(0,o.S6)(t,(function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(e);else if("seriesModels"===r){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0}),this)}),this),!!n}Qe(this.id)},e.prototype.getVisual=function(t,e){var n=this._model,r=u.pm(n,t,{defaultMainType:"series"});var i=r.seriesModel.getData(),o=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?i.indexOfRawIndex(r.dataIndex):null;return null!=o?(0,ae.Or)(i,o,e):(0,ae.UL)(i,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;(0,o.S6)(Je,(function(e){var n=function(n){var r,i=t.getModel(),a=n.target;if("globalout"===e?r={}:a&&(0,he.o)(a,(function(t){var e=(0,ut.A)(t);if(e&&null!=e.dataIndex){var n=e.dataModel||i.getSeriesByIndex(e.seriesIndex);return r=n&&n.getDataParams(e.dataIndex,e.dataType,a)||{},!0}if(e.eventData)return r=(0,o.l7)({},e.eventData),!0}),!0),r){var s=r.componentType,l=r.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=r.seriesIndex);var u=s&&null!=l&&i.getComponent(s,l),c=u&&t["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,r.event=n,r.type=e,t._$eventProcessor.eventInfo={targetEl:a,packedEvent:r,model:u,view:c},t.trigger(e,r)}};n.zrEventfulCallAtLast=!0,t._zr.on(e,n,t)})),(0,o.S6)(en,(function(e,n){t._messageCenter.on(n,(function(t){this.trigger(n,t)}),t)})),(0,o.S6)(["selectchanged"],(function(e){t._messageCenter.on(e,(function(t){this.trigger(e,t)}),t)})),(0,le.s)(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?Qe(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)Qe(this.id);else{this._disposed=!0,this.getDom()&&u.P$(this.getDom(),hn,"");var t=this,e=t._api,n=t._model;(0,o.S6)(t._componentsViews,(function(t){t.dispose(n,e)})),(0,o.S6)(t._chartsViews,(function(t){t.dispose(n,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete ln[t.id]}},e.prototype.resize=function(t){if(!this[we])if(this._disposed)Qe(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[Se]&&(null==r&&(r=this[Se].silent),n=!0,this[Se]=null),this[we]=!0;try{n&&Ce(this),Oe.update.call(this,{type:"resize",animation:(0,o.l7)({duration:0},t&&t.animation)})}catch(t){throw this[we]=!1,t}this[we]=!1,je.call(this,r),ze.call(this,r)}}},e.prototype.showLoading=function(t,e){if(this._disposed)Qe(this.id);else if((0,o.Kn)(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),sn[t]){var n=sn[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},e.prototype.hideLoading=function(){this._disposed?Qe(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=(0,o.l7)({},t);return e.type=en[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)Qe(this.id);else if((0,o.Kn)(e)||(e={silent:!!e}),tn[t.type]&&this._model)if(this[we])this._pendingActions.push(t);else{var n=e.silent;Re.call(this,t,n);var r=e.flush;r?this._zr.flush():!1!==r&&a.Z.browser.weChat&&this._throttledZrFlush(),je.call(this,n),ze.call(this,n)}},e.prototype.updateLabelLayout=function(){fe.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)Qe(this.id);else{var e=t.seriesIndex;0,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function e(t){for(var e=[],n=t.currentStates,r=0;r<n.length;r++){var i=n[r];"emphasis"!==i&&"blur"!==i&&"select"!==i&&e.push(i)}t.selected&&t.states.select&&e.push("select"),t.hoverState===ct.wU&&t.states.emphasis?e.push("emphasis"):t.hoverState===ct.CX&&t.states.blur&&e.push("blur"),t.useStates(e)}function n(t,e){if(!t.preventAutoZ){var n=t.get("z")||0,r=t.get("zlevel")||0;e.eachRendered((function(t){return i(t,n,r,-1/0),!0}))}}function i(t,e,n,r){var o=t.getTextContent(),a=t.getTextGuideLine();if(t.isGroup)for(var s=t.childrenRef(),l=0;l<s.length;l++)r=Math.max(i(s[l],e,n,r),r);else t.z=e,t.zlevel=n,r=Math.max(t.z2,r);if(o&&(o.z=e,o.zlevel=n,isFinite(r)&&(o.z2=r+2)),a){var u=t.textGuideLineConfig;a.z=e,a.zlevel=n,isFinite(r)&&(a.z2=r+(u&&u.showAbove?1:-1))}return r}function l(t,e){e.eachRendered((function(t){if(!st.eq(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function c(t,n){var r=t.getModel("stateAnimation"),i=t.isAnimationEnabled(),o=r.get("duration"),a=o>0?{duration:o,delay:r.get("delay"),easing:r.get("easing")}:null;n.eachRendered((function(t){if(t.states&&t.states.emphasis){if(st.eq(t))return;if(t instanceof lt.ZP&&(0,ct.e9)(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(i){t.stateTransition=a;var r=t.getTextContent(),o=t.getTextGuideLine();r&&(r.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}}))}Ce=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),De(t,!0),De(t,!1),e.plan()},De=function(t,e){for(var n=t._model,r=t._scheduler,i=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<i.length;l++)i[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u="_ec_"+t.id+"_"+t.type,c=!l&&o[u];if(!c){var h=(0,te.u9)(t.type);0,(c=new(e?rt.Z.getClass(h.main,h.sub):it.Z.getClass(h.sub))).init(n,s),o[u]=c,i.push(c),a.add(c.group)}t.__viewId=c.__id=u,c.__alive=!0,c.__model=t,c.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&r.prepareView(c,t,n,s)}e?n.eachComponent((function(t,e){"series"!==t&&u(e)})):n.eachSeries(u);for(l=0;l<i.length;){var c=i[l];c.__alive?l++:(!e&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,s),i.splice(l,1),o[c.__id]===c&&delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}},Ne=function(t,e,n,r,i){var a=t._model;if(a.setUpdatePayload(n),r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var l={mainType:r,query:s};i&&(l.subType=i);var c,h=n.excludeSeriesId;null!=h&&(c=(0,o.kW)(),(0,o.S6)(u.kF(h),(function(t){var e=u.U5(t,null);null!=e&&c.set(e,!0)}))),a&&a.eachComponent(l,(function(e){if(!(c&&null!=c.get(e.id)))if((0,ct.xp)(n))if(e instanceof nt.Z)n.type!==ct.Ki||n.notBlur||e.get(["emphasis","disabled"])||(0,ct.UL)(e,n,t._api);else{var r=(0,ct.oJ)(e.mainType,e.componentIndex,n.name,t._api),i=r.focusSelf,a=r.dispatchers;n.type===ct.Ki&&i&&!n.notBlur&&(0,ct.zI)(e.mainType,e.componentIndex,t._api),a&&(0,o.S6)(a,(function(t){n.type===ct.Ki?(0,ct.fD)(t):(0,ct.Mh)(t)}))}else(0,ct.aG)(n)&&e instanceof nt.Z&&((0,ct.og)(e,n,t._api),(0,ct.ci)(e),We(t))}),t),a&&a.eachComponent(l,(function(e){c&&null!=c.get(e.id)||d(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else(0,o.S6)([].concat(t._componentsViews).concat(t._chartsViews),d);function d(r){r&&r.__alive&&r[e]&&r[e](r.__model,a,t._api,n)}},Oe={prepareAndUpdate:function(t){Ce(this),Oe.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var r=this._model,i=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(r){r.setUpdatePayload(e),s.restoreData(r,e),s.performSeriesTasks(r),a.create(r,i),s.performDataProcessorTasks(r,e),Pe(this,r),a.update(r,i),t(r),s.performVisualTasks(r,e),Ge(this,r,i,e,n);var l=r.get("backgroundColor")||"transparent",u=r.get("darkMode");o.setBackgroundColor(l),null!=u&&"auto"!==u&&o.setDarkMode(u),fe.trigger("afterupdate",r,i)}},updateTransform:function(e){var n=this,r=this._model,i=this._api;if(r){r.setUpdatePayload(e);var a=[];r.eachComponent((function(t,o){if("series"!==t){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,r,i,e);l&&l.update&&a.push(s)}else a.push(s)}}));var s=(0,o.kW)();r.eachSeries((function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var a=o.updateTransform(t,r,i,e);a&&a.update&&s.set(t.uid,1)}else s.set(t.uid,1)})),t(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:s}),Ze(this,r,i,e,{},s),fe.trigger("afterupdate",r,i)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),it.Z.markUpdateMethod(e,"updateView"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),Ge(this,n,this._api,e,{}),fe.trigger("afterupdate",n,this._api))},updateVisual:function(e){var n=this,r=this._model;r&&(r.setUpdatePayload(e),r.eachSeries((function(t){t.getData().clearAllVisual()})),it.Z.markUpdateMethod(e,"updateVisual"),t(r),this._scheduler.performVisualTasks(r,e,{visualType:"visual",setDirty:!0}),r.eachComponent((function(t,i){if("series"!==t){var o=n.getViewOfComponentModel(i);o&&o.__alive&&o.updateVisual(i,r,n._api,e)}})),r.eachSeries((function(t){n._chartsMap[t.__viewId].updateVisual(t,r,n._api,e)})),fe.trigger("afterupdate",r,this._api))},updateLayout:function(t){Oe.update.call(this,t)}},Le=function(t,e,n,r){if(t._disposed)Qe(t.id);else{for(var i,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=u.pm(o,n),l=0;l<a.length;l++){var c=a[l];if(c[e]&&null!=(i=c[e](o,s,r)))return i}0}},Pe=function(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries((function(t){r.updateStreamModes(t,n[t.__viewId])}))},Re=function(t,e){var n=this,r=this.getModel(),i=t.type,a=t.escapeConnect,s=tn[i],l=s.actionInfo,c=(l.update||"update").split(":"),h=c.pop(),d=null!=c[0]&&(0,te.u9)(c[0]);this[we]=!0;var f=[t],p=!1;t.batch&&(p=!0,f=(0,o.UI)(t.batch,(function(e){return(e=(0,o.ce)((0,o.l7)({},e),t)).batch=null,e})));var g,m=[],v=(0,ct.aG)(t),y=(0,ct.xp)(t);if(y&&(0,ct.T5)(this._api),(0,o.S6)(f,(function(e){if((g=(g=s.action(e,n._model,n._api))||(0,o.l7)({},e)).type=l.event||g.type,m.push(g),y){var r=u.zH(t),i=r.queryOptionMap,a=r.mainTypeSpecified?i.keys()[0]:"series";Ne(n,h,e,a),We(n)}else v?(Ne(n,h,e,"series"),We(n)):d&&Ne(n,h,e,d.main,d.sub)})),"none"!==h&&!y&&!v&&!d)try{this[Se]?(Ce(this),Oe.update.call(this,t),this[Se]=null):Oe[h].call(this,t)}catch(t){throw this[we]=!1,t}if(g=p?{type:l.event||i,escapeConnect:a,batch:m}:m[0],this[we]=!1,!e){var b=this._messageCenter;if(b.trigger(g.type,g),v){var x={type:"selectchanged",escapeConnect:a,selected:(0,ct.C5)(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};b.trigger(x.type,x)}}},je=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Re.call(this,n,t)}},ze=function(t){!t&&this.trigger("updated")},Be=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e[Se]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},Fe=function(t,e){t.on("mouseover",(function(t){var n=t.target,r=(0,he.o)(n,ct.Av);r&&((0,ct.$l)(r,t,e._api),We(e))})).on("mouseout",(function(t){var n=t.target,r=(0,he.o)(n,ct.Av);r&&((0,ct.xr)(r,t,e._api),We(e))})).on("click",(function(t){var n=t.target,r=(0,he.o)(n,(function(t){return null!=(0,ut.A)(t).dataIndex}),!0);if(r){var i=r.selected?"unselect":"select",o=(0,ut.A)(r);e._api.dispatchAction({type:i,dataType:o.dataType,dataIndexInside:o.dataIndex,seriesIndex:o.seriesIndex,isFromClick:!0})}}))},Ge=function(t,e,n,r,i){!function(t){var e=[],n=[],r=!1;if(t.eachComponent((function(t,i){var o=i.get("zlevel")||0,a=i.get("z")||0,s=i.getZLevelKey();r=r||!!s,("series"===t?n:e).push({zlevel:o,z:a,idx:i.componentIndex,type:t,key:s})})),r){var i,a,l=e.concat(n);(0,s.Z)(l,(function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel})),(0,o.S6)(l,(function(e){var n=t.getComponent(e.type,e.idx),r=e.zlevel,o=e.key;null!=i&&(r=Math.max(i,r)),o?(r===i&&o!==a&&r++,a=o):a&&(r===i&&r++,a=""),i=r,n.setZLevel(r)}))}}(e),Ve(t,e,n,r,i),(0,o.S6)(t._chartsViews,(function(t){t.__alive=!1})),Ze(t,e,n,r,i),(0,o.S6)(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},Ve=function(t,e,r,i,a,s){(0,o.S6)(s||t._componentsViews,(function(t){var o=t.__model;l(o,t),t.render(o,e,r,i),n(o,t),c(o,t)}))},Ze=function(t,e,r,i,s,u){var h=t._scheduler;s=(0,o.l7)(s||{},{updatedSeries:e.getSeries()}),fe.trigger("series:beforeupdate",e,r,s);var d=!1;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var r=n.renderTask;h.updatePayload(r,i),l(e,n),u&&u.get(e.uid)&&r.dirty(),r.perform(h.getPerformArgs(r))&&(d=!0),n.group.silent=!!e.get("silent"),function(t,e){var n=t.get("blendMode")||null;e.eachRendered((function(t){t.isGroup||(t.style.blend=n)}))}(e,n),(0,ct.ci)(e)})),h.unfinished=d||h.unfinished,fe.trigger("series:layoutlabels",e,r,s),fe.trigger("series:transition",e,r,s),e.eachSeries((function(e){var r=t._chartsMap[e.__viewId];n(e,r),c(e,r)})),function(t,e){var n=t._zr,r=n.storage,i=0;r.traverse((function(t){t.isGroup||i++})),i>e.get("hoverLayerThreshold")&&!a.Z.node&&!a.Z.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,e),fe.trigger("series:afterupdate",e,r,s)},We=function(t){t[Me]=!0,t.getZr().wakeUp()},Ye=function(t){t[Me]&&(t.getZr().storage.traverse((function(t){st.eq(t)||e(t)})),t[Me]=!1)},Ue=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){(0,ct.fD)(e,n),We(t)},n.prototype.leaveEmphasis=function(e,n){(0,ct.Mh)(e,n),We(t)},n.prototype.enterBlur=function(e){(0,ct.SX)(e),We(t)},n.prototype.leaveBlur=function(e){(0,ct.VP)(e),We(t)},n.prototype.enterSelect=function(e){(0,ct.XX)(e),We(t)},n.prototype.leaveSelect=function(e){(0,ct.SJ)(e),We(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(T))(t)},He=function(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][Ee]=e}}(0,o.S6)(en,(function(n,r){t._messageCenter.on(r,(function(n){if(un[t.group]&&0!==t[Ee]){if(n&&n.escapeConnect)return;var r=t.makeActionFromEvent(n),i=[];(0,o.S6)(ln,(function(e){e!==t&&e.group===t.group&&i.push(e)})),e(i,0),(0,o.S6)(i,(function(t){1!==t[Ee]&&t.dispatchAction(r)})),e(i,2)}}))}))}}(),e}(l.Z),$e=Ke.prototype;$e.on=Ae("on"),$e.off=Ae("off"),$e.one=function(t,e,n){var r=this;(0,se.Sh)("ECharts#one is deprecated."),this.on.call(this,t,(function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),r.off(t,n)}),n)};var Je=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Qe(t){0}var tn={},en={},nn=[],rn=[],on=[],an={},sn={},ln={},un={},cn=+new Date-0,hn=(new Date,"_echarts_instance_");function dn(t,e,n){var r=!(n&&n.ssr);if(r){0;var i=fn(t);if(i)return i;0}var o=new Ke(t,e,n);return o.id="ec_"+cn++,ln[o.id]=o,r&&u.P$(t,hn,o.id),He(o),fe.trigger("afterinit",o),o}function fn(t){return ln[u.IL(t,hn)]}function pn(t,e){an[t]=e}function gn(t){(0,o.cq)(rn,t)<0&&rn.push(t)}function mn(t,e){kn(nn,t,e,me)}function vn(t){bn("afterinit",t)}function yn(t){bn("afterupdate",t)}function bn(t,e){fe.on(t,e)}function xn(t,e,n){(0,o.mf)(e)&&(n=e,e="");var r=(0,o.Kn)(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,en[e]||((0,o.hu)(ke.test(r)&&ke.test(e)),tn[r]||(tn[r]={action:n,actionInfo:t}),en[e]=r)}function _n(t,e){I.Z.register(t,e)}function wn(t,e){kn(on,t,e,ve,"layout")}function Sn(t,e){kn(on,t,e,be,"visual")}var Mn=[];function kn(t,e,n,r,i){if(((0,o.mf)(e)||(0,o.Kn)(e))&&(n=e,e=r),!((0,o.cq)(Mn,n)>=0)){Mn.push(n);var a=Ht.wrapStageHandler(n,i);a.__prio=e,a.__raw=n,t.push(a)}}function En(t,e){sn[t]=e}function An(t,e,n){var r=(0,ge.C)("registerMap");r&&r(t,e,n)}var Tn=ue.DA;Sn(ye,xt),Sn(xe,wt),Sn(xe,St),Sn(ye,ie),Sn(xe,oe),Sn(7e3,(function(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(t){var n=r.getItemVisual(t,"decal");n&&(r.ensureUniqueItemVisual(t,"style").decal=(0,de.I)(n,e))}));var i=r.getVisual("decal");if(i)r.getVisual("style").decal=(0,de.I)(i,e)}}))})),gn(Q),mn(900,(function(t){var e=(0,o.kW)();t.eachSeries((function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}})),e.each(et)})),En("default",(function(t,e){e=e||{},o.ce(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Mt.Z,r=new ot.Z({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i,a=new kt.ZP({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),s=new ot.Z({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(s),e.showSpinner&&((i=new Et.Z({shape:{startAngle:-At/2,endAngle:-At/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*At/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*At/2}).delay(300).start("circularInOut"),n.add(i)),n.resize=function(){var n=a.getBoundingRect().width,o=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*o-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:o),u=t.getHeight()/2;e.showSpinner&&i.setShape({cx:l,cy:u}),s.setShape({x:l-o,y:u-o,width:2*o,height:2*o}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n})),xn({type:ct.Ki,event:ct.Ki,update:ct.Ki},o.ZT),xn({type:ct.yx,event:ct.yx,update:ct.yx},o.ZT),xn({type:ct.Hg,event:ct.Hg,update:ct.Hg},o.ZT),xn({type:ct.JQ,event:ct.JQ,update:ct.JQ},o.ZT),xn({type:ct.iK,event:ct.iK,update:ct.iK},o.ZT),pn("light",Yt),pn("dark",Qt)},"./node_modules/echarts/lib/core/impl.js":function(t,e,n){"use strict";n.d(e,{C:function(){return o},M:function(){return i}});var r={};function i(t,e){r[t]=e}function o(t){return r[t]}},"./node_modules/echarts/lib/core/locale.js":function(t,e,n){"use strict";n.d(e,{sO:function(){return h},D0:function(){return f},Li:function(){return g},G8:function(){return p}});var r=n("./node_modules/echarts/lib/model/Model.js"),i=n("./node_modules/zrender/lib/core/env.js"),o=n("./node_modules/zrender/lib/core/util.js"),a="ZH",s="EN",l=s,u={},c={},h=i.Z.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(a)>-1?a:l;function d(t,e){t=t.toUpperCase(),c[t]=new r.Z(e),u[t]=e}function f(t){if((0,o.HD)(t)){var e=u[t.toUpperCase()]||{};return t===a||t===s?(0,o.d9)(e):(0,o.TS)((0,o.d9)(e),(0,o.d9)(u[l]),!1)}return(0,o.TS)((0,o.d9)(t),(0,o.d9)(u[l]),!1)}function p(t){return c[t]}function g(){return c[l]}d(s,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),d(a,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}})},"./node_modules/echarts/lib/core/task.js":function(t,e,n){"use strict";n.d(e,{v:function(){return i}});var r=n("./node_modules/zrender/lib/core/util.js");function i(t){return new o(t)}var o=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var a,s=h(this._modBy),l=this._modDataCount||0,u=h(t&&t.modBy),c=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}s===u&&l===c||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(i)),this._modBy=u,this._modDataCount=c;var d=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!i&&(a||f<p)){var g=this._progress;if((0,r.kJ)(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],f,p,u,c);else this._doProgress(g,f,p,u,c)}this._dueIndex=p;var v=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,r,i){a.reset(e,n,r,i),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:a.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),(0,r.kJ)(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),a=function(){var t,e,n,r,i,o={reset:function(l,u,c,h){e=l,t=u,n=c,r=h,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%i*n+Math.ceil(e/i),a=e>=t?null:o<r?o:e;return e++,a}}()},"./node_modules/echarts/lib/data/DataDiffer.js":function(t,e){"use strict";function n(t){return null==t?0:t.length||1}function r(t){return t}var i=function(){function t(t,e,n,i,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||r,this._newKeyGetter=i||r,this.context=o,this._diffModeMultiple="multiple"===a}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,r={},i=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,r,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=i[a],l=r[s],u=n(l);if(u>1){var c=l.shift();1===l.length&&(r[s]=l[0]),this._update&&this._update(c,a)}else 1===u?(r[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,r)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,r={},i={},o=[],a=[];this._initIndexMap(t,r,o,"_oldKeyGetter"),this._initIndexMap(e,i,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=r[l],c=i[l],h=n(u),d=n(c);if(h>1&&1===d)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(1===h&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(1===h&&1===d)this._update&&this._update(c,u),i[l]=null;else if(h>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(h>1)for(var f=0;f<h;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(a,i)},t.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=e[i],a=n(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[i]=null}},t.prototype._initIndexMap=function(t,e,r,i){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[i](t[a],a);if(o||(r[a]=s),e){var l=e[s],u=n(l);0===u?(e[s]=a,o&&r.push(s)):1===u?e[s]=[l,a]:l.push(a)}}},t}();e.Z=i},"./node_modules/echarts/lib/data/DataStore.js":function(t,e,n){"use strict";n.d(e,{hG:function(){return c}});var r,i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/echarts/lib/data/helper/dataValueHelper.js"),a=n("./node_modules/echarts/lib/data/Source.js"),s="undefined",l=typeof Uint32Array===s?Array:Uint32Array,u=typeof Uint16Array===s?Array:Uint16Array,c=typeof Int32Array===s?Array:Int32Array,h=typeof Float64Array===s?Array:Float64Array,d={float:h,int:c,ordinal:Array,number:Array,time:h};function f(t){return t>65535?l:u}function p(t,e,n,r,i){var o=d[n||"float"];if(i){var a=t[e],s=a&&a.length;if(s!==r){for(var l=new o(r),u=0;u<s;u++)l[u]=a[u];t[e]=l}}else t[e]=new o(r)}var g=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,i.kW)()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=t.getSource(),s=this.defaultDimValueGetter=r[o.sourceFormat];this._dimValueGetter=n||s,this._rawExtent=[];(0,a.QY)(o);this._dimensions=(0,i.UI)(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(t);if(null!=i){if(r[i].type===e)return i}else i=r.length;return r[i]={type:e},n.set(t,i),this._chunks[i]=new d[e||"float"](this._rawCount),this._rawExtent[i]=[1/0,-1/0],i},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],i=this._rawExtent,o=r.ordinalOffset||0,a=n.length;0===o&&(i[t]=[1/0,-1/0]);for(var s=i[t],l=o;l<a;l++){var u=n[l]=e.parseAndCollect(n[l]);isNaN(u)||(s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1]))}r.ordinalMeta=e,r.ordinalOffset=a,r.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<o;u++){p(n,u,(g=i[u]).type,l,!0)}for(var c=[],h=s;h<l;h++)for(var d=h-s,f=0;f<o;f++){var g=i[f],m=r.arrayRows.call(this,t[d]||c,g.property,d,f);n[f][h]=m;var v=a[f];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=(0,i.UI)(a,(function(t){return t.property})),c=0;c<s;c++){var h=a[c];l[c]||(l[c]=[1/0,-1/0]),p(o,c,h.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var d=[],f=t;f<e;f++){d=r.getItem(f,d);for(var g=0;g<s;g++){var m=o[g],v=this._dimValueGetter(d,u[g],f,g);m[f]=v;var y=l[g];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],r=[];if(null==e){e=t,t=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=t;i=0;for(var o=r.length;i<o;i++)n.push(this.get(r[i],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,r=this.count();n<r;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks[t],i=[];if(!r)return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var c=e-r[this.getRawIndex(l)],h=Math.abs(c);h<=n&&((h<o||h===o&&c>=0&&a<0)&&(o=h,a=c,s=0),c===a&&(i[s++]=l))}return i.length=s,i},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var i=0;i<r;i++)t[i]=e[i]}else t=new n(e.buffer,0,r)}else{t=new(n=f(this._rawCount))(this.count());for(i=0;i<t.length;i++)t[i]=i}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=new(f(n._rawCount))(r),o=[],a=t.length,s=0,l=t[0],u=n._chunks,c=0;c<r;c++){var h=void 0,d=n.getRawIndex(c);if(0===a)h=e(c);else if(1===a){h=e(u[l][d],c)}else{for(var p=0;p<a;p++)o[p]=u[t[p]][d];o[p]=c,h=e.apply(null,o)}h&&(i[s++]=d)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=(0,i.XP)(t),o=r.length;if(!o)return this;var a=e.count(),s=new(f(e._rawCount))(a),l=0,u=r[0],c=t[u][0],h=t[u][1],d=e._chunks,p=!1;if(!e._indices){var g=0;if(1===o){for(var m=d[r[0]],v=0;v<n;v++){((_=m[v])>=c&&_<=h||isNaN(_))&&(s[l++]=g),g++}p=!0}else if(2===o){m=d[r[0]];var y=d[r[1]],b=t[r[1]][0],x=t[r[1]][1];for(v=0;v<n;v++){var _=m[v],w=y[v];(_>=c&&_<=h||isNaN(_))&&(w>=b&&w<=x||isNaN(w))&&(s[l++]=g),g++}p=!0}}if(!p)if(1===o)for(v=0;v<a;v++){var S=e.getRawIndex(v);((_=d[r[0]][S])>=c&&_<=h||isNaN(_))&&(s[l++]=S)}else for(v=0;v<a;v++){for(var M=!0,k=(S=e.getRawIndex(v),0);k<o;k++){var E=r[k];((_=d[E][S])<t[E][0]||_>t[E][1])&&(M=!1)}M&&(s[l++]=e.getRawIndex(v))}return l<a&&(e._indices=s),e._count=l,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var r=t._chunks,i=[],o=e.length,a=t.count(),s=[],l=t._rawExtent,u=0;u<e.length;u++)l[e[u]]=[1/0,-1/0];for(var c=0;c<a;c++){for(var h=t.getRawIndex(c),d=0;d<o;d++)s[d]=r[e[d]][h];s[o]=c;var f=n&&n.apply(null,s);if(null!=f){"object"!=typeof f&&(i[0]=f,f=i);for(u=0;u<f.length;u++){var p=e[u],g=f[u],m=l[p],v=r[p];v&&(v[h]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,r,i,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),l=0,u=Math.floor(1/e),c=this.getRawIndex(0),h=new(f(this._rawCount))(Math.min(2*(Math.ceil(s/u)+2),s));h[l++]=c;for(var d=1;d<s-1;d+=u){for(var p=Math.min(d+u,s-1),g=Math.min(d+2*u,s),m=(g+p)/2,v=0,y=p;y<g;y++){var b=a[E=this.getRawIndex(y)];isNaN(b)||(v+=b)}v/=g-p;var x=d,_=Math.min(d+u,s),w=d-1,S=a[c];n=-1,i=x;var M=-1,k=0;for(y=x;y<_;y++){var E;b=a[E=this.getRawIndex(y)];isNaN(b)?(k++,M<0&&(M=E)):(r=Math.abs((w-m)*(b-S)-(w-y)*(v-S)))>n&&(n=r,i=E)}k>0&&k<_-x&&(h[l++]=Math.min(M,i),i=Math.max(M,i)),h[l++]=i,c=i}return h[l++]=this.getRawIndex(s-1),o._count=l,o._indices=h,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,r){for(var i=this.clone([t],!0),o=i._chunks,a=[],s=Math.floor(1/e),l=o[t],u=this.count(),c=i._rawExtent[t]=[1/0,-1/0],h=new(f(this._rawCount))(Math.ceil(u/s)),d=0,p=0;p<u;p+=s){s>u-p&&(s=u-p,a.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g);a[g]=l[m]}var v=n(a),y=this.getRawIndex(Math.min(p+r(a,v)||0,u-1));l[y]=v,v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v),h[d++]=y}return i._count=d,i._indices=h,i._updateGetRawIdx(),i},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,i=0,o=this.count();i<o;i++){var a=this.getRawIndex(i);switch(n){case 0:e(i);break;case 1:e(r[t[0]][a],i);break;case 2:e(r[t[0]][a],r[t[1]][a],i);break;default:for(var s=0,l=[];s<n;s++)l[s]=r[t[s]][a];l[s]=i,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var r,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var o=(r=n)[0],a=r[1],s=0;s<i;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return r=[o,a],this._extent[t]=r,r},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][e]);return n},t.prototype.clone=function(e,n){var r,o,a=new t,s=this._chunks,l=e&&(0,i.u4)(e,(function(t,e){return t[e]=!0,t}),{});if(l)for(var u=0;u<s.length;u++)a._chunks[u]=l[u]?(r=s[u],o=void 0,(o=r.constructor)===Array?r.slice():new o(r)):s[u];else a._chunks=s;return this._copyCommonProps(a),n||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=(0,i.d9)(this._extent),t._rawExtent=(0,i.d9)(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,r){return(0,o.yQ)(t[r],this._dimensions[r])}r={arrayRows:t,objectRows:function(t,e,n,r){return(0,o.yQ)(t[e],this._dimensions[r])},keyedColumns:t,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return(0,o.yQ)(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(t,e,n,r){return t[r]}}}(),t}();e.ZP=g},"./node_modules/echarts/lib/data/OrdinalMeta.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/util.js"),i=0,o=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++i}return t.createByAxisModel=function(e){var n=e.option,i=n.data,o=i&&(0,r.UI)(i,a);return new t({categories:o,needCollect:!o,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!(0,r.HD)(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,r.kW)(this.categories))},t}();function a(t){return(0,r.Kn)(t)&&null!=t.value?t.value:t+""}e.Z=o},"./node_modules/echarts/lib/data/SeriesData.js":function(t,e,n){"use strict";var r,i,o,a,s,l,u,c=n("./node_modules/zrender/lib/core/util.js"),h=n("./node_modules/echarts/lib/model/Model.js"),d=n("./node_modules/echarts/lib/data/DataDiffer.js"),f=n("./node_modules/echarts/lib/data/helper/dataProvider.js"),p=n("./node_modules/echarts/lib/data/helper/dimensionHelper.js"),g=n("./node_modules/echarts/lib/data/SeriesDimensionDefine.js"),m=n("./node_modules/echarts/lib/util/types.js"),v=n("./node_modules/echarts/lib/util/model.js"),y=n("./node_modules/echarts/lib/util/innerStore.js"),b=n("./node_modules/echarts/lib/data/Source.js"),x=n("./node_modules/echarts/lib/data/DataStore.js"),_=n("./node_modules/echarts/lib/data/helper/SeriesDataSchema.js"),w=c.Kn,S=c.UI,M="undefined"==typeof Int32Array?Array:Int32Array,k=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],E=["_approximateExtent"],A=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;(0,_.bB)(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var i={},o=[],a={},s=!1,l={},u=0;u<n.length;u++){var h=n[u],d=c.HD(h)?new g.Z({name:h}):h instanceof g.Z?h:new g.Z(h),f=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=f,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};o.push(f),i[f]=d,null!=l[f]&&(s=!0),d.createInvertedIndices&&(a[f]=[]),0===p.itemName&&(this._nameDimIdx=u),0===p.itemId&&(this._idDimIdx=u),r&&(d.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var m=this._dimIdxToName=c.kW();c.S6(o,(function(t){m.set(i[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(c.hj(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var r,i=this;if(t instanceof x.ZP&&(r=t),!r){var o=this.dimensions,a=(0,b.Ld)(t)||c.zG(t)?new f.Pl(t,o.length):t;r=new x.ZP;var s=S(o,(function(t){return{type:i._dimInfos[t].type,property:t}}));r.initData(a,s,n)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=(0,p.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),r=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=r;a<i;a++){var s=a-r;this._nameList[a]=e[s],o&&u(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==m.J5&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList;if(n.getSource().sourceFormat===m.cy&&!n.pure)for(var a=[],s=t;s<e;s++){var l=n.getItem(s,a);if(!this.hasItemOption&&(0,v.Co)(l)&&(this.hasItemOption=!0),l){var c=l.name;null==i[s]&&null!=c&&(i[s]=(0,v.U5)(c,null));var h=l.id;null==o[s]&&null!=h&&(o[s]=(0,v.U5)(h,null))}}if(this._shouldMakeIdFromName())for(s=t;s<e;s++)u(this,s);r(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){w(t)?c.l7(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=o(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},t.prototype.getId=function(t){return i(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,r=this._store;return c.kJ(t)?r.getValues(S(t,(function(t){return n._getStoreDimIndex(t)})),e):r.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){c.mf(t)&&(n=e,e=t,t=[]);var r=n||this,i=S(a(t),this._getStoreDimIndex,this);this._store.each(i,r?c.ak(e,r):e)},t.prototype.filterSelf=function(t,e,n){c.mf(t)&&(n=e,e=t,t=[]);var r=n||this,i=S(a(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?c.ak(e,r):e),this},t.prototype.selectRange=function(t){var e=this,n={},r=c.XP(t),i=[];return c.S6(r,(function(r){var o=e._getStoreDimIndex(r);n[o]=t[r],i.push(o)})),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){c.mf(t)&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),n),r},t.prototype.map=function(t,e,n,r){var i=n||r||this,o=S(a(t),this._getStoreDimIndex,this),s=l(this);return s._store=this._store.map(o,i?c.ak(e,i):e),s},t.prototype.modify=function(t,e,n,r){var i=n||r||this;var o=S(a(t),this._getStoreDimIndex,this);this._store.modify(o,i?c.ak(e,i):e)},t.prototype.downSample=function(t,e,n,r){var i=l(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),i},t.prototype.lttbDownSample=function(t,e){var n=l(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new h.Z(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new d.Z(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return i(t,e)}),(function(t){return i(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},w(t)?c.l7(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return null==r?this.getVisual(e):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var i=r[e];return null==i&&(i=this.getVisual(e),c.kJ(i)?i=i.slice():w(i)&&(i=c.l7({},i)),r[e]=i),i},t.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,w(e)?c.l7(r,e):r[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){w(t)?c.l7(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?c.l7(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;(0,y.Q)(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){c.S6(this._graphicEls,(function(n,r){n&&t&&t.call(e,n,r)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:S(this.dimensions,this._getDimInfo,this),this.hostModel)),s(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];c.mf(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(c.tP(arguments)))})},t.internalField=(r=function(t){var e=t._invertedIndicesMap;c.S6(e,(function(n,r){var i=t._dimInfos[r],o=i.ordinalMeta,a=t._store;if(o){n=e[r]=new M(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(i.storeDimIndex,s)]=s}}))},o=function(t,e,n){return(0,v.U5)(t._getCategory(e,n),null)},i=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=o(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},a=function(t){return c.kJ(t)||(t=null!=t?[t]:[]),t},l=function(e){var n=new t(e._schema?e._schema:S(e.dimensions,e._getDimInfo,e),e.hostModel);return s(n,e),n},s=function(t,e){c.S6(k.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,c.S6(E,(function(n){t[n]=c.d9(e[n])})),t._calculationInfo=c.l7({},e._calculationInfo)},void(u=function(t,e){var n=t._nameList,r=t._idList,i=t._nameDimIdx,a=t._idDimIdx,s=n[e],l=r[e];if(null==s&&null!=i&&(n[e]=s=o(t,i,e)),null==l&&null!=a&&(r[e]=l=o(t,a,e)),null==l&&null!=s){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),r[e]=l}})),t}();e.Z=A},"./node_modules/echarts/lib/data/SeriesDimensionDefine.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/util.js"),i=function(t){this.otherDims={},null!=t&&r.l7(this,t)};e.Z=i},"./node_modules/echarts/lib/data/Source.js":function(t,e,n){"use strict";n.d(e,{Kp:function(){return d},Ld:function(){return l},ML:function(){return h},QY:function(){return g},_P:function(){return u},nx:function(){return c}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/types.js"),o=n("./node_modules/echarts/lib/util/model.js"),a=n("./node_modules/echarts/lib/data/helper/sourceHelper.js"),s=function(t){this.data=t.data||(t.sourceFormat===i.hL?{}:[]),this.sourceFormat=t.sourceFormat||i.RA,this.seriesLayoutBy=t.seriesLayoutBy||i.fY,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];null==r.type&&(0,a.u7)(this,n)===a.Dq.Must&&(r.type="ordinal")}};function l(t){return t instanceof s}function u(t,e,n){n=n||d(t);var a=e.seriesLayoutBy,l=function(t,e,n,a,s){var l,u;if(!t)return{dimensionsDefine:f(s),startIndex:u,dimensionsDetectedCount:l};if(e===i.XD){var c=t;"auto"===a||null==a?p((function(t){null!=t&&"-"!==t&&((0,r.HD)(t)?null==u&&(u=1):u=0)}),n,c,10):u=(0,r.hj)(a)?a:a?1:0,s||1!==u||(s=[],p((function(t,e){s[e]=null!=t?t+"":""}),n,c,1/0)),l=s?s.length:n===i.Wc?c.length:c[0]?c[0].length:null}else if(e===i.qb)s||(s=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e)return(0,r.XP)(e)}(t));else if(e===i.hL)s||(s=[],(0,r.S6)(t,(function(t,e){s.push(e)})));else if(e===i.cy){var h=(0,o.C4)(t[0]);l=(0,r.kJ)(h)&&h.length||1}else i.J5;return{startIndex:u,dimensionsDefine:f(s),dimensionsDetectedCount:l}}(t,n,a,e.sourceHeader,e.dimensions);return new s({data:t,sourceFormat:n,seriesLayoutBy:a,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount,metaRawOption:(0,r.d9)(e)})}function c(t){return new s({data:t,sourceFormat:(0,r.fU)(t)?i.J5:i.cy})}function h(t){return new s({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:(0,r.d9)(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function d(t){var e=i.RA;if((0,r.fU)(t))e=i.J5;else if((0,r.kJ)(t)){0===t.length&&(e=i.XD);for(var n=0,o=t.length;n<o;n++){var a=t[n];if(null!=a){if((0,r.kJ)(a)){e=i.XD;break}if((0,r.Kn)(a)){e=i.qb;break}}}}else if((0,r.Kn)(t))for(var s in t)if((0,r.RI)(t,s)&&(0,r.zG)(t[s])){e=i.hL;break}return e}function f(t){if(t){var e=(0,r.kW)();return(0,r.UI)(t,(function(t,n){var i={name:(t=(0,r.Kn)(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var o=e.get(i.name);return o?i.name+="-"+o.count++:e.set(i.name,{count:1}),i}))}}function p(t,e,n,r){if(e===i.Wc)for(var o=0;o<n.length&&o<r;o++)t(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<r;o++)t(a[o],o)}}function g(t){var e=t.sourceFormat;return e===i.qb||e===i.hL}},"./node_modules/echarts/lib/data/helper/SeriesDataSchema.js":function(t,e,n){"use strict";n.d(e,{Eo:function(){return l},Jj:function(){return h},Jl:function(){return d},bB:function(){return u},v5:function(){return c}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/model.js"),o=n("./node_modules/echarts/lib/data/Source.js"),a=(0,i.Yf)(),s={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},l=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=h(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return(0,r.pD)(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=(0,o.QY)(this.source),n=!d(t),r="",i=[],a=0,l=0;a<t;a++){var u=void 0,c=void 0,h=void 0,f=this.dimensions[l];if(f&&f.storeDimIndex===a)u=e?f.name:null,c=f.type,h=f.ordinalMeta,l++;else{var p=this.getSourceDimension(a);p&&(u=e?p.name:null,c=p.type)}i.push({property:u,type:c,ordinalMeta:h}),!e||null==u||f&&f.isCalculationCoord||(r+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=s[c]||"f",h&&(r+=h.uid),r+="$"}var g=this.source;return{dimensions:i,hash:[g.seriesLayoutBy,g.startIndex,r].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===e)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(e);o&&(r=o.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function u(t){return t instanceof l}function c(t){for(var e=(0,r.kW)(),n=0;n<(t||[]).length;n++){var i=t[n],o=(0,r.Kn)(i)?i.name:i;null!=o&&null==e.get(o)&&e.set(o,n)}return e}function h(t){var e=a(t);return e.dimNameMap||(e.dimNameMap=c(t.dimensionsDefine))}function d(t){return t>30}},"./node_modules/echarts/lib/data/helper/createDimensions.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return d},q:function(){return h}});var r=n("./node_modules/echarts/lib/util/types.js"),i=n("./node_modules/echarts/lib/data/SeriesDimensionDefine.js"),o=n("./node_modules/zrender/lib/core/util.js"),a=n("./node_modules/echarts/lib/data/Source.js"),s=n("./node_modules/echarts/lib/data/DataStore.js"),l=n("./node_modules/echarts/lib/util/model.js"),u=n("./node_modules/echarts/lib/data/helper/sourceHelper.js"),c=n("./node_modules/echarts/lib/data/helper/SeriesDataSchema.js");function h(t,e){return d(t,e).dimensions}function d(t,e){(0,a.Ld)(t)||(t=(0,a.nx)(t));var n=(e=e||{}).coordDimensions||[],h=e.dimensionsDefine||t.dimensionsDefine||[],d=(0,o.kW)(),p=[],g=function(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return(0,o.S6)(e,(function(t){var e;(0,o.Kn)(t)&&(e=t.dimsDef)&&(i=Math.max(i,e.length))})),i}(t,n,h,e.dimensionsCount),m=e.canOmitUnusedDimensions&&(0,c.Jl)(g),v=h===t.dimensionsDefine,y=v?(0,c.Jj)(t):(0,c.v5)(h),b=e.encodeDefine;!b&&e.encodeDefaulter&&(b=e.encodeDefaulter(t,g));for(var x=(0,o.kW)(b),_=new s.hG(g),w=0;w<_.length;w++)_[w]=-1;function S(t){var e=_[t];if(e<0){var n=h[t],r=(0,o.Kn)(n)?n:{name:n},a=new i.Z,s=r.name;null!=s&&null!=y.get(s)&&(a.name=a.displayName=s),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var l=p.length;return _[t]=l,a.storeDimIndex=t,p.push(a),a}return p[e]}if(!m)for(w=0;w<g;w++)S(w);x.each((function(t,e){var n=(0,l.kF)(t).slice();if(1===n.length&&!(0,o.HD)(n[0])&&n[0]<0)x.set(e,!1);else{var r=x.set(e,[]);(0,o.S6)(n,(function(t,n){var i=(0,o.HD)(t)?y.get(t):t;null!=i&&i<g&&(r[n]=i,k(S(i),e,n))}))}}));var M=0;function k(t,e,n){null!=r.f7.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,d.set(e,!0))}(0,o.S6)(n,(function(t){var e,n,r,i;if((0,o.HD)(t))e=t,i={};else{e=(i=t).name;var a=i.ordinalMeta;i.ordinalMeta=null,(i=(0,o.l7)({},i)).ordinalMeta=a,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=x.get(e);if(!1!==s){if(!(s=(0,l.kF)(s)).length)for(var u=0;u<(n&&n.length||1);u++){for(;M<g&&null!=S(M).coordDim;)M++;M<g&&s.push(M++)}(0,o.S6)(s,(function(t,a){var s=S(t);if(v&&null!=i.type&&(s.type=i.type),k((0,o.ce)(s,i),e,a),null==s.name&&n){var l=n[a];!(0,o.Kn)(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}r&&(0,o.ce)(s.otherDims,r)}))}}));var E=e.generateCoord,A=e.generateCoordCount,T=null!=A;A=E?A||1:0;var I=E||"value";function C(t){null==t.name&&(t.name=t.coordDim)}if(m)(0,o.S6)(p,(function(t){C(t)})),p.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var D=0;D<g;D++){var N=S(D);null==N.coordDim&&(N.coordDim=f(I,d,T),N.coordDimIndex=0,(!E||A<=0)&&(N.isExtraCoord=!0),A--),C(N),null!=N.type||(0,u.u7)(t,D)!==u.Dq.Must&&(!N.isExtraCoord||null==N.otherDims.itemName&&null==N.otherDims.seriesName)||(N.type="ordinal")}return function(t){for(var e=(0,o.kW)(),n=0;n<t.length;n++){var r=t[n],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}(p),new c.Eo({source:t,dimensions:p,fullDimensionCount:g,dimensionOmitted:m})}function f(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}},"./node_modules/echarts/lib/data/helper/dataProvider.js":function(t,e,n){"use strict";n.d(e,{Pl:function(){return d},_j:function(){return g},a:function(){return y},hk:function(){return S},tB:function(){return _}});var r,i,o,a,s,l=n("./node_modules/zrender/lib/core/util.js"),u=n("./node_modules/echarts/lib/util/model.js"),c=n("./node_modules/echarts/lib/data/Source.js"),h=n("./node_modules/echarts/lib/util/types.js"),d=function(){function t(t,e){var n=(0,c.Ld)(t)?t:(0,c.nx)(t);this._source=n;var r=this._data=n.data;n.sourceFormat===h.J5&&(this._offset=0,this._dimSize=e,this._data=r),s(this,r,n)}var e;return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((e=t.prototype).pure=!1,void(e.persistent=!0)),t.internalField=function(){var t;s=function(t,i,o){var s=o.sourceFormat,u=o.seriesLayoutBy,c=o.startIndex,d=o.dimensionsDefine,f=a[w(s,u)];if((0,l.l7)(t,f),s===h.J5)t.getItem=e,t.count=r,t.fillStorage=n;else{var p=g(s,u);t.getItem=(0,l.ak)(p,null,i,c,d);var m=y(s,u);t.count=(0,l.ak)(m,null,i,c,d)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,i=r*t,o=0;o<r;o++)e[o]=n[i+o];return e},n=function(t,e,n,r){for(var i=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=r[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],c=e-t,h=n[a],d=0;d<c;d++){var f=i[d*o+a];h[t+d]=f,f<l&&(l=f),f>u&&(u=f)}s[0]=l,s[1]=u}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[h.XD+"_"+h.fY]={pure:!0,appendData:i},t[h.XD+"_"+h.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[h.qb]={pure:!0,appendData:i},t[h.hL]={pure:!0,appendData:function(t){var e=this._data;(0,l.S6)(t,(function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])}))}},t[h.cy]={appendData:i},t[h.J5]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},a=t}(),t}(),f=function(t,e,n,r){return t[r]},p=((r={})[h.XD+"_"+h.fY]=function(t,e,n,r){return t[r+e]},r[h.XD+"_"+h.Wc]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[r]:null}return o},r[h.qb]=f,r[h.hL]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){0;var s=t[n[a].name];o[a]=s?s[r]:null}return o},r[h.cy]=f,r);function g(t,e){return p[w(t,e)]}var m=function(t,e,n){return t.length},v=((i={})[h.XD+"_"+h.fY]=function(t,e,n){return Math.max(0,t.length-e)},i[h.XD+"_"+h.Wc]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},i[h.qb]=m,i[h.hL]=function(t,e,n){var r=t[n[0].name];return r?r.length:0},i[h.cy]=m,i);function y(t,e){return v[w(t,e)]}var b=function(t,e,n){return t[e]},x=((o={})[h.XD]=b,o[h.qb]=function(t,e,n){return t[n]},o[h.hL]=b,o[h.cy]=function(t,e,n){var r=(0,u.C4)(t);return r instanceof Array?r[e]:r},o[h.J5]=b,o);function _(t){return x[t]}function w(t,e){return t===h.XD?t+"_"+e:t}function S(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i=t.getStore(),o=i.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=i.getDimensionProperty(a);return _(o)(r,a,s)}var l=r;return o===h.cy&&(l=(0,u.C4)(r)),l}}}},"./node_modules/echarts/lib/data/helper/dataStackHelper.js":function(t,e,n){"use strict";n.d(e,{BM:function(){return o},IR:function(){return s},M:function(){return a}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/data/helper/SeriesDataSchema.js");function o(t,e,n){var o,a,s,l=(n=n||{}).byIndex,u=n.stackedCoordDimension;!function(t){return!(0,i.bB)(t.schema)}(e)?(a=e.schema,o=a.dimensions,s=e.store):o=e;var c,h,d,f,p=!(!t||!t.get("stack"));if((0,r.S6)(o,(function(t,e){(0,r.HD)(t)&&(o[e]=t={name:t}),p&&!t.isExtraCoord&&(l||c||!t.ordinalMeta||(c=t),h||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(h=t))})),!h||l||c||(l=!0),h){d="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,c&&(c.createInvertedIndices=!0);var g=h.coordDim,m=h.type,v=0;(0,r.S6)(o,(function(t){t.coordDim===g&&v++}));var y={name:d,coordDim:g,coordDimIndex:v,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},b={name:f,coordDim:f,coordDimIndex:v+1,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(y.storeDimIndex=s.ensureCalculationDimension(f,m),b.storeDimIndex=s.ensureCalculationDimension(d,m)),a.appendCalculationDimension(y),a.appendCalculationDimension(b)):(o.push(y),o.push(b))}return{stackedDimension:h&&h.name,stackedByDimension:c&&c.name,isStackedByIndex:l,stackedOverDimension:f,stackResultDimension:d}}function a(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function s(t,e){return a(t,e)?t.getCalculationInfo("stackResultDimension"):e}},"./node_modules/echarts/lib/data/helper/dataValueHelper.js":function(t,e,n){"use strict";n.d(e,{ID:function(){return h},o2:function(){return l},tR:function(){return f},yQ:function(){return a}});var r=n("./node_modules/echarts/lib/util/number.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/echarts/lib/util/log.js");function a(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||(0,i.hj)(t)||null==t||"-"===t||(t=+(0,r.sG)(t)),null==t||""===t?NaN:+t)}var s=(0,i.kW)({number:function(t){return parseFloat(t)},time:function(t){return+(0,r.sG)(t)},trim:function(t){return(0,i.HD)(t)?(0,i.fy)(t):t}});function l(t){return s.get(t)}var u={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},c=function(){function t(t,e){if(!(0,i.hj)(e)){0,(0,o._y)("")}this._opFn=u[t],this._rvalFloat=(0,r.FK)(e)}return t.prototype.evaluate=function(t){return(0,i.hj)(t)?this._opFn(t,this._rvalFloat):this._opFn((0,r.FK)(t),this._rvalFloat)},t}(),h=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=(0,i.hj)(t)?t:(0,r.FK)(t),o=(0,i.hj)(e)?e:(0,r.FK)(e),a=isNaN(n),s=isNaN(o);if(a&&(n=this._incomparable),s&&(o=this._incomparable),a&&s){var l=(0,i.HD)(t),u=(0,i.HD)(e);l&&(n=u?t:0),u&&(o=l?e:0)}return n<o?this._resultLT:n>o?-this._resultLT:0},t}(),d=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=(0,r.FK)(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=(0,r.FK)(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function f(t,e){return"eq"===t||"ne"===t?new d("eq"===t,e):(0,i.RI)(u,t)?new c(t,e):null}},"./node_modules/echarts/lib/data/helper/dimensionHelper.js":function(t,e,n){"use strict";n.d(e,{T:function(){return l},y:function(){return a}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/types.js"),o=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function a(t,e){var n={},a=n.encode={},l=(0,r.kW)(),u=[],c=[],h={};(0,r.S6)(t.dimensions,(function(e){var n,r=t.getDimensionInfo(e),o=r.coordDim;if(o){0;var d=r.coordDimIndex;s(a,o)[d]=e,r.isExtraCoord||(l.set(o,1),"ordinal"!==(n=r.type)&&"time"!==n&&(u[0]=e),s(h,o)[d]=t.getDimensionIndex(r.name)),r.defaultTooltip&&c.push(e)}i.f7.each((function(t,e){var n=s(a,e),i=r.otherDims[e];null!=i&&!1!==i&&(n[i]=r.name)}))}));var d=[],f={};l.each((function(t,e){var n=a[e];f[e]=n[0],d=d.concat(n)})),n.dataDimsOnCoord=d,n.dataDimIndicesOnCoord=(0,r.UI)(d,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=f;var p=a.label;p&&p.length&&(u=p.slice());var g=a.tooltip;return g&&g.length?c=g.slice():c.length||(c=u.slice()),a.defaultedLabel=u,a.defaultedTooltip=c,n.userOutput=new o(h,e),n}function s(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function l(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},"./node_modules/echarts/lib/data/helper/sourceHelper.js":function(t,e,n){"use strict";n.d(e,{Dq:function(){return a},JT:function(){return d},Ss:function(){return c},Wd:function(){return h},md:function(){return l},pY:function(){return u},u7:function(){return f}});var r=n("./node_modules/echarts/lib/util/model.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/echarts/lib/util/types.js"),a={Must:1,Might:2,Not:3},s=(0,r.Yf)();function l(t){s(t).datasetMap=(0,i.kW)()}function u(t,e,n){var r={},o=h(e);if(!o||!t)return r;var a,l,u=[],c=[],d=e.ecModel,f=s(d).datasetMap,p=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),(0,i.S6)(t,(function(e,n){var o=(0,i.Kn)(e)?e:t[n]={name:e};"ordinal"===o.type&&null==a&&(a=n,l=v(o)),r[o.name]=[]}));var g=f.get(p)||f.set(p,{categoryWayDim:l,valueWayDim:0});function m(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function v(t){var e=t.dimsDef;return e?e.length:1}return(0,i.S6)(t,(function(t,e){var n=t.name,i=v(t);if(null==a){var o=g.valueWayDim;m(r[n],o,i),m(c,o,i),g.valueWayDim+=i}else if(a===e)m(r[n],0,i),m(u,0,i);else{o=g.categoryWayDim;m(r[n],o,i),m(c,o,i),g.categoryWayDim+=i}})),u.length&&(r.itemName=u),c.length&&(r.seriesName=c),r}function c(t,e,n){var r={};if(!h(t))return r;var s,l=e.sourceFormat,u=e.dimensionsDefine;l!==o.qb&&l!==o.hL||(0,i.S6)(u,(function(t,e){"name"===((0,i.Kn)(t)?t.name:t)&&(s=e)}));var c=function(){for(var t={},r={},i=[],o=0,c=Math.min(5,n);o<c;o++){var h=p(e.data,l,e.seriesLayoutBy,u,e.startIndex,o);i.push(h);var d=h===a.Not;if(d&&null==t.v&&o!==s&&(t.v=o),(null==t.n||t.n===t.v||!d&&i[t.n]===a.Not)&&(t.n=o),f(t)&&i[t.n]!==a.Not)return t;d||(h===a.Might&&null==r.v&&o!==s&&(r.v=o),null!=r.n&&r.n!==r.v||(r.n=o))}function f(t){return null!=t.v&&null!=t.n}return f(t)?t:f(r)?r:null}();if(c){r.value=[c.v];var d=null!=s?s:c.n;r.itemName=[d],r.seriesName=[d]}return r}function h(t){if(!t.get("data",!0))return(0,r.HZ)(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},r.C6).models[0]}function d(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?(0,r.HZ)(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},r.C6).models:[]}function f(t,e){return p(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function p(t,e,n,s,l,u){var c,h,d;if((0,i.fU)(t))return a.Not;if(s){var f=s[u];(0,i.Kn)(f)?(h=f.name,d=f.type):(0,i.HD)(f)&&(h=f)}if(null!=d)return"ordinal"===d?a.Must:a.Not;if(e===o.XD){var p=t;if(n===o.Wc){for(var g=p[u],m=0;m<(g||[]).length&&m<5;m++)if(null!=(c=S(g[l+m])))return c}else for(m=0;m<p.length&&m<5;m++){var v=p[l+m];if(v&&null!=(c=S(v[u])))return c}}else if(e===o.qb){var y=t;if(!h)return a.Not;for(m=0;m<y.length&&m<5;m++){if((_=y[m])&&null!=(c=S(_[h])))return c}}else if(e===o.hL){var b=t;if(!h)return a.Not;if(!(g=b[h])||(0,i.fU)(g))return a.Not;for(m=0;m<g.length&&m<5;m++)if(null!=(c=S(g[m])))return c}else if(e===o.cy){var x=t;for(m=0;m<x.length&&m<5;m++){var _=x[m],w=(0,r.C4)(_);if(!(0,i.kJ)(w))return a.Not;if(null!=(c=S(w[u])))return c}}function S(t){var e=(0,i.HD)(t);return null!=t&&isFinite(t)&&""!==t?e?a.Might:a.Not:e&&"-"!==t?a.Must:void 0}return a.Not}},"./node_modules/echarts/lib/data/helper/sourceManager.js":function(t,e,n){"use strict";n.d(e,{U:function(){return c},t:function(){return h}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/data/Source.js"),o=n("./node_modules/echarts/lib/util/types.js"),a=n("./node_modules/echarts/lib/data/helper/sourceHelper.js"),s=n("./node_modules/echarts/lib/data/helper/transform.js"),l=n("./node_modules/echarts/lib/data/DataStore.js"),u=n("./node_modules/echarts/lib/data/helper/dataProvider.js"),c=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,a=this._getUpstreamSourceManagers(),s=!!a.length;if(d(n)){var l=n,u=void 0,c=void 0,h=void 0;if(s){var f=a[0];f.prepareSource(),u=(h=f.getSource()).data,c=h.sourceFormat,e=[f._getVersionSign()]}else u=l.get("data",!0),c=(0,r.fU)(u)?o.J5:o.cy,e=[];var p=this._getSourceMetaRawOption()||{},g=h&&h.metaRawOption||{},m=(0,r.pD)(p.seriesLayoutBy,g.seriesLayoutBy)||null,v=(0,r.pD)(p.sourceHeader,g.sourceHeader),y=(0,r.pD)(p.dimensions,g.dimensions);t=m!==g.seriesLayoutBy||!!v!=!!g.sourceHeader||y?[(0,i._P)(u,{seriesLayoutBy:m,sourceHeader:v,dimensions:y},c)]:[]}else{var b=n;if(s){var x=this._applyTransform(a);t=x.sourceList,e=x.upstreamSignList}else{var _=b.get("source",!0);t=[(0,i._P)(_,this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,o=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(null!=a){1!==t.length&&f("")}var l=[],u=[];return(0,r.S6)(t,(function(t){t.prepareSource();var e=t.getSource(a||0);null==a||e||f(""),l.push(e),u.push(t._getVersionSign())})),o?e=(0,s.vK)(o,l,{datasetIndex:n.componentIndex}):null!=a&&(e=[(0,i.ML)(l[0])]),{sourceList:e,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var r=this._storeList,i=r[0];i||(i=r[0]={});var o=i[n];if(!o){var a=this._getUpstreamSourceManagers()[0];d(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new l.ZP).initData(new u.Pl(e,t.length),t),i[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(d(t)){var e=(0,a.Wd)(t);return e?[e.getSourceManager()]:[]}return(0,r.UI)((0,a.JT)(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(d(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function h(t){t.option.transform&&(0,r.s7)(t.option.transform)}function d(t){return"series"===t.mainType}function f(t){throw new Error(t)}},"./node_modules/echarts/lib/data/helper/transform.js":function(t,e,n){"use strict";n.d(e,{DA:function(){return m},vK:function(){return v}});var r=n("./node_modules/echarts/lib/util/types.js"),i=n("./node_modules/echarts/lib/util/model.js"),o=n("./node_modules/zrender/lib/core/util.js"),a=n("./node_modules/echarts/lib/data/helper/dataProvider.js"),s=n("./node_modules/echarts/lib/data/helper/dataValueHelper.js"),l=n("./node_modules/echarts/lib/util/log.js"),u=n("./node_modules/echarts/lib/data/Source.js"),c=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return(0,s.yQ)(t,e)},t}();function h(t){if(!b(t.sourceFormat)){0,(0,l._y)("")}return t.data}function d(t){var e=t.sourceFormat,n=t.data;if(!b(e)){0,(0,l._y)("")}if(e===r.XD){for(var i=[],a=0,s=n.length;a<s;a++)i.push(n[a].slice());return i}if(e===r.qb){for(i=[],a=0,s=n.length;a<s;a++)i.push((0,o.l7)({},n[a]));return i}}function f(t,e,n){if(null!=n)return(0,o.hj)(n)||!isNaN(n)&&!(0,o.RI)(e,n)?t[n]:(0,o.RI)(e,n)?e[n]:void 0}function p(t){return(0,o.d9)(t)}var g=(0,o.kW)();function m(t){var e=(t=(0,o.d9)(t)).type;e||(0,l._y)("");var n=e.split(":");2!==n.length&&(0,l._y)("");var r=!1;"echarts"===n[0]&&(e=n[1],r=!0),t.__isBuiltIn=r,g.set(e,t)}function v(t,e,n){var r=(0,i.kF)(t),o=r.length;o||(0,l._y)("");for(var a=0,s=o;a<s;a++){e=y(r[a],e,n,1===o?null:a),a!==s-1&&(e.length=Math.max(e.length,1))}return e}function y(t,e,n,s){e.length||(0,l._y)(""),(0,o.Kn)(t)||(0,l._y)("");var m=t.type,v=g.get(m);v||(0,l._y)("");var y=(0,o.UI)(e,(function(t){return function(t,e){var n=new c,i=t.data,s=n.sourceFormat=t.sourceFormat,u=t.startIndex;t.seriesLayoutBy!==r.fY&&(0,l._y)("");var g=[],m={},v=t.dimensionsDefine;if(v)(0,o.S6)(v,(function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};g.push(r),null!=n&&((0,o.RI)(m,n)&&(0,l._y)(""),m[n]=r)}));else for(var y=0;y<t.dimensionsDetectedCount;y++)g.push({index:y});var b=(0,a._j)(s,r.fY);e.__isBuiltIn&&(n.getRawDataItem=function(t){return b(i,u,g,t)},n.getRawData=(0,o.ak)(h,null,t)),n.cloneRawData=(0,o.ak)(d,null,t);var x=(0,a.a)(s,r.fY);n.count=(0,o.ak)(x,null,i,u,g);var _=(0,a.tB)(s);n.retrieveValue=function(t,e){var n=b(i,u,g,t);return w(n,e)};var w=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=g[e];return n?_(t,e,n.name):void 0}};return n.getDimensionInfo=(0,o.ak)(f,null,g,m),n.cloneAllDimensionInfo=(0,o.ak)(p,null,g),n}(t,v)})),x=(0,i.kF)(v.transform({upstream:y[0],upstreamList:y,config:(0,o.d9)(t.config)}));return(0,o.UI)(x,(function(t,n){var i;(0,o.Kn)(t)||(0,l._y)(""),t.data||(0,l._y)(""),b((0,u.Kp)(t.data))||(0,l._y)("");var a=e[0];if(a&&0===n&&!t.dimensions){var s=a.startIndex;s&&(t.data=a.data.slice(0,s).concat(t.data)),i={seriesLayoutBy:r.fY,sourceHeader:s,dimensions:a.metaRawOption.dimensions}}else i={seriesLayoutBy:r.fY,sourceHeader:0,dimensions:t.dimensions};return(0,u._P)(t.data,i,null)}))}function b(t){return t===r.XD||t===r.qb}},"./node_modules/echarts/lib/export/core.js":function(t,e,n){"use strict";n.d(e,{aV:function(){return h.Z},Zy:function(){return j},Zr:function(){return R},WU:function(){return a},Q:function(){return o},_y:function(){return r},S1:function(){return l.S1},Rx:function(){return i},qR:function(){return l.qR},ds:function(){return l.ds},D5:function(){return s}});var r={};n.r(r),n.d(r,{createDimensions:function(){return _.q},createList:function(){return M},createScale:function(){return E},createSymbol:function(){return w.th},createTextStyle:function(){return T},dataStack:function(){return k},enableHoverEmphasis:function(){return S.vF},getECData:function(){return b.A},getLayoutRect:function(){return v.ME},mixinAxisModelCommonMethods:function(){return A}});var i={};n.r(i),n.d(i,{MAX_SAFE_INTEGER:function(){return I.YM},asc:function(){return I.dt},getPercentWithPrecision:function(){return I.eJ},getPixelPrecision:function(){return I.M9},getPrecision:function(){return I.p8},getPrecisionSafe:function(){return I.ZB},isNumeric:function(){return I.kE},isRadianAroundZero:function(){return I.mW},linearMap:function(){return I.NU},nice:function(){return I.kx},numericToNumber:function(){return I.FK},parseDate:function(){return I.sG},quantile:function(){return I.VR},quantity:function(){return I.Xd},quantityExponent:function(){return I.xW},reformIntervals:function(){return I.nR},remRadian:function(){return I.wW},round:function(){return I.NM}});var o={};n.r(o),n.d(o,{o:function(){return D.Z},xv:function(){return C.ZP}});var a={};n.r(a),n.d(a,{addCommas:function(){return N.OD},capitalFirst:function(){return N.ew},encodeHTML:function(){return O.F1},formatTime:function(){return N.mr},formatTpl:function(){return N.kF},getTextRect:function(){return P},getTooltipMarker:function(){return N.A0},normalizeCssArray:function(){return N.MY},toCamelCase:function(){return N.zW},truncateText:function(){return L.aF}});var s={};n.r(s),n.d(s,{bind:function(){return d.ak},clone:function(){return d.d9},curry:function(){return d.WA},defaults:function(){return d.ce},each:function(){return d.S6},extend:function(){return d.l7},filter:function(){return d.hX},indexOf:function(){return d.cq},inherits:function(){return d.XW},isArray:function(){return d.kJ},isFunction:function(){return d.mf},isObject:function(){return d.Kn},isString:function(){return d.HD},map:function(){return d.UI},merge:function(){return d.TS},reduce:function(){return d.u4}});var l=n("./node_modules/echarts/lib/core/echarts.js"),u=n("./node_modules/echarts/lib/model/Series.js"),c=n("./node_modules/echarts/lib/view/Chart.js"),h=n("./node_modules/echarts/lib/data/SeriesData.js"),d=n("./node_modules/zrender/lib/core/util.js"),f=n("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),p=n("./node_modules/echarts/lib/coord/axisHelper.js"),g=n("./node_modules/echarts/lib/coord/axisModelCommonMixin.js"),m=n("./node_modules/echarts/lib/model/Model.js"),v=n("./node_modules/echarts/lib/util/layout.js"),y=n("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),b=n("./node_modules/echarts/lib/util/innerStore.js"),x=n("./node_modules/echarts/lib/label/labelStyle.js"),_=n("./node_modules/echarts/lib/data/helper/createDimensions.js"),w=n("./node_modules/echarts/lib/util/symbol.js"),S=n("./node_modules/echarts/lib/util/states.js");function M(t){return(0,f.Z)(null,t)}var k={isDimensionStacked:y.M,enableDataStack:y.BM,getStackedDimension:y.IR};function E(t,e){var n=e;e instanceof m.Z||(n=new m.Z(e));var r=p.aG(n);return r.setExtent(t[0],t[1]),p.Jk(r,n),r}function A(t){d.jB(t,g.W)}function T(t,e){return e=e||{},(0,x.Lr)(t,null,null,"normal"!==e.state)}var I=n("./node_modules/echarts/lib/util/number.js"),C=n("./node_modules/zrender/lib/graphic/Text.js"),D=n("./node_modules/zrender/lib/graphic/LinearGradient.js"),N=n("./node_modules/echarts/lib/util/format.js"),O=n("./node_modules/zrender/lib/core/dom.js"),L=n("./node_modules/zrender/lib/graphic/helper/parseText.js");function P(t,e,n,r,i,o,a,s){return new C.ZP({style:{text:t,font:e,align:n,verticalAlign:r,padding:i,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}function R(t){var e=u.Z.extend(t);return u.Z.registerClass(e),e}function j(t){var e=c.Z.extend(t);return c.Z.registerClass(e),e}var z=n("./node_modules/echarts/lib/extension.js"),B=n("./node_modules/echarts/lib/label/installLabelLayout.js");(0,z.D)(B.T)},"./node_modules/echarts/lib/extension.js":function(t,e,n){"use strict";n.d(e,{D:function(){return f}});var r=n("./node_modules/echarts/lib/core/echarts.js"),i=n("./node_modules/echarts/lib/view/Component.js"),o=n("./node_modules/echarts/lib/view/Chart.js"),a=n("./node_modules/echarts/lib/model/Component.js"),s=n("./node_modules/echarts/lib/model/Series.js"),l=n("./node_modules/zrender/lib/core/util.js"),u=n("./node_modules/echarts/lib/core/impl.js"),c=n("./node_modules/zrender/lib/zrender.js"),h=[],d={registerPreprocessor:r.ds,registerProcessor:r.Pu,registerPostInit:r.sq,registerPostUpdate:r.Br,registerUpdateLifecycle:r.YK,registerAction:r.zl,registerCoordinateSystem:r.RS,registerLayout:r.qR,registerVisual:r.Og,registerTransform:r.OB,registerLoading:r.yn,registerMap:r.je,registerImpl:u.M,PRIORITY:r.Hr,ComponentModel:a.Z,ComponentView:i.Z,SeriesModel:s.Z,ChartView:o.Z,registerComponentModel:function(t){a.Z.registerClass(t)},registerComponentView:function(t){i.Z.registerClass(t)},registerSeriesModel:function(t){s.Z.registerClass(t)},registerChartView:function(t){o.Z.registerClass(t)},registerSubTypeDefaulter:function(t,e){a.Z.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){(0,c.wm)(t,e)}};function f(t){(0,l.kJ)(t)?(0,l.S6)(t,(function(t){f(t)})):(0,l.cq)(h,t)>=0||(h.push(t),(0,l.mf)(t)&&(t={install:t}),t.install(d))}},"./node_modules/echarts/lib/label/installLabelLayout.js":function(t,e,n){"use strict";n.d(e,{T:function(){return M}});var r=n("./node_modules/echarts/lib/util/model.js"),i=n("./node_modules/zrender/lib/core/BoundingRect.js"),o=n("./node_modules/echarts/lib/animation/basicTransition.js"),a=n("./node_modules/echarts/lib/util/innerStore.js"),s=n("./node_modules/echarts/lib/util/number.js"),l=n("./node_modules/zrender/lib/core/Transformable.js"),u=n("./node_modules/echarts/lib/label/labelGuideHelper.js"),c=n("./node_modules/zrender/lib/core/util.js"),h=n("./node_modules/echarts/lib/label/labelLayoutHelper.js"),d=n("./node_modules/echarts/lib/label/labelStyle.js"),f=n("./node_modules/zrender/lib/contain/util.js");function p(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function g(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:p(r&&r.shape.points)}}var m=["align","verticalAlign","width","height","fontSize"],v=new l.ZP,y=(0,r.Yf)(),b=(0,r.Yf)();function x(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null!=e[i]&&(t[i]=e[i])}}var _=["x","y","rotation"],w=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,r,o){var a=r.style,s=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();i.Z.applyTransform(u,u,l),l?v.setLocalTransform(l):(v.x=v.y=v.rotation=v.originX=v.originY=0,v.scaleX=v.scaleY=1),v.rotation=(0,f.m)(v.rotation);var c,h=r.__hostTarget;if(h){c=h.getBoundingRect().plain();var d=h.getComputedTransform();i.Z.applyTransform(c,c,d)}var p=c&&h.getTextGuideLine();this._labelList.push({label:r,labelLine:p,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:p&&p.ignore,x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY,rotation:v.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");((0,c.mf)(r)||(0,c.XP)(r).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var i=t.getTextContent(),o=(0,a.A)(t);i&&!i.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,i,r)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(t,e){return function(){(0,u.d)(t,e)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],a=o.label,l=a.__hostTarget,h=o.defaultAttr,d=void 0;d=(d=(0,c.mf)(o.layoutOption)?o.layoutOption(g(o,l)):o.layoutOption)||{},o.computedLayoutOption=d;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=d.x||null!=d.y?null:h.attachedPos,rotation:null!=d.rotate?d.rotate*f:h.attachedRot,offset:[d.dx||0,d.dy||0]});var p=!1;if(null!=d.x?(a.x=(0,s.GM)(d.x,e),a.setStyle("x",0),p=!0):(a.x=h.x,a.setStyle("x",h.style.x)),null!=d.y?(a.y=(0,s.GM)(d.y,n),a.setStyle("y",0),p=!0):(a.y=h.y,a.setStyle("y",h.style.y)),d.labelLinePoints){var v=l.getTextGuideLine();v&&(v.setShape({points:d.labelLinePoints}),p=!1)}y(a).needsUpdateLabelLine=p,a.rotation=null!=d.rotate?d.rotate*f:h.rotation,a.scaleX=h.scaleX,a.scaleY=h.scaleY;for(var b=0;b<m.length;b++){var x=m[b];a.setStyle(x,null!=d[x]?d[x]:h.style[x])}if(d.draggable){if(a.draggable=!0,a.cursor="move",l){var _=o.seriesModel;if(null!=o.dataIndex)_=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",r(l,_.getModel("labelLine")))}}else a.off("drag"),a.cursor=h.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),r=(0,h.VT)(this._labelList),i=(0,c.hX)(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),o=(0,c.hX)(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));(0,h.WE)(i,0,e),(0,h.GI)(o,0,n);var a=(0,c.hX)(r,(function(t){return t.layoutOption.hideOverlap}));(0,h.yl)(a)},t.prototype.processLabelsOverall=function(){var t=this;(0,c.S6)(this._chartViewList,(function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,i=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!r,a=e.getTextContent();!o&&a&&(o=y(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),i&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=(0,a.A)(t),i=r.dataIndex;if(n&&null!=i){var o=e.getData(r.dataType),s=o.getItemModel(i),l={},c=o.getItemVisual(i,"style");if(c){var h=o.getVisual("drawType");l.stroke=c[h]}var d=s.getModel("labelLine");(0,u.Iu)(t,(0,u.$x)(s),l),(0,u.d)(t,d)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!(0,o.eq)(t))){var i=(v=y(n)).oldLayout,s=(0,a.A)(t),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},h=e.getData(s.dataType);if(i){n.attr(i);var f=t.prevStates;f&&((0,c.cq)(f,"select")>=0&&n.attr(v.oldLayoutSelect),(0,c.cq)(f,"emphasis")>=0&&n.attr(v.oldLayoutEmphasis)),(0,o.D)(n,u,e,l)}else if(n.attr(u),!(0,d.qA)(n).valueAnimation){var p=(0,c.pD)(n.style.opacity,1);n.style.opacity=0,(0,o.KZ)(n,{style:{opacity:p}},e,l)}if(v.oldLayout=u,n.states.select){var g=v.oldLayoutSelect={};x(g,u,_),x(g,n.states.select,_)}if(n.states.emphasis){var m=v.oldLayoutEmphasis={};x(m,u,_),x(m,n.states.emphasis,_)}(0,d.tD)(n,l,h,e,e)}if(r&&!r.ignore&&!r.invisible){i=(v=b(r)).oldLayout;var v,w={points:r.shape.points};i?(r.attr({shape:i}),(0,o.D)(r,{shape:w},e)):(r.setShape(w),r.style.strokePercent=0,(0,o.KZ)(r,{style:{strokePercent:1}},e)),v.oldLayout=w}},t}(),S=(0,r.Yf)();function M(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){var r=S(e).labelManager;r||(r=S(e).labelManager=new w),r.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,n){var r=S(e).labelManager;n.updatedSeries.forEach((function(t){r.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()}))}},"./node_modules/echarts/lib/label/labelGuideHelper.js":function(t,e,n){"use strict";n.d(e,{$x:function(){return R},Iu:function(){return P},_A:function(){return N},d:function(){return T},qK:function(){return D}});var r=n("./node_modules/zrender/lib/core/Point.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/graphic/shape/Polyline.js"),a=n("./node_modules/zrender/lib/core/PathProxy.js"),s=n("./node_modules/zrender/lib/contain/util.js"),l=n("./node_modules/zrender/lib/core/curve.js"),u=n("./node_modules/zrender/lib/core/util.js"),c=n("./node_modules/zrender/lib/core/matrix.js"),h=n("./node_modules/zrender/lib/core/vector.js"),d=n("./node_modules/echarts/lib/util/states.js"),f=2*Math.PI,p=a.Z.CMD,g=["top","right","bottom","left"];function m(t,e,n,r,i){var o=n.width,a=n.height;switch(t){case"top":r.set(n.x+o/2,n.y-e),i.set(0,-1);break;case"bottom":r.set(n.x+o/2,n.y+a+e),i.set(0,1);break;case"left":r.set(n.x-e,n.y+a/2),i.set(-1,0);break;case"right":r.set(n.x+o+e,n.y+a/2),i.set(1,0)}}function v(t,e,n,r,i,o,a,l,u){a-=t,l-=e;var c=Math.sqrt(a*a+l*l),h=(a/=c)*n+t,d=(l/=c)*n+e;if(Math.abs(r-i)%f<1e-4)return u[0]=h,u[1]=d,c-n;if(o){var p=r;r=(0,s.m)(i),i=(0,s.m)(p)}else r=(0,s.m)(r),i=(0,s.m)(i);r>i&&(i+=f);var g=Math.atan2(l,a);if(g<0&&(g+=f),g>=r&&g<=i||g+f>=r&&g+f<=i)return u[0]=h,u[1]=d,c-n;var m=n*Math.cos(r)+t,v=n*Math.sin(r)+e,y=n*Math.cos(i)+t,b=n*Math.sin(i)+e,x=(m-a)*(m-a)+(v-l)*(v-l),_=(y-a)*(y-a)+(b-l)*(b-l);return x<_?(u[0]=m,u[1]=v,Math.sqrt(x)):(u[0]=y,u[1]=b,Math.sqrt(_))}function y(t,e,n,r,i,o,a,s){var l=i-t,u=o-e,c=n-t,h=r-e,d=Math.sqrt(c*c+h*h),f=(l*(c/=d)+u*(h/=d))/d;s&&(f=Math.min(Math.max(f,0),1)),f*=d;var p=a[0]=t+f*c,g=a[1]=e+f*h;return Math.sqrt((p-i)*(p-i)+(g-o)*(g-o))}function b(t,e,n,r,i,o,a){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var s=t+n,l=e+r,u=a[0]=Math.min(Math.max(i,t),s),c=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-i)*(u-i)+(c-o)*(c-o))}var x=[];function _(t,e,n){var r=b(e.x,e.y,e.width,e.height,t.x,t.y,x);return n.set(x[0],x[1]),r}function w(t,e,n){for(var r,i,o=0,a=0,s=0,u=0,c=1/0,h=e.data,d=t.x,f=t.y,g=0;g<h.length;){var m=h[g++];1===g&&(s=o=h[g],u=a=h[g+1]);var _=c;switch(m){case p.M:o=s=h[g++],a=u=h[g++];break;case p.L:_=y(o,a,h[g],h[g+1],d,f,x,!0),o=h[g++],a=h[g++];break;case p.C:_=(0,l.t1)(o,a,h[g++],h[g++],h[g++],h[g++],h[g],h[g+1],d,f,x),o=h[g++],a=h[g++];break;case p.Q:_=(0,l.Wr)(o,a,h[g++],h[g++],h[g],h[g+1],d,f,x),o=h[g++],a=h[g++];break;case p.A:var w=h[g++],S=h[g++],M=h[g++],k=h[g++],E=h[g++],A=h[g++];g+=1;var T=!!(1-h[g++]);r=Math.cos(E)*M+w,i=Math.sin(E)*k+S,g<=1&&(s=r,u=i),_=v(w,S,k,E,E+A,T,(d-w)*k/M+w,f,x),o=Math.cos(E+A)*M+w,a=Math.sin(E+A)*k+S;break;case p.R:_=b(s=o=h[g++],u=a=h[g++],h[g++],h[g++],d,f,x);break;case p.Z:_=y(o,a,s,u,d,f,x,!0),o=s,a=u}_<c&&(c=_,n.set(x[0],x[1]))}return c}var S=new r.Z,M=new r.Z,k=new r.Z,E=new r.Z,A=new r.Z;function T(t,e){if(t){var n=t.getTextGuideLine(),o=t.getTextContent();if(o&&n){var a=t.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],l=a.candidates||g,u=o.getBoundingRect().clone();u.applyTransform(o.getComputedTransform());var h=1/0,d=a.anchor,f=t.getComputedTransform(),p=f&&(0,c.U_)([],f),v=e.get("length2")||0;d&&k.copy(d);for(var y=0;y<l.length;y++){m(l[y],0,u,S,E),r.Z.scaleAndAdd(M,S,E,v),M.transform(p);var b=t.getBoundingRect(),x=d?d.distance(M):t instanceof i.ZP?w(M,t.path,k):_(M,b,k);x<h&&(h=x,M.transform(f),k.transform(f),k.toArray(s[0]),M.toArray(s[1]),S.toArray(s[2]))}D(s,e.get("minTurnAngle")),n.setShape({points:s})}}}var I=[],C=new r.Z;function D(t,e){if(e<=180&&e>0){e=e/180*Math.PI,S.fromArray(t[0]),M.fromArray(t[1]),k.fromArray(t[2]),r.Z.sub(E,S,M),r.Z.sub(A,k,M);var n=E.len(),i=A.len();if(!(n<.001||i<.001)){E.scale(1/n),A.scale(1/i);var o=E.dot(A);if(Math.cos(e)<o){var a=y(M.x,M.y,k.x,k.y,S.x,S.y,I,!1);C.fromArray(I),C.scaleAndAdd(A,a/Math.tan(Math.PI-e));var s=k.x!==M.x?(C.x-M.x)/(k.x-M.x):(C.y-M.y)/(k.y-M.y);if(isNaN(s))return;s<0?r.Z.copy(C,M):s>1&&r.Z.copy(C,k),C.toArray(t[1])}}}}function N(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,S.fromArray(t[0]),M.fromArray(t[1]),k.fromArray(t[2]),r.Z.sub(E,M,S),r.Z.sub(A,k,M);var i=E.len(),o=A.len();if(!(i<.001||o<.001))if(E.scale(1/i),A.scale(1/o),E.dot(e)<Math.cos(n)){var a=y(M.x,M.y,k.x,k.y,S.x,S.y,I,!1);C.fromArray(I);var s=Math.PI/2,l=s+Math.acos(A.dot(e))-n;if(l>=s)r.Z.copy(C,k);else{C.scaleAndAdd(A,a/Math.tan(Math.PI/2-l));var u=k.x!==M.x?(C.x-M.x)/(k.x-M.x):(C.y-M.y)/(k.y-M.y);if(isNaN(u))return;u<0?r.Z.copy(C,M):u>1&&r.Z.copy(C,k)}C.toArray(t[1])}}}function O(t,e,n,r){var i="normal"===n,o=i?t:t.ensureState(n);o.ignore=e;var a=r.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?t.useStyle(s):o.style=s}function L(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=h.TK(r[0],r[1]),o=h.TK(r[1],r[2]);if(!i||!o)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var a=Math.min(i,o)*n,s=h.t7([],r[1],r[0],a/i),l=h.t7([],r[1],r[2],a/o),u=h.t7([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)t.lineTo(r[c][0],r[c][1])}function P(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(i){for(var a=e.normal,s=a.get("show"),l=i.ignore,c=0;c<d.qc.length;c++){var h=d.qc[c],f=e[h],p="normal"===h;if(f){var g=f.get("show");if((p?l:(0,u.pD)(i.states[h]&&i.states[h].ignore,l))||!(0,u.pD)(g,s)){var m=p?r:r&&r.states[h];m&&(m.ignore=!0);continue}r||(r=new o.Z,t.setTextGuideLine(r),p||!l&&s||O(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),O(r,!1,h,f)}}if(r){(0,u.ce)(r.style,n),r.style.fill=null;var v=a.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=v||!1,r.buildPath=L}}else r&&t.removeTextGuideLine()}function R(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<d.L1.length;r++){var i=d.L1[r];n[i]=t.getModel([i,e])}return n}},"./node_modules/echarts/lib/label/labelLayoutHelper.js":function(t,e,n){"use strict";n.d(e,{GI:function(){return l},VT:function(){return o},WE:function(){return s},yl:function(){return u}});var r=n("./node_modules/zrender/lib/core/OrientedBoundingRect.js"),i=n("./node_modules/zrender/lib/core/BoundingRect.js");function o(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var o=i.label,a=o.getComputedTransform(),s=o.getBoundingRect(),l=!a||a[1]<1e-5&&a[2]<1e-5,u=o.style.margin||0,c=s.clone();c.applyTransform(a),c.x-=u/2,c.y-=u/2,c.width+=u,c.height+=u;var h=l?new r.Z(s,a):null;e.push({label:o,labelLine:i.labelLine,rect:c,localRect:s,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:a})}}return e}function a(t,e,n,r,i,o){var a=t.length;if(!(a<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s,l=0,u=!1,c=[],h=0,d=0;d<a;d++){var f=t[d],p=f.rect;(s=p[e]-l)<0&&(p[e]-=s,f.label[e]-=s,u=!0);var g=Math.max(-s,0);c.push(g),h+=g,l=p[e]+p[n]}h>0&&o&&w(-h/a,0,a);var m,v,y=t[0],b=t[a-1];return x(),m<0&&S(-m,.8),v<0&&S(v,.8),x(),_(m,v,1),_(v,m,-1),x(),m<0&&M(-m),v<0&&M(v),u}function x(){m=y.rect[e]-r,v=i-b.rect[e]-b.rect[n]}function _(t,e,n){if(t<0){var r=Math.min(e,-t);if(r>0){w(r*n,0,a);var i=r+t;i<0&&S(-i*n,1)}else S(-t*n,1)}}function w(n,r,i){0!==n&&(u=!0);for(var o=r;o<i;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function S(r,i){for(var o=[],s=0,l=1;l<a;l++){var u=t[l-1].rect,c=Math.max(t[l].rect[e]-u[e]-u[n],0);o.push(c),s+=c}if(s){var h=Math.min(Math.abs(r)/s,i);if(r>0)for(l=0;l<a-1;l++){w(o[l]*h,0,l+1)}else for(l=a-1;l>0;l--){w(-(o[l-1]*h),l,a)}}}function M(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),r=0;r<a-1;r++)if(e>0?w(n,0,r+1):w(-n,a-r-1,a),(t-=n)<=0)return}}function s(t,e,n,r){return a(t,"x","width",e,n,r)}function l(t,e,n,r){return a(t,"y","height",e,n,r)}function u(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new i.Z(0,0,0,0);function o(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var a=0;a<t.length;a++){var s=t[a],l=s.axisAligned,u=s.localRect,c=s.transform,h=s.label,d=s.labelLine;n.copy(s.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=s.obb,p=!1,g=0;g<e.length;g++){var m=e[g];if(n.intersect(m.rect)){if(l&&m.axisAligned){p=!0;break}if(m.obb||(m.obb=new r.Z(m.localRect,m.transform)),f||(f=new r.Z(u,c)),f.intersect(m.obb)){p=!0;break}}}p?(o(h),d&&o(d)):(h.attr("ignore",s.defaultAttr.ignore),d&&d.attr("ignore",s.defaultAttr.labelGuideIgnore),e.push(s))}}},"./node_modules/echarts/lib/label/labelStyle.js":function(t,e,n){"use strict";n.d(e,{Lr:function(){return f},k3:function(){return d},nC:function(){return p},ni:function(){return h},pe:function(){return _},qA:function(){return x},qT:function(){return b},tD:function(){return w}});var r=n("./node_modules/zrender/lib/graphic/Text.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/echarts/lib/util/states.js"),a=n("./node_modules/echarts/lib/util/model.js"),s=n("./node_modules/echarts/lib/animation/basicTransition.js"),l={};function u(t,e){for(var n=0;n<o.L1.length;n++){var r=o.L1[n],i=e[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=i}var s=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(s,!0)}function c(t,e,n){var r,a=t.labelFetcher,s=t.labelDataIndex,l=t.labelDimIndex,u=e.normal;a&&(r=a.getFormattedLabel(s,"normal",null,l,u&&u.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=(0,i.mf)(t.defaultText)?t.defaultText(s,t,n):t.defaultText);for(var c={normal:r},h=0;h<o.L1.length;h++){var d=o.L1[h],f=e[d];c[d]=(0,i.pD)(a?a.getFormattedLabel(s,d,null,l,f&&f.get("formatter")):null,r)}return c}function h(t,e,n,a){n=n||l;for(var s=t instanceof r.ZP,h=!1,d=0;d<o.qc.length;d++){if((_=e[o.qc[d]])&&_.getShallow("show")){h=!0;break}}var g=s?t:t.getTextContent();if(h){s||(g||(g=new r.ZP,t.setTextContent(g)),t.stateProxy&&(g.stateProxy=t.stateProxy));var m=c(n,e),v=e.normal,y=!!v.getShallow("show"),b=f(v,a&&a.normal,n,!1,!s);b.text=m.normal,s||t.setTextConfig(p(v,n,!1));for(d=0;d<o.L1.length;d++){var _,w=o.L1[d];if(_=e[w]){var S=g.ensureState(w),M=!!(0,i.pD)(_.getShallow("show"),y);if(M!==y&&(S.ignore=!M),S.style=f(_,a&&a[w],n,!0,!s),S.style.text=m[w],!s)t.ensureState(w).textConfig=p(_,n,!0)}}g.silent=!!v.getShallow("silent"),null!=g.style.x&&(b.x=g.style.x),null!=g.style.y&&(b.y=g.style.y),g.ignore=!y,g.useStyle(b),g.dirty(),n.enableTextSetter&&(x(g).setLabelText=function(t){var r=c(n,e,t);u(g,r)})}else g&&(g.ignore=!0);t.dirty()}function d(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<o.L1.length;r++){var i=o.L1[r];n[i]=t.getModel([i,e])}return n}function f(t,e,n,r,o){var a={};return function(t,e,n,r,o){n=n||l;var a,s=e.ecModel,u=s&&s.option.textStyle,c=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||l).rich;if(n){e=e||{};for(var r=(0,i.XP)(n),o=0;o<r.length;o++){e[r[o]]=1}}t=t.parentModel}return e}(e);if(c)for(var h in a={},c)if(c.hasOwnProperty(h)){var d=e.getModel(["rich",h]);y(a[h]={},d,u,n,r,o,!1,!0)}a&&(t.rich=a);var f=e.get("overflow");f&&(t.overflow=f);var p=e.get("minMargin");null!=p&&(t.margin=p);y(t,e,u,n,r,o,!0,!1)}(a,t,n,r,o),e&&(0,i.l7)(a,e),a}function p(t,e,n){e=e||{};var r,o={},a=t.getShallow("rotate"),s=(0,i.pD)(t.getShallow("distance"),n?null:5),l=t.getShallow("offset");return"outside"===(r=t.getShallow("position")||(n?null:"inside"))&&(r=e.defaultOutsidePosition||"top"),null!=r&&(o.position=r),null!=l&&(o.offset=l),null!=a&&(a*=Math.PI/180,o.rotation=a),null!=s&&(o.distance=s),o.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",o}var g=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],m=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],v=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function y(t,e,n,r,o,a,s,u){n=!o&&n||l;var c=r&&r.inheritColor,h=e.getShallow("color"),d=e.getShallow("textBorderColor"),f=(0,i.pD)(e.getShallow("opacity"),n.opacity);"inherit"!==h&&"auto"!==h||(h=c||null),"inherit"!==d&&"auto"!==d||(d=c||null),a||(h=h||n.color,d=d||n.textBorderColor),null!=h&&(t.fill=h),null!=d&&(t.stroke=d);var p=(0,i.pD)(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=p&&(t.lineWidth=p);var y=(0,i.pD)(e.getShallow("textBorderType"),n.textBorderType);null!=y&&(t.lineDash=y);var b=(0,i.pD)(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=b&&(t.lineDashOffset=b),o||null!=f||u||(f=r&&r.defaultOpacity),null!=f&&(t.opacity=f),o||a||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var x=0;x<g.length;x++){var _=g[x];null!=(S=(0,i.pD)(e.getShallow(_),n[_]))&&(t[_]=S)}for(x=0;x<m.length;x++){_=m[x];null!=(S=e.getShallow(_))&&(t[_]=S)}if(null==t.verticalAlign){var w=e.getShallow("baseline");null!=w&&(t.verticalAlign=w)}if(!s||!r.disableBox){for(x=0;x<v.length;x++){var S;_=v[x];null!=(S=e.getShallow(_))&&(t[_]=S)}var M=e.getShallow("borderType");null!=M&&(t.borderDash=M),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!c||(t.backgroundColor=c),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!c||(t.borderColor=c)}}function b(t,e){var n=e&&e.getModel("textStyle");return(0,i.fy)([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var x=(0,a.Yf)();function _(t,e,n,r){if(t){var i=x(t);i.prevValue=i.value,i.value=n;var o=e.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function w(t,e,n,r,o){var l=x(t);if(l.valueAnimation&&l.prevValue!==l.value){var h=l.defaultInterpolatedText,d=(0,i.pD)(l.interpolatedValue,l.prevValue),f=l.value;t.percent=0,(null==l.prevValue?s.KZ:s.D)(t,{percent:1},r,e,null,(function(r){var i=(0,a.pk)(n,l.precision,d,f,r);l.interpolatedValue=1===r?null:i;var s=c({labelDataIndex:e,labelFetcher:o,defaultText:h?h(i):i+""},l.statesModels,i);u(t,s)}))}}},"./node_modules/echarts/lib/layout/barGrid.js":function(t,e,n){"use strict";n.d(e,{Bk:function(){return v},G_:function(){return g},Ge:function(){return d},Gk:function(){return h},My:function(){return f},bK:function(){return m}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/number.js"),o=n("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),a=n("./node_modules/echarts/lib/chart/helper/createRenderPlanner.js"),s=n("./node_modules/echarts/lib/util/vendor.js"),l="__ec_stack_";function u(t){return t.get("stack")||l+t.seriesIndex}function c(t){return t.dim+t.index}function h(t){var e=[],n=t.axis,i="axis0";if("category"===n.type){for(var o=n.getBandWidth(),a=0;a<t.count;a++)e.push((0,r.ce)({bandWidth:o,axisKey:i,stackId:l+a},t));var s=p(e),u=[];for(a=0;a<t.count;a++){var c=s[i][l+a];c.offsetCenter=c.offset+c.width/2,u.push(c)}return u}}function d(t,e){var n=[];return e.eachSeriesByType(t,(function(t){y(t)&&n.push(t)})),n}function f(t){var e=function(t){var e={};(0,r.S6)(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var r=t.getData(),i=n.dim+"_"+n.index,o=r.getDimensionIndex(r.mapDimension(n.dim)),a=r.getStore(),s=0,l=a.count();s<l;++s){var u=a.get(o,s);e[i]?e[i].push(u):e[i]=[u]}}));var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o){o.sort((function(t,e){return t-e}));for(var a=null,s=1;s<o.length;++s){var l=o[s]-o[s-1];l>0&&(a=null===a?l:Math.min(a,l))}n[i]=a}}return n}(t),n=[];return(0,r.S6)(t,(function(t){var r,o=t.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var s=o.dim+"_"+o.index,l=e[s],h=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),f=Math.abs(d[1]-d[0]);r=l?h/f*l:h}else{var p=t.getData();r=Math.abs(a[1]-a[0])/p.count()}var g=(0,i.GM)(t.get("barWidth"),r),m=(0,i.GM)(t.get("barMaxWidth"),r),v=(0,i.GM)(t.get("barMinWidth")||(b(t)?.5:1),r),y=t.get("barGap"),x=t.get("barCategoryGap");n.push({bandWidth:r,barWidth:g,barMaxWidth:m,barMinWidth:v,barGap:y,barCategoryGap:x,axisKey:c(o),stackId:u(t)})})),p(n)}function p(t){var e={};(0,r.S6)(t,(function(t,n){var r=t.axisKey,i=t.bandWidth,o=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[r]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=t.barMaxWidth;u&&(a[s].maxWidth=u);var c=t.barMinWidth;c&&(a[s].minWidth=c);var h=t.barGap;null!=h&&(o.gap=h);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)}));var n={};return(0,r.S6)(e,(function(t,e){n[e]={};var o=t.stacks,a=t.bandWidth,s=t.categoryGap;if(null==s){var l=(0,r.XP)(o).length;s=Math.max(35-4*l,15)+"%"}var u=(0,i.GM)(s,a),c=(0,i.GM)(t.gap,1),h=t.remainedWidth,d=t.autoWidthCount,f=(h-u)/(d+(d-1)*c);f=Math.max(f,0),(0,r.S6)(o,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){r=t.width;e&&(r=Math.min(r,e)),n&&(r=Math.max(r,n)),t.width=r,h-=r+c*r,d--}else{var r=f;e&&e<r&&(r=Math.min(e,h)),n&&n>r&&(r=n),r!==f&&(t.width=r,h-=r+c*r,d--)}})),f=(h-u)/(d+(d-1)*c),f=Math.max(f,0);var p,g=0;(0,r.S6)(o,(function(t,e){t.width||(t.width=f),p=t,g+=t.width*(1+c)})),p&&(g-=p.width*c);var m=-g/2;(0,r.S6)(o,(function(t,r){n[e][r]=n[e][r]||{bandWidth:a,offset:m,width:t.width},m+=t.width*(1+c)}))})),n}function g(t,e,n){if(t&&e){var r=t[c(e)];return null!=r&&null!=n?r[u(n)]:r}}function m(t,e){var n=d(t,e),i=f(n);(0,r.S6)(n,(function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),r=u(t),o=i[c(n)][r],a=o.offset,s=o.width;e.setLayout({bandWidth:o.bandWidth,offset:a,size:s})}))}function v(t){return{seriesType:t,plan:(0,a.Z)(),reset:function(t){if(y(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(i.dim)),l=e.getDimensionIndex(e.mapDimension(r.dim)),u=t.get("showBackground",!0),c=e.mapDimension(i.dim),h=e.getCalculationInfo("stackResultDimension"),d=(0,o.M)(e,c)&&!!e.getCalculationInfo("stackedOnSeries"),f=i.isHorizontal(),p=function(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,i),g=b(t),m=t.get("barMinHeight")||0,v=h&&e.getDimensionIndex(h),x=e.getLayout("size"),_=e.getLayout("offset");return{progress:function(t,e){for(var r,i=t.count,o=g&&(0,s.o)(3*i),c=g&&u&&(0,s.o)(3*i),h=g&&(0,s.o)(i),y=n.master.getRect(),b=f?y.width:y.height,w=e.getStore(),S=0;null!=(r=t.next());){var M=w.get(d?v:a,r),k=w.get(l,r),E=p,A=void 0;d&&(A=+M-w.get(a,r));var T=void 0,I=void 0,C=void 0,D=void 0;if(f){var N=n.dataToPoint([M,k]);if(d)E=n.dataToPoint([A,k])[0];T=E,I=N[1]+_,C=N[0]-E,D=x,Math.abs(C)<m&&(C=(C<0?-1:1)*m)}else{N=n.dataToPoint([k,M]);if(d)E=n.dataToPoint([k,A])[1];T=N[0]+_,I=E,C=x,D=N[1]-E,Math.abs(D)<m&&(D=(D<=0?-1:1)*m)}g?(o[S]=T,o[S+1]=I,o[S+2]=f?C:D,c&&(c[S]=f?y.x:T,c[S+1]=f?I:y.y,c[S+2]=b),h[r]=r):e.setItemLayout(r,{x:T,y:I,width:C,height:D}),S+=3}g&&e.setLayout({largePoints:o,largeDataIndices:h,largeBackgroundPoints:c,valueAxisHorizontal:f})}}}}}}function y(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function b(t){return t.pipelineContext&&t.pipelineContext.large}},"./node_modules/echarts/lib/legacy/dataSelectAction.js":function(t,e,n){"use strict";n.d(e,{s:function(){return s},y:function(){return o}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/model.js");function o(t,e){function n(e,n){var r=[];return e.eachComponent({mainType:"series",subType:t,query:n},(function(t){r.push(t.seriesIndex)})),r}(0,r.S6)([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){e(t[0],(function(e,i,o){e=(0,r.l7)({},e),o.dispatchAction((0,r.l7)(e,{type:t[1],seriesIndex:n(i,e)}))}))}))}function a(t,e,n,o,a){var s=t+e;n.isSilent(s)||o.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,o=t.option.selectedMap,l=a.selected,u=0;u<l.length;u++)if(l[u].seriesIndex===e){var c=t.getData(),h=(0,i.gO)(c,a.fromActionPayload);n.trigger(s,{type:s,seriesId:t.id,name:(0,r.kJ)(h)?c.getName(h[0]):c.getName(h),selected:(0,r.HD)(o)?o:(0,r.l7)({},o)})}}))}function s(t,e,n){t.on("selectchanged",(function(t){var r=n.getModel();t.isFromClick?(a("map","selectchanged",e,r,t),a("pie","selectchanged",e,r,t)):"select"===t.fromAction?(a("map","selected",e,r,t),a("pie","selected",e,r,t)):"unselect"===t.fromAction&&(a("map","unselected",e,r,t),a("pie","unselected",e,r,t))}))}},"./node_modules/echarts/lib/model/Component.js":function(t,e,n){"use strict";var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/echarts/lib/model/Model.js"),a=n("./node_modules/echarts/lib/util/component.js"),s=n("./node_modules/echarts/lib/util/clazz.js"),l=n("./node_modules/echarts/lib/util/model.js"),u=n("./node_modules/echarts/lib/util/layout.js"),c=(0,l.Yf)(),h=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.uid=a.Kr("ec_cpt_model"),i}var n;return(0,r.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=u.YD(this),r=n?u.tE(t):{},o=e.getTheme();i.TS(t,o.get(this.mainType)),i.TS(t,this.getDefaultOption()),n&&u.dt(t,r,n)},e.prototype.mergeOption=function(t,e){i.TS(this.option,t,!0);var n=u.YD(this);n&&u.dt(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!(0,s.PT)(t))return t.defaultOption;var e=c(this);if(!e.defaultOption){for(var n=[],r=t;r;){var o=r.prototype.defaultOption;o&&n.push(o),r=r.superClass}for(var a={},l=n.length-1;l>=0;l--)a=i.TS(a,n[l],!0);e.defaultOption=a}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",r=t+"Id";return(0,l.HZ)(this.ecModel,t,{index:this.get(n,!0),id:this.get(r,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((n=e.prototype).type="component",n.id="",n.name="",n.mainType="",n.subType="",void(n.componentIndex=0)),e}(o.Z);(0,s.pw)(h,o.Z),(0,s.au)(h),a.cj(h),a.jS(h,(function(t){var e=[];i.S6(h.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=i.UI(e,(function(t){return(0,s.u9)(t).main})),"dataset"!==t&&i.cq(e,"dataset")<=0&&e.unshift("dataset");return e})),e.Z=h},"./node_modules/echarts/lib/model/Model.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n("./node_modules/zrender/lib/core/env.js"),i=n("./node_modules/echarts/lib/util/clazz.js"),o=(0,n("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js").Z)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),a=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return o(this,t,e)},t}(),s=n("./node_modules/echarts/lib/label/labelStyle.js"),l=n("./node_modules/zrender/lib/graphic/Text.js"),u=["textStyle","color"],c=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],h=new l.ZP,d=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(u):null)},t.prototype.getFont=function(){return(0,s.qT)({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<c.length;n++)e[c[n]]=this.getShallow(c[n]);return h.useStyle(e),h.update(),h.getBoundingRect()},t}(),f=n("./node_modules/echarts/lib/model/mixin/lineStyle.js"),p=n("./node_modules/echarts/lib/model/mixin/itemStyle.js"),g=n("./node_modules/zrender/lib/core/util.js"),m=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i]},t.prototype.mergeOption=function(t,e){(0,g.TS)(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var i=this.parentModel;i&&(r=i.getShallow(t))}return r},t.prototype.getModel=function(e,n){var r=null!=e,i=r?this.parsePath(e):null;return new t(r?this._doGet(i):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)((0,g.d9)(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!r.Z.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&(!t[r]||null!=(n=n&&"object"==typeof n?n[t[r]]:null));r++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();(0,i.dm)(m),(0,i.Qj)(m),(0,g.jB)(m,f.K),(0,g.jB)(m,p.D),(0,g.jB)(m,a),(0,g.jB)(m,d);var v=m},"./node_modules/echarts/lib/model/Series.js":function(t,e,n){"use strict";n.d(e,{V:function(){return v}});var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/zrender/lib/core/env.js"),a=n("./node_modules/echarts/lib/util/model.js"),s=n("./node_modules/echarts/lib/model/Component.js"),l=n("./node_modules/echarts/lib/model/mixin/palette.js"),u=n("./node_modules/echarts/lib/model/mixin/dataFormat.js"),c=n("./node_modules/echarts/lib/util/layout.js"),h=n("./node_modules/echarts/lib/core/task.js"),d=n("./node_modules/echarts/lib/util/clazz.js"),f=n("./node_modules/echarts/lib/data/helper/sourceManager.js"),p=n("./node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js"),g=a.Yf();function m(t,e){return t.getName(e)||t.getId(e)}var v="__universalTransitionEnabled",y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}var n;return(0,r.ZT)(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=(0,h.v)({count:x,reset:_}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(g(this).sourceManager=new f.U(this)).prepareSource();var r=this.getInitialData(t,n);S(r,this),this.dataTask.context.data=r,g(this).dataBeforeProcessed=r,b(this),this._initSelectedMapFromData(r)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=(0,c.YD)(this),r=n?(0,c.tE)(t):{},o=this.subType;s.Z.hasClass(o)&&(o+="Series"),i.TS(t,e.getTheme().get(this.subType)),i.TS(t,this.getDefaultOption()),a.Cc(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&(0,c.dt)(t,r,n)},e.prototype.mergeOption=function(t,e){t=i.TS(this.option,t,!0),this.fillDataTextStyle(t.data);var n=(0,c.YD)(this);n&&(0,c.dt)(this.option,t,n);var r=g(this).sourceManager;r.dirty(),r.prepareSource();var o=this.getInitialData(t,e);S(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,g(this).dataBeforeProcessed=o,b(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!i.fU(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&a.Cc(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=k(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return g(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=k(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}g(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return i.kW(t)},e.prototype.getSourceManager=function(){return g(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return g(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return(0,p.w)({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(o.Z.node&&(!t||!t.ssr))return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var r=this.ecModel,i=l._.prototype.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,i=this.getData(e);if("series"===r||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<t.length;o++){var a=m(i,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],r=0;r<t.length;r++)n[0]=t[r],this.isSelected(t[r],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=i.XP(t),n=[],r=0;r<e.length;r++){var o=t[e[r]];o>=0&&n.push(o)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(e);return("all"===n||n[m(r,t)])&&!r.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[v])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,r,o=this.option,a=o.selectedMode,s=e.length;if(a&&s)if("series"===a)o.selectedMap="all";else if("multiple"===a){i.Kn(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,u=0;u<s;u++){var c=e[u];l[d=m(t,c)]=!0,this._selectedDataIndicesMap[d]=t.getRawIndex(c)}}else if("single"===a||!0===a){var h=e[s-1],d=m(t,h);o.selectedMap=((n={})[d]=!0,n),this._selectedDataIndicesMap=((r={})[d]=t.getRawIndex(h),r)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var r=t.getRawDataItem(n);r&&r.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return s.Z.registerClass(t)},e.protoInitialize=((n=e.prototype).type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",void(n.visualDrawType="fill")),e}(s.Z);function b(t){var e=t.name;a.yu(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return i.S6(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)})),r.join(" ")}(t)||e)}function x(t){return t.model.getRawData().count()}function _(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),w}function w(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function S(t,e){i.S6(i.WW(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,i.WA(M,e))}))}function M(t,e){var n=k(t);return n&&n.setOutputEnd((e||this).count()),e}function k(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}i.jB(y,u.X),i.jB(y,l._),(0,d.pw)(y,s.Z),e.Z=y},"./node_modules/echarts/lib/model/internalComponentCreator.js":function(t,e,n){"use strict";n.d(e,{R:function(){return a},f:function(){return o}});var r=n("./node_modules/zrender/lib/core/util.js"),i=(0,r.kW)();function o(t,e){(0,r.hu)(null==i.get(t)&&e),i.set(t,e)}function a(t,e,n){var r=i.get(e);if(!r)return n;var o=r(t);return o?n.concat(o):n}},"./node_modules/echarts/lib/model/mixin/dataFormat.js":function(t,e,n){"use strict";n.d(e,{X:function(){return s},f:function(){return l}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/data/helper/dataProvider.js"),o=n("./node_modules/echarts/lib/util/format.js"),a=/\{@(.+?)\}/g,s=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),l=s&&s[n.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,c=this.mainType,h="series"===c,d=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:i,data:a,dataType:e,value:r,color:l,borderColor:u,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,s,l,u){e=e||"normal";var c=this.getData(n),h=this.getDataParams(t,n);(u&&(h.value=u.interpolatedValue),null!=s&&r.kJ(h.value)&&(h.value=h.value[s]),l)||(l=c.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]));return r.mf(l)?(h.status=e,h.dimensionIndex=s,l(h)):r.HD(l)?(0,o.kF)(l,h).replace(a,(function(e,n){var o=n.length,a=n;"["===a.charAt(0)&&"]"===a.charAt(o-1)&&(a=+a.slice(1,o-1));var s=(0,i.hk)(c,t,a);if(u&&r.kJ(u.interpolatedValue)){var l=c.getDimensionIndex(a);l>=0&&(s=u.interpolatedValue[l])}return null!=s?s+"":""})):void 0},t.prototype.getRawValue=function(t,e){return(0,i.hk)(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function l(t){var e,n;return r.Kn(t)?t.type&&(n=t):e=t,{text:e,frag:n}}},"./node_modules/echarts/lib/model/mixin/itemStyle.js":function(t,e,n){"use strict";n.d(e,{D:function(){return a},t:function(){return i}});var r=n("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),i=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],o=(0,r.Z)(i),a=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return o(this,t,e)},t}()},"./node_modules/echarts/lib/model/mixin/lineStyle.js":function(t,e,n){"use strict";n.d(e,{K:function(){return a},v:function(){return i}});var r=n("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),i=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],o=(0,r.Z)(i),a=function(){function t(){}return t.prototype.getLineStyle=function(t){return o(this,t)},t}()},"./node_modules/echarts/lib/model/mixin/makeStyleMapper.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n("./node_modules/zrender/lib/core/util.js");function i(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,o){for(var a={},s=0;s<t.length;s++){var l=t[s][1];if(!(i&&r.cq(i,l)>=0||o&&r.cq(o,l)<0)){var u=n.getShallow(l,e);null!=u&&(a[t[s][0]]=u)}}return a}}},"./node_modules/echarts/lib/model/mixin/palette.js":function(t,e,n){"use strict";n.d(e,{_:function(){return a},i:function(){return s}});var r=n("./node_modules/echarts/lib/util/model.js"),i=(0,r.Yf)(),o=(0,r.Yf)(),a=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var o=(0,r.kF)(this.get("color",!0)),a=this.get("colorLayer",!0);return l(this,i,o,a,t,e,n)},t.prototype.clearColorPalette=function(){var t,e;(e=i)(t=this).paletteIdx=0,e(t).paletteNameMap={}},t}();function s(t,e,n,i){var a=(0,r.kF)(t.get(["aria","decal","decals"]));return l(t,o,a,null,e,n,i)}function l(t,e,n,r,i,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=null!=a&&r?function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}(r,a):n;if((c=c||n)&&c.length){var h=c[l];return i&&(u[i]=h),s.paletteIdx=(l+1)%c.length,h}}},"./node_modules/echarts/lib/renderer/installCanvasRenderer.js":function(t,e,n){"use strict";n.d(e,{N:function(){return _}});var r=n("./node_modules/zrender/lib/config.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),a=n("./node_modules/zrender/lib/core/Eventful.js"),s=n("./node_modules/zrender/lib/canvas/helper.js"),l=n("./node_modules/zrender/lib/canvas/graphic.js"),u=n("./node_modules/zrender/lib/core/BoundingRect.js"),c=n("./node_modules/zrender/lib/graphic/constants.js"),h=n("./node_modules/zrender/lib/core/platform.js");function d(t,e,n){var r=h.qW.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}var f=function(t){function e(e,n,o){var a,s=t.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,o=o||r.KL,"string"==typeof e?a=d(e,n,o):i.Kn(e)&&(e=(a=e).id),s.id=e,s.dom=a;var l=a.style;return l&&(i.$j(a),a.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),s.painter=n,s.dpr=o,s}return(0,o.ZT)(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=d("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,o=[],a=this.maxRepaintRectCount,s=!1,l=new u.Z(0,0,0,0);function h(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new u.Z(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,r=1/0,i=0,c=0;c<o.length;++c){var h=o[c];if(h.intersect(t)){var d=new u.Z(0,0,0,0);d.copy(h),d.union(t),o[c]=d,n=!0;break}if(s){l.copy(t),l.union(h);var f=t.width*t.height,p=h.width*h.height,g=l.width*l.height-f-p;g<r&&(r=g,i=c)}}if(s&&(o[i].union(t),n=!0),!n)(e=new u.Z(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var d=this.__startIndex;d<this.__endIndex;++d){if(g=t[d]){var f=g.shouldBePainted(n,r,!0,!0);(m=g.__isRendered&&(g.__dirty&c.YV||!f)?g.getPrevPaintRect():null)&&h(m);var p=f&&(g.__dirty&c.YV||!g.__isRendered)?g.getPaintRect():null;p&&h(p)}}for(d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var g,m;f=(g=e[d]).shouldBePainted(n,r,!0,!0);if(g&&(!f||!g.__zr)&&g.__isRendered)(m=g.getPrevPaintRect())&&h(m)}do{i=!1;for(d=0;d<o.length;)if(o[d].isZero())o.splice(d,1);else{for(var v=d+1;v<o.length;)o[d].intersect(o[v])?(i=!0,o[d].union(o[v]),o.splice(v,1)):v++;d++}}while(i);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var r=this.dom,o=this.ctx,a=r.width,u=r.height;e=e||this.clearColor;var c=this.motionBlur&&!t,h=this.lastFrameAlpha,d=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/d,u/d));var p=this.domBack;function g(t,n,r,a){if(o.clearRect(t,n,r,a),e&&"transparent"!==e){var u=void 0;if(i.Qq(e))u=(e.global||e.__width===r&&e.__height===a)&&e.__canvasGradient||(0,s.ZF)(o,e,{x:0,y:0,width:r,height:a}),e.__canvasGradient=u,e.__width=r,e.__height=a;else i.dL(e)&&(e.scaleX=e.scaleX||d,e.scaleY=e.scaleY||d,u=(0,l.RZ)(o,e,{dirty:function(){f.setUnpainted(),f.__painter.refresh()}}));o.save(),o.fillStyle=u||e,o.fillRect(t,n,r,a),o.restore()}c&&(o.save(),o.globalAlpha=h,o.drawImage(p,t,n,r,a),o.restore())}!n||c?g(0,0,a,u):n.length&&i.S6(n,(function(t){g(t.x*d,t.y*d,t.width*d,t.height*d)}))},e}(a.Z),p=n("./node_modules/zrender/lib/animation/requestAnimationFrame.js"),g=n("./node_modules/zrender/lib/core/env.js"),m=1e5,v=314159,y=.01;var b=function(){function t(t,e,n,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=i.l7({},n||{}),this.dpr=n.devicePixelRatio||r.KL,this._singleCanvas=a,this.root=t,t.style&&(i.$j(t),t.innerHTML=""),this.storage=e;var l=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var c=t,h=c.width,d=c.height;null!=n.width&&(h=n.width),null!=n.height&&(d=n.height),this.dpr=n.devicePixelRatio||1,c.width=h*this.dpr,c.height=d*this.dpr,this._width=h,this._height=d;var p=new f(c,this,this.dpr);p.__builtin__=!0,p.initContext(),u[314159]=p,p.zlevel=v,l.push(v),this._domRoot=t}else{this._width=(0,s.ap)(t,0,n),this._height=(0,s.ap)(t,1,n);var g=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(g)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===i?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(m)),r||(r=n.ctx).save(),(0,l.Dm)(r,a,i,o===e-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(m)},t.prototype.paintOne=function(t,e){(0,l.RV)(t,e)},t.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e,n),o=i.finished,a=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;(0,p.Z)((function(){s._paintList(t,e,n,r)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(v).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&o.push(u)}for(var c=!0,h=!1,d=function(i){var s,l=o[i],u=l.ctx,d=a&&l.createRepaintRects(t,e,f._width,f._height),p=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,m=g&&Date.now(),v=l.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,d);else if(p===l.__startIndex){var y=t[p];y.incremental&&y.notClear&&!n||l.clear(!1,v,d)}-1===p&&(p=l.__startIndex);var b=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=p;s<l.__endIndex;s++){var i=t[s];if(i.__inHover&&(h=!0),r._doPaintEl(i,l,a,e,n,s===l.__endIndex-1),g)if(Date.now()-m>15)break}n.prevElClipPaths&&u.restore()};if(d)if(0===d.length)s=l.__endIndex;else for(var x=f.dpr,_=0;_<d.length;++_){var w=d[_];u.save(),u.beginPath(),u.rect(w.x*x,w.y*x,w.width*x,w.height*x),u.clip(),b(w),u.restore()}else u.save(),b(),u.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(c=!1)},f=this,p=0;p<o.length;p++)d(p);return g.Z.wxa&&i.S6(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:c,needsRefreshHover:h}},t.prototype._doPaintEl=function(t,e,n,r,i,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!r||s&&s.intersect(r))&&((0,l.Dm)(a,t,i,o),t.setPrevPaintRect(s))}else(0,l.Dm)(a,t,i,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=v);var n=this._layers[t];return n||((n=new f("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?i.TS(n,this._layerConfig[t],!0):this._layerConfig[t-y]&&i.TS(n,this._layerConfig[t-y],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=this._domRoot,a=null,s=-1;if(!n[t]&&function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(s=0;s<i-1&&!(r[s]<t&&r[s+1]>t);s++);a=n[r[s]]}if(r.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];t.call(e,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__&&t.call(e,o,i)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__||t.call(e,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){if((l=t[n]).zlevel!==t[n-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var r,o,a=null,s=0;for(o=0;o<t.length;o++){var l,u=(l=t[o]).zlevel,h=void 0;r!==u&&(r=u,s=0),l.incremental?((h=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(u+(s>0?y:0),this._needsManuallyCompositing),h.__builtin__||i.H("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.incremental?h.__drawIndex=-1:h.__drawIndex=o,e(o),a=h),l.__dirty&c.YV&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,i.S6(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?i.TS(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===t||o===t+y){var a=this._layers[o];i.TS(a,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(i.cq(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,i=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=(0,s.ap)(i,0,r),e=(0,s.ap)(i,1,r),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(v).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new f("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,i=e.dom.height;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,r,i):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,u=a.length;s<u;s++){var c=a[s];(0,l.Dm)(n,c,o,s===u-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}(),x=b;function _(t){t.registerPainter("canvas",x)}},"./node_modules/echarts/lib/scale/Interval.js":function(t,e,n){"use strict";var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/echarts/lib/util/number.js"),o=n("./node_modules/echarts/lib/util/format.js"),a=n("./node_modules/echarts/lib/scale/Scale.js"),s=n("./node_modules/echarts/lib/scale/helper.js"),l=i.NM,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return(0,r.ZT)(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return s.XS(t,this._extent)},e.prototype.normalize=function(t){return s.Fv(t,this._extent)},e.prototype.scale=function(t){return s.bA(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=s.lb(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,o=[];if(!e)return o;n[0]<r[0]&&(t?o.push({value:l(r[0]-e,i)}):o.push({value:n[0]}));for(var a=r[0];a<=r[1]&&(o.push({value:a}),(a=l(a+e,i))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:r[1];return n[1]>s&&(t?o.push({value:l(s+e,i)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<e.length;i++){for(var o=e[i],a=e[i-1],s=0,u=[],c=(o.value-a.value)/t;s<t-1;){var h=l(a.value+(s+1)*c);h>r[0]&&h<r[1]&&u.push(h),s++}n.push(u)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;null==n?n=i.p8(t.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=l(t.value,n,!0);return o.OD(r)},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=s.Qf(r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=Math.abs(e[0]);t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=l(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=l(Math.ceil(e[1]/i)*i))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(a.Z);a.Z.registerClass(u),e.Z=u},"./node_modules/echarts/lib/scale/Ordinal.js":function(t,e,n){"use strict";var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/echarts/lib/scale/Scale.js"),o=n("./node_modules/echarts/lib/data/OrdinalMeta.js"),a=n("./node_modules/echarts/lib/scale/helper.js"),s=n("./node_modules/zrender/lib/core/util.js"),l=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new o.Z({})),(0,s.kJ)(r)&&(r=new o.Z({categories:(0,s.UI)(r,(function(t){return(0,s.Kn)(t)?t.value:t}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return(0,r.ZT)(e,t),e.prototype.parse=function(t){return null==t?NaN:(0,s.HD)(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),a.XS(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),a.Fv(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(a.bA(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);i<a;++i){var s=e[i];n[i]=s,r[s]=i}for(var l=0;i<o;++i){for(;null!=r[l];)l++;n.push(l),r[l]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(i.Z);i.Z.registerClass(l),e.Z=l},"./node_modules/echarts/lib/scale/Scale.js":function(t,e,n){"use strict";var r=n("./node_modules/echarts/lib/util/clazz.js"),i=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();r.au(i),e.Z=i},"./node_modules/echarts/lib/scale/Time.js":function(t,e,n){"use strict";var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/echarts/lib/util/number.js"),o=n("./node_modules/echarts/lib/util/time.js"),a=n("./node_modules/echarts/lib/scale/helper.js"),s=n("./node_modules/echarts/lib/scale/Interval.js"),l=n("./node_modules/echarts/lib/scale/Scale.js"),u=n("./node_modules/zrender/lib/core/util.js"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return(0,r.ZT)(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return(0,o.WU)(t.value,o.V8[(0,o.xC)((0,o.Tj)(this._minLevelUnit))]||o.V8.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var r=this.getSetting("useUTC"),i=this.getSetting("locale");return(0,o.k7)(t,e,n,i,r)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var r=this.getSetting("useUTC"),a=function(t,e,n,r){var a=1e4,s=o.FW,l=0;function c(t,e,n,i,o,a,s){for(var l=new Date(e),u=e,c=l[i]();u<n&&u<=r[1];)s.push({value:u}),c+=t,l[o](c),u=l.getTime();s.push({value:u,notAdd:!0})}function h(t,a,s){var l=[],u=!a.length;if(!function(t,e,n,r){var a=i.sG(e),s=i.sG(n),l=function(t){return(0,o.q5)(a,t,r)===(0,o.q5)(s,t,r)},u=function(){return l("year")},c=function(){return u()&&l("month")},h=function(){return c()&&l("day")},d=function(){return h()&&l("hour")},f=function(){return d()&&l("minute")},p=function(){return f()&&l("second")},g=function(){return p()&&l("millisecond")};switch(t){case"year":return u();case"month":return c();case"day":return h();case"hour":return d();case"minute":return f();case"second":return p();case"millisecond":return g()}}((0,o.Tj)(t),r[0],r[1],n)){u&&(a=[{value:v(new Date(r[0]),t,n)},{value:r[1]}]);for(var h=0;h<a.length-1;h++){var y=a[h].value,b=a[h+1].value;if(y!==b){var x=void 0,_=void 0,w=void 0,S=!1;switch(t){case"year":x=Math.max(1,Math.round(e/o.s2/365)),_=(0,o.sx)(n),w=(0,o.xL)(n);break;case"half-year":case"quarter":case"month":x=f(e),_=(0,o.CW)(n),w=(0,o.vh)(n);break;case"week":case"half-week":case"day":x=d(e,31),_=(0,o.xz)(n),w=(0,o.f5)(n),S=!0;break;case"half-day":case"quarter-day":case"hour":x=p(e),_=(0,o.Wp)(n),w=(0,o.En)(n);break;case"minute":x=g(e,!0),_=(0,o.fn)(n),w=(0,o.eN)(n);break;case"second":x=g(e,!1),_=(0,o.MV)(n),w=(0,o.rM)(n);break;case"millisecond":x=m(e),_=(0,o.RZ)(n),w=(0,o.cb)(n)}c(x,y,b,_,w,S,l),"year"===t&&s.length>1&&0===h&&s.unshift({value:s[0].value-x})}}for(h=0;h<l.length;h++)s.push(l[h]);return l}}for(var y=[],b=[],x=0,_=0,w=0;w<s.length&&l++<a;++w){var S=(0,o.Tj)(s[w]);if((0,o.$K)(s[w]))if(h(s[w],y[y.length-1]||[],b),S!==(s[w+1]?(0,o.Tj)(s[w+1]):null)){if(b.length){_=x,b.sort((function(t,e){return t.value-e.value}));for(var M=[],k=0;k<b.length;++k){var E=b[k].value;0!==k&&b[k-1].value===E||(M.push(b[k]),E>=r[0]&&E<=r[1]&&x++)}var A=(r[1]-r[0])/e;if(x>1.5*A&&_>A/1.5)break;if(y.push(M),x>A||t===s[w])break}b=[]}}0;var T=(0,u.hX)((0,u.UI)(y,(function(t){return(0,u.hX)(t,(function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd}))})),(function(t){return t.length>0})),I=[],C=T.length-1;for(w=0;w<T.length;++w)for(var D=T[w],N=0;N<D.length;++N)I.push({value:D[N].value,level:C-w});I.sort((function(t,e){return t.value-e.value}));var O=[];for(w=0;w<I.length;++w)0!==w&&I[w].value===I[w-1].value||O.push(I[w]);return O}(this._minLevelUnit,this._approxInterval,r,e);return(n=n.concat(a)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=o.s2,e[1]+=o.s2),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-o.s2}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=h.length,a=Math.min(function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n}(h,this._approxInterval,0,o),o-1);this._interval=h[a][1],this._minLevelUnit=h[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return(0,u.hj)(t)?t:+i.sG(t)},e.prototype.contain=function(t){return a.XS(this.parse(t),this._extent)},e.prototype.normalize=function(t){return a.Fv(this.parse(t),this._extent)},e.prototype.scale=function(t){return a.bA(t,this._extent)},e.type="time",e}(s.Z),h=[["second",o.WT],["minute",o.yR],["hour",o.dV],["quarter-day",6*o.dV],["half-day",12*o.dV],["day",1.2*o.s2],["half-week",3.5*o.s2],["week",7*o.s2],["month",31*o.s2],["quarter",95*o.s2],["half-year",o.P5/2],["year",o.P5]];function d(t,e){return(t/=o.s2)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function f(t){return(t/=30*o.s2)>6?6:t>3?3:t>2?2:1}function p(t){return(t/=o.dV)>12?12:t>6?6:t>3.5?4:t>2?2:1}function g(t,e){return(t/=e?o.yR:o.WT)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function m(t){return i.kx(t,!0)}function v(t,e,n){var r=new Date(t);switch((0,o.Tj)(e)){case"year":case"month":r[(0,o.vh)(n)](0);case"day":r[(0,o.f5)(n)](1);case"hour":r[(0,o.En)(n)](0);case"minute":r[(0,o.eN)(n)](0);case"second":r[(0,o.rM)(n)](0),r[(0,o.cb)(n)](0)}return r.getTime()}l.Z.registerClass(c),e.Z=c},"./node_modules/echarts/lib/scale/helper.js":function(t,e,n){"use strict";n.d(e,{Fv:function(){return c},Qf:function(){return o},XS:function(){return u},bA:function(){return h},lM:function(){return i},lb:function(){return s},r1:function(){return a}});var r=n("./node_modules/echarts/lib/util/number.js");function i(t){return"interval"===t.type||"log"===t.type}function o(t,e,n,i){var o={},a=t[1]-t[0],u=o.interval=(0,r.kx)(a/e,!0);null!=n&&u<n&&(u=o.interval=n),null!=i&&u>i&&(u=o.interval=i);var c=o.intervalPrecision=s(u);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),l(t,0,e),l(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(o.niceTickExtent=[(0,r.NM)(Math.ceil(t[0]/u)*u,c),(0,r.NM)(Math.floor(t[1]/u)*u,c)],t),o}function a(t){var e=Math.pow(10,(0,r.xW)(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,(0,r.NM)(n*e)}function s(t){return(0,r.p8)(t)+2}function l(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function u(t,e){return t>=e[0]&&t<=e[1]}function c(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function h(t,e){return t*(e[1]-e[0])+e[0]}},"./node_modules/echarts/lib/util/clazz.js":function(t,e,n){"use strict";n.d(e,{PT:function(){return u},Qj:function(){return f},au:function(){return m},dm:function(){return c},pw:function(){return h},u9:function(){return l}});var r=n("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=".",a="___EC__COMPONENT__CONTAINER___",s="___EC__EXTENDED_CLASS___";function l(t){var e={main:"",sub:""};if(t){var n=t.split(o);e.main=n[0]||"",e.sub=n[1]||""}return e}function u(t){return!(!t||!t[s])}function c(t,e){t.$constructor=t,t.extend=function(t){var e,n,o=this;return n=o,i.mf(n)&&/^class\s/.test(Function.prototype.toString.call(n))?e=function(t){function e(){return t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e}(o):(e=function(){(t.$constructor||o).apply(this,arguments)},i.XW(e,this)),i.l7(e.prototype,t),e[s]=!0,e.extend=this.extend,e.superCall=p,e.superApply=g,e.superClass=o,e}}function h(t,e){t.extend=e.extend}var d=Math.round(10*Math.random());function f(t){var e=["__\0is_clz",d++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function g(t,e,n){return this.superClass.prototype[e].apply(t,n)}function m(t){var e={};t.registerClass=function(t){var n,r=t.type||t.prototype.type;if(r){n=r,i.hu(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal'),t.prototype.type=r;var o=l(r);if(o.sub){if(o.sub!==a){var s=function(t){var n=e[t.main];n&&n[a]||((n=e[t.main]={})[a]=!0);return n}(o);s[o.sub]=t}}else e[o.main]=t}return t},t.getClass=function(t,n,r){var i=e[t];if(i&&i[a]&&(i=n?i[n]:null),r&&!i)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){var n=l(t),r=[],o=e[n.main];return o&&o[a]?i.S6(o,(function(t,e){e!==a&&r.push(t)})):r.push(o),r},t.hasClass=function(t){var n=l(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return i.S6(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=l(t),r=e[n.main];return r&&r[a]}}},"./node_modules/echarts/lib/util/component.js":function(t,e,n){"use strict";n.d(e,{Kr:function(){return a},ZL:function(){return u},cj:function(){return s},jS:function(){return l}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/clazz.js"),o=Math.round(10*Math.random());function a(t){return[t||"",o++].join("_")}function s(t){var e={};t.registerSubTypeDefaulter=function(t,n){var r=(0,i.u9)(t);e[r.main]=n},t.determineSubType=function(n,r){var o=r.type;if(!o){var a=(0,i.u9)(n).main;t.hasSubTypes(n)&&e[a]&&(o=e[a](r))}return o}}function l(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,i,o,a){if(t.length){var s=function(t){var i={},o=[];return r.S6(t,(function(a){var s=n(i,a),l=function(t,e){var n=[];return r.S6(t,(function(t){r.cq(e,t)>=0&&n.push(t)})),n}(s.originalDeps=e(a),t);s.entryCount=l.length,0===s.entryCount&&o.push(a),r.S6(l,(function(t){r.cq(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(i,t);r.cq(e.successor,t)<0&&e.successor.push(a)}))})),{graph:i,noEntryList:o}}(i),l=s.graph,u=s.noEntryList,c={};for(r.S6(t,(function(t){c[t]=!0}));u.length;){var h=u.pop(),d=l[h],f=!!c[h];f&&(o.call(a,h,d.originalDeps.slice()),delete c[h]),r.S6(d.successor,f?g:p)}r.S6(c,(function(){throw new Error("")}))}function p(t){l[t].entryCount--,0===l[t].entryCount&&u.push(t)}function g(t){c[t]=!0,p(t)}}}function u(t,e){return r.TS(r.TS({},t,!0),e,!0)}},"./node_modules/echarts/lib/util/decal.js":function(t,e,n){"use strict";n.d(e,{I:function(){return g}});var r=Math.round(9*Math.random()),i="function"==typeof Object.defineProperty,o=function(){function t(){this._id="__ec_inner_"+r++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return i?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),a=n("./node_modules/zrender/lib/core/LRU.js"),s=n("./node_modules/zrender/lib/core/util.js"),l=n("./node_modules/echarts/lib/util/number.js"),u=n("./node_modules/echarts/lib/util/symbol.js"),c=n("./node_modules/zrender/lib/canvas/graphic.js"),h=n("./node_modules/zrender/lib/core/platform.js"),d=new o,f=new a.ZP(100),p=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function g(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i="svg"===r.painter.type;t.dirty&&d.delete(t);var o=d.get(t);if(o)return o;var a=(0,s.ce)(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var g={repeat:"repeat"};return function(t){for(var e,o=[n],d=!0,g=0;g<p.length;++g){var b=a[p[g]];if(null!=b&&!(0,s.kJ)(b)&&!(0,s.HD)(b)&&!(0,s.hj)(b)&&"boolean"!=typeof b){d=!1;break}o.push(b)}if(d){e=o.join(",")+(i?"-svg":"");var x=f.get(e);x&&(i?t.svgElement=x:t.image=x)}var _,w=v(a.dashArrayX),S=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if((0,s.hj)(t)){var e=Math.ceil(t);return[e,e]}var n=(0,s.UI)(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}(a.dashArrayY),M=m(a.symbol),k=(C=w,(0,s.UI)(C,(function(t){return y(t)}))),E=y(S),A=!i&&h.qW.createCanvas(),T=i&&{tag:"g",attrs:{},key:"dcl",children:[]},I=function(){for(var t=1,e=0,n=k.length;e<n;++e)t=(0,l.nl)(t,k[e]);var r=1;for(e=0,n=M.length;e<n;++e)r=(0,l.nl)(r,M[e].length);t*=r;var i=E*k.length*M.length;0;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(i,a.maxTileHeight))}}();var C;A&&(A.width=I.width*n,A.height=I.height*n,_=A.getContext("2d"));(function(){_&&(_.clearRect(0,0,A.width,A.height),a.backgroundColor&&(_.fillStyle=a.backgroundColor,_.fillRect(0,0,A.width,A.height)));for(var t=0,e=0;e<S.length;++e)t+=S[e];if(t<=0)return;var o=-E,s=0,l=0,h=0;for(;o<I.height;){if(s%2==0){for(var d=l/2%M.length,f=0,p=0,g=0;f<2*I.width;){var m=0;for(e=0;e<w[h].length;++e)m+=w[h][e];if(m<=0)break;if(p%2==0){var v=.5*(1-a.symbolSize),y=f+w[h][p]*v,b=o+S[s]*v,x=w[h][p]*a.symbolSize,k=S[s]*a.symbolSize,C=g/2%M[d].length;D(y,b,x,k,M[d][C])}f+=w[h][p],++g,++p===w[h].length&&(p=0)}++h===w.length&&(h=0)}o+=S[s],++l,++s===S.length&&(s=0)}function D(t,e,o,s,l){var h=i?1:n,d=(0,u.th)(l,t*h,e*h,o*h,s*h,a.color,a.symbolKeepAspect);if(i){var f=r.painter.renderOneToVNode(d);f&&T.children.push(f)}else(0,c.RV)(_,d)}})(),d&&f.put(e,A||T);t.image=A,t.svgElement=T,t.svgWidth=I.width,t.svgHeight=I.height}(g),g.rotation=a.rotation,g.scaleX=g.scaleY=i?1:1/n,d.set(t,g),t.dirty=!1,g}function m(t){if(!t||0===t.length)return[["rect"]];if((0,s.HD)(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!(0,s.HD)(t[n])){e=!1;break}if(e)return m([t]);var r=[];for(n=0;n<t.length;++n)(0,s.HD)(t[n])?r.push([t[n]]):r.push(t[n]);return r}function v(t){if(!t||0===t.length)return[[0,0]];if((0,s.hj)(t))return[[i=Math.ceil(t),i]];for(var e=!0,n=0;n<t.length;++n)if(!(0,s.hj)(t[n])){e=!1;break}if(e)return v([t]);var r=[];for(n=0;n<t.length;++n)if((0,s.hj)(t[n])){var i=Math.ceil(t[n]);r.push([i,i])}else{(i=(0,s.UI)(t[n],(function(t){return Math.ceil(t)}))).length%2==1?r.push(i.concat(i)):r.push(i)}return r}function y(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}},"./node_modules/echarts/lib/util/event.js":function(t,e,n){"use strict";function r(t,e,n){for(var r;t&&(!e(t)||(r=t,!n));)t=t.__hostTarget||t.parent;return r}n.d(e,{o:function(){return r}})},"./node_modules/echarts/lib/util/format.js":function(t,e,n){"use strict";n.d(e,{A0:function(){return g},Lz:function(){return y},MI:function(){return b},MY:function(){return u},OD:function(){return s},ew:function(){return v},kF:function(){return f},mr:function(){return m},uX:function(){return c},wx:function(){return p},zW:function(){return l}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/core/dom.js"),o=n("./node_modules/echarts/lib/util/number.js"),a=n("./node_modules/echarts/lib/util/time.js");function s(t){if(!(0,o.kE)(t))return r.HD(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function l(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var u=r.MY;function c(t,e,n){function i(t){return t&&r.fy(t)?t:"-"}function l(t){return!(null==t||isNaN(t)||!isFinite(t))}var u="time"===e,c=t instanceof Date;if(u||c){var h=u?(0,o.sG)(t):t;if(!isNaN(+h))return(0,a.WU)(h,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(c)return"-"}if("ordinal"===e)return r.cd(t)?i(t):r.hj(t)&&l(t)?t+"":"-";var d=(0,o.FK)(t);return l(d)?s(d):r.cd(t)?i(t):"boolean"==typeof t?t+"":"-"}var h=["a","b","c","d","e","f","g"],d=function(t,e){return"{"+t+(null==e?"":e)+"}"};function f(t,e,n){r.kJ(e)||(e=[e]);var o=e.length;if(!o)return"";for(var a=e[0].$vars||[],s=0;s<a.length;s++){var l=h[s];t=t.replace(d(l),d(l,0))}for(var u=0;u<o;u++)for(var c=0;c<a.length;c++){var f=e[u][a[c]];t=t.replace(d(h[c],u),n?(0,i.F1)(f):f)}return t}function p(t,e,n){return r.S6(e,(function(e,r){t=t.replace("{"+r+"}",n?(0,i.F1)(e):e)})),t}function g(t,e){var n=r.HD(t)?{color:t,extraCssText:e}:t||{},o=n.color,a=n.type;e=n.extraCssText;var s=n.renderMode||"html";return o?"html"===s?"subItem"===a?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+(0,i.F1)(o)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+(0,i.F1)(o)+";"+(e||"")+'"></span>':{renderMode:s,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===a?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}:""}function m(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=(0,o.sG)(e),i=n?"getUTC":"get",s=r[i+"FullYear"](),l=r[i+"Month"]()+1,u=r[i+"Date"](),c=r[i+"Hours"](),h=r[i+"Minutes"](),d=r[i+"Seconds"](),f=r[i+"Milliseconds"]();return t=t.replace("MM",(0,a.vk)(l,2)).replace("M",l).replace("yyyy",s).replace("yy",(0,a.vk)(s%100+"",2)).replace("dd",(0,a.vk)(u,2)).replace("d",u).replace("hh",(0,a.vk)(c,2)).replace("h",c).replace("mm",(0,a.vk)(h,2)).replace("m",h).replace("ss",(0,a.vk)(d,2)).replace("s",d).replace("SSS",(0,a.vk)(f,3))}function v(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function y(t,e){return e=e||"transparent",r.HD(t)?t:r.Kn(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function b(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}},"./node_modules/echarts/lib/util/graphic.js":function(t,e,n){"use strict";n.r(e),n.d(e,{Arc:function(){return x.Z},BezierCurve:function(){return b.Z},BoundingRect:function(){return M.Z},Circle:function(){return h.Z},CompoundPath:function(){return _.Z},Ellipse:function(){return d.Z},Group:function(){return u.Z},Image:function(){return l.ZP},IncrementalDisplayable:function(){return D},Line:function(){return y.Z},LinearGradient:function(){return w.Z},OrientedBoundingRect:function(){return k.Z},Path:function(){return a.ZP},Point:function(){return E.Z},Polygon:function(){return g.Z},Polyline:function(){return m.Z},RadialGradient:function(){return S.Z},Rect:function(){return v.Z},Ring:function(){return p.Z},Sector:function(){return f.C},Text:function(){return c.ZP},applyTransform:function(){return Q},clipPointsByRect:function(){return rt},clipRectByRect:function(){return it},createIcon:function(){return ot},extendPath:function(){return G},extendShape:function(){return B},getShapeClass:function(){return Z},getTransform:function(){return J},groupTransition:function(){return nt},initProps:function(){return P.KZ},isElementRemoved:function(){return P.eq},lineLineIntersect:function(){return st},linePolygonIntersect:function(){return at},makeImage:function(){return H},makePath:function(){return U},mergePath:function(){return Y},registerShape:function(){return V},removeElement:function(){return P.bX},removeElementWithFadeOut:function(){return P.XD},resizePath:function(){return X},setTooltipConfig:function(){return ut},subPixelOptimize:function(){return $},subPixelOptimizeLine:function(){return q},subPixelOptimizeRect:function(){return K},transformDirection:function(){return tt},traverseElements:function(){return ht},updateProps:function(){return P.D}});var r=n("./node_modules/zrender/lib/tool/path.js"),i=n("./node_modules/zrender/lib/core/matrix.js"),o=n("./node_modules/zrender/lib/core/vector.js"),a=n("./node_modules/zrender/lib/graphic/Path.js"),s=n("./node_modules/zrender/lib/core/Transformable.js"),l=n("./node_modules/zrender/lib/graphic/Image.js"),u=n("./node_modules/zrender/lib/graphic/Group.js"),c=n("./node_modules/zrender/lib/graphic/Text.js"),h=n("./node_modules/zrender/lib/graphic/shape/Circle.js"),d=n("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),f=n("./node_modules/zrender/lib/graphic/shape/Sector.js"),p=n("./node_modules/zrender/lib/graphic/shape/Ring.js"),g=n("./node_modules/zrender/lib/graphic/shape/Polygon.js"),m=n("./node_modules/zrender/lib/graphic/shape/Polyline.js"),v=n("./node_modules/zrender/lib/graphic/shape/Rect.js"),y=n("./node_modules/zrender/lib/graphic/shape/Line.js"),b=n("./node_modules/zrender/lib/graphic/shape/BezierCurve.js"),x=n("./node_modules/zrender/lib/graphic/shape/Arc.js"),_=n("./node_modules/zrender/lib/graphic/CompoundPath.js"),w=n("./node_modules/zrender/lib/graphic/LinearGradient.js"),S=n("./node_modules/zrender/lib/graphic/RadialGradient.js"),M=n("./node_modules/zrender/lib/core/BoundingRect.js"),k=n("./node_modules/zrender/lib/core/OrientedBoundingRect.js"),E=n("./node_modules/zrender/lib/core/Point.js"),A=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),T=n("./node_modules/zrender/lib/graphic/Displayable.js"),I=[],C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return(0,A.ZT)(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new M.Z(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(I)),t.union(r)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++){if(this._displayables[r].contain(t,e))return!0}return!1},e}(T.ZP),D=C,N=n("./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js"),O=n("./node_modules/zrender/lib/core/util.js"),L=n("./node_modules/echarts/lib/util/innerStore.js"),P=n("./node_modules/echarts/lib/animation/basicTransition.js"),R=Math.max,j=Math.min,z={};function B(t){return a.ZP.extend(t)}var F=r.Pc;function G(t,e){return F(t,e)}function V(t,e){z[t]=e}function Z(t){if(z.hasOwnProperty(t))return z[t]}function U(t,e,n,i){var o=r.iR(t,e);return n&&("center"===i&&(n=W(n,o.getBoundingRect())),X(o,n)),o}function H(t,e,n){var r=new l.ZP({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(W(e,i))}}});return r}function W(t,e){var n,r=e.width/e.height,i=t.height*r;return n=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}var Y=r.AA;function X(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function q(t,e){return N._3(t,t,{lineWidth:e}),t}function K(t){return N.Pw(t.shape,t.shape,t.style),t}var $=N.vu;function J(t,e){for(var n=i.yR([]);t&&t!==e;)i.dC(n,t.getLocalTransform(),n),t=t.parent;return n}function Q(t,e,n){return e&&!(0,O.zG)(e)&&(e=s.ZP.getLocalTransform(e)),n&&(e=i.U_([],e)),o.Ne([],t,e)}function tt(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return o=Q(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function et(t){return!t.isGroup}function nt(t,e,n){if(t&&e){var r,i=(r={},t.traverse((function(t){et(t)&&t.anid&&(r[t.anid]=t)})),r);e.traverse((function(t){if(et(t)&&t.anid){var e=i[t.anid];if(e){var r=o(t);t.attr(o(e)),(0,P.D)(t,r,n,(0,L.A)(t).dataIndex)}}}))}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=(0,O.l7)({},t.shape)),e}}function rt(t,e){return(0,O.UI)(t,(function(t){var n=t[0];n=R(n,e.x),n=j(n,e.x+e.width);var r=t[1];return r=R(r,e.y),[n,r=j(r,e.y+e.height)]}))}function it(t,e){var n=R(t.x,e.x),r=j(t.x+t.width,e.x+e.width),i=R(t.y,e.y),o=j(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function ot(t,e,n){var r=(0,O.l7)({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),(0,O.ce)(i,n),new l.ZP(r)):U(t.replace("path://",""),r,n,"center")}function at(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(st(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function st(t,e,n,r,i,o,a,s){var l,u=n-t,c=r-e,h=a-i,d=s-o,f=lt(h,d,u,c);if((l=f)<=1e-6&&l>=-1e-6)return!1;var p=t-i,g=e-o,m=lt(p,g,u,c)/f;if(m<0||m>1)return!1;var v=lt(p,g,h,d)/f;return!(v<0||v>1)}function lt(t,e,n,r){return t*r-n*e}function ut(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=(0,O.HD)(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&(0,O.S6)((0,O.XP)(l),(function(t){(0,O.RI)(s,t)||(s[t]=l[t],s.$vars.push(t))}));var u=(0,L.A)(t.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:r,option:(0,O.ce)({content:r,formatterParams:s},i)}}function ct(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function ht(t,e){if(t)if((0,O.kJ)(t))for(var n=0;n<t.length;n++)ct(t[n],e);else ct(t,e)}V("circle",h.Z),V("ellipse",d.Z),V("sector",f.C),V("ring",p.Z),V("polygon",g.Z),V("polyline",m.Z),V("rect",v.Z),V("line",y.Z),V("bezierCurve",b.Z),V("arc",x.Z)},"./node_modules/echarts/lib/util/innerStore.js":function(t,e,n){"use strict";n.d(e,{A:function(){return r},Q:function(){return i}});var r=(0,n("./node_modules/echarts/lib/util/model.js").Yf)(),i=function(t,e,n,i){if(i){var o=r(i);o.dataIndex=n,o.dataType=e,o.seriesIndex=t,"group"===i.type&&i.traverse((function(i){var o=r(i);o.seriesIndex=t,o.dataIndex=n,o.dataType=e}))}}},"./node_modules/echarts/lib/util/layout.js":function(t,e,n){"use strict";n.d(e,{BZ:function(){return h},ME:function(){return f},QM:function(){return g},QT:function(){return b},YD:function(){return m},dt:function(){return v},gN:function(){return l},lq:function(){return d},p$:function(){return p},tE:function(){return y}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/core/BoundingRect.js"),o=n("./node_modules/echarts/lib/util/number.js"),a=n("./node_modules/echarts/lib/util/format.js"),s=r.S6,l=["left","right","top","bottom","width","height"],u=[["width","left","right"],["height","top","bottom"]];function c(t,e,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild((function(l,u){var c,h,d=l.getBoundingRect(),f=e.childAt(u+1),p=f&&f.getBoundingRect();if("horizontal"===t){var g=d.width+(p?-p.x+d.x:0);(c=o+g)>r||l.newline?(o=0,c=g,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(p?-p.y+d.y:0);(h=a+m)>i||l.newline?(o+=s+n,a=0,h=m,s=d.width):s=Math.max(s,d.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===t?o=c+n:a=h+n)}))}var h=c;r.WA(c,"vertical"),r.WA(c,"horizontal");function d(t,e,n){var r=e.width,i=e.height,s=(0,o.GM)(t.left,r),l=(0,o.GM)(t.top,i),u=(0,o.GM)(t.right,r),c=(0,o.GM)(t.bottom,i);return(isNaN(s)||isNaN(parseFloat(t.left)))&&(s=0),(isNaN(u)||isNaN(parseFloat(t.right)))&&(u=r),(isNaN(l)||isNaN(parseFloat(t.top)))&&(l=0),(isNaN(c)||isNaN(parseFloat(t.bottom)))&&(c=i),n=a.MY(n||0),{width:Math.max(u-s-n[1]-n[3],0),height:Math.max(c-l-n[0]-n[2],0)}}function f(t,e,n){n=a.MY(n||0);var r=e.width,s=e.height,l=(0,o.GM)(t.left,r),u=(0,o.GM)(t.top,s),c=(0,o.GM)(t.right,r),h=(0,o.GM)(t.bottom,s),d=(0,o.GM)(t.width,r),f=(0,o.GM)(t.height,s),p=n[2]+n[0],g=n[1]+n[3],m=t.aspect;switch(isNaN(d)&&(d=r-c-g-l),isNaN(f)&&(f=s-h-p-u),null!=m&&(isNaN(d)&&isNaN(f)&&(m>r/s?d=.8*r:f=.8*s),isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(l)&&(l=r-c-d-g),isNaN(u)&&(u=s-h-f-p),t.left||t.right){case"center":l=r/2-d/2-n[3];break;case"right":l=r-d-g}switch(t.top||t.bottom){case"middle":case"center":u=s/2-f/2-n[0];break;case"bottom":u=s-f-p}l=l||0,u=u||0,isNaN(d)&&(d=r-g-l-(c||0)),isNaN(f)&&(f=s-p-u-(h||0));var v=new i.Z(l+n[3],u+n[0],d,f);return v.margin=n,v}function p(t,e,n,o,a,s){var l,u=!a||!a.hv||a.hv[0],c=!a||!a.hv||a.hv[1],h=a&&a.boundingMode||"all";if((s=s||t).x=t.x,s.y=t.y,!u&&!c)return!1;if("raw"===h)l="group"===t.type?new i.Z(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var d=t.getLocalTransform();(l=l.clone()).applyTransform(d)}var p=f(r.ce({width:l.width,height:l.height},e),n,o),g=u?p.x-l.x:0,m=c?p.y-l.y:0;return"raw"===h?(s.x=g,s.y=m):(s.x+=g,s.y+=m),s===t&&t.markRedraw(),!0}function g(t,e){return null!=t[u[e][0]]||null!=t[u[e][1]]&&null!=t[u[e][2]]}function m(t){var e=t.layoutMode||t.constructor.layoutMode;return r.Kn(e)?e:e?{type:e}:null}function v(t,e,n){var i=n&&n.ignoreSize;!r.kJ(i)&&(i=[i,i]);var o=l(u[0],0),a=l(u[1],1);function l(n,r){var o={},a=0,l={},u=0;if(s(n,(function(e){l[e]=t[e]})),s(n,(function(t){c(e,t)&&(o[t]=l[t]=e[t]),h(o,t)&&a++,h(l,t)&&u++})),i[r])return h(e,n[1])?l[n[2]]=null:h(e,n[2])&&(l[n[1]]=null),l;if(2!==u&&a){if(a>=2)return o;for(var d=0;d<n.length;d++){var f=n[d];if(!c(o,f)&&c(t,f)){o[f]=t[f];break}}return o}return l}function c(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function d(t,e,n){s(t,(function(t){e[t]=n[t]}))}d(u[0],t,o),d(u[1],t,a)}function y(t){return b({},t)}function b(t,e){return e&&t&&s(l,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}},"./node_modules/echarts/lib/util/log.js":function(t,e,n){"use strict";n.d(e,{Sh:function(){return s},ZK:function(){return a},_y:function(){return l}});var r={},i="undefined"!=typeof console&&console.warn&&console.log;function o(t,e,n){if(i&&n){if(r[e])return;r[e]=!0}}function a(t,e){o(0,t,e)}function s(t){0}function l(t){throw new Error(t)}},"./node_modules/echarts/lib/util/model.js":function(t,e,n){"use strict";n.d(e,{C4:function(){return d},C6:function(){return T},Cc:function(){return c},Co:function(){return f},HZ:function(){return C},IL:function(){return N},O0:function(){return _},P$:function(){return D},Td:function(){return h},U5:function(){return v},U9:function(){return O},XI:function(){return w},Yf:function(){return M},ab:function(){return p},g0:function(){return x},gO:function(){return S},iP:function(){return I},kF:function(){return u},lY:function(){return b},pk:function(){return P},pm:function(){return E},pv:function(){return L},yu:function(){return y},zH:function(){return A}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/core/env.js"),o=n("./node_modules/echarts/lib/util/number.js");function a(t,e,n){return(e-t)*n+t}var s="series\0",l="\0_ec_\0";function u(t){return t instanceof Array?t:null==t?[]:[t]}function c(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var h=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function d(t){return!(0,r.Kn)(t)||(0,r.kJ)(t)||t instanceof Date?t:t.value}function f(t){return(0,r.Kn)(t)&&!(t instanceof Array)}function p(t,e,n){var i="normalMerge"===n,o="replaceMerge"===n,a="replaceAll"===n;t=t||[],e=(e||[]).slice();var l=(0,r.kW)();(0,r.S6)(e,(function(t,n){(0,r.Kn)(t)||(e[n]=null)}));var u,c,h=function(t,e,n){var r=[];if("replaceAll"===n)return r;for(var i=0;i<t.length;i++){var o=t[i];o&&null!=o.id&&e.set(o.id,i),r.push({existing:"replaceMerge"===n||b(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(t,l,n);return(i||o)&&function(t,e,n,i){(0,r.S6)(i,(function(o,a){if(o&&null!=o.id){var s=m(o.id),l=n.get(s);if(null!=l){var u=t[l];(0,r.hu)(!u.newOption,'Duplicated option on id "'+s+'".'),u.newOption=o,u.existing=e[l],i[a]=null}}}))}(h,t,l,e),i&&function(t,e){(0,r.S6)(e,(function(n,r){if(n&&null!=n.name)for(var i=0;i<t.length;i++){var o=t[i].existing;if(!t[i].newOption&&o&&(null==o.id||null==n.id)&&!b(n)&&!b(o)&&g("name",o,n))return t[i].newOption=n,void(e[r]=null)}}))}(h,e),i||o?function(t,e,n){(0,r.S6)(e,(function(e){if(e){for(var r,i=0;(r=t[i])&&(r.newOption||b(r.existing)||r.existing&&null!=e.id&&!g("id",e,r.existing));)i++;r?(r.newOption=e,r.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),i++}}))}(h,e,o):a&&function(t,e){(0,r.S6)(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}(h,e),u=h,c=(0,r.kW)(),(0,r.S6)(u,(function(t){var e=t.existing;e&&c.set(e.id,t)})),(0,r.S6)(u,(function(t){var e=t.newOption;(0,r.hu)(!e||null==e.id||!c.get(e.id)||c.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&c.set(e.id,t),!t.keyInfo&&(t.keyInfo={})})),(0,r.S6)(u,(function(t,e){var n=t.existing,i=t.newOption,o=t.keyInfo;if((0,r.Kn)(i)){if(o.name=null!=i.name?m(i.name):n?n.name:s+e,n)o.id=m(n.id);else if(null!=i.id)o.id=m(i.id);else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(c.get(o.id))}c.set(o.id,t)}})),h}function g(t,e,n){var r=v(e[t],null),i=v(n[t],null);return null!=r&&null!=i&&r===i}function m(t){return v(t,"")}function v(t,e){return null==t?e:(0,r.HD)(t)?t:(0,r.hj)(t)||(0,r.cd)(t)?t+"":e}function y(t){var e=t.name;return!(!e||!e.indexOf(s))}function b(t){return t&&null!=t.id&&0===m(t.id).indexOf(l)}function x(t){return l+t}function _(t,e,n){(0,r.S6)(t,(function(t){var i=t.newOption;(0,r.Kn)(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}(e,i,t.existing,n))}))}function w(t,e){var n={},r={};return i(t||[],n),i(e||[],r,n),[o(n),o(r)];function i(t,e,n){for(var r=0,i=t.length;r<i;r++){var o=v(t[r].seriesId,null);if(null==o)return;for(var a=u(t[r].dataIndex),s=n&&n[o],l=0,c=a.length;l<c;l++){var h=a[l];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}}function o(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var i=o(t[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}function S(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?(0,r.kJ)(e.dataIndex)?(0,r.UI)(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?(0,r.kJ)(e.name)?(0,r.UI)(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function M(){var t="__ec_inner_"+k++;return function(e){return e[t]||(e[t]={})}}var k=(0,o.jj)();function E(t,e,n){var r=A(e,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=n?n.defaultMainType:null;return!i&&s&&o.set(s,{}),o.each((function(e,r){var i=C(t,r,e,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[r+"Models"]=i.models,a[r+"Model"]=i.models[0]})),a}function A(t,e){var n;if((0,r.HD)(t)){var i={};i[t+"Index"]=0,n=i}else n=t;var o=(0,r.kW)(),a={},s=!1;return(0,r.S6)(n,(function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],l=i[1],u=(i[2]||"").toLowerCase();if(l&&u&&!(e&&e.includeMainTypes&&(0,r.cq)(e.includeMainTypes,l)<0))s=s||!!l,(o.get(l)||o.set(l,{}))[u]=t}else a[n]=t})),{mainTypeSpecified:s,queryOptionMap:o,others:a}}var T={useDefault:!0,enableAll:!1,enableNone:!1},I={useDefault:!1,enableAll:!0,enableNone:!0};function C(t,e,n,i){i=i||T;var o=n.index,a=n.id,s=n.name,l={models:null,specified:null!=o||null!=a||null!=s};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=t.getComponent(e))?[u]:[],l}return"none"===o||!1===o?((0,r.hu)(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===o&&((0,r.hu)(i.enableAll,'`"all"` is not a valid value on index option.'),o=a=s=null),l.models=t.queryComponents({mainType:e,index:o,id:a,name:s}),l)}function D(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function N(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function O(t){return"auto"===t?i.Z.domSupported?"html":"richText":t||"html"}function L(t,e){var n=(0,r.kW)(),i=[];return(0,r.S6)(t,(function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)})),{keys:i,buckets:n}}function P(t,e,n,i,s){var l=null==e||"auto"===e;if(null==i)return i;if((0,r.hj)(i)){var u=a(n||0,i,s);return(0,o.NM)(u,l?Math.max((0,o.p8)(n||0),(0,o.p8)(i)):e)}if((0,r.HD)(i))return s<1?n:i;for(var c=[],h=n,d=i,f=Math.max(h?h.length:0,d.length),p=0;p<f;++p){var g=t.getDimensionInfo(p);if(g&&"ordinal"===g.type)c[p]=(s<1&&h?h:d)[p];else{var m=h&&h[p]?h[p]:0,v=d[p];u=a(m,v,s);c[p]=(0,o.NM)(u,l?Math.max((0,o.p8)(m),(0,o.p8)(v)):e)}}return c}},"./node_modules/echarts/lib/util/number.js":function(t,e,n){"use strict";n.d(e,{FK:function(){return E},GM:function(){return s},HD:function(){return p},M9:function(){return d},NM:function(){return l},NU:function(){return a},S$:function(){return g},VR:function(){return M},Xd:function(){return _},YM:function(){return m},ZB:function(){return h},dt:function(){return u},eJ:function(){return f},jj:function(){return T},kE:function(){return A},kx:function(){return S},mW:function(){return y},nR:function(){return k},nl:function(){return C},p8:function(){return c},sG:function(){return x},wW:function(){return v},xW:function(){return w}});var r=n("./node_modules/zrender/lib/core/util.js"),i=1e-4,o=20;function a(t,e,n,r){var i=e[0],o=e[1],a=n[0],s=n[1],l=o-i,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(r)if(l>0){if(t<=i)return a;if(t>=o)return s}else{if(t>=i)return a;if(t<=o)return s}else{if(t===i)return a;if(t===o)return s}return(t-i)/l*u+a}function s(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return r.HD(t)?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function l(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),o),t=(+t).toFixed(e),n?t:+t}function u(t){return t.sort((function(t,e){return t-e})),t}function c(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return h(t)}function h(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-r)}function d(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function f(t,e,n){return t[e]&&p(t,n)[e]||0}function p(t,e){var n=r.u4(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===n)return[];for(var i=Math.pow(10,e),o=r.UI(t,(function(t){return(isNaN(t)?0:t)/n*i*100})),a=100*i,s=r.UI(o,(function(t){return Math.floor(t)})),l=r.u4(s,(function(t,e){return t+e}),0),u=r.UI(o,(function(t,e){return t-s[e]}));l<a;){for(var c=Number.NEGATIVE_INFINITY,h=null,d=0,f=u.length;d<f;++d)u[d]>c&&(c=u[d],h=d);++s[h],u[h]=0,++l}return r.UI(s,(function(t){return t/i}))}function g(t,e){var n=Math.max(c(t),c(e)),r=t+e;return n>o?r:l(r,n)}var m=9007199254740991;function v(t){var e=2*Math.PI;return(t%e+e)%e}function y(t){return t>-i&&t<i}var b=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function x(t){if(t instanceof Date)return t;if(r.HD(t)){var e=b.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function _(t){return Math.pow(10,w(t))}function w(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function S(t,e){var n=w(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t}function M(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i}function k(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!=1?t.splice(r,1):r++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]==(n?-1:1)||!n&&s(t,e,1))}}function E(t){var e=parseFloat(t);return e==t&&(0!==e||!r.HD(t)||t.indexOf("x")<=0)?e:NaN}function A(t){return!isNaN(E(t))}function T(){return Math.round(9*Math.random())}function I(t,e){return 0===e?t:I(e,t%e)}function C(t,e){return null==t?e:null==e?t:t*e/I(t,e)}},"./node_modules/echarts/lib/util/states.js":function(t,e,n){"use strict";n.d(e,{$l:function(){return tt},Av:function(){return dt},C5:function(){return it},CX:function(){return p},Gl:function(){return j},Hg:function(){return w},Ib:function(){return st},JQ:function(){return S},Ki:function(){return x},L1:function(){return m},MA:function(){return B},Mh:function(){return Z},Nj:function(){return ht},RW:function(){return pt},SJ:function(){return Y},SX:function(){return U},T5:function(){return q},UL:function(){return J},VP:function(){return H},WO:function(){return ct},XX:function(){return W},aG:function(){return gt},ci:function(){return rt},e9:function(){return vt},fD:function(){return V},iK:function(){return M},k5:function(){return at},oJ:function(){return Q},og:function(){return nt},qc:function(){return v},th:function(){return ft},vF:function(){return ot},wU:function(){return g},xp:function(){return mt},xr:function(){return et},yx:function(){return _},zI:function(){return $},zr:function(){return y}});var r=n("./node_modules/zrender/lib/core/LRU.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/echarts/lib/util/innerStore.js"),a=n("./node_modules/zrender/lib/tool/color.js"),s=n("./node_modules/echarts/lib/util/model.js"),l=n("./node_modules/zrender/lib/graphic/Path.js"),u=1,c={},h=(0,s.Yf)(),d=(0,s.Yf)(),f=0,p=1,g=2,m=["emphasis","blur","select"],v=["normal","emphasis","blur","select"],y=10,b=9,x="highlight",_="downplay",w="select",S="unselect",M="toggleSelect";function k(t){return null!=t&&"none"!==t}var E=new r.ZP(100);function A(t){if((0,i.HD)(t)){var e=E.get(t);return e||(e=a.xb(t,-.1),E.put(t,e)),e}if((0,i.Qq)(t)){var n=(0,i.l7)({},t);return n.colorStops=(0,i.UI)(t.colorStops,(function(t){return{offset:t.offset,color:a.xb(t.color,-.1)}})),n}return t}function T(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function I(t){T(t,"emphasis",g)}function C(t){t.hoverState===g&&T(t,"normal",f)}function D(t){T(t,"blur",p)}function N(t){t.hoverState===p&&T(t,"normal",f)}function O(t){t.selected=!0}function L(t){t.selected=!1}function P(t,e,n){e(t,n)}function R(t,e,n){P(t,e,n),t.isGroup&&t.traverse((function(t){P(t,e,n)}))}function j(t,e){switch(e){case"emphasis":t.hoverState=g;break;case"normal":t.hoverState=f;break;case"blur":t.hoverState=p;break;case"select":t.selected=!0}}function z(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,n,r){var o=n&&(0,i.cq)(n,"select")>=0,a=!1;if(t instanceof l.ZP){var s=h(t),u=o&&s.selectFill||s.normalFill,c=o&&s.selectStroke||s.normalStroke;if(k(u)||k(c)){var d=(r=r||{}).style||{};"inherit"===d.fill?(a=!0,r=(0,i.l7)({},r),(d=(0,i.l7)({},d)).fill=u):!k(d.fill)&&k(u)?(a=!0,r=(0,i.l7)({},r),(d=(0,i.l7)({},d)).fill=A(u)):!k(d.stroke)&&k(c)&&(a||(r=(0,i.l7)({},r),d=(0,i.l7)({},d)),d.stroke=A(c)),r.style=d}}if(r&&null==r.z2){a||(r=(0,i.l7)({},r));var f=t.z2EmphasisLift;r.z2=t.z2+(null!=f?f:y)}return r}(this,0,e,n);if("blur"===t)return function(t,e,n){var r=(0,i.cq)(t.currentStates,e)>=0,o=t.style.opacity,a=r?null:function(t,e,n,r){for(var i=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=i[s];o[s]=null==l?r&&r[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(o,e)}return o}(t,["opacity"],e,{opacity:1}),s=(n=n||{}).style||{};return null==s.opacity&&(n=(0,i.l7)({},n),s=(0,i.l7)({opacity:r?o:.1*a.opacity},s),n.style=s),n}(this,t,n);if("select"===t)return function(t,e,n){if(n&&null==n.z2){n=(0,i.l7)({},n);var r=t.z2SelectLift;n.z2=t.z2+(null!=r?r:b)}return n}(this,0,n)}return n}function B(t){t.stateProxy=z;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=z),n&&(n.stateProxy=z)}function F(t,e){!X(t,e)&&!t.__highByOuter&&R(t,I)}function G(t,e){!X(t,e)&&!t.__highByOuter&&R(t,C)}function V(t,e){t.__highByOuter|=1<<(e||0),R(t,I)}function Z(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&R(t,C)}function U(t){R(t,D)}function H(t){R(t,N)}function W(t){R(t,O)}function Y(t){R(t,L)}function X(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function q(t){var e=t.getModel(),n=[],r=[];e.eachComponent((function(e,i){var o=d(i),a="series"===e,s=a?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);!a&&r.push(s),o.isBlured&&(s.group.traverse((function(t){N(t)})),a&&n.push(i)),o.isBlured=!1})),(0,i.S6)(r,(function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)}))}function K(t,e,n,r){var o=r.getModel();function a(t,e){for(var n=0;n<e.length;n++){var r=t.getItemGraphicEl(e[n]);r&&H(r)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var s=o.getSeriesByIndex(t),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];o.eachSeries((function(t){var o=s===t,c=t.coordinateSystem;if(c&&c.master&&(c=c.master),!("series"===n&&!o||"coordinateSystem"===n&&!(c&&l?c===l:o)||"series"===e&&o)){if(r.getViewOfSeriesModel(t).group.traverse((function(t){t.__highByOuter&&o&&"self"===e||D(t)})),(0,i.zG)(e))a(t.getData(),e);else if((0,i.Kn)(e))for(var h=(0,i.XP)(e),f=0;f<h.length;f++)a(t.getData(h[f]),e[h[f]]);u.push(t),d(t).isBlured=!0}})),o.eachComponent((function(t,e){if("series"!==t){var n=r.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(u,!0,o)}}))}}function $(t,e,n){if(null!=t&&null!=e){var r=n.getModel().getComponent(t,e);if(r){d(r).isBlured=!0;var i=n.getViewOfComponentModel(r);i&&i.focusBlurEnabled&&i.group.traverse((function(t){D(t)}))}}}function J(t,e,n){var r=t.seriesIndex,a=t.getData(e.dataType);if(a){var l=(0,s.gO)(a,e);l=((0,i.kJ)(l)?l[0]:l)||0;var u=a.getItemGraphicEl(l);if(!u)for(var c=a.count(),h=0;!u&&h<c;)u=a.getItemGraphicEl(h++);if(u){var d=(0,o.A)(u);K(r,d.focus,d.blurScope,n)}else{var f=t.get(["emphasis","focus"]),p=t.get(["emphasis","blurScope"]);null!=f&&K(r,f,p,n)}}}function Q(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return i;var a=r.getModel().getComponent(t,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var l,u=s.findHighDownDispatchers(n),c=0;c<u.length;c++)if("self"===(0,o.A)(u[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:u}}function tt(t,e,n){var r=(0,o.A)(t),a=Q(r.componentMainType,r.componentIndex,r.componentHighDownName,n),s=a.dispatchers,l=a.focusSelf;s?(l&&$(r.componentMainType,r.componentIndex,n),(0,i.S6)(s,(function(t){return F(t,e)}))):(K(r.seriesIndex,r.focus,r.blurScope,n),"self"===r.focus&&$(r.componentMainType,r.componentIndex,n),F(t,e))}function et(t,e,n){q(n);var r=(0,o.A)(t),a=Q(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;a?(0,i.S6)(a,(function(t){return G(t,e)})):G(t,e)}function nt(t,e,n){if(gt(e)){var r=e.dataType,o=t.getData(r),a=(0,s.gO)(o,e);(0,i.kJ)(a)||(a=[a]),t[e.type===M?"toggleSelect":e.type===w?"select":"unselect"](a,r)}}function rt(t){var e=t.getAllData();(0,i.S6)(e,(function(e){var n=e.data,r=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,r)?W(e):Y(e)}))}))}function it(t){var e=[];return t.eachSeries((function(t){var n=t.getAllData();(0,i.S6)(n,(function(n){n.data;var r=n.type,i=t.getSelectedDataIndices();if(i.length>0){var o={dataIndex:i,seriesIndex:t.seriesIndex};null!=r&&(o.dataType=r),e.push(o)}}))})),e}function ot(t,e,n){ht(t,!0),R(t,B),st(t,e,n)}function at(t,e,n,r){r?function(t){ht(t,!1)}(t):ot(t,e,n)}function st(t,e,n){var r=(0,o.A)(t);null!=e?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var lt=["emphasis","blur","select"],ut={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ct(t,e,n,r){n=n||"itemStyle";for(var i=0;i<lt.length;i++){var o=lt[i],a=e.getModel([o,n]);t.ensureState(o).style=r?r(a):a[ut[n]]()}}function ht(t,e){var n=!1===e,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function dt(t){return!(!t||!t.__highDownDispatcher)}function ft(t,e,n){var r=(0,o.A)(t);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=n}function pt(t){var e=c[t];return null==e&&u<=32&&(e=c[t]=u++),e}function gt(t){var e=t.type;return e===w||e===S||e===M}function mt(t){var e=t.type;return e===x||e===_}function vt(t){var e=h(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}},"./node_modules/echarts/lib/util/symbol.js":function(t,e,n){"use strict";n.d(e,{Cq:function(){return S},Pw:function(){return y},th:function(){return _},zp:function(){return w}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/graphic/shape/Line.js"),a=n("./node_modules/zrender/lib/graphic/shape/Rect.js"),s=n("./node_modules/zrender/lib/graphic/shape/Circle.js"),l=n("./node_modules/echarts/lib/util/graphic.js"),u=n("./node_modules/zrender/lib/core/BoundingRect.js"),c=n("./node_modules/zrender/lib/contain/text.js"),h=n("./node_modules/echarts/lib/util/number.js"),d=i.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),f=i.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),p=i.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,h=Math.sin(u),d=Math.cos(u),f=.6*a,p=.7*a;t.moveTo(n-c,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+c-h*f,l+s+d*f,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-c+h*f,l+s+d*f,n-c,l+s),t.closePath()}}),g=i.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),m={line:o.Z,rect:a.Z,roundRect:a.Z,square:a.Z,circle:s.Z,diamond:f,pin:p,arrow:g,triangle:d},v={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},y={};(0,r.S6)(m,(function(t,e){y[e]=new t}));var b=i.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=(0,c.wI)(t,e,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===e.position&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if("none"!==r){var i=y[r];i||(i=y[r="rect"]),v[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function x(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function _(t,e,n,r,i,o,a){var s,c=0===t.indexOf("empty");return c&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?l.makeImage(t.slice(8),new u.Z(e,n,r,i),a?"center":"cover"):0===t.indexOf("path://")?l.makePath(t.slice(7),{},new u.Z(e,n,r,i),a?"center":"cover"):new b({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=c,s.setColor=x,o&&s.setColor(o),s}function w(t){return(0,r.kJ)(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function S(t,e){if(null!=t)return(0,r.kJ)(t)||(t=[t,t]),[(0,h.GM)(t[0],e[0])||0,(0,h.GM)((0,r.pD)(t[1],t[0]),e[1])||0]}},"./node_modules/echarts/lib/util/throttle.js":function(t,e,n){"use strict";n.d(e,{P2:function(){return a},T9:function(){return s},ZH:function(){return l}});var r="\0__throttleOriginMethod",i="\0__throttleRate",o="\0__throttleType";function a(t,e,n){var r,i,o,a,s,l=0,u=0,c=null;function h(){u=(new Date).getTime(),c=null,t.apply(o,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];r=(new Date).getTime(),o=this,a=t;var f=s||e,p=s||n;s=null,i=r-(p?l:u)-f,clearTimeout(c),p?c=setTimeout(h,f):i>=0?h():c=setTimeout(h,-i),l=r};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(t){s=t},d}function s(t,e,n,s){var l=t[e];if(l){var u=l[r]||l,c=l[o];if(l[i]!==n||c!==s){if(null==n||!s)return t[e]=u;(l=t[e]=a(u,n,"debounce"===s))[r]=u,l[o]=s,l[i]=n}return l}}function l(t,e){var n=t[e];n&&n[r]&&(n.clear&&n.clear(),t[e]=n[r])}},"./node_modules/echarts/lib/util/time.js":function(t,e,n){"use strict";n.d(e,{$K:function(){return b},CW:function(){return E},En:function(){return P},FW:function(){return m},MV:function(){return C},P5:function(){return h},RZ:function(){return D},Tj:function(){return y},V8:function(){return p},WT:function(){return s},WU:function(){return _},Wp:function(){return T},cb:function(){return z},dV:function(){return u},eN:function(){return R},f5:function(){return L},fn:function(){return I},k7:function(){return w},q5:function(){return M},rM:function(){return j},s2:function(){return c},sx:function(){return k},vh:function(){return O},vk:function(){return v},xC:function(){return x},xL:function(){return N},xz:function(){return A},yR:function(){return l}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/echarts/lib/util/number.js"),o=n("./node_modules/echarts/lib/core/locale.js"),a=n("./node_modules/echarts/lib/model/Model.js"),s=1e3,l=60*s,u=60*l,c=24*u,h=365*c,d={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},f="{yyyy}-{MM}-{dd}",p={year:"{yyyy}",month:"{yyyy}-{MM}",day:f,hour:f+" "+d.hour,minute:f+" "+d.minute,second:f+" "+d.second,millisecond:d.none},g=["year","month","day","hour","minute","second","millisecond"],m=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function v(t,e){return"0000".substr(0,e-(t+="").length)+t}function y(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function b(t){return t===y(t)}function x(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function _(t,e,n,r){var s=i.sG(t),l=s[k(n)](),u=s[E(n)]()+1,c=Math.floor((u-1)/3)+1,h=s[A(n)](),d=s["get"+(n?"UTC":"")+"Day"](),f=s[T(n)](),p=(f-1)%12+1,g=s[I(n)](),m=s[C(n)](),y=s[D(n)](),b=(r instanceof a.Z?r:(0,o.G8)(r||o.sO)||(0,o.Li)()).getModel("time"),x=b.get("month"),_=b.get("monthAbbr"),w=b.get("dayOfWeek"),S=b.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,v(l%100+"",2)).replace(/{Q}/g,c+"").replace(/{MMMM}/g,x[u-1]).replace(/{MMM}/g,_[u-1]).replace(/{MM}/g,v(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,v(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,w[d]).replace(/{ee}/g,S[d]).replace(/{e}/g,d+"").replace(/{HH}/g,v(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,v(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,v(g,2)).replace(/{m}/g,g+"").replace(/{ss}/g,v(m,2)).replace(/{s}/g,m+"").replace(/{SSS}/g,v(y,3)).replace(/{S}/g,y+"")}function w(t,e,n,i,o){var a=null;if(r.HD(n))a=n;else if(r.mf(n))a=n(t.value,e,{level:t.level});else{var s=r.l7({},d);if(t.level>0)for(var l=0;l<g.length;++l)s[g[l]]="{primary|"+s[g[l]]+"}";var u=n?!1===n.inherit?n:r.ce(n,s):s,c=S(t.value,o);if(u[c])a=u[c];else if(u.inherit){for(l=m.indexOf(c)-1;l>=0;--l)if(u[c]){a=u[c];break}a=a||s.none}if(r.kJ(a)){var h=null==t.level?0:t.level>=0?t.level:a.length+t.level;a=a[h=Math.min(h,a.length-1)]}}return _(new Date(t.value),a,o,i)}function S(t,e){var n=i.sG(t),r=n[E(e)]()+1,o=n[A(e)](),a=n[T(e)](),s=n[I(e)](),l=n[C(e)](),u=0===n[D(e)](),c=u&&0===l,h=c&&0===s,d=h&&0===a,f=d&&1===o;return f&&1===r?"year":f?"month":d?"day":h?"hour":c?"minute":u?"second":"millisecond"}function M(t,e,n){var o=r.hj(t)?i.sG(t):t;switch(e=e||S(t,n)){case"year":return o[k(n)]();case"half-year":return o[E(n)]()>=6?1:0;case"quarter":return Math.floor((o[E(n)]()+1)/4);case"month":return o[E(n)]();case"day":return o[A(n)]();case"half-day":return o[T(n)]()/24;case"hour":return o[T(n)]();case"minute":return o[I(n)]();case"second":return o[C(n)]();case"millisecond":return o[D(n)]()}}function k(t){return t?"getUTCFullYear":"getFullYear"}function E(t){return t?"getUTCMonth":"getMonth"}function A(t){return t?"getUTCDate":"getDate"}function T(t){return t?"getUTCHours":"getHours"}function I(t){return t?"getUTCMinutes":"getMinutes"}function C(t){return t?"getUTCSeconds":"getSeconds"}function D(t){return t?"getUTCMilliseconds":"getMilliseconds"}function N(t){return t?"setUTCFullYear":"setFullYear"}function O(t){return t?"setUTCMonth":"setMonth"}function L(t){return t?"setUTCDate":"setDate"}function P(t){return t?"setUTCHours":"setHours"}function R(t){return t?"setUTCMinutes":"setMinutes"}function j(t){return t?"setUTCSeconds":"setSeconds"}function z(t){return t?"setUTCMilliseconds":"setMilliseconds"}},"./node_modules/echarts/lib/util/types.js":function(t,e,n){"use strict";n.d(e,{J5:function(){return l},RA:function(){return u},Wc:function(){return h},XD:function(){return o},cy:function(){return i},f7:function(){return r},fY:function(){return c},hL:function(){return s},qb:function(){return a}});var r=(0,n("./node_modules/zrender/lib/core/util.js").kW)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),i="original",o="arrayRows",a="objectRows",s="keyedColumns",l="typedArray",u="unknown",c="column",h="row"},"./node_modules/echarts/lib/util/vendor.js":function(t,e,n){"use strict";n.d(e,{o:function(){return a}});var r=n("./node_modules/zrender/lib/core/util.js"),i="undefined"!=typeof Float32Array,o=i?Float32Array:Array;function a(t){return(0,r.kJ)(t)?i?new Float32Array(t):t:new o(t)}},"./node_modules/echarts/lib/view/Chart.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/graphic/Group.js"),o=n("./node_modules/echarts/lib/util/component.js"),a=n("./node_modules/echarts/lib/util/clazz.js"),s=n("./node_modules/echarts/lib/util/model.js"),l=n("./node_modules/echarts/lib/util/states.js"),u=n("./node_modules/echarts/lib/core/task.js"),c=n("./node_modules/echarts/lib/chart/helper/createRenderPlanner.js"),h=n("./node_modules/echarts/lib/util/graphic.js"),d=s.Yf(),f=(0,c.Z)(),p=function(){function t(){this.group=new i.Z,this.uid=o.Kr("viewChart"),this.renderTask=(0,u.v)({plan:v,reset:y}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){0},t.prototype.highlight=function(t,e,n,r){var i=t.getData(r&&r.dataType);i&&m(i,r,"emphasis")},t.prototype.downplay=function(t,e,n,r){var i=t.getData(r&&r.dataType);i&&m(i,r,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.eachRendered=function(t){(0,h.traverseElements)(this.group,t)},t.markUpdateMethod=function(t,e){d(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function g(t,e,n){t&&(0,l.Av)(t)&&("emphasis"===e?l.fD:l.Mh)(t,n)}function m(t,e,n){var i=s.gO(t,e),o=e&&null!=e.highlightKey?(0,l.RW)(e.highlightKey):null;null!=i?(0,r.S6)(s.kF(i),(function(e){g(t.getItemGraphicEl(e),n,o)})):t.eachItemGraphicEl((function(t){g(t,n,o)}))}function v(t){return f(t.model)}function y(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&d(i).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,n,r,i),b[l]}a.dm(p,["dispose"]),a.au(p);var b={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};e.Z=p},"./node_modules/echarts/lib/view/Component.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/graphic/Group.js"),i=n("./node_modules/echarts/lib/util/component.js"),o=n("./node_modules/echarts/lib/util/clazz.js"),a=function(){function t(){this.group=new r.Z,this.uid=i.Kr("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){},t.prototype.updateLayout=function(t,e,n,r){},t.prototype.updateVisual=function(t,e,n,r){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();o.dm(a),o.au(a),e.Z=a},"./node_modules/echarts/lib/visual/helper.js":function(t,e,n){"use strict";function r(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function i(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function o(t,e,n,r){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r)}}n.d(e,{LZ:function(){return o},Or:function(){return r},UL:function(){return i}})},"./node_modules/echarts/node_modules/tslib/tslib.es6.js":function(t,e,n){"use strict";n.d(e,{ZT:function(){return i}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create},"./node_modules/highlight.js/scss/atom-one-dark.scss":function(){},"./node_modules/katex/dist/katex.min.css":function(){},"./node_modules/gl-matrix/esm/common.js":function(t,e,n){"use strict";n.r(e),n.d(e,{ARRAY_TYPE:function(){return i},EPSILON:function(){return r},RANDOM:function(){return o},equals:function(){return u},setMatrixArrayType:function(){return a},toRadian:function(){return l}});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;function a(t){i=t}var s=Math.PI/180;function l(t){return t*s}function u(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},"./node_modules/gl-matrix/esm/index.js":function(t,e,n){"use strict";n.r(e),n.d(e,{glMatrix:function(){return u},mat2:function(){return r},mat2d:function(){return i},mat3:function(){return st},mat4:function(){return o},quat:function(){return s},quat2:function(){return l},vec2:function(){return kr},vec3:function(){return oe},vec4:function(){return a}});var r={};n.r(r),n.d(r,{LDU:function(){return A},add:function(){return T},adjoint:function(){return y},clone:function(){return h},copy:function(){return d},create:function(){return c},determinant:function(){return b},equals:function(){return D},exactEquals:function(){return C},frob:function(){return E},fromRotation:function(){return S},fromScaling:function(){return M},fromValues:function(){return p},identity:function(){return f},invert:function(){return v},mul:function(){return L},multiply:function(){return x},multiplyScalar:function(){return N},multiplyScalarAndAdd:function(){return O},rotate:function(){return _},scale:function(){return w},set:function(){return g},str:function(){return k},sub:function(){return P},subtract:function(){return I},transpose:function(){return m}});var i={};n.r(i),n.d(i,{add:function(){return Q},clone:function(){return j},copy:function(){return z},create:function(){return R},determinant:function(){return Z},equals:function(){return it},exactEquals:function(){return rt},frob:function(){return J},fromRotation:function(){return X},fromScaling:function(){return q},fromTranslation:function(){return K},fromValues:function(){return F},identity:function(){return B},invert:function(){return V},mul:function(){return ot},multiply:function(){return U},multiplyScalar:function(){return et},multiplyScalarAndAdd:function(){return nt},rotate:function(){return H},scale:function(){return W},set:function(){return G},str:function(){return $},sub:function(){return at},subtract:function(){return tt},translate:function(){return Y}});var o={};n.r(o),n.d(o,{add:function(){return $t},adjoint:function(){return mt},clone:function(){return ut},copy:function(){return ct},create:function(){return lt},determinant:function(){return vt},equals:function(){return ne},exactEquals:function(){return ee},frob:function(){return Kt},fromQuat:function(){return zt},fromQuat2:function(){return Nt},fromRotation:function(){return At},fromRotationTranslation:function(){return Dt},fromRotationTranslationScale:function(){return Rt},fromRotationTranslationScaleOrigin:function(){return jt},fromScaling:function(){return Et},fromTranslation:function(){return kt},fromValues:function(){return ht},fromXRotation:function(){return Tt},fromYRotation:function(){return It},fromZRotation:function(){return Ct},frustum:function(){return Bt},getRotation:function(){return Pt},getScaling:function(){return Lt},getTranslation:function(){return Ot},identity:function(){return ft},invert:function(){return gt},lookAt:function(){return Yt},mul:function(){return re},multiply:function(){return yt},multiplyScalar:function(){return Qt},multiplyScalarAndAdd:function(){return te},ortho:function(){return Ht},orthoNO:function(){return Ut},orthoZO:function(){return Wt},perspective:function(){return Gt},perspectiveFromFieldOfView:function(){return Zt},perspectiveNO:function(){return Ft},perspectiveZO:function(){return Vt},rotate:function(){return _t},rotateX:function(){return wt},rotateY:function(){return St},rotateZ:function(){return Mt},scale:function(){return xt},set:function(){return dt},str:function(){return qt},sub:function(){return ie},subtract:function(){return Jt},targetTo:function(){return Xt},translate:function(){return bt},transpose:function(){return pt}});var a={};n.r(a),n.d(a,{add:function(){return he},ceil:function(){return ge},clone:function(){return se},copy:function(){return ue},create:function(){return ae},cross:function(){return Ce},dist:function(){return Ze},distance:function(){return we},div:function(){return Ve},divide:function(){return pe},dot:function(){return Ie},equals:function(){return ze},exactEquals:function(){return je},floor:function(){return me},forEach:function(){return Ye},fromValues:function(){return le},inverse:function(){return Ae},len:function(){return He},length:function(){return Me},lerp:function(){return De},max:function(){return ye},min:function(){return ve},mul:function(){return Ge},multiply:function(){return fe},negate:function(){return Ee},normalize:function(){return Te},random:function(){return Ne},round:function(){return be},scale:function(){return xe},scaleAndAdd:function(){return _e},set:function(){return ce},sqrDist:function(){return Ue},sqrLen:function(){return We},squaredDistance:function(){return Se},squaredLength:function(){return ke},str:function(){return Re},sub:function(){return Fe},subtract:function(){return de},transformMat4:function(){return Oe},transformQuat:function(){return Le},zero:function(){return Pe}});var s={};n.r(s),n.d(s,{add:function(){return kn},calculateW:function(){return rn},clone:function(){return _n},conjugate:function(){return hn},copy:function(){return Sn},create:function(){return Xe},dot:function(){return Tn},equals:function(){return Rn},exactEquals:function(){return Pn},exp:function(){return on},fromEuler:function(){return fn},fromMat3:function(){return dn},fromValues:function(){return wn},getAngle:function(){return Je},getAxisAngle:function(){return $e},identity:function(){return qe},invert:function(){return cn},len:function(){return Dn},length:function(){return Cn},lerp:function(){return In},ln:function(){return an},mul:function(){return En},multiply:function(){return Qe},normalize:function(){return Ln},pow:function(){return sn},random:function(){return un},rotateX:function(){return tn},rotateY:function(){return en},rotateZ:function(){return nn},rotationTo:function(){return jn},scale:function(){return An},set:function(){return Mn},setAxes:function(){return Bn},setAxisAngle:function(){return Ke},slerp:function(){return ln},sqlerp:function(){return zn},sqrLen:function(){return On},squaredLength:function(){return Nn},str:function(){return pn}});var l={};n.r(l),n.d(l,{add:function(){return ur},clone:function(){return Gn},conjugate:function(){return mr},copy:function(){return Xn},create:function(){return Fn},dot:function(){return fr},equals:function(){return Mr},exactEquals:function(){return Sr},fromMat4:function(){return Yn},fromRotation:function(){return Wn},fromRotationTranslation:function(){return Un},fromRotationTranslationValues:function(){return Zn},fromTranslation:function(){return Hn},fromValues:function(){return Vn},getDual:function(){return Jn},getReal:function(){return $n},getTranslation:function(){return er},identity:function(){return qn},invert:function(){return gr},len:function(){return yr},length:function(){return vr},lerp:function(){return pr},mul:function(){return hr},multiply:function(){return cr},normalize:function(){return _r},rotateAroundAxis:function(){return lr},rotateByQuatAppend:function(){return ar},rotateByQuatPrepend:function(){return sr},rotateX:function(){return rr},rotateY:function(){return ir},rotateZ:function(){return or},scale:function(){return dr},set:function(){return Kn},setDual:function(){return tr},setReal:function(){return Qn},sqrLen:function(){return xr},squaredLength:function(){return br},str:function(){return wr},translate:function(){return nr}});var u=n("./node_modules/gl-matrix/esm/common.js");function c(){var t=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function h(t){var e=new u.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function p(t,e,n,r){var i=new u.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function g(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function m(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function y(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function b(t){return t[0]*t[3]-t[2]*t[1]}function x(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*s+o*l,t[1]=i*s+a*l,t[2]=r*u+o*c,t[3]=i*u+a*c,t}function _(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t}function w(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*l,t[3]=a*l,t}function S(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function k(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function E(t){return Math.hypot(t[0],t[1],t[2],t[3])}function A(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function T(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function D(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=e[2],c=e[3];return Math.abs(n-a)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=u.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function N(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function O(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var L=x,P=I;function R(){var t=new u.ARRAY_TYPE(6);return u.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function j(t){var e=new u.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function z(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function B(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function F(t,e,n,r,i,o){var a=new u.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function G(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function V(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=n*o-r*i;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-o*a)*l,t[5]=(r*a-n*s)*l,t):null}function Z(t){return t[0]*t[3]-t[1]*t[2]}function U(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1],h=n[2],d=n[3],f=n[4],p=n[5];return t[0]=r*u+o*c,t[1]=i*u+a*c,t[2]=r*h+o*d,t[3]=i*h+a*d,t[4]=r*f+o*p+s,t[5]=i*f+a*p+l,t}function H(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*u,t[1]=i*c+a*u,t[2]=r*-u+o*c,t[3]=i*-u+a*c,t[4]=s,t[5]=l,t}function W(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r*u,t[1]=i*u,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=l,t}function Y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*u+o*c+s,t[5]=i*u+a*c+l,t}function X(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function q(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function K(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function $(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function J(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function Q(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function tt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function nt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function rt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function it(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=e[0],c=e[1],h=e[2],d=e[3],f=e[4],p=e[5];return Math.abs(n-l)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-h)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-d)<=u.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-f)<=u.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-p)<=u.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))}var ot=U,at=tt,st=n("./node_modules/gl-matrix/esm/mat3.js");function lt(){var t=new u.ARRAY_TYPE(16);return u.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function ut(t){var e=new u.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ct(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ht(t,e,n,r,i,o,a,s,l,c,h,d,f,p,g,m){var v=new u.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=l,v[9]=c,v[10]=h,v[11]=d,v[12]=f,v[13]=p,v[14]=g,v[15]=m,v}function dt(t,e,n,r,i,o,a,s,l,u,c,h,d,f,p,g,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=d,t[12]=f,t[13]=p,t[14]=g,t[15]=m,t}function ft(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pt(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function gt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,S=i*u-o*l,M=c*g-h*p,k=c*m-d*p,E=c*v-f*p,A=h*m-d*g,T=h*v-f*g,I=d*v-f*m,C=y*I-b*T+x*A+_*E-w*k+S*M;return C?(C=1/C,t[0]=(s*I-l*T+u*A)*C,t[1]=(i*T-r*I-o*A)*C,t[2]=(g*S-m*w+v*_)*C,t[3]=(d*w-h*S-f*_)*C,t[4]=(l*E-a*I-u*k)*C,t[5]=(n*I-i*E+o*k)*C,t[6]=(m*x-p*S-v*b)*C,t[7]=(c*S-d*x+f*b)*C,t[8]=(a*T-s*E+u*M)*C,t[9]=(r*E-n*T-o*M)*C,t[10]=(p*w-g*x+v*y)*C,t[11]=(h*x-c*w-f*y)*C,t[12]=(s*k-a*A-l*M)*C,t[13]=(n*A-r*k+i*M)*C,t[14]=(g*b-p*_-m*y)*C,t[15]=(c*_-h*b+d*y)*C,t):null}function mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(d*v-f*m)-h*(l*v-u*m)+g*(l*f-u*d),t[1]=-(r*(d*v-f*m)-h*(i*v-o*m)+g*(i*f-o*d)),t[2]=r*(l*v-u*m)-s*(i*v-o*m)+g*(i*u-o*l),t[3]=-(r*(l*f-u*d)-s*(i*f-o*d)+h*(i*u-o*l)),t[4]=-(a*(d*v-f*m)-c*(l*v-u*m)+p*(l*f-u*d)),t[5]=n*(d*v-f*m)-c*(i*v-o*m)+p*(i*f-o*d),t[6]=-(n*(l*v-u*m)-a*(i*v-o*m)+p*(i*u-o*l)),t[7]=n*(l*f-u*d)-a*(i*f-o*d)+c*(i*u-o*l),t[8]=a*(h*v-f*g)-c*(s*v-u*g)+p*(s*f-u*h),t[9]=-(n*(h*v-f*g)-c*(r*v-o*g)+p*(r*f-o*h)),t[10]=n*(s*v-u*g)-a*(r*v-o*g)+p*(r*u-o*s),t[11]=-(n*(s*f-u*h)-a*(r*f-o*h)+c*(r*u-o*s)),t[12]=-(a*(h*m-d*g)-c*(s*m-l*g)+p*(s*d-l*h)),t[13]=n*(h*m-d*g)-c*(r*m-i*g)+p*(r*d-i*h),t[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+p*(r*l-i*s)),t[15]=n*(s*d-l*h)-a*(r*d-i*h)+c*(r*l-i*s),t}function vt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15];return(e*a-n*o)*(h*m-d*g)-(e*s-r*o)*(c*m-d*p)+(e*l-i*o)*(c*g-h*p)+(n*s-r*a)*(u*m-d*f)-(n*l-i*a)*(u*g-h*f)+(r*l-i*s)*(u*p-c*f)}function yt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=n[0],x=n[1],_=n[2],w=n[3];return t[0]=b*r+x*s+_*h+w*g,t[1]=b*i+x*l+_*d+w*m,t[2]=b*o+x*u+_*f+w*v,t[3]=b*a+x*c+_*p+w*y,b=n[4],x=n[5],_=n[6],w=n[7],t[4]=b*r+x*s+_*h+w*g,t[5]=b*i+x*l+_*d+w*m,t[6]=b*o+x*u+_*f+w*v,t[7]=b*a+x*c+_*p+w*y,b=n[8],x=n[9],_=n[10],w=n[11],t[8]=b*r+x*s+_*h+w*g,t[9]=b*i+x*l+_*d+w*m,t[10]=b*o+x*u+_*f+w*v,t[11]=b*a+x*c+_*p+w*y,b=n[12],x=n[13],_=n[14],w=n[15],t[12]=b*r+x*s+_*h+w*g,t[13]=b*i+x*l+_*d+w*m,t[14]=b*o+x*u+_*f+w*v,t[15]=b*a+x*c+_*p+w*y,t}function bt(t,e,n){var r,i,o,a,s,l,u,c,h,d,f,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=f,t[11]=p,t[12]=r*g+s*m+h*v+e[12],t[13]=i*g+l*m+d*v+e[13],t[14]=o*g+u*m+f*v+e[14],t[15]=a*g+c*m+p*v+e[15]),t}function xt(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function _t(t,e,n,r){var i,o,a,s,l,c,h,d,f,p,g,m,v,y,b,x,_,w,S,M,k,E,A,T,I=r[0],C=r[1],D=r[2],N=Math.hypot(I,C,D);return N<u.EPSILON?null:(I*=N=1/N,C*=N,D*=N,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],l=e[1],c=e[2],h=e[3],d=e[4],f=e[5],p=e[6],g=e[7],m=e[8],v=e[9],y=e[10],b=e[11],x=I*I*a+o,_=C*I*a+D*i,w=D*I*a-C*i,S=I*C*a-D*i,M=C*C*a+o,k=D*C*a+I*i,E=I*D*a+C*i,A=C*D*a-I*i,T=D*D*a+o,t[0]=s*x+d*_+m*w,t[1]=l*x+f*_+v*w,t[2]=c*x+p*_+y*w,t[3]=h*x+g*_+b*w,t[4]=s*S+d*M+m*k,t[5]=l*S+f*M+v*k,t[6]=c*S+p*M+y*k,t[7]=h*S+g*M+b*k,t[8]=s*E+d*A+m*T,t[9]=l*E+f*A+v*T,t[10]=c*E+p*A+y*T,t[11]=h*E+g*A+b*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function wt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=l*i+d*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=d*i-l*r,t}function St(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=l*i-d*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=l*r+d*i,t}function Mt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=l*i+d*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=d*i-l*r,t}function kt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Et(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function At(t,e,n){var r,i,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<u.EPSILON?null:(a*=c=1/c,s*=c,l*=c,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+l*r,t[2]=l*a*o-s*r,t[3]=0,t[4]=a*s*o-l*r,t[5]=s*s*o+i,t[6]=l*s*o+a*r,t[7]=0,t[8]=a*l*o+s*r,t[9]=s*l*o-a*r,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Tt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function It(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ct(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Dt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,u=o+o,c=r*s,h=r*l,d=r*u,f=i*l,p=i*u,g=o*u,m=a*s,v=a*l,y=a*u;return t[0]=1-(f+g),t[1]=h+y,t[2]=d-v,t[3]=0,t[4]=h-y,t[5]=1-(c+g),t[6]=p+m,t[7]=0,t[8]=d+v,t[9]=p-m,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Nt(t,e){var n=new u.ARRAY_TYPE(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(s*a+h*r+l*o-c*i)/d,n[1]=2*(l*a+h*i+c*r-s*o)/d,n[2]=2*(c*a+h*o+s*i-l*r)/d):(n[0]=2*(s*a+h*r+l*o-c*i),n[1]=2*(l*a+h*i+c*r-s*o),n[2]=2*(c*a+h*o+s*i-l*r)),Dt(t,e,n),t}function Ot(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Lt(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,u,c),t}function Pt(t,e){var n=new u.ARRAY_TYPE(3);Lt(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,l=e[2]*o,c=e[4]*r,h=e[5]*i,d=e[6]*o,f=e[8]*r,p=e[9]*i,g=e[10]*o,m=a+h+g,v=0;return m>0?(v=2*Math.sqrt(m+1),t[3]=.25*v,t[0]=(d-p)/v,t[1]=(f-l)/v,t[2]=(s-c)/v):a>h&&a>g?(v=2*Math.sqrt(1+a-h-g),t[3]=(d-p)/v,t[0]=.25*v,t[1]=(s+c)/v,t[2]=(f+l)/v):h>g?(v=2*Math.sqrt(1+h-a-g),t[3]=(f-l)/v,t[0]=(s+c)/v,t[1]=.25*v,t[2]=(d+p)/v):(v=2*Math.sqrt(1+g-a-h),t[3]=(s-c)/v,t[0]=(f+l)/v,t[1]=(d+p)/v,t[2]=.25*v),t}function Rt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,u=o+o,c=a+a,h=i*l,d=i*u,f=i*c,p=o*u,g=o*c,m=a*c,v=s*l,y=s*u,b=s*c,x=r[0],_=r[1],w=r[2];return t[0]=(1-(p+m))*x,t[1]=(d+b)*x,t[2]=(f-y)*x,t[3]=0,t[4]=(d-b)*_,t[5]=(1-(h+m))*_,t[6]=(g+v)*_,t[7]=0,t[8]=(f+y)*w,t[9]=(g-v)*w,t[10]=(1-(h+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function jt(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],u=o+o,c=a+a,h=s+s,d=o*u,f=o*c,p=o*h,g=a*c,m=a*h,v=s*h,y=l*u,b=l*c,x=l*h,_=r[0],w=r[1],S=r[2],M=i[0],k=i[1],E=i[2],A=(1-(g+v))*_,T=(f+x)*_,I=(p-b)*_,C=(f-x)*w,D=(1-(d+v))*w,N=(m+y)*w,O=(p+b)*S,L=(m-y)*S,P=(1-(d+g))*S;return t[0]=A,t[1]=T,t[2]=I,t[3]=0,t[4]=C,t[5]=D,t[6]=N,t[7]=0,t[8]=O,t[9]=L,t[10]=P,t[11]=0,t[12]=n[0]+M-(A*M+C*k+O*E),t[13]=n[1]+k-(T*M+D*k+L*E),t[14]=n[2]+E-(I*M+N*k+P*E),t[15]=1,t}function zt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,h=r*s,d=i*a,f=i*s,p=i*l,g=o*a,m=o*s,v=o*l;return t[0]=1-h-p,t[1]=c+v,t[2]=d-m,t[3]=0,t[4]=c-v,t[5]=1-u-p,t[6]=f+g,t[7]=0,t[8]=d+m,t[9]=f-g,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Bt(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function Ft(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var Gt=Ft;function Vt(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function Zt(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ut(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}var Ht=Ut;function Wt(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=o*u,t[15]=1,t}function Yt(t,e,n,r){var i,o,a,s,l,c,h,d,f,p,g=e[0],m=e[1],v=e[2],y=r[0],b=r[1],x=r[2],_=n[0],w=n[1],S=n[2];return Math.abs(g-_)<u.EPSILON&&Math.abs(m-w)<u.EPSILON&&Math.abs(v-S)<u.EPSILON?ft(t):(h=g-_,d=m-w,f=v-S,i=b*(f*=p=1/Math.hypot(h,d,f))-x*(d*=p),o=x*(h*=p)-y*f,a=y*d-b*h,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=d*a-f*o,l=f*i-h*a,c=h*o-d*i,(p=Math.hypot(s,l,c))?(s*=p=1/p,l*=p,c*=p):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=h,t[3]=0,t[4]=o,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*g+o*m+a*v),t[13]=-(s*g+l*m+c*v),t[14]=-(h*g+d*m+f*v),t[15]=1,t)}function Xt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],u=r[2],c=i-n[0],h=o-n[1],d=a-n[2],f=c*c+h*h+d*d;f>0&&(c*=f=1/Math.sqrt(f),h*=f,d*=f);var p=l*d-u*h,g=u*c-s*d,m=s*h-l*c;return(f=p*p+g*g+m*m)>0&&(p*=f=1/Math.sqrt(f),g*=f,m*=f),t[0]=p,t[1]=g,t[2]=m,t[3]=0,t[4]=h*m-d*g,t[5]=d*p-c*m,t[6]=c*g-h*p,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function qt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Kt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function $t(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Jt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Qt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function te(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function ee(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ne(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=e[0],x=e[1],_=e[2],w=e[3],S=e[4],M=e[5],k=e[6],E=e[7],A=e[8],T=e[9],I=e[10],C=e[11],D=e[12],N=e[13],O=e[14],L=e[15];return Math.abs(n-b)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-_)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=u.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-S)<=u.EPSILON*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-M)<=u.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(l-k)<=u.EPSILON*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(c-E)<=u.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(h-A)<=u.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-T)<=u.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(f-I)<=u.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(p-C)<=u.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(g-D)<=u.EPSILON*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(m-N)<=u.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(v-O)<=u.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(y-L)<=u.EPSILON*Math.max(1,Math.abs(y),Math.abs(L))}var re=yt,ie=Jt,oe=n("./node_modules/gl-matrix/esm/vec3.js");function ae(){var t=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function se(t){var e=new u.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function le(t,e,n,r){var i=new u.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function ue(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function ce(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function he(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function de(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function fe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function pe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function ge(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function me(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function ve(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function ye(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function be(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function xe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function _e(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function we(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function Se(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function Me(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function ke(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function Ee(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Ae(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function Te(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function Ie(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ce(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],l=n[1]*r[3]-n[3]*r[1],u=n[2]*r[3]-n[3]*r[2],c=e[0],h=e[1],d=e[2],f=e[3];return t[0]=h*u-d*l+f*s,t[1]=-c*u+d*a-f*o,t[2]=c*l-h*a+f*i,t[3]=-c*s+h*o-d*i,t}function De(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function Ne(t,e){var n,r,i,o,a,s;e=e||1;do{a=(n=2*u.RANDOM()-1)*n+(r=2*u.RANDOM()-1)*r}while(a>=1);do{s=(i=2*u.RANDOM()-1)*i+(o=2*u.RANDOM()-1)*o}while(s>=1);var l=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*l,t[3]=e*o*l,t}function Oe(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function Le(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,h=u*i+l*r-a*o,d=u*o+a*i-s*r,f=-a*r-s*i-l*o;return t[0]=c*u+f*-a+h*-l-d*-s,t[1]=h*u+f*-s+d*-a-c*-l,t[2]=d*u+f*-l+c*-s-h*-a,t[3]=e[3],t}function Pe(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Re(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function je(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function ze(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=e[2],c=e[3];return Math.abs(n-a)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=u.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var Be,Fe=de,Ge=fe,Ve=pe,Ze=we,Ue=Se,He=Me,We=ke,Ye=(Be=ae(),function(t,e,n,r,i,o){var a,s;for(e||(e=4),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)Be[0]=t[a],Be[1]=t[a+1],Be[2]=t[a+2],Be[3]=t[a+3],i(Be,Be,o),t[a]=Be[0],t[a+1]=Be[1],t[a+2]=Be[2],t[a+3]=Be[3];return t});function Xe(){var t=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function qe(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ke(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function $e(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>u.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Je(t,e){var n=Tn(t,e);return Math.acos(2*n*n-1)}function Qe(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,t}function tn(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=o*l-i*s,t[3]=a*l-r*s,t}function en(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*s,t[1]=i*l+a*s,t[2]=o*l+r*s,t[3]=a*l-i*s,t}function nn(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t}function rn(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function on(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),l=a>0?s*Math.sin(a)/a:0;return t[0]=n*l,t[1]=r*l,t[2]=i*l,t[3]=s*Math.cos(a),t}function an(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function sn(t,e,n){return an(t,e),An(t,t,n),on(t,t),t}function ln(t,e,n,r){var i,o,a,s,l,c=e[0],h=e[1],d=e[2],f=e[3],p=n[0],g=n[1],m=n[2],v=n[3];return(o=c*p+h*g+d*m+f*v)<0&&(o=-o,p=-p,g=-g,m=-m,v=-v),1-o>u.EPSILON?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),t[0]=s*c+l*p,t[1]=s*h+l*g,t[2]=s*d+l*m,t[3]=s*f+l*v,t}function un(t){var e=u.RANDOM(),n=u.RANDOM(),r=u.RANDOM(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function cn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function hn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function dn(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function fn(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return t[0]=o*l*c-a*s*u,t[1]=a*s*c+o*l*u,t[2]=a*l*u-o*s*c,t[3]=a*l*c+o*s*u,t}function pn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var gn,mn,vn,yn,bn,xn,_n=se,wn=le,Sn=ue,Mn=ce,kn=he,En=Qe,An=xe,Tn=Ie,In=De,Cn=Me,Dn=Cn,Nn=ke,On=Nn,Ln=Te,Pn=je,Rn=ze,jn=(gn=oe.create(),mn=oe.fromValues(1,0,0),vn=oe.fromValues(0,1,0),function(t,e,n){var r=oe.dot(e,n);return r<-.999999?(oe.cross(gn,mn,e),oe.len(gn)<1e-6&&oe.cross(gn,vn,e),oe.normalize(gn,gn),Ke(t,gn,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(oe.cross(gn,e,n),t[0]=gn[0],t[1]=gn[1],t[2]=gn[2],t[3]=1+r,Ln(t,t))}),zn=(yn=Xe(),bn=Xe(),function(t,e,n,r,i,o){return ln(yn,e,i,o),ln(bn,n,r,o),ln(t,yn,bn,2*o*(1-o)),t}),Bn=(xn=st.create(),function(t,e,n,r){return xn[0]=n[0],xn[3]=n[1],xn[6]=n[2],xn[1]=r[0],xn[4]=r[1],xn[7]=r[2],xn[2]=-e[0],xn[5]=-e[1],xn[8]=-e[2],Ln(t,dn(t,xn))});function Fn(){var t=new u.ARRAY_TYPE(8);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function Gn(t){var e=new u.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Vn(t,e,n,r,i,o,a,s){var l=new u.ARRAY_TYPE(8);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l}function Zn(t,e,n,r,i,o,a){var s=new u.ARRAY_TYPE(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var l=.5*i,c=.5*o,h=.5*a;return s[4]=l*r+c*n-h*e,s[5]=c*r+h*t-l*n,s[6]=h*r+l*e-c*t,s[7]=-l*t-c*e-h*n,s}function Un(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=e[0],s=e[1],l=e[2],u=e[3];return t[0]=a,t[1]=s,t[2]=l,t[3]=u,t[4]=r*u+i*l-o*s,t[5]=i*u+o*a-r*l,t[6]=o*u+r*s-i*a,t[7]=-r*a-i*s-o*l,t}function Hn(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Wn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Yn(t,e){var n=Xe();Pt(n,e);var r=new u.ARRAY_TYPE(3);return Ot(r,e),Un(t,n,r),t}function Xn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function qn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Kn(t,e,n,r,i,o,a,s,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t}var $n=Sn;function Jn(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Qn=Sn;function tr(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function er(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],l=-e[2],u=e[3];return t[0]=2*(n*u+o*a+r*l-i*s),t[1]=2*(r*u+o*s+i*a-n*l),t[2]=2*(i*u+o*l+n*s-r*a),t}function nr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=.5*n[0],l=.5*n[1],u=.5*n[2],c=e[4],h=e[5],d=e[6],f=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*u-o*l+c,t[5]=a*l+o*s-r*u+h,t[6]=a*u+r*l-i*s+d,t[7]=-r*s-i*l-o*u+f,t}function rr(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=s*a+c*r+l*o-u*i,d=l*a+c*i+u*r-s*o,f=u*a+c*o+s*i-l*r,p=c*a-s*r-l*i-u*o;return tn(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+d*o-f*i,t[5]=d*a+p*i+f*r-h*o,t[6]=f*a+p*o+h*i-d*r,t[7]=p*a-h*r-d*i-f*o,t}function ir(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=s*a+c*r+l*o-u*i,d=l*a+c*i+u*r-s*o,f=u*a+c*o+s*i-l*r,p=c*a-s*r-l*i-u*o;return en(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+d*o-f*i,t[5]=d*a+p*i+f*r-h*o,t[6]=f*a+p*o+h*i-d*r,t[7]=p*a-h*r-d*i-f*o,t}function or(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=s*a+c*r+l*o-u*i,d=l*a+c*i+u*r-s*o,f=u*a+c*o+s*i-l*r,p=c*a-s*r-l*i-u*o;return nn(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+d*o-f*i,t[5]=d*a+p*i+f*r-h*o,t[6]=f*a+p*o+h*i-d*r,t[7]=p*a-h*r-d*i-f*o,t}function ar(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=e[3];return t[0]=s*a+c*r+l*o-u*i,t[1]=l*a+c*i+u*r-s*o,t[2]=u*a+c*o+s*i-l*r,t[3]=c*a-s*r-l*i-u*o,s=e[4],l=e[5],u=e[6],c=e[7],t[4]=s*a+c*r+l*o-u*i,t[5]=l*a+c*i+u*r-s*o,t[6]=u*a+c*o+s*i-l*r,t[7]=c*a-s*r-l*i-u*o,t}function sr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,s=n[4],l=n[5],u=n[6],c=n[7],t[4]=r*c+a*s+i*u-o*l,t[5]=i*c+a*l+o*s-r*u,t[6]=o*c+a*u+r*l-i*s,t[7]=a*c-r*s-i*l-o*u,t}function lr(t,e,n,r){if(Math.abs(r)<u.EPSILON)return Xn(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),a=o*n[0]/i,s=o*n[1]/i,l=o*n[2]/i,c=Math.cos(r),h=e[0],d=e[1],f=e[2],p=e[3];t[0]=h*c+p*a+d*l-f*s,t[1]=d*c+p*s+f*a-h*l,t[2]=f*c+p*l+h*s-d*a,t[3]=p*c-h*a-d*s-f*l;var g=e[4],m=e[5],v=e[6],y=e[7];return t[4]=g*c+y*a+m*l-v*s,t[5]=m*c+y*s+v*a-g*l,t[6]=v*c+y*l+g*s-m*a,t[7]=y*c-g*a-m*s-v*l,t}function ur(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function cr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[4],l=n[5],u=n[6],c=n[7],h=e[4],d=e[5],f=e[6],p=e[7],g=n[0],m=n[1],v=n[2],y=n[3];return t[0]=r*y+a*g+i*v-o*m,t[1]=i*y+a*m+o*g-r*v,t[2]=o*y+a*v+r*m-i*g,t[3]=a*y-r*g-i*m-o*v,t[4]=r*c+a*s+i*u-o*l+h*y+p*g+d*v-f*m,t[5]=i*c+a*l+o*s-r*u+d*y+p*m+f*g-h*v,t[6]=o*c+a*u+r*l-i*s+f*y+p*v+h*m-d*g,t[7]=a*c-r*s-i*l-o*u+p*y-h*g-d*m-f*v,t}var hr=cr;function dr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var fr=Tn;function pr(t,e,n,r){var i=1-r;return fr(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function gr(t,e){var n=br(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function mr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var vr=Cn,yr=vr,br=Nn,xr=br;function _r(t,e){var n=br(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,a=e[3]/n,s=e[4],l=e[5],u=e[6],c=e[7],h=r*s+i*l+o*u+a*c;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(s-r*h)/n,t[5]=(l-i*h)/n,t[6]=(u-o*h)/n,t[7]=(c-a*h)/n}return t}function wr(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Sr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Mr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=e[0],d=e[1],f=e[2],p=e[3],g=e[4],m=e[5],v=e[6],y=e[7];return Math.abs(n-h)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-f)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=u.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=u.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-m)<=u.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-v)<=u.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=u.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))}var kr=n("./node_modules/gl-matrix/esm/vec2.js")},"./node_modules/gl-matrix/esm/mat3.js":function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return T},adjoint:function(){return f},clone:function(){return a},copy:function(){return s},create:function(){return i},determinant:function(){return p},equals:function(){return O},exactEquals:function(){return N},frob:function(){return A},fromMat2d:function(){return w},fromMat4:function(){return o},fromQuat:function(){return S},fromRotation:function(){return x},fromScaling:function(){return _},fromTranslation:function(){return b},fromValues:function(){return l},identity:function(){return c},invert:function(){return d},mul:function(){return L},multiply:function(){return g},multiplyScalar:function(){return C},multiplyScalarAndAdd:function(){return D},normalFromMat4:function(){return M},projection:function(){return k},rotate:function(){return v},scale:function(){return y},set:function(){return u},str:function(){return E},sub:function(){return P},subtract:function(){return I},translate:function(){return m},transpose:function(){return h}});var r=n("./node_modules/gl-matrix/esm/common.js");function i(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function l(t,e,n,i,o,a,s,l,u){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c}function u(t,e,n,r,i,o,a,s,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,d=-c*o+s*l,f=u*o-a*l,p=n*h+r*d+i*f;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*u)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(c*n-i*l)*p,t[5]=(-s*n+i*o)*p,t[6]=f*p,t[7]=(-u*n+r*l)*p,t[8]=(a*n-r*o)*p,t):null}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=i*u-r*c,t[2]=r*s-i*a,t[3]=s*l-o*c,t[4]=n*c-i*l,t[5]=i*o-n*s,t[6]=o*u-a*l,t[7]=r*l-n*u,t[8]=n*a-r*o,t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+n*(-u*i+a*s)+r*(l*i-o*s)}function g(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],f=n[1],p=n[2],g=n[3],m=n[4],v=n[5],y=n[6],b=n[7],x=n[8];return t[0]=d*r+f*a+p*u,t[1]=d*i+f*s+p*c,t[2]=d*o+f*l+p*h,t[3]=g*r+m*a+v*u,t[4]=g*i+m*s+v*c,t[5]=g*o+m*l+v*h,t[6]=y*r+b*a+x*u,t[7]=y*i+b*s+x*c,t[8]=y*o+b*l+x*h,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=d*r+f*a+u,t[7]=d*i+f*s+c,t[8]=d*o+f*l+h,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*r+d*a,t[1]=f*i+d*s,t[2]=f*o+d*l,t[3]=f*a-d*r,t[4]=f*s-d*i,t[5]=f*l-d*o,t[6]=u,t[7]=c,t[8]=h,t}function y(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function S(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,h=r*s,d=i*a,f=i*s,p=i*l,g=o*a,m=o*s,v=o*l;return t[0]=1-h-p,t[3]=c-v,t[6]=d+m,t[1]=c+v,t[4]=1-u-p,t[7]=f-g,t[2]=d-m,t[5]=f+g,t[8]=1-u-h,t}function M(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,S=i*u-o*l,M=c*g-h*p,k=c*m-d*p,E=c*v-f*p,A=h*m-d*g,T=h*v-f*g,I=d*v-f*m,C=y*I-b*T+x*A+_*E-w*k+S*M;return C?(C=1/C,t[0]=(s*I-l*T+u*A)*C,t[1]=(l*E-a*I-u*k)*C,t[2]=(a*T-s*E+u*M)*C,t[3]=(i*T-r*I-o*A)*C,t[4]=(n*I-i*E+o*k)*C,t[5]=(r*E-n*T-o*M)*C,t[6]=(g*S-m*w+v*_)*C,t[7]=(m*x-p*S-v*b)*C,t[8]=(p*w-g*x+v*y)*C,t):null}function k(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function E(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function A(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function T(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function C(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function D(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function O(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=e[0],f=e[1],p=e[2],g=e[3],m=e[4],v=e[5],y=e[6],b=e[7],x=e[8];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(h-x)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))}var L=g,P=I},"./node_modules/gl-matrix/esm/vec2.js":function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return u},angle:function(){return R},ceil:function(){return f},clone:function(){return o},copy:function(){return s},create:function(){return i},cross:function(){return T},dist:function(){return W},distance:function(){return x},div:function(){return H},divide:function(){return d},dot:function(){return A},equals:function(){return F},exactEquals:function(){return B},floor:function(){return p},forEach:function(){return q},fromValues:function(){return a},inverse:function(){return k},len:function(){return V},length:function(){return w},lerp:function(){return I},max:function(){return m},min:function(){return g},mul:function(){return U},multiply:function(){return h},negate:function(){return M},normalize:function(){return E},random:function(){return C},rotate:function(){return P},round:function(){return v},scale:function(){return y},scaleAndAdd:function(){return b},set:function(){return l},sqrDist:function(){return Y},sqrLen:function(){return X},squaredDistance:function(){return _},squaredLength:function(){return S},str:function(){return z},sub:function(){return Z},subtract:function(){return c},transformMat2:function(){return D},transformMat2d:function(){return N},transformMat3:function(){return O},transformMat4:function(){return L},zero:function(){return j}});var r=n("./node_modules/gl-matrix/esm/common.js");function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function l(t,e,n){return t[0]=e,t[1]=n,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function w(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function S(t){var e=t[0],n=t[1];return e*e+n*n}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t}function k(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function E(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]}function T(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function I(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function C(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function D(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function O(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function L(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function P(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function R(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function j(t){return t[0]=0,t[1]=0,t}function z(t){return"vec2("+t[0]+", "+t[1]+")"}function B(t,e){return t[0]===e[0]&&t[1]===e[1]}function F(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))}var G,V=w,Z=c,U=h,H=d,W=x,Y=_,X=S,q=(G=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)G[0]=t[a],G[1]=t[a+1],i(G,G,o),t[a]=G[0],t[a+1]=G[1];return t})},"./node_modules/gl-matrix/esm/vec3.js":function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return c},angle:function(){return B},bezier:function(){return D},ceil:function(){return p},clone:function(){return o},copy:function(){return l},create:function(){return i},cross:function(){return T},dist:function(){return X},distance:function(){return _},div:function(){return Y},divide:function(){return f},dot:function(){return A},equals:function(){return Z},exactEquals:function(){return V},floor:function(){return g},forEach:function(){return J},fromValues:function(){return s},hermite:function(){return C},inverse:function(){return k},len:function(){return K},length:function(){return a},lerp:function(){return I},max:function(){return v},min:function(){return m},mul:function(){return W},multiply:function(){return d},negate:function(){return M},normalize:function(){return E},random:function(){return N},rotateX:function(){return R},rotateY:function(){return j},rotateZ:function(){return z},round:function(){return y},scale:function(){return b},scaleAndAdd:function(){return x},set:function(){return u},sqrDist:function(){return q},sqrLen:function(){return $},squaredDistance:function(){return w},squaredLength:function(){return S},str:function(){return G},sub:function(){return H},subtract:function(){return h},transformMat3:function(){return L},transformMat4:function(){return O},transformQuat:function(){return P},zero:function(){return F}});var r=n("./node_modules/gl-matrix/esm/common.js");function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function s(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function x(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function S(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function k(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function E(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function I(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function C(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*l+r[0]*u+i[0]*c,t[1]=e[1]*s+n[1]*l+r[1]*u+i[1]*c,t[2]=e[2]*s+n[2]*l+r[2]*u+i[2]*c,t}function D(t,e,n,r,i,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,h=3*l*a,d=l*o;return t[0]=e[0]*u+n[0]*c+r[0]*h+i[0]*d,t[1]=e[1]*u+n[1]*c+r[1]*h+i[1]*d,t[2]=e[2]*u+n[2]*c+r[2]*h+i[2]*d,t}function N(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t}function O(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function L(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function P(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=i*u-o*l,h=o*s-r*u,d=r*l-i*s,f=i*d-o*h,p=o*c-r*d,g=r*h-i*c,m=2*a;return c*=m,h*=m,d*=m,f*=2,p*=2,g*=2,t[0]=s+c+f,t[1]=l+h+p,t[2]=u+d+g,t}function R(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function z(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function B(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],l=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),u=l&&A(t,e)/l;return Math.acos(Math.min(Math.max(u,-1),1))}function F(t){return t[0]=0,t[1]=0,t[2]=0,t}function G(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Z(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))}var U,H=h,W=d,Y=f,X=_,q=w,K=a,$=S,J=(U=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)U[0]=t[a],U[1]=t[a+1],U[2]=t[a+2],i(U,U,o),t[a]=U[0],t[a+1]=U[1],t[a+2]=U[2];return t})},"./node_modules/insert-css/index.js":function(t){var e=[],n=[];function r(t,r){if(r=r||{},void 0===t)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=e.indexOf(a);return-1===s&&(s=e.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]?i=n[s][o]:(i=n[s][o]=function(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),i.styleSheet?i.styleSheet.cssText+=t:i.textContent+=t,i}t.exports=r,t.exports.insertCss=r},"./node_modules/lodash/_Symbol.js":function(t,e,n){var r=n("./node_modules/lodash/_root.js").Symbol;t.exports=r},"./node_modules/lodash/_baseGetTag.js":function(t,e,n){var r=n("./node_modules/lodash/_Symbol.js"),i=n("./node_modules/lodash/_getRawTag.js"),o=n("./node_modules/lodash/_objectToString.js"),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},"./node_modules/lodash/_baseIsTypedArray.js":function(t,e,n){var r=n("./node_modules/lodash/_baseGetTag.js"),i=n("./node_modules/lodash/isLength.js"),o=n("./node_modules/lodash/isObjectLike.js"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},"./node_modules/lodash/_baseUnary.js":function(t){t.exports=function(t){return function(e){return t(e)}}},"./node_modules/lodash/_freeGlobal.js":function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},"./node_modules/lodash/_getPrototype.js":function(t,e,n){var r=n("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);t.exports=r},"./node_modules/lodash/_getRawTag.js":function(t,e,n){var r=n("./node_modules/lodash/_Symbol.js"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},"./node_modules/lodash/_nodeUtil.js":function(t,e,n){t=n.nmd(t);var r=n("./node_modules/lodash/_freeGlobal.js"),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},"./node_modules/lodash/_objectToString.js":function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},"./node_modules/lodash/_overArg.js":function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},"./node_modules/lodash/_root.js":function(t,e,n){var r=n("./node_modules/lodash/_freeGlobal.js"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},"./node_modules/lodash/isArray.js":function(t){var e=Array.isArray;t.exports=e},"./node_modules/lodash/isLength.js":function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},"./node_modules/lodash/isNumber.js":function(t,e,n){var r=n("./node_modules/lodash/_baseGetTag.js"),i=n("./node_modules/lodash/isObjectLike.js");t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},"./node_modules/lodash/isObjectLike.js":function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},"./node_modules/lodash/isPlainObject.js":function(t,e,n){var r=n("./node_modules/lodash/_baseGetTag.js"),i=n("./node_modules/lodash/_getPrototype.js"),o=n("./node_modules/lodash/isObjectLike.js"),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},"./node_modules/lodash/isTypedArray.js":function(t,e,n){var r=n("./node_modules/lodash/_baseIsTypedArray.js"),i=n("./node_modules/lodash/_baseUnary.js"),o=n("./node_modules/lodash/_nodeUtil.js"),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},"./node_modules/ml-matrix/src/index.js":function(t,e,n){"use strict";n.r(e),n.d(e,{AbstractMatrix:function(){return _},CHO:function(){return J},CholeskyDecomposition:function(){return J},EVD:function(){return K},EigenvalueDecomposition:function(){return K},LU:function(){return j},LuDecomposition:function(){return j},Matrix:function(){return S},MatrixColumnSelectionView:function(){return E},MatrixColumnView:function(){return k},MatrixFlipColumnView:function(){return A},MatrixFlipRowView:function(){return T},MatrixRowSelectionView:function(){return C},MatrixRowView:function(){return I},MatrixSelectionView:function(){return D},MatrixSubView:function(){return N},MatrixTransposeView:function(){return O},NIPALS:function(){return Q},Nipals:function(){return Q},QR:function(){return B},QrDecomposition:function(){return B},SVD:function(){return F},SingularValueDecomposition:function(){return F},WrapperMatrix1D:function(){return L},WrapperMatrix2D:function(){return P},correlation:function(){return q},covariance:function(){return X},default:function(){return S},determinant:function(){return Z},inverse:function(){return G},linearDependencies:function(){return W},pseudoInverse:function(){return Y},solve:function(){return V},wrap:function(){return R}});const r=Object.prototype.toString;function i(t){const e=r.call(t);return e.endsWith("Array]")&&!e.includes("Big")}function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!i(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[r],l=r+1;l<a;l++)t[l]<s&&(s=t[l]);return s}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[r],l=r+1;l<a;l++)t[l]>s&&(s=t[l]);return s}(t);if(r===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=n.min,s=void 0===a?n.autoMinMax?r:0:a,l=n.max,u=void 0===l?n.autoMinMax?o:1:l;if(s>=u)throw new RangeError("min option must be smaller than max option");for(var c=(u-s)/(o-r),h=0;h<t.length;h++)e[h]=(t[h]-r)*c+s;return e}const a=" ".repeat(2),s=" ".repeat(4);function l(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:o="auto"}=e;return`${t.constructor.name} {\n${a}[\n${s}${function(t,e,n,r,i){const{rows:o,columns:a}=t,l=Math.min(o,e),c=Math.min(a,n),h=[];if("auto"===i){i=!1;t:for(let e=0;e<l;e++)for(let n=0;n<c;n++)if(t.get(e,n)<0){i=!0;break t}}for(let e=0;e<l;e++){let n=[];for(let o=0;o<c;o++)n.push(u(t.get(e,o),r,i));h.push(`${n.join(" ")}`)}c!==a&&(h[h.length-1]+=` ... ${a-n} more columns`);l!==o&&h.push(`... ${o-e} more rows`);return h.join(`\n${s}`)}(t,n,r,i,o)}\n${a}]\n${a}rows: ${t.rows}\n${a}columns: ${t.columns}\n}`}function u(t,e,n){return(t>=0&&n?` ${c(t,e-1)}`:c(t,e)).padEnd(e)}function c(t,e){let n=t.toString();if(n.length<=e)return n;let r=t.toFixed(e);if(r.length>e&&(r=t.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function h(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function d(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function p(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function g(t,e){if(!i(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}function m(t,e){if(!i(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}function v(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(b("startRow",e),b("endRow",n),b("startColumn",r),b("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function y(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function b(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function x(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class _{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let r=new S(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)r.set(i,t,n[i*e+t]);return r}static rowVector(t){let e=new S(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new S(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new S(t,e)}static ones(t,e){return new S(t,e).fill(1)}static rand(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new S(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)i.set(n,t,r());return i}static randInt(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new S(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++){let e=r+Math.round(o()*a);s.set(n,t,e)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<r;t++)i.set(t,t,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),o=this.zeros(e,n);for(let e=0;e<i;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new S(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return i}static checkMatrix(t){return _.isMatrix(t)?t:new S(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let o=n+1;o<t.columns;o++)t.set(r,o,t.get(r,o)-t.get(e,o)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;for(;r>=0;)if(0===t.maxRow(r))r--;else{let i=0,o=!1;for(;i<n&&!1===o;)1===t.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=t.get(n,i);for(let a=i;a<e;a++){let e=t.get(n,a)-o*t.get(r,a);t.set(n,a,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new S(this.rows*e,this.columns*n);for(let t=0;t<e;t++)for(let e=0;e<n;e++)r.setSubMatrix(this,this.rows*t,this.columns*e);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){h(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return S.rowVector(this.getRow(t))}setRow(t,e){h(this,t),e=f(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){h(this,t),h(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){d(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return S.columnVector(this.getColumn(t))}setColumn(t,e){d(this,t),e=p(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){d(this,t),d(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){h(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){d(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){x(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){x(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){h(this,t),x(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){h(this,t),x(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){d(this,t),x(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){d(this,t),x(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n)*this.get(t,n);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){_.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=S.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new S(e,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let e=0;e<n;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*o[r];i.set(t,a,e)}}return i}strassen2x2(t){t=S.checkMatrix(t);let e=new S(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),l=this.get(1,1),u=t.get(1,1),c=(n+l)*(r+u),h=(a+l)*r,d=n*(o-u),f=l*(s-r),p=(n+i)*u,g=c+f-p+(i-l)*(s+u),m=d+p,v=h+f,y=c-h+d+(a-n)*(r+o);return e.set(0,0,g),e.set(0,1,m),e.set(1,0,v),e.set(1,1,y),e}strassen3x3(t){t=S.checkMatrix(t);let e=new S(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),u=this.get(2,1),c=this.get(2,2),h=t.get(0,0),d=t.get(0,1),f=t.get(0,2),p=t.get(1,0),g=t.get(1,1),m=t.get(1,2),v=t.get(2,0),y=t.get(2,1),b=t.get(2,2),x=(n-o)*(-d+g),_=(-n+o+a)*(h-d+g),w=(o+a)*(-h+d),M=n*h,k=(-n+l+u)*(h-f+m),E=(-n+l)*(f-m),A=(l+u)*(-h+f),T=(-i+u+c)*(g+v-y),I=(i-c)*(g-y),C=i*v,D=(u+c)*(-v+y),N=(-i+a+s)*(m+v-b),O=(i-s)*(m-b),L=(a+s)*(-v+b),P=M+C+r*p,R=(n+r+i-o-a-u-c)*g+_+w+M+T+C+D,j=M+k+A+(n+r+i-a-s-l-u)*m+C+N+L,z=x+a*(-h+d+p-g-m-v+b)+_+M+C+N+O,B=x+_+w+M+s*y,F=C+N+O+L+o*f,G=M+k+E+u*(-h+f+p-g-m-v+y)+T+I+C,V=T+I+C+D+l*d,Z=M+k+E+A+c*b;return e.set(0,0,P),e.set(0,1,R),e.set(0,2,j),e.set(1,0,z),e.set(1,1,B),e.set(1,2,F),e.set(2,0,G),e.set(2,1,V),e.set(2,2,Z),e}mmulStrassen(t){t=S.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function a(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=_.zeros(e,n);return r=r.setSubMatrix(t,0,0),r}}let s=Math.max(n,i),l=Math.max(r,o);return e=a(e,s,l),function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2==1&&i%2==1?(e=a(e,r+1,i+1),n=a(n,r+1,i+1)):r%2==1?(e=a(e,r+1,i),n=a(n,r+1,i)):i%2==1&&(e=a(e,r,i+1),n=a(n,r,i+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),l=e.subMatrix(0,o-1,0,s-1),u=n.subMatrix(0,o-1,0,s-1),c=e.subMatrix(0,o-1,s,e.columns-1),h=n.subMatrix(0,o-1,s,n.columns-1),d=e.subMatrix(o,e.rows-1,0,s-1),f=n.subMatrix(o,n.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),g=n.subMatrix(o,n.rows-1,s,n.columns-1),m=t(_.add(l,p),_.add(u,g),o,s),v=t(_.add(d,p),u,o,s),y=t(l,_.sub(h,g),o,s),b=t(p,_.sub(f,u),o,s),x=t(_.add(l,c),g,o,s),w=t(_.sub(d,l),_.add(u,h),o,s),S=t(_.sub(c,p),_.add(f,g),o,s),M=_.add(m,b);M.sub(x),M.add(S);let k=_.add(y,x),E=_.add(v,b),A=_.sub(m,v);A.add(y),A.add(w);let T=_.zeros(2*M.rows,2*M.columns);return T=T.setSubMatrix(M,0,0),T=T.setSubMatrix(k,M.rows,0),T=T.setSubMatrix(E,0,M.columns),T=T.setSubMatrix(A,M.rows,M.columns),T.subMatrix(0,r-1,0,i-1)}(e,t=a(t,s,l),s,l)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new S(this.rows,this.columns);for(let t=0;t<this.rows;t++){const i=this.getRow(t);i.length>0&&o(i,{min:e,max:n,output:i}),r.setRow(t,i)}return r}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new S(this.rows,this.columns);for(let t=0;t<this.columns;t++){const i=this.getColumn(t);i.length&&o(i,{min:e,max:n,output:i}),r.setColumn(t,i)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=S.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new S(e*r,n*i);for(let a=0;a<e;a++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*e+s,this.get(a,e)*t.get(n,s));return o}kroneckerSum(t){if(t=S.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,r=this.kroneckerProduct(S.eye(n,n)),i=S.eye(e,e).kroneckerProduct(t);return r.add(i)}transpose(){let t=new S(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=w){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=w){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){v(this,t,e,n,r);let i=new S(e-t+1,r-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=r;e++)i.set(o-t,e-n,this.get(o,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new S(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);r.set(i,o-e,this.get(t[i],o))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new S(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);r.set(o-e,i,this.get(o,t[i]))}return r}setSubMatrix(t,e,n){if((t=S.checkMatrix(t)).isEmpty())return this;v(this,e,e+t.rows-1,n,n+t.columns-1);for(let r=0;r<t.rows;r++)for(let i=0;i<t.columns;i++)this.set(e+r,n+i,t.get(r,i));return this}selection(t,e){g(this,t),m(this,e);let n=new S(t.length,e.length);for(let r=0;r<t.length;r++){let i=t[r];for(let t=0;t<e.length;t++){let o=e[t];n.set(r,t,this.get(i,o))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new S(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return function(t){let e=y(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){let e=y(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=y(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){let e=y(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(t)}=e;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!i(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,l=0;for(let e=0;e<i;e++)l=t.get(a,e)-n[a],r+=l,s+=l*l;e?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,r);case"column":if(!i(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,l=0;for(let e=0;e<r;e++)l=t.get(e,a)-n[a],i+=l,s+=l*l;e?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function(t,e,n){const r=t.rows,i=t.columns,o=r*i;let a=0,s=0,l=0;for(let e=0;e<r;e++)for(let r=0;r<i;r++)l=t.get(e,r)-n,a+=l,s+=l*l;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,r);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let t=0;t<n.length;t++)n[t]=Math.sqrt(n[t]);return n}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!i(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}(this,n),this;case"column":if(!i(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=Math.pow(t.get(n,e),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}(this);else if(!i(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}(this,n),this;case"column":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=Math.pow(t.get(e,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}(this);else if(!i(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}(this,n),this;case void 0:if(void 0===n)n=function(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return l(this,t)}}function w(t,e){return t-e}_.prototype.klass="Matrix","undefined"!=typeof Symbol&&(_.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return l(this)}),_.random=_.rand,_.randomInt=_.randInt,_.diagonal=_.diag,_.prototype.diagonal=_.prototype.diag,_.identity=_.eye,_.prototype.negate=_.prototype.neg,_.prototype.tensorProduct=_.prototype.kroneckerProduct;class S extends _{constructor(t,e){if(super(),S.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e))}else{if(!i(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if("number"!=typeof(e=(t=n.length)?n[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");if(!n[r].every((t=>"number"==typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[r]))}}}this.rows=t,this.columns=e}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return h(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),h(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){d(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),d(this,t,!0),e=p(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},t.add=function(t,n){return new e(t).add(n)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},t.sub=function(t,n){return new e(t).sub(n)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},t.mul=function(t,n){return new e(t).mul(n)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},t.div=function(t,n){return new e(t).div(n)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},t.mod=function(t,n){return new e(t).mod(n)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},t.and=function(t,n){return new e(t).and(n)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},t.or=function(t,n){return new e(t).or(n)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},t.xor=function(t,n){return new e(t).xor(n)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},t.leftShift=function(t,n){return new e(t).leftShift(n)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},t.signPropagatingRightShift=function(t,n){return new e(t).signPropagatingRightShift(n)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},t.rightShift=function(t,n){return new e(t).rightShift(n)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,n){return new e(t).pow(n)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this}}(_,S);class M extends _{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class k extends M{constructor(t,e){d(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class E extends M{constructor(t,e){m(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class A extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class T extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class I extends M{constructor(t,e){h(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}}class C extends M{constructor(t,e){g(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class D extends M{constructor(t,e,n){g(t,e),m(t,n),super(t,e.length,n.length),this.rowIndices=e,this.columnIndices=n}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class N extends M{constructor(t,e,n,r,i){v(t,e,n,r,i),super(t,n-e+1,i-r+1),this.startRow=e,this.startColumn=r}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class O extends M{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class L extends _{constructor(t,e={}){const{rows:n=1}=e;if(t.length%n!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,e,n){let r=this._calculateIndex(t,e);return this.data[r]=n,this}get(t,e){let n=this._calculateIndex(t,e);return this.data[n]}_calculateIndex(t,e){return t*this.columns+e}}class P extends _{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function R(t,e){if(i(t))return t[0]&&i(t[0])?new P(t):new L(t,e);throw new Error("the argument is not an array")}class j{constructor(t){let e,n,r,i,o,a,s,l,u,c=(t=P.checkMatrix(t)).clone(),h=c.rows,d=c.columns,f=new Float64Array(h),p=1;for(e=0;e<h;e++)f[e]=e;for(l=new Float64Array(h),n=0;n<d;n++){for(e=0;e<h;e++)l[e]=c.get(e,n);for(e=0;e<h;e++){for(u=Math.min(e,n),o=0,r=0;r<u;r++)o+=c.get(e,r)*l[r];l[e]-=o,c.set(e,n,l[e])}for(i=n,e=n+1;e<h;e++)Math.abs(l[e])>Math.abs(l[i])&&(i=e);if(i!==n){for(r=0;r<d;r++)a=c.get(i,r),c.set(i,r,c.get(n,r)),c.set(n,r,a);s=f[i],f[i]=f[n],f[n]=s,p=-p}if(n<h&&0!==c.get(n,n))for(e=n+1;e<h;e++)c.set(e,n,c.get(e,n)/c.get(n,n))}this.LU=c,this.pivotVector=f,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(0===t.get(n,n))return!0;return!1}solve(t){t=S.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=t.columns,a=t.subMatrixRow(this.pivotVector,0,o-1),s=e.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/e.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let r=0;r<n;r++)e*=t.get(r,r);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new S(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i>e?r.set(i,e,t.get(i,e)):i===e?r.set(i,e,1):r.set(i,e,0);return r}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new S(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i<=e?r.set(i,e,t.get(i,e)):r.set(i,e,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function z(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class B{constructor(t){let e,n,r,i,o=(t=P.checkMatrix(t)).clone(),a=t.rows,s=t.columns,l=new Float64Array(s);for(r=0;r<s;r++){let t=0;for(e=r;e<a;e++)t=z(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<a;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,e=r;e<a;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<a;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}l[r]=-t}this.QR=o,this.Rdiag=l}solve(t){t=S.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=t.columns,l=t.clone(),u=e.columns;for(o=0;o<u;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=e.get(r,o)*l.get(r,i);for(a=-a/e.get(o,o),r=o;r<n;r++)l.set(r,i,l.get(r,i)+a*e.get(r,o))}for(o=u-1;o>=0;o--){for(i=0;i<s;i++)l.set(o,i,l.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)l.set(r,i,l.get(r,i)-l.get(o,i)*e.get(r,o))}return l.subMatrix(0,u-1,0,s-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new S(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,a=i.columns,s=new S(o,a);for(n=a-1;n>=0;n--){for(t=0;t<o;t++)s.set(t,n,0);for(s.set(n,n,1),e=n;e<a;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*s.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)s.set(t,e,s.get(t,e)+r*i.get(t,n))}}return s}}class F{constructor(t,e={}){if((t=P.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,r=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,l=Boolean(i),u=Boolean(o),c=!1;if(n<r)if(a){s=t.transpose(),n=s.rows,r=s.columns,c=!0;let e=l;l=u,u=e}else s=t.clone();else s=t.clone();let h=Math.min(n,r),d=Math.min(n+1,r),f=new Float64Array(d),p=new S(n,h),g=new S(r,r),m=new Float64Array(r),v=new Float64Array(n),y=new Float64Array(d);for(let t=0;t<d;t++)y[t]=t;let b=Math.min(n-1,r),x=Math.max(0,Math.min(r-2,n)),_=Math.max(b,x);for(let t=0;t<_;t++){if(t<b){f[t]=0;for(let e=t;e<n;e++)f[t]=z(f[t],s.get(e,t));if(0!==f[t]){s.get(t,t)<0&&(f[t]=-f[t]);for(let e=t;e<n;e++)s.set(e,t,s.get(e,t)/f[t]);s.set(t,t,s.get(t,t)+1)}f[t]=-f[t]}for(let e=t+1;e<r;e++){if(t<b&&0!==f[t]){let r=0;for(let i=t;i<n;i++)r+=s.get(i,t)*s.get(i,e);r=-r/s.get(t,t);for(let i=t;i<n;i++)s.set(i,e,s.get(i,e)+r*s.get(i,t))}m[e]=s.get(t,e)}if(l&&t<b)for(let e=t;e<n;e++)p.set(e,t,s.get(e,t));if(t<x){m[t]=0;for(let e=t+1;e<r;e++)m[t]=z(m[t],m[e]);if(0!==m[t]){m[t+1]<0&&(m[t]=0-m[t]);for(let e=t+1;e<r;e++)m[e]/=m[t];m[t+1]+=1}if(m[t]=-m[t],t+1<n&&0!==m[t]){for(let e=t+1;e<n;e++)v[e]=0;for(let e=t+1;e<n;e++)for(let n=t+1;n<r;n++)v[e]+=m[n]*s.get(e,n);for(let e=t+1;e<r;e++){let r=-m[e]/m[t+1];for(let i=t+1;i<n;i++)s.set(i,e,s.get(i,e)+r*v[i])}}if(u)for(let e=t+1;e<r;e++)g.set(e,t,m[e])}}let w=Math.min(r,n+1);if(b<r&&(f[b]=s.get(b,b)),n<w&&(f[w-1]=0),x+1<w&&(m[x]=s.get(x,w-1)),m[w-1]=0,l){for(let t=b;t<h;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==f[t]){for(let e=t+1;e<h;e++){let r=0;for(let i=t;i<n;i++)r+=p.get(i,t)*p.get(i,e);r=-r/p.get(t,t);for(let i=t;i<n;i++)p.set(i,e,p.get(i,e)+r*p.get(i,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(u)for(let t=r-1;t>=0;t--){if(t<x&&0!==m[t])for(let e=t+1;e<r;e++){let n=0;for(let i=t+1;i<r;i++)n+=g.get(i,t)*g.get(i,e);n=-n/g.get(t+1,t);for(let i=t+1;i<r;i++)g.set(i,e,g.get(i,e)+n*g.get(i,t))}for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}let M=w-1,k=0,E=Number.EPSILON;for(;w>0;){let t,e;for(t=w-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+E*Math.abs(f[t]+Math.abs(f[t+1]));if(Math.abs(m[t])<=e||Number.isNaN(m[t])){m[t]=0;break}}if(t===w-2)e=4;else{let n;for(n=w-1;n>=t&&n!==t;n--){let e=(n!==w?Math.abs(m[n]):0)+(n!==t+1?Math.abs(m[n-1]):0);if(Math.abs(f[n])<=E*e){f[n]=0;break}}n===t?e=3:n===w-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=m[w-2];m[w-2]=0;for(let n=w-2;n>=t;n--){let i=z(f[n],e),o=f[n]/i,a=e/i;if(f[n]=i,n!==t&&(e=-a*m[n-1],m[n-1]=o*m[n-1]),u)for(let t=0;t<r;t++)i=o*g.get(t,n)+a*g.get(t,w-1),g.set(t,w-1,-a*g.get(t,n)+o*g.get(t,w-1)),g.set(t,n,i)}break}case 2:{let e=m[t-1];m[t-1]=0;for(let r=t;r<w;r++){let i=z(f[r],e),o=f[r]/i,a=e/i;if(f[r]=i,e=-a*m[r],m[r]=o*m[r],l)for(let e=0;e<n;e++)i=o*p.get(e,r)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,r)+o*p.get(e,t-1)),p.set(e,r,i)}break}case 3:{const e=Math.max(Math.abs(f[w-1]),Math.abs(f[w-2]),Math.abs(m[w-2]),Math.abs(f[t]),Math.abs(m[t])),i=f[w-1]/e,o=f[w-2]/e,a=m[w-2]/e,s=f[t]/e,c=m[t]/e,h=((o+i)*(o-i)+a*a)/2,d=i*a*(i*a);let v=0;0===h&&0===d||(v=h<0?0-Math.sqrt(h*h+d):Math.sqrt(h*h+d),v=d/(h+v));let y=(s+i)*(s-i)+v,b=s*c;for(let e=t;e<w-1;e++){let i=z(y,b);0===i&&(i=Number.MIN_VALUE);let o=y/i,a=b/i;if(e!==t&&(m[e-1]=i),y=o*f[e]+a*m[e],m[e]=o*m[e]-a*f[e],b=a*f[e+1],f[e+1]=o*f[e+1],u)for(let t=0;t<r;t++)i=o*g.get(t,e)+a*g.get(t,e+1),g.set(t,e+1,-a*g.get(t,e)+o*g.get(t,e+1)),g.set(t,e,i);if(i=z(y,b),0===i&&(i=Number.MIN_VALUE),o=y/i,a=b/i,f[e]=i,y=o*m[e]+a*f[e+1],f[e+1]=-a*m[e]+o*f[e+1],b=a*m[e+1],m[e+1]=o*m[e+1],l&&e<n-1)for(let t=0;t<n;t++)i=o*p.get(t,e)+a*p.get(t,e+1),p.set(t,e+1,-a*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,i)}m[w-2]=y,k+=1;break}case 4:if(f[t]<=0&&(f[t]=f[t]<0?-f[t]:0,u))for(let e=0;e<=M;e++)g.set(e,t,-g.get(e,t));for(;t<M&&!(f[t]>=f[t+1]);){let e=f[t];if(f[t]=f[t+1],f[t+1]=e,u&&t<r-1)for(let n=0;n<r;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);if(l&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);t++}k=0,w--}}if(c){let t=g;g=p,p=t}this.m=n,this.n=r,this.s=f,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,r=this.s.length,i=S.zeros(r,r);for(let t=0;t<r;t++)Math.abs(this.s[t])<=n?i.set(t,t,0):i.set(t,t,1/this.s[t]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),l=a.rows,u=o.rows,c=S.zeros(l,u);for(let t=0;t<l;t++)for(let e=0;e<u;e++){let n=0;for(let i=0;i<r;i++)n+=s.get(t,i)*o.get(e,i);c.set(t,e,n)}return c.mmul(e)}solveForDiagonal(t){return this.solve(S.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new S(n,this.s.length);for(let o=0;o<n;o++)for(let n=0;n<r;n++)Math.abs(this.s[n])>e&&i.set(o,n,t.get(o,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,l=new S(n,a);for(let t=0;t<n;t++)for(let e=0;e<a;e++){let n=0;for(let r=0;r<s;r++)n+=i.get(t,r)*o.get(e,r);l.set(t,e,n)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return S.diag(this.s)}}function G(t,e=!1){return t=P.checkMatrix(t),e?new F(t).inverse():V(t,S.eye(t.rows))}function V(t,e,n=!1){return t=P.checkMatrix(t),e=P.checkMatrix(e),n?new F(t).solve(e):t.isSquare()?new j(t).solve(e):new B(t).solve(e)}function Z(t){if((t=S.checkMatrix(t)).isSquare()){if(0===t.columns)return 1;let e,n,r,i;if(2===t.columns)return e=t.get(0,0),n=t.get(0,1),r=t.get(1,0),i=t.get(1,1),e*i-n*r;if(3===t.columns){let i,o,a;return i=new D(t,[1,2],[1,2]),o=new D(t,[1,2],[0,2]),a=new D(t,[1,2],[0,1]),e=t.get(0,0),n=t.get(0,1),r=t.get(0,2),e*Z(i)-n*Z(o)+r*Z(a)}return new j(t).determinant}throw Error("determinant can only be calculated for a square matrix")}function U(t,e){let n=[];for(let r=0;r<t;r++)r!==e&&n.push(r);return n}function H(t,e,n,r=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);{let t=e.addRow(n,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<r&&t.set(e,0,0);return t.to1DArray()}}function W(t,e={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=e;let i=(t=S.checkMatrix(t)).rows,o=new S(i,i);for(let e=0;e<i;e++){let a=S.columnVector(t.getRow(e)),s=t.subMatrixRow(U(i,e)).transpose(),l=new F(s).solve(a),u=S.sub(a,s.mmul(l)).abs().max();o.setRow(e,H(u,l,e,n,r))}return o}function Y(t,e=Number.EPSILON){if((t=S.checkMatrix(t)).isEmpty())return t.transpose();let n=new F(t,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let t=0;t<o.length;t++)Math.abs(o[t])>e?o[t]=1/o[t]:o[t]=0;return i.mmul(S.diag(o).mmul(r.transpose()))}function X(t,e=t,n={}){t=new S(t);let r=!1;if("object"!=typeof e||S.isMatrix(e)||i(e)?e=new S(e):(n=e,e=t,r=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=n;o&&(t=t.center("column"),r||(e=e.center("column")));const a=t.transpose().mmul(e);for(let e=0;e<a.rows;e++)for(let n=0;n<a.columns;n++)a.set(e,n,a.get(e,n)*(1/(t.rows-1)));return a}function q(t,e=t,n={}){t=new S(t);let r=!1;if("object"!=typeof e||S.isMatrix(e)||i(e)?e=new S(e):(n=e,e=t,r=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:a=!0}=n;o&&(t.center("column"),r||e.center("column")),a&&(t.scale("column"),r||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),l=r?s:e.standardDeviation("column",{unbiased:!0}),u=t.transpose().mmul(e);for(let e=0;e<u.rows;e++)for(let n=0;n<u.columns;n++)u.set(e,n,u.get(e,n)*(1/(s[e]*l[n]))*(1/(t.rows-1)));return u}class K{constructor(t,e={}){const{assumeSymmetric:n=!1}=e;if(!(t=P.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let r,i,o=t.columns,a=new S(o,o),s=new Float64Array(o),l=new Float64Array(o),u=t,c=!1;if(c=!!n||t.isSymmetric(),c){for(r=0;r<o;r++)for(i=0;i<o;i++)a.set(r,i,u.get(r,i));!function(t,e,n,r){let i,o,a,s,l,u,c,h;for(l=0;l<t;l++)n[l]=r.get(t-1,l);for(s=t-1;s>0;s--){for(h=0,a=0,u=0;u<s;u++)h+=Math.abs(n[u]);if(0===h)for(e[s]=n[s-1],l=0;l<s;l++)n[l]=r.get(s-1,l),r.set(s,l,0),r.set(l,s,0);else{for(u=0;u<s;u++)n[u]/=h,a+=n[u]*n[u];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),e[s]=h*o,a-=i*o,n[s-1]=i-o,l=0;l<s;l++)e[l]=0;for(l=0;l<s;l++){for(i=n[l],r.set(l,s,i),o=e[l]+r.get(l,l)*i,u=l+1;u<=s-1;u++)o+=r.get(u,l)*n[u],e[u]+=r.get(u,l)*i;e[l]=o}for(i=0,l=0;l<s;l++)e[l]/=a,i+=e[l]*n[l];for(c=i/(a+a),l=0;l<s;l++)e[l]-=c*n[l];for(l=0;l<s;l++){for(i=n[l],o=e[l],u=l;u<=s-1;u++)r.set(u,l,r.get(u,l)-(i*e[u]+o*n[u]));n[l]=r.get(s-1,l),r.set(s,l,0)}}n[s]=a}for(s=0;s<t-1;s++){if(r.set(t-1,s,r.get(s,s)),r.set(s,s,1),a=n[s+1],0!==a){for(u=0;u<=s;u++)n[u]=r.get(u,s+1)/a;for(l=0;l<=s;l++){for(o=0,u=0;u<=s;u++)o+=r.get(u,s+1)*r.get(u,l);for(u=0;u<=s;u++)r.set(u,l,r.get(u,l)-o*n[u])}}for(u=0;u<=s;u++)r.set(u,s+1,0)}for(l=0;l<t;l++)n[l]=r.get(t-1,l),r.set(t-1,l,0);r.set(t-1,t-1,1),e[0]=0}(o,l,s,a),function(t,e,n,r){let i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,b,x;for(a=1;a<t;a++)e[a-1]=e[a];e[t-1]=0;let _=0,w=0,S=Number.EPSILON;for(u=0;u<t;u++){for(w=Math.max(w,Math.abs(n[u])+Math.abs(e[u])),c=u;c<t&&!(Math.abs(e[c])<=S*w);)c++;if(c>u){x=0;do{for(x+=1,i=n[u],h=(n[u+1]-i)/(2*e[u]),d=z(h,1),h<0&&(d=-d),n[u]=e[u]/(h+d),n[u+1]=e[u]*(h+d),f=n[u+1],o=i-n[u],a=u+2;a<t;a++)n[a]-=o;for(_+=o,h=n[c],p=1,g=p,m=p,v=e[u+1],y=0,b=0,a=c-1;a>=u;a--)for(m=g,g=p,b=y,i=p*e[a],o=p*h,d=z(h,e[a]),e[a+1]=y*d,y=e[a]/d,p=h/d,h=p*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),l=0;l<t;l++)o=r.get(l,a+1),r.set(l,a+1,y*r.get(l,a)+p*o),r.set(l,a,p*r.get(l,a)-y*o);h=-y*b*m*v*e[u]/f,e[u]=y*h,n[u]=p*h}while(Math.abs(e[u])>S*w)}n[u]=n[u]+_,e[u]=0}for(a=0;a<t-1;a++){for(l=a,h=n[a],s=a+1;s<t;s++)n[s]<h&&(l=s,h=n[s]);if(l!==a)for(n[l]=n[a],n[a]=h,s=0;s<t;s++)h=r.get(s,a),r.set(s,a,r.get(s,l)),r.set(s,l,h)}}(o,l,s,a)}else{let t=new S(o,o),e=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)t.set(r,i,u.get(r,i));!function(t,e,n,r){let i,o,a,s,l,u,c,h=0,d=t-1;for(u=h+1;u<=d-1;u++){for(c=0,s=u;s<=d;s++)c+=Math.abs(e.get(s,u-1));if(0!==c){for(a=0,s=d;s>=u;s--)n[s]=e.get(s,u-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[u]>0&&(o=-o),a-=n[u]*o,n[u]=n[u]-o,l=u;l<t;l++){for(i=0,s=d;s>=u;s--)i+=n[s]*e.get(s,l);for(i/=a,s=u;s<=d;s++)e.set(s,l,e.get(s,l)-i*n[s])}for(s=0;s<=d;s++){for(i=0,l=d;l>=u;l--)i+=n[l]*e.get(s,l);for(i/=a,l=u;l<=d;l++)e.set(s,l,e.get(s,l)-i*n[l])}n[u]=c*n[u],e.set(u,u-1,c*o)}}for(s=0;s<t;s++)for(l=0;l<t;l++)r.set(s,l,s===l?1:0);for(u=d-1;u>=h+1;u--)if(0!==e.get(u,u-1)){for(s=u+1;s<=d;s++)n[s]=e.get(s,u-1);for(l=u;l<=d;l++){for(o=0,s=u;s<=d;s++)o+=n[s]*r.get(s,l);for(o=o/n[u]/e.get(u,u-1),s=u;s<=d;s++)r.set(s,l,r.get(s,l)+o*n[s])}}}(o,t,e,a),function(t,e,n,r,i){let o,a,s,l,u,c,h,d,f,p,g,m,v,y,b,x=t-1,_=0,w=t-1,S=Number.EPSILON,M=0,k=0,E=0,A=0,T=0,I=0,C=0,D=0;for(o=0;o<t;o++)for((o<_||o>w)&&(n[o]=i.get(o,o),e[o]=0),a=Math.max(o-1,0);a<t;a++)k+=Math.abs(i.get(o,a));for(;x>=_;){for(l=x;l>_&&(I=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)),0===I&&(I=k),!(Math.abs(i.get(l,l-1))<S*I));)l--;if(l===x)i.set(x,x,i.get(x,x)+M),n[x]=i.get(x,x),e[x]=0,x--,D=0;else if(l===x-1){if(h=i.get(x,x-1)*i.get(x-1,x),E=(i.get(x-1,x-1)-i.get(x,x))/2,A=E*E+h,C=Math.sqrt(Math.abs(A)),i.set(x,x,i.get(x,x)+M),i.set(x-1,x-1,i.get(x-1,x-1)+M),d=i.get(x,x),A>=0){for(C=E>=0?E+C:E-C,n[x-1]=d+C,n[x]=n[x-1],0!==C&&(n[x]=d-h/C),e[x-1]=0,e[x]=0,d=i.get(x,x-1),I=Math.abs(d)+Math.abs(C),E=d/I,A=C/I,T=Math.sqrt(E*E+A*A),E/=T,A/=T,a=x-1;a<t;a++)C=i.get(x-1,a),i.set(x-1,a,A*C+E*i.get(x,a)),i.set(x,a,A*i.get(x,a)-E*C);for(o=0;o<=x;o++)C=i.get(o,x-1),i.set(o,x-1,A*C+E*i.get(o,x)),i.set(o,x,A*i.get(o,x)-E*C);for(o=_;o<=w;o++)C=r.get(o,x-1),r.set(o,x-1,A*C+E*r.get(o,x)),r.set(o,x,A*r.get(o,x)-E*C)}else n[x-1]=d+E,n[x]=d+E,e[x-1]=C,e[x]=-C;x-=2,D=0}else{if(d=i.get(x,x),f=0,h=0,l<x&&(f=i.get(x-1,x-1),h=i.get(x,x-1)*i.get(x-1,x)),10===D){for(M+=d,o=_;o<=x;o++)i.set(o,o,i.get(o,o)-d);I=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2)),d=f=.75*I,h=-.4375*I*I}if(30===D&&(I=(f-d)/2,I=I*I+h,I>0)){for(I=Math.sqrt(I),f<d&&(I=-I),I=d-h/((f-d)/2+I),o=_;o<=x;o++)i.set(o,o,i.get(o,o)-I);M+=I,d=f=h=.964}for(D+=1,u=x-2;u>=l&&(C=i.get(u,u),T=d-C,I=f-C,E=(T*I-h)/i.get(u+1,u)+i.get(u,u+1),A=i.get(u+1,u+1)-C-T-I,T=i.get(u+2,u+1),I=Math.abs(E)+Math.abs(A)+Math.abs(T),E/=I,A/=I,T/=I,u!==l)&&!(Math.abs(i.get(u,u-1))*(Math.abs(A)+Math.abs(T))<S*(Math.abs(E)*(Math.abs(i.get(u-1,u-1))+Math.abs(C)+Math.abs(i.get(u+1,u+1)))));)u--;for(o=u+2;o<=x;o++)i.set(o,o-2,0),o>u+2&&i.set(o,o-3,0);for(s=u;s<=x-1&&(y=s!==x-1,s!==u&&(E=i.get(s,s-1),A=i.get(s+1,s-1),T=y?i.get(s+2,s-1):0,d=Math.abs(E)+Math.abs(A)+Math.abs(T),0!==d&&(E/=d,A/=d,T/=d)),0!==d);s++)if(I=Math.sqrt(E*E+A*A+T*T),E<0&&(I=-I),0!==I){for(s!==u?i.set(s,s-1,-I*d):l!==u&&i.set(s,s-1,-i.get(s,s-1)),E+=I,d=E/I,f=A/I,C=T/I,A/=E,T/=E,a=s;a<t;a++)E=i.get(s,a)+A*i.get(s+1,a),y&&(E+=T*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-E*C)),i.set(s,a,i.get(s,a)-E*d),i.set(s+1,a,i.get(s+1,a)-E*f);for(o=0;o<=Math.min(x,s+3);o++)E=d*i.get(o,s)+f*i.get(o,s+1),y&&(E+=C*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-E*T)),i.set(o,s,i.get(o,s)-E),i.set(o,s+1,i.get(o,s+1)-E*A);for(o=_;o<=w;o++)E=d*r.get(o,s)+f*r.get(o,s+1),y&&(E+=C*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-E*T)),r.set(o,s,r.get(o,s)-E),r.set(o,s+1,r.get(o,s+1)-E*A)}}}if(0===k)return;for(x=t-1;x>=0;x--)if(E=n[x],A=e[x],0===A)for(l=x,i.set(x,x,1),o=x-1;o>=0;o--){for(h=i.get(o,o)-E,T=0,a=l;a<=x;a++)T+=i.get(o,a)*i.get(a,x);if(e[o]<0)C=h,I=T;else if(l=o,0===e[o]?i.set(o,x,0!==h?-T/h:-T/(S*k)):(d=i.get(o,o+1),f=i.get(o+1,o),A=(n[o]-E)*(n[o]-E)+e[o]*e[o],c=(d*I-C*T)/A,i.set(o,x,c),i.set(o+1,x,Math.abs(d)>Math.abs(C)?(-T-h*c)/d:(-I-f*c)/C)),c=Math.abs(i.get(o,x)),S*c*c>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/c)}else if(A<0)for(l=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,A/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-E)/i.get(x,x-1))):(b=$(0,-i.get(x-1,x),i.get(x-1,x-1)-E,A),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=l;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(h=i.get(o,o)-E,e[o]<0)C=h,T=p,I=g;else if(l=o,0===e[o]?(b=$(-p,-g,h,A),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(d=i.get(o,o+1),f=i.get(o+1,o),m=(n[o]-E)*(n[o]-E)+e[o]*e[o]-A*A,v=2*(n[o]-E)*A,0===m&&0===v&&(m=S*k*(Math.abs(h)+Math.abs(A)+Math.abs(d)+Math.abs(f)+Math.abs(C))),b=$(d*T-C*p+A*g,d*I-C*g-A*p,m,v),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(d)>Math.abs(C)+Math.abs(A)?(i.set(o+1,x-1,(-p-h*i.get(o,x-1)+A*i.get(o,x))/d),i.set(o+1,x,(-g-h*i.get(o,x)-A*i.get(o,x-1))/d)):(b=$(-T-f*i.get(o,x-1),-I-f*i.get(o,x),C,A),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),c=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))),S*c*c>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/c),i.set(a,x,i.get(a,x)/c)}for(o=0;o<t;o++)if(o<_||o>w)for(a=o;a<t;a++)r.set(o,a,i.get(o,a));for(a=t-1;a>=_;a--)for(o=_;o<=w;o++){for(C=0,s=_;s<=Math.min(a,w);s++)C+=r.get(o,s)*i.get(s,a);r.set(o,a,C)}}(o,l,s,a,t)}this.n=o,this.e=l,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,n=this.n,r=this.e,i=this.d,o=new S(n,n);for(t=0;t<n;t++){for(e=0;e<n;e++)o.set(t,e,0);o.set(t,t,i[t]),r[t]>0?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function $(t,e,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(t+i*e)/o,(e-i*t)/o]):(i=n/r,o=r+i*n,[(i*t+e)/o,(i*e-t)/o])}class J{constructor(t){if(!(t=P.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,n,r,i=t,o=i.rows,a=new S(o,o),s=!0;for(n=0;n<o;n++){let t=0;for(r=0;r<n;r++){let o=0;for(e=0;e<r;e++)o+=a.get(r,e)*a.get(n,e);o=(i.get(n,r)-o)/a.get(r,r),a.set(n,r,o),t+=o*o}for(t=i.get(n,n)-t,s&=t>0,a.set(n,n,Math.sqrt(Math.max(t,0))),r=n+1;r<o;r++)a.set(n,r,0)}this.L=a,this.positiveDefinite=Boolean(s)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=P.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=t.columns,s=t.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(o,r));s.set(o,i,s.get(o,i)/e.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(r,o));s.set(o,i,s.get(o,i)/e.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class Q{constructor(t,e={}){t=P.checkMatrix(t);let{Y:n}=e;const{scaleScores:r=!1,maxIterations:o=1e3,terminationCriteria:a=1e-10}=e;let s;if(n){if(n=i(n)&&"number"==typeof n[0]?S.columnVector(n):P.checkMatrix(n),n.rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=n.getColumnVector(0)}else s=t.getColumnVector(0);let l,u,c,h,d=1;for(let e=0;e<o&&d>a;e++)c=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),c=c.div(c.norm()),l=t.mmul(c).div(c.transpose().mmul(c).get(0,0)),e>0&&(d=l.clone().sub(h).pow(2).sum()),h=l.clone(),n?(u=n.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),u=u.div(u.norm()),s=n.mmul(u).div(u.transpose().mmul(u).get(0,0))):s=l;if(n){let e=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));e=e.div(e.norm());let r=t.clone().sub(l.clone().mmul(e.transpose())),i=s.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),o=n.clone().sub(l.clone().mulS(i.get(0,0)).mmul(u.transpose()));this.t=l,this.p=e.transpose(),this.w=c.transpose(),this.q=u,this.u=s,this.s=l.transpose().mmul(l),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=c.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=r?l.clone().div(this.s.get(0,0)):l,this.xResidual=t.sub(l.mmul(c.transpose()))}}},"./node_modules/regl/dist/regl.js":function(t){t.exports=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t},n="\n";function r(t){return"undefined"!=typeof atob?atob(t):"base64:"+t}function i(t){throw new Error("(regl) "+t)}function o(t,e){t||i(e)}function a(t){return t?": "+t:""}function s(t,e,n){t in e||i("unknown parameter ("+t+")"+a(n)+". possible values: "+Object.keys(e).join())}function l(e,n){t(e)||i("invalid parameter type"+a(n)+". must be a typed array")}function u(t,e){switch(e){case"number":return"number"==typeof t;case"object":return"object"==typeof t;case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"function":return"function"==typeof t;case"undefined":return void 0===t;case"symbol":return"symbol"==typeof t}}function c(t,e,n){u(t,e)||i("invalid parameter type"+a(n)+". expected "+e+", got "+typeof t)}function h(t,e){t>=0&&(0|t)===t||i("invalid parameter type, ("+t+")"+a(e)+". must be a nonnegative integer")}function d(t,e,n){e.indexOf(t)<0&&i("invalid value"+a(n)+". must be one of: "+e)}var f=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(t){Object.keys(t).forEach((function(t){f.indexOf(t)<0&&i('invalid regl constructor argument "'+t+'". must be one of '+f)}))}function g(t,e){for(t+="";t.length<e;)t=" "+t;return t}function m(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function v(t,e){this.number=t,this.line=e,this.errors=[]}function y(t,e,n){this.file=t,this.line=e,this.message=n}function b(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return r?r[1]:"unknown"}function x(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return r?r[1]:"unknown"}function _(t,e){var n=t.split("\n"),i=1,o=0,a={unknown:new m,0:new m};a.unknown.name=a[0].name=e||b(),a.unknown.lines.push(new v(0,""));for(var s=0;s<n.length;++s){var l=n[s],u=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(l);if(u)switch(u[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(u[2]);c&&(i=0|c[1],c[2]&&((o=0|c[2])in a||(a[o]=new m)));break;case"define":var h=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);h&&(a[o].name=h[1]?r(h[2]):h[2])}a[o].lines.push(new v(i++,l))}return Object.keys(a).forEach((function(t){var e=a[t];e.lines.forEach((function(t){e.index[t.number]=t}))})),a}function w(t){var e=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t);n?e.push(new y(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new y("unknown",0,t))}})),e}function S(t,e){e.forEach((function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)}))}function M(t,e,r,i,a){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(e),l=i===t.FRAGMENT_SHADER?"fragment":"vertex";D(r,"string",l+" shader source must be a string",a);var u=_(r,a),c=w(s);S(u,c),Object.keys(u).forEach((function(t){var e=u[t];if(e.hasErrors){var r=[""],i=[""];o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach((function(t){if(t.errors.length>0){o(g(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+n,"color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach((function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),e=Math.max(t.line.indexOf(s,e),0)}else e=0;o(g("| ",6)),o(g("^^^",e+3)+n,"font-weight:bold"),o(g("| ",6)),o(i+n,"font-weight:bold")})),o(g("| ",6)+n)}else o(g(t.number,4)+"|  "),o(t.line+n,"color:red")})),"undefined"==typeof document||window.chrome||(i[0]=r.join("%c"))}function o(t,e){r.push(t),i.push(e||"")}})),o.raise("Error compiling "+l+" shader, "+u[0].name)}}function k(t,e,n,r,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){t.getProgramInfoLog(e);var a=_(n,i),s='Error linking program with vertex shader, "'+_(r,i)[0].name+'", and fragment shader "'+a[0].name+'"';o.raise(s)}}function E(t){t._commandRef=b()}function A(t,e,n,r){function i(t){return t?r.id(t):0}function o(t,e){Object.keys(e).forEach((function(e){t[r.id(e)]=!0}))}E(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={};o(a,e.static),o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static),o(s,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic}function T(t,e){var n=x();i(t+" in command "+(e||b())+("unknown"===n?"":" called from "+n))}function I(t,e,n){t||T(e,n||b())}function C(t,e,n,r){t in e||T("unknown parameter ("+t+")"+a(n)+". possible values: "+Object.keys(e).join(),r||b())}function D(t,e,n,r){u(t,e)||T("invalid parameter type"+a(n)+". expected "+e+", got "+typeof t,r||b())}function N(t){t()}function O(t,e,n){t.texture?d(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):d(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var L=33071,P=9728,R=9984,j=9985,z=9986,B=9987,F=5121,G=5122,V=5123,Z=5124,U=5125,H=5126,W=32819,Y=32820,X=33635,q=34042,K=36193,$={};function J(t,e){return t===Y||t===W||t===X?2:t===q?4:$[t]*e}function Q(t){return!(t&t-1||!t)}function tt(t,e,n){var r,i=e.width,a=e.height,s=e.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),t.wrapS===L&&t.wrapT===L||o(Q(i)&&Q(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==a&&o(t.minFilter!==R&&t.minFilter!==z&&t.minFilter!==j&&t.minFilter!==B,"min filter requires mipmap"):(o(Q(i)&&Q(a),"texture must be a square power of 2 to support mipmapping"),o(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),e.type===H&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(t.minFilter===P&&t.magFilter===P,"filter not supported, must enable oes_texture_float_linear"),o(!t.genMipmaps,"mipmap generation not supported with float textures"));var l=e.images;for(r=0;r<16;++r)if(l[r]){var u=i>>r,c=a>>r;o(e.mipmask&1<<r,"missing mipmap data");var h=l[r];if(o(h.width===u&&h.height===c,"invalid shape for mip images"),o(h.format===e.format&&h.internalformat===e.internalformat&&h.type===e.type,"incompatible type for mip image"),h.compressed);else if(h.data){var d=Math.ceil(J(h.type,s)*u/h.unpackAlignment)*h.unpackAlignment;o(h.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else h.element||h.copy}else t.genMipmaps||o(0==(e.mipmask&1<<r),"extra mipmap data");e.compressed&&o(!t.genMipmaps,"mipmap generation for compressed images not supported")}function et(t,e,n,r){var i=t.width,a=t.height,s=t.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(e.wrapS===L&&e.wrapT===L,"wrap mode not supported by cube map");for(var l=0;l<n.length;++l){var u=n[l];o(u.width===i&&u.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(o(!u.compressed,"can not generate mipmap for compressed textures"),o(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=u.images,h=0;h<16;++h){var d=c[h];if(d){var f=i>>h,p=a>>h;o(u.mipmask&1<<h,"missing mipmap data"),o(d.width===f&&d.height===p,"invalid shape for mip images"),o(d.format===t.format&&d.internalformat===t.internalformat&&d.type===t.type,"incompatible type for mip image"),d.compressed||(d.data?o(d.data.byteLength===f*p*Math.max(J(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}$[5120]=$[F]=1,$[G]=$[V]=$[K]=$[X]=$[W]=$[Y]=2,$[Z]=$[U]=$[H]=$[q]=4;var nt=e(o,{optional:N,raise:i,commandRaise:T,command:I,parameter:s,commandParameter:C,constructor:p,type:c,commandType:D,isTypedArray:l,nni:h,oneOf:d,shaderError:M,linkError:k,callSite:x,saveCommandRef:E,saveDrawInfo:A,framebufferFormat:O,guessCommand:b,texture2D:tt,textureCube:et}),rt=0,it=0,ot=5,at=6;function st(t,e){this.id=rt++,this.type=t,this.data=e}function lt(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ut(t){if(0===t.length)return[];var e=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&e===n&&('"'===e||"'"===e))return['"'+lt(t.substr(1,t.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(r)return ut(t.substr(0,r.index)).concat(ut(r[1])).concat(ut(t.substr(r.index+r[0].length)));var i=t.split(".");if(1===i.length)return['"'+lt(t)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(ut(i[a]));return o}function ct(t){return"["+ut(t).join("][")+"]"}function ht(t,e){return new st(t,ct(e+""))}function dt(t){return"function"==typeof t&&!t._reglType||t instanceof st}function ft(t,e){return"function"==typeof t?new st(it,t):"number"==typeof t||"boolean"==typeof t?new st(ot,t):Array.isArray(t)?new st(at,t.map(((t,n)=>ft(t,e+"["+n+"]")))):t instanceof st?t:void nt(!1,"invalid option type in uniform "+e)}var pt={DynamicVariable:st,define:ht,isDynamic:dt,unbox:ft,accessor:ct},gt={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},mt="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function vt(){var t={"":0},e=[""];return{id:function(n){var r=t[n];return r||(r=t[n]=e.length,e.push(n),r)},str:function(t){return e[t]}}}function yt(t,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,e(o.style,{width:n+"px",height:i+"px"})}function s(){i?i.disconnect():window.removeEventListener("resize",a),t.removeChild(o)}return e(o.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(o),t===document.body&&(o.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(t):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function bt(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xt(t){return"string"==typeof t.nodeName&&"function"==typeof t.appendChild&&"function"==typeof t.getBoundingClientRect}function _t(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}function wt(t){return"string"==typeof t?t.split():(nt(Array.isArray(t),"invalid extension array"),t)}function St(t){return"string"==typeof t?(nt("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function Mt(t){var e,n,r,i,o=t||{},a={},s=[],l=[],u="undefined"==typeof window?1:window.devicePixelRatio,c=!1,h=function(t){t&&nt.raise(t)},d=function(){};if("string"==typeof o?(nt("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(o),nt(e,"invalid query string for element")):"object"==typeof o?xt(o)?e=o:_t(o)?r=(i=o).canvas:(nt.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=St(o.canvas):"container"in o&&(n=St(o.container)),"attributes"in o&&(a=o.attributes,nt.type(a,"object","invalid context attributes")),"extensions"in o&&(s=wt(o.extensions)),"optionalExtensions"in o&&(l=wt(o.optionalExtensions)),"onDone"in o&&(nt.type(o.onDone,"function","invalid or missing onDone callback"),h=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(u=+o.pixelRatio,nt(u>0,"invalid pixel ratio"))):nt.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?r=e:n=e),!i){if(!r){nt("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var f=yt(n||document.body,h,u);if(!f)return null;r=f.canvas,d=f.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=bt(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:l,pixelRatio:u,profile:c,onDone:h,onDestroy:d}:(d(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function kt(t,e){var n={};function r(e){nt.type(e,"string","extension name must be string");var r,i=e.toLowerCase();try{r=n[i]=t.getExtension(i)}catch(t){}return!!r}for(var i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!r(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}function Et(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}var At=5120,Tt=5121,It=5122,Ct=5123,Dt=5124,Nt=5125,Ot=5126;function Lt(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}function Pt(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function Rt(){var t=Et(8,(function(){return[]}));function e(e){var n=Lt(e),r=t[Pt(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[Pt(e.byteLength)>>2].push(e)}function r(t,n){var r=null;switch(t){case At:r=new Int8Array(e(n),0,n);break;case Tt:r=new Uint8Array(e(n),0,n);break;case It:r=new Int16Array(e(2*n),0,n);break;case Ct:r=new Uint16Array(e(2*n),0,n);break;case Dt:r=new Int32Array(e(4*n),0,n);break;case Nt:r=new Uint32Array(e(4*n),0,n);break;case Ot:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(t){n(t.buffer)}return{alloc:e,free:n,allocType:r,freeType:i}}var jt=Rt();jt.zero=Rt();var zt=3408,Bt=3410,Ft=3411,Gt=3412,Vt=3413,Zt=3414,Ut=3415,Ht=33901,Wt=33902,Yt=3379,Xt=3386,qt=34921,Kt=36347,$t=36348,Jt=35661,Qt=35660,te=34930,ee=36349,ne=34076,re=34024,ie=7936,oe=7937,ae=7938,se=35724,le=34047,ue=36063,ce=34852,he=3553,de=34067,fe=34069,pe=33984,ge=6408,me=5126,ve=5121,ye=36160,be=36053,xe=36064,_e=16384,we=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(le));var r=1,i=1;e.webgl_draw_buffers&&(r=t.getParameter(ce),i=t.getParameter(ue));var o=!!e.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(he,a),t.texImage2D(he,0,ge,1,1,0,ge,me,null);var s=t.createFramebuffer();if(t.bindFramebuffer(ye,s),t.framebufferTexture2D(ye,xe,he,a,0),t.bindTexture(he,null),t.checkFramebufferStatus(ye)!==be)o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(_e);var l=jt.allocType(me,4);t.readPixels(0,0,1,1,ge,me,l),t.getError()?o=!1:(t.deleteFramebuffer(s),t.deleteTexture(a),o=1===l[0]),jt.freeType(l)}}var u=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=t.createTexture(),h=jt.allocType(ve,36);t.activeTexture(pe),t.bindTexture(de,c),t.texImage2D(fe,0,ge,3,3,0,ge,ve,h),jt.freeType(h),t.bindTexture(de,null),t.deleteTexture(c),u=!t.getError()}return{colorBits:[t.getParameter(Bt),t.getParameter(Ft),t.getParameter(Gt),t.getParameter(Vt)],depthBits:t.getParameter(Zt),stencilBits:t.getParameter(Ut),subpixelBits:t.getParameter(zt),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(Ht),lineWidthDims:t.getParameter(Wt),maxViewportDims:t.getParameter(Xt),maxCombinedTextureUnits:t.getParameter(Jt),maxCubeMapSize:t.getParameter(ne),maxRenderbufferSize:t.getParameter(re),maxTextureUnits:t.getParameter(te),maxTextureSize:t.getParameter(Yt),maxAttributes:t.getParameter(qt),maxVertexUniforms:t.getParameter(Kt),maxVertexTextureUnits:t.getParameter(Qt),maxVaryingVectors:t.getParameter($t),maxFragmentUniforms:t.getParameter(ee),glsl:t.getParameter(se),renderer:t.getParameter(oe),vendor:t.getParameter(ie),version:t.getParameter(ae),readFloat:o,npotTextureCube:u}};function Se(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var Me=function(t){return Object.keys(t).map((function(e){return t[e]}))},ke={shape:De,flatten:Ce};function Ee(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}function Ae(t,e,n,r){for(var i=0,o=0;o<e;++o)for(var a=t[o],s=0;s<n;++s)r[i++]=a[s]}function Te(t,e,n,r,i,o){for(var a=o,s=0;s<e;++s)for(var l=t[s],u=0;u<n;++u)for(var c=l[u],h=0;h<r;++h)i[a++]=c[h]}function Ie(t,e,n,r,i){for(var o=1,a=n+1;a<e.length;++a)o*=e[a];var s=e[n];if(e.length-n==4){var l=e[n+1],u=e[n+2],c=e[n+3];for(a=0;a<s;++a)Te(t[a],l,u,c,r,i),i+=o}else for(a=0;a<s;++a)Ie(t[a],e,n+1,r,i),i+=o}function Ce(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var a=r||jt.allocType(n,i);switch(e.length){case 0:break;case 1:Ee(t,e[0],a);break;case 2:Ae(t,e[0],e[1],a);break;case 3:Te(t,e[0],e[1],e[2],a,0);break;default:Ie(t,e,0,a,0)}return a}function De(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e}var Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Oe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Le={dynamic:35048,stream:35040,static:35044},Pe=ke.flatten,Re=ke.shape,je=35044,ze=35040,Be=5121,Fe=5126,Ge=[];function Ve(t){return 0|Ne[Object.prototype.toString.call(t)]}function Ze(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function Ue(t,e,n,r,i,o,a){for(var s=0,l=0;l<n;++l)for(var u=0;u<r;++u)t[s++]=e[i*l+o*u+a]}function He(e,n,r,i){var o=0,a={};function s(t){this.id=o++,this.buffer=e.createBuffer(),this.type=t,this.usage=je,this.byteLength=0,this.dimension=1,this.dtype=Be,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){f(this)};var l=[];function u(t,e){var n=l.pop();return n||(n=new s(t)),n.bind(),d(n,e,ze,0,1,!1),n}function c(t){l.push(t)}function h(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function d(e,n,r,i,o,a){var s,l;if(e.usage=r,Array.isArray(n)){if(e.dtype=i||Fe,n.length>0)if(Array.isArray(n[0])){s=Re(n);for(var u=1,c=1;c<s.length;++c)u*=s[c];e.dimension=u,h(e,l=Pe(n,s,e.dtype),r),a?e.persistentData=l:jt.freeType(l)}else if("number"==typeof n[0]){e.dimension=o;var d=jt.allocType(e.dtype,n.length);Ze(d,n),h(e,d,r),a?e.persistentData=d:jt.freeType(d)}else t(n[0])?(e.dimension=n[0].length,e.dtype=i||Ve(n[0])||Fe,h(e,l=Pe(n,[n.length,n[0].length],e.dtype),r),a?e.persistentData=l:jt.freeType(l)):nt.raise("invalid buffer data")}else if(t(n))e.dtype=i||Ve(n),e.dimension=o,h(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Se(n)){s=n.shape;var f=n.stride,p=n.offset,g=0,m=0,v=0,y=0;1===s.length?(g=s[0],m=1,v=f[0],y=0):2===s.length?(g=s[0],m=s[1],v=f[0],y=f[1]):nt.raise("invalid shape"),e.dtype=i||Ve(n.data)||Fe,e.dimension=m;var b=jt.allocType(e.dtype,g*m);Ue(b,n.data,g,m,v,y,p),h(e,b,r),a?e.persistentData=b:jt.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=Be,e.dimension=o,h(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):nt.raise("invalid buffer data")}function f(t){n.bufferCount--,i(t);var r=t.buffer;nt(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete a[t.id]}function p(i,o,l,u){n.bufferCount++;var c=new s(o);function h(n){var i=je,o=null,a=0,s=0,l=1;return Array.isArray(n)||t(n)||Se(n)||n instanceof ArrayBuffer?o=n:"number"==typeof n?a=0|n:n&&(nt.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(nt(null===o||Array.isArray(o)||t(o)||Se(o),"invalid data for buffer"),o=n.data),"usage"in n&&(nt.parameter(n.usage,Le,"invalid buffer usage"),i=Le[n.usage]),"type"in n&&(nt.parameter(n.type,Oe,"invalid buffer type"),s=Oe[n.type]),"dimension"in n&&(nt.type(n.dimension,"number","invalid dimension"),l=0|n.dimension),"length"in n&&(nt.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),c.bind(),o?d(c,o,i,s,l,u):(a&&e.bufferData(c.type,a,i),c.dtype=s||Be,c.usage=i,c.dimension=l,c.byteLength=a),r.profile&&(c.stats.size=c.byteLength*Ge[c.dtype]),h}function p(t,n){nt(n+t.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),e.bufferSubData(c.type,n,t)}function g(e,n){var r,i=0|(n||0);if(c.bind(),t(e)||e instanceof ArrayBuffer)p(e,i);else if(Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var o=jt.allocType(c.dtype,e.length);Ze(o,e),p(o,i),jt.freeType(o)}else if(Array.isArray(e[0])||t(e[0])){r=Re(e);var a=Pe(e,r,c.dtype);p(a,i),jt.freeType(a)}else nt.raise("invalid buffer data")}else if(Se(e)){r=e.shape;var s=e.stride,l=0,u=0,d=0,f=0;1===r.length?(l=r[0],u=1,d=s[0],f=0):2===r.length?(l=r[0],u=r[1],d=s[0],f=s[1]):nt.raise("invalid shape");var g=Array.isArray(e.data)?c.dtype:Ve(e.data),m=jt.allocType(g,l*u);Ue(m,e.data,l,u,d,f,e.offset),p(m,i),jt.freeType(m)}else nt.raise("invalid data for buffer subdata");return h}return a[c.id]=c,l||h(i),h._reglType="buffer",h._buffer=c,h.subdata=g,r.profile&&(h.stats=c.stats),h.destroy=function(){f(c)},h}function g(){Me(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(e){t+=a[e].stats.size})),t}),{create:p,createStream:u,destroyStream:c,clear:function(){Me(a).forEach(f),l.forEach(f)},getBuffer:function(t){return t&&t._buffer instanceof s?t._buffer:null},restore:g,_initBuffer:d}}Ge[5120]=1,Ge[5122]=2,Ge[5124]=4,Ge[5121]=1,Ge[5123]=2,Ge[5125]=4,Ge[5126]=4;var We={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ye=0,Xe=1,qe=4,Ke=5120,$e=5121,Je=5122,Qe=5123,tn=5124,en=5125,nn=34963,rn=35040,on=35044;function an(e,n,r,i){var o={},a=0,s={uint8:$e,uint16:Qe};function l(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=qe,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=en),l.prototype.bind=function(){this.buffer.bind()};var u=[];function c(t){var e=u.pop();return e||(e=new l(r.create(null,nn,!0,!1)._buffer)),d(e,t,rn,-1,-1,0,0),e}function h(t){u.push(t)}function d(i,o,a,s,l,u,c){var h;if(i.buffer.bind(),o){var d=c;c||t(o)&&(!Se(o)||t(o.data))||(d=n.oes_element_index_uint?en:Qe),r._initBuffer(i.buffer,o,a,d,3)}else e.bufferData(nn,u,a),i.buffer.dtype=h||$e,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=u;if(h=c,!c){switch(i.buffer.dtype){case $e:case Ke:h=$e;break;case Qe:case Je:h=Qe;break;case en:case tn:h=en;break;default:nt.raise("unsupported type for element array")}i.buffer.dtype=h}i.type=h,nt(h!==en||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var f=l;f<0&&(f=i.buffer.byteLength,h===Qe?f>>=1:h===en&&(f>>=2)),i.vertCount=f;var p=s;if(s<0){p=qe;var g=i.buffer.dimension;1===g&&(p=Ye),2===g&&(p=Xe),3===g&&(p=qe)}i.primType=p}function f(t){i.elementsCount--,nt(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}function p(e,n){var o=r.create(null,nn,!0),a=new l(o._buffer);function u(e){if(e)if("number"==typeof e)o(e),a.primType=qe,a.vertCount=0|e,a.type=$e;else{var n=null,r=on,i=-1,l=-1,c=0,h=0;Array.isArray(e)||t(e)||Se(e)?n=e:(nt.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,nt(Array.isArray(n)||t(n)||Se(n),"invalid data for element buffer")),"usage"in e&&(nt.parameter(e.usage,Le,"invalid element buffer usage"),r=Le[e.usage]),"primitive"in e&&(nt.parameter(e.primitive,We,"invalid element buffer primitive"),i=We[e.primitive]),"count"in e&&(nt("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),l=0|e.count),"type"in e&&(nt.parameter(e.type,s,"invalid buffer type"),h=s[e.type]),"length"in e?c=0|e.length:(c=l,h===Qe||h===Je?c*=2:h!==en&&h!==tn||(c*=4))),d(a,n,r,i,l,c,h)}else o(),a.primType=qe,a.vertCount=0,a.type=$e;return u}return i.elementsCount++,u(e),u._reglType="elements",u._elements=a,u.subdata=function(t,e){return o.subdata(t,e),u},u.destroy=function(){f(a)},u}return{create:p,createStream:c,destroyStream:h,getElements:function(t){return"function"==typeof t&&t._elements instanceof l?t._elements:null},clear:function(){Me(o).forEach(f)}}}var sn=new Float32Array(1),ln=new Uint32Array(sn.buffer),un=5123;function cn(t){for(var e=jt.allocType(un,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{sn[0]=t[n];var r=ln[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)e[n]=i;else if(o<-14){var s=-14-o;e[n]=i+(a+1024>>s)}else e[n]=o>15?i+31744:i+(o+15<<10)+a}return e}function hn(e){return Array.isArray(e)||t(e)}var dn=function(t){return!(t&t-1||!t)},fn=34467,pn=3553,gn=34067,mn=34069,vn=6408,yn=6406,bn=6407,xn=6409,_n=6410,wn=32854,Sn=32855,Mn=36194,kn=32819,En=32820,An=33635,Tn=34042,In=6402,Cn=34041,Dn=35904,Nn=35906,On=36193,Ln=33776,Pn=33777,Rn=33778,jn=33779,zn=35986,Bn=35987,Fn=34798,Gn=35840,Vn=35841,Zn=35842,Un=35843,Hn=36196,Wn=5121,Yn=5123,Xn=5125,qn=5126,Kn=10242,$n=10243,Jn=10497,Qn=33071,tr=33648,er=10240,nr=10241,rr=9728,ir=9729,or=9984,ar=9985,sr=9986,lr=9987,ur=33170,cr=4352,hr=4353,dr=4354,fr=34046,pr=3317,gr=37440,mr=37441,vr=37443,yr=37444,br=33984,xr=[or,sr,ar,lr],_r=[0,xn,_n,bn,vn],wr={};function Sr(t){return"[object "+t+"]"}wr[xn]=wr[yn]=wr[In]=1,wr[Cn]=wr[_n]=2,wr[bn]=wr[Dn]=3,wr[vn]=wr[Nn]=4;var Mr=Sr("HTMLCanvasElement"),kr=Sr("OffscreenCanvas"),Er=Sr("CanvasRenderingContext2D"),Ar=Sr("ImageBitmap"),Tr=Sr("HTMLImageElement"),Ir=Sr("HTMLVideoElement"),Cr=Object.keys(Ne).concat([Mr,kr,Er,Ar,Tr,Ir]),Dr=[];Dr[Wn]=1,Dr[qn]=4,Dr[On]=2,Dr[Yn]=2,Dr[Xn]=4;var Nr=[];function Or(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function Lr(t){return!!Array.isArray(t)&&!(0===t.length||!hn(t[0]))}function Pr(t){return Object.prototype.toString.call(t)}function Rr(t){return Pr(t)===Mr}function jr(t){return Pr(t)===kr}function zr(t){return Pr(t)===Er}function Br(t){return Pr(t)===Ar}function Fr(t){return Pr(t)===Tr}function Gr(t){return Pr(t)===Ir}function Vr(t){if(!t)return!1;var e=Pr(t);return Cr.indexOf(e)>=0||Or(t)||Lr(t)||Se(t)}function Zr(t){return 0|Ne[Object.prototype.toString.call(t)]}function Ur(t,e){var n=e.length;switch(t.type){case Wn:case Yn:case Xn:case qn:var r=jt.allocType(t.type,n);r.set(e),t.data=r;break;case On:t.data=cn(e);break;default:nt.raise("unsupported texture type, must specify a typed array")}}function Hr(t,e){return jt.allocType(t.type===On?qn:t.type,e)}function Wr(t,e){t.type===On?(t.data=cn(e),jt.freeType(e)):t.data=e}function Yr(t,e,n,r,i,o){for(var a=t.width,s=t.height,l=t.channels,u=Hr(t,a*s*l),c=0,h=0;h<s;++h)for(var d=0;d<a;++d)for(var f=0;f<l;++f)u[c++]=e[n*d+r*h+i*f+o];Wr(t,u)}function Xr(t,e,n,r,i,o){var a;if(a=void 0!==Nr[t]?Nr[t]:wr[t]*Dr[e],o&&(a*=6),i){for(var s=0,l=n;l>=1;)s+=a*l*l,l/=2;return s}return a*n*r}function qr(n,r,i,o,a,s,l){var u={"don't care":cr,"dont care":cr,nice:dr,fast:hr},c={repeat:Jn,clamp:Qn,mirror:tr},h={nearest:rr,linear:ir},d=e({mipmap:lr,"nearest mipmap nearest":or,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":lr},h),f={none:0,browser:yr},p={uint8:Wn,rgba4:kn,rgb565:An,"rgb5 a1":En},g={alpha:yn,luminance:xn,"luminance alpha":_n,rgb:bn,rgba:vn,rgba4:wn,"rgb5 a1":Sn,rgb565:Mn},m={};r.ext_srgb&&(g.srgb=Dn,g.srgba=Nn),r.oes_texture_float&&(p.float32=p.float=qn),r.oes_texture_half_float&&(p.float16=p["half float"]=On),r.webgl_depth_texture&&(e(g,{depth:In,"depth stencil":Cn}),e(p,{uint16:Yn,uint32:Xn,"depth stencil":Tn})),r.webgl_compressed_texture_s3tc&&e(m,{"rgb s3tc dxt1":Ln,"rgba s3tc dxt1":Pn,"rgba s3tc dxt3":Rn,"rgba s3tc dxt5":jn}),r.webgl_compressed_texture_atc&&e(m,{"rgb atc":zn,"rgba atc explicit alpha":Bn,"rgba atc interpolated alpha":Fn}),r.webgl_compressed_texture_pvrtc&&e(m,{"rgb pvrtc 4bppv1":Gn,"rgb pvrtc 2bppv1":Vn,"rgba pvrtc 4bppv1":Zn,"rgba pvrtc 2bppv1":Un}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=Hn);var v=Array.prototype.slice.call(n.getParameter(fn));Object.keys(m).forEach((function(t){var e=m[t];v.indexOf(e)>=0&&(g[t]=e)}));var y=Object.keys(g);i.textureFormats=y;var b=[];Object.keys(g).forEach((function(t){var e=g[t];b[e]=t}));var x=[];Object.keys(p).forEach((function(t){var e=p[t];x[e]=t}));var _=[];Object.keys(h).forEach((function(t){var e=h[t];_[e]=t}));var w=[];Object.keys(d).forEach((function(t){var e=d[t];w[e]=t}));var S=[];Object.keys(c).forEach((function(t){var e=c[t];S[e]=t}));var M=y.reduce((function(t,e){var n=g[e];return n===xn||n===yn||n===xn||n===_n||n===In||n===Cn||r.ext_srgb&&(n===Dn||n===Nn)?t[n]=n:n===Sn||e.indexOf("rgba")>=0?t[n]=vn:t[n]=bn,t}),{});function k(){this.internalformat=vn,this.format=vn,this.type=Wn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function E(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function A(t,e){if("object"==typeof e&&e){if("premultiplyAlpha"in e&&(nt.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(nt.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(nt.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(nt.parameter(e.colorSpace,f,"invalid colorSpace"),t.colorSpace=f[e.colorSpace]),"type"in e){var n=e.type;nt(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),nt(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),nt(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),nt.parameter(n,p,"invalid texture type"),t.type=p[n]}var o=t.width,a=t.height,s=t.channels,l=!1;"shape"in e?(nt(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),o=e.shape[0],a=e.shape[1],3===e.shape.length&&(s=e.shape[2],nt(s>0&&s<=4,"invalid number of channels"),l=!0),nt(o>=0&&o<=i.maxTextureSize,"invalid width"),nt(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in e&&(o=a=e.radius,nt(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in e&&(o=e.width,nt(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in e&&(a=e.height,nt(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,nt(s>0&&s<=4,"invalid number of channels"),l=!0)),t.width=0|o,t.height=0|a,t.channels=0|s;var u=!1;if("format"in e){var c=e.format;nt(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),nt.parameter(c,g,"invalid texture format");var h=t.internalformat=g[c];t.format=M[h],c in p&&("type"in e||(t.type=p[c])),c in m&&(t.compressed=!0),u=!0}!l&&u?t.channels=wr[t.format]:l&&!u?t.channels!==_r[t.format]&&(t.format=t.internalformat=_r[t.channels]):u&&l&&nt(t.channels===wr[t.format],"number of channels inconsistent with specified format")}}function T(t){n.pixelStorei(gr,t.flipY),n.pixelStorei(mr,t.premultiplyAlpha),n.pixelStorei(vr,t.colorSpace),n.pixelStorei(pr,t.unpackAlignment)}function I(){k.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function C(e,n){var r=null;if(Vr(n)?r=n:n&&(nt.type(n,"object","invalid pixel data type"),A(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),Vr(n.data)&&(r=n.data)),nt(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){nt(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,nt(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=o&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||e.type!==Wn||(e.type=Zr(r));else if(Or(r))e.channels=e.channels||4,Ur(e,r),e.alignment=1,e.needsFree=!0;else if(Se(r)){var l=r.data;Array.isArray(l)||e.type!==Wn||(e.type=Zr(l));var u,c,h,d,f,p,g=r.shape,m=r.stride;3===g.length?(h=g[2],p=m[2]):(nt(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),h=1,p=1),u=g[0],c=g[1],d=m[0],f=m[1],e.alignment=1,e.width=u,e.height=c,e.channels=h,e.format=e.internalformat=_r[h],e.needsFree=!0,Yr(e,l,d,f,p,r.offset)}else if(Rr(r)||jr(r)||zr(r))Rr(r)||jr(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(Br(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(Fr(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(Gr(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(Lr(r)){var v=e.width||r[0].length,y=e.height||r.length,b=e.channels;b=hn(r[0][0])?b||r[0][0].length:b||1;for(var x=ke.shape(r),_=1,w=0;w<x.length;++w)_*=x[w];var S=Hr(e,_);ke.flatten(r,x,"",S),Wr(e,S),e.alignment=1,e.width=v,e.height=y,e.channels=b,e.format=e.internalformat=_r[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===qn?nt(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===On&&nt(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function D(t,e,r){var i=t.element,a=t.data,s=t.internalformat,l=t.format,u=t.type,c=t.width,h=t.height;T(t),i?n.texImage2D(e,r,l,l,u,i):t.compressed?n.compressedTexImage2D(e,r,s,c,h,0,a):t.needsCopy?(o(),n.copyTexImage2D(e,r,l,t.xOffset,t.yOffset,c,h,0)):n.texImage2D(e,r,l,c,h,0,l,u,a||null)}function N(t,e,r,i,a){var s=t.element,l=t.data,u=t.internalformat,c=t.format,h=t.type,d=t.width,f=t.height;T(t),s?n.texSubImage2D(e,a,r,i,c,h,s):t.compressed?n.compressedTexSubImage2D(e,a,r,i,u,d,f,l):t.needsCopy?(o(),n.copyTexSubImage2D(e,a,r,i,t.xOffset,t.yOffset,d,f)):n.texSubImage2D(e,a,r,i,d,f,c,h,l)}var O=[];function L(){return O.pop()||new I}function P(t){t.needsFree&&jt.freeType(t.data),I.call(t),O.push(t)}function R(){k.call(this),this.genMipmaps=!1,this.mipmapHint=cr,this.mipmask=0,this.images=Array(16)}function j(t,e,n){var r=t.images[0]=L();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function z(t,e){var n=null;if(Vr(e))E(n=t.images[0]=L(),t),C(n,e),t.mipmask=1;else if(A(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,i=0;i<r.length;++i)E(n=t.images[i]=L(),t),n.width>>=i,n.height>>=i,C(n,r[i]),t.mipmask|=1<<i;else E(n=t.images[0]=L(),t),C(n,e),t.mipmask=1;E(t,t.images[0]),!t.compressed||t.internalformat!==Ln&&t.internalformat!==Pn&&t.internalformat!==Rn&&t.internalformat!==jn||nt(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;D(n[r],e,r)}}var F=[];function G(){var t=F.pop()||new R;k.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function V(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&P(e[n]),e[n]=null;F.push(t)}function Z(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Qn,this.wrapT=Qn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cr}function U(t,e){if("min"in e){var n=e.min;nt.parameter(n,d),t.minFilter=d[n],xr.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;nt.parameter(r,h),t.magFilter=h[r]}var o=t.wrapS,a=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(nt.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(nt.parameter(s[0],c),nt.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in e){var l=e.wrapS;nt.parameter(l,c),o=c[l]}if("wrapT"in e){var f=e.wrapT;nt.parameter(f,c),a=c[f]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in e){var p=e.anisotropic;nt("number"==typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var g=!1;switch(typeof e.mipmap){case"string":nt.parameter(e.mipmap,u,"invalid mipmap hint"),t.mipmapHint=u[e.mipmap],t.genMipmaps=!0,g=!0;break;case"boolean":g=t.genMipmaps=e.mipmap;break;case"object":nt(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,g=!0;break;default:nt.raise("invalid mipmap type")}g&&!("min"in e)&&(t.minFilter=or)}}function H(t,e){n.texParameteri(e,nr,t.minFilter),n.texParameteri(e,er,t.magFilter),n.texParameteri(e,Kn,t.wrapS),n.texParameteri(e,$n,t.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(e,fr,t.anisotropic),t.genMipmaps&&(n.hint(ur,t.mipmapHint),n.generateMipmap(e))}var W=0,Y={},X=i.maxTextureUnits,q=Array(X).map((function(){return null}));function K(t){k.call(this),this.mipmask=0,this.internalformat=vn,this.id=W++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Z,l.profile&&(this.stats={size:0})}function $(t){n.activeTexture(br),n.bindTexture(t.target,t.texture)}function J(){var t=q[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(pn,null)}function Q(t){var e=t.texture;nt(e,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(i,null),q[r]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete Y[t.id],s.textureCount--}function tt(t,e){var r=new K(pn);function o(t,e){var n=r.texInfo;Z.call(n);var a=G();return"number"==typeof t?j(a,0|t,"number"==typeof e?0|e:0|t):t?(nt.type(t,"object","invalid arguments to regl.texture"),U(n,t),z(a,t)):j(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,E(r,a),nt.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,$(r),B(a,pn),H(n,pn),J(),V(a),l.profile&&(r.stats.size=Xr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=_[n.magFilter],o.min=w[n.minFilter],o.wrapS=S[n.wrapS],o.wrapT=S[n.wrapT],o}function a(t,e,n,i){nt(!!t,"must specify image data");var a=0|e,s=0|n,l=0|i,u=L();return E(u,r),u.width=0,u.height=0,C(u,t),u.width=u.width||(r.width>>l)-a,u.height=u.height||(r.height>>l)-s,nt(r.type===u.type&&r.format===u.format&&r.internalformat===u.internalformat,"incompatible format for texture.subimage"),nt(a>=0&&s>=0&&a+u.width<=r.width&&s+u.height<=r.height,"texture.subimage write out of bounds"),nt(r.mipmask&1<<l,"missing mipmap data"),nt(u.data||u.element||u.needsCopy,"missing image data"),$(r),N(u,pn,a,s,l),J(),P(u),o}function u(t,e){var i=0|t,a=0|e||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,$(r);for(var s=0;r.mipmask>>s;++s){var u=i>>s,c=a>>s;if(!u||!c)break;n.texImage2D(pn,s,r.format,u,c,0,r.format,r.type,null)}return J(),l.profile&&(r.stats.size=Xr(r.internalformat,r.type,i,a,!1,!1)),o}return Y[r.id]=r,s.textureCount++,o(t,e),o.subimage=a,o.resize=u,o._reglType="texture2d",o._texture=r,l.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function et(t,e,r,o,a,u){var c=new K(gn);Y[c.id]=c,s.cubeCount++;var h=new Array(6);function d(t,e,n,r,o,a){var s,u=c.texInfo;for(Z.call(u),s=0;s<6;++s)h[s]=G();if("number"!=typeof t&&t)if("object"==typeof t)if(e)z(h[0],t),z(h[1],e),z(h[2],n),z(h[3],r),z(h[4],o),z(h[5],a);else if(U(u,t),A(c,t),"faces"in t){var f=t.faces;for(nt(Array.isArray(f)&&6===f.length,"cube faces must be a length 6 array"),s=0;s<6;++s)nt("object"==typeof f[s]&&!!f[s],"invalid input for cube map face"),E(h[s],c),z(h[s],f[s])}else for(s=0;s<6;++s)z(h[s],t);else nt.raise("invalid arguments to cube map");else{var p=0|t||1;for(s=0;s<6;++s)j(h[s],p,p)}for(E(c,h[0]),i.npotTextureCube||nt(dn(c.width)&&dn(c.height),"your browser does not support non power or two texture dimensions"),u.genMipmaps?c.mipmask=(h[0].width<<1)-1:c.mipmask=h[0].mipmask,nt.textureCube(c,u,h,i),c.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,$(c),s=0;s<6;++s)B(h[s],mn+s);for(H(u,gn),J(),l.profile&&(c.stats.size=Xr(c.internalformat,c.type,d.width,d.height,u.genMipmaps,!0)),d.format=b[c.internalformat],d.type=x[c.type],d.mag=_[u.magFilter],d.min=w[u.minFilter],d.wrapS=S[u.wrapS],d.wrapT=S[u.wrapT],s=0;s<6;++s)V(h[s]);return d}function f(t,e,n,r,i){nt(!!e,"must specify image data"),nt("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|n,a=0|r,s=0|i,l=L();return E(l,c),l.width=0,l.height=0,C(l,e),l.width=l.width||(c.width>>s)-o,l.height=l.height||(c.height>>s)-a,nt(c.type===l.type&&c.format===l.format&&c.internalformat===l.internalformat,"incompatible format for texture.subimage"),nt(o>=0&&a>=0&&o+l.width<=c.width&&a+l.height<=c.height,"texture.subimage write out of bounds"),nt(c.mipmask&1<<s,"missing mipmap data"),nt(l.data||l.element||l.needsCopy,"missing image data"),$(c),N(l,mn+t,o,a,s),J(),P(l),d}function p(t){var e=0|t;if(e!==c.width){d.width=c.width=e,d.height=c.height=e,$(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(mn+r,i,c.format,e>>i,e>>i,0,c.format,c.type,null);return J(),l.profile&&(c.stats.size=Xr(c.internalformat,c.type,d.width,d.height,!1,!0)),d}}return d(t,e,r,o,a,u),d.subimage=f,d.resize=p,d._reglType="textureCube",d._texture=c,l.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function rt(){for(var t=0;t<X;++t)n.activeTexture(br+t),n.bindTexture(pn,null),q[t]=null;Me(Y).forEach(Q),s.cubeCount=0,s.textureCount=0}function it(){for(var t=0;t<X;++t){var e=q[t];e&&(e.bindCount=0,e.unit=-1,q[t]=null)}Me(Y).forEach((function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(t.target===pn)n.texImage2D(pn,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)n.texImage2D(mn+r,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);H(t.texInfo,t.target)}))}function ot(){for(var t=0;t<X;++t){var e=q[t];e&&(e.bindCount=0,e.unit=-1,q[t]=null),n.activeTexture(br+t),n.bindTexture(pn,null),n.bindTexture(gn,null)}}return e(K.prototype,{bind:function(){var t=this;t.bindCount+=1;var e=t.unit;if(e<0){for(var r=0;r<X;++r){var i=q[r];if(i){if(i.bindCount>0)continue;i.unit=-1}q[r]=t,e=r;break}e>=X&&nt.raise("insufficient number of texture units"),l.profile&&s.maxTextureUnits<e+1&&(s.maxTextureUnits=e+1),t.unit=e,n.activeTexture(br+e),n.bindTexture(t.target,t.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Q(this)}}),l.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(Y).forEach((function(e){t+=Y[e].stats.size})),t}),{create2D:tt,createCube:et,clear:rt,getTexture:function(t){return null},restore:it,refresh:ot}}Nr[wn]=2,Nr[Sn]=2,Nr[Mn]=2,Nr[Cn]=4,Nr[Ln]=.5,Nr[Pn]=.5,Nr[Rn]=1,Nr[jn]=1,Nr[zn]=.5,Nr[Bn]=1,Nr[Fn]=1,Nr[Gn]=.5,Nr[Vn]=.25,Nr[Zn]=.5,Nr[Un]=.25,Nr[Hn]=.5;var Kr=36161,$r=32854,Jr=32855,Qr=36194,ti=33189,ei=36168,ni=34041,ri=35907,ii=34836,oi=34842,ai=34843,si=[];function li(t,e,n){return si[t]*e*n}si[$r]=2,si[Jr]=2,si[Qr]=2,si[ti]=2,si[ei]=1,si[ni]=4,si[ri]=4,si[ii]=16,si[oi]=8,si[ai]=6;var ui=function(t,e,n,r,i){var o={rgba4:$r,rgb565:Qr,"rgb5 a1":Jr,depth:ti,stencil:ei,"depth stencil":ni};e.ext_srgb&&(o.srgba=ri),e.ext_color_buffer_half_float&&(o.rgba16f=oi,o.rgb16f=ai),e.webgl_color_buffer_float&&(o.rgba32f=ii);var a=[];Object.keys(o).forEach((function(t){var e=o[t];a[e]=t}));var s=0,l={};function u(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=$r,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(e){var n=e.renderbuffer;nt(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(Kr,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete l[e.id],r.renderbufferCount--}function h(e,s){var c=new u(t.createRenderbuffer());function h(e,r){var s=0,l=0,u=$r;if("object"==typeof e&&e){var d=e;if("shape"in d){var f=d.shape;nt(Array.isArray(f)&&f.length>=2,"invalid renderbuffer shape"),s=0|f[0],l=0|f[1]}else"radius"in d&&(s=l=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(l=0|d.height);"format"in d&&(nt.parameter(d.format,o,"invalid renderbuffer format"),u=o[d.format])}else"number"==typeof e?(s=0|e,l="number"==typeof r?0|r:s):e?nt.raise("invalid arguments to renderbuffer constructor"):s=l=1;if(nt(s>0&&l>0&&s<=n.maxRenderbufferSize&&l<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||l!==c.height||u!==c.format)return h.width=c.width=s,h.height=c.height=l,c.format=u,t.bindRenderbuffer(Kr,c.renderbuffer),t.renderbufferStorage(Kr,u,s,l),nt(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=li(c.format,c.width,c.height)),h.format=a[c.format],h}function d(e,r){var o=0|e,a=0|r||o;return o===c.width&&a===c.height||(nt(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),h.width=c.width=o,h.height=c.height=a,t.bindRenderbuffer(Kr,c.renderbuffer),t.renderbufferStorage(Kr,c.format,o,a),nt(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=li(c.format,c.width,c.height))),h}return l[c.id]=c,r.renderbufferCount++,h(e,s),h.resize=d,h._reglType="renderbuffer",h._renderbuffer=c,i.profile&&(h.stats=c.stats),h.destroy=function(){c.decRef()},h}function d(){Me(l).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(Kr,e.renderbuffer),t.renderbufferStorage(Kr,e.format,e.width,e.height)})),t.bindRenderbuffer(Kr,null)}return u.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(l).forEach((function(e){t+=l[e].stats.size})),t}),{create:h,clear:function(){Me(l).forEach(c)},restore:d}},ci=36160,hi=36161,di=3553,fi=34069,pi=36064,gi=36096,mi=36128,vi=33306,yi=36053,bi=36054,xi=36055,_i=36057,wi=36061,Si=36193,Mi=5121,ki=5126,Ei=6407,Ai=6408,Ti=6402,Ii=[Ei,Ai],Ci=[];Ci[Ai]=4,Ci[Ei]=3;var Di=[];Di[Mi]=1,Di[ki]=4,Di[Si]=2;var Ni=33189,Oi=36168,Li=34041,Pi=[32854,32855,36194,35907,34842,34843,34836],Ri={};function ji(t,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},l=["rgba"],u=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&u.push("srgba"),n.ext_color_buffer_half_float&&u.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&u.push("rgba32f");var c=["uint8"];function h(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,i=0;e?(r=e.width,i=e.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function f(t,e,n){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);nt(i===e&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;nt(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(e,n){n&&(n.texture?t.framebufferTexture2D(ci,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(ci,e,hi,n.renderbuffer._renderbuffer.renderbuffer))}function g(t){var e=di,n=null,r=null,i=t;"object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),nt.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,nt(e===di)):"textureCube"===o?(n=i,nt(e>=fi&&e<fi+6,"invalid cube map target")):"renderbuffer"===o?(r=i,e=hi):nt.raise("invalid regl object for attachment"),new h(e,n,r)}function m(t,e,n,r,a){if(n){var s=i.create2D({width:t,height:e,format:r,type:a});return s._texture.refCount=0,new h(di,s,null)}var l=o.create({width:t,height:e,format:r});return l._renderbuffer.refCount=0,new h(hi,null,l)}function v(t){return t&&(t.texture||t.renderbuffer)}function y(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,x={};function _(){this.id=b++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(t){t.colorAttachments.forEach(d),d(t.depthAttachment),d(t.stencilAttachment),d(t.depthStencilAttachment)}function S(e){var n=e.framebuffer;nt(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,a.framebufferCount--,delete x[e.id]}function M(e){var n;t.bindFramebuffer(ci,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(ci,pi+n,di,null,0);t.framebufferTexture2D(ci,vi,di,null,0),t.framebufferTexture2D(ci,gi,di,null,0),t.framebufferTexture2D(ci,mi,di,null,0),p(gi,e.depthAttachment),p(mi,e.stencilAttachment),p(vi,e.depthStencilAttachment);var o=t.checkFramebufferStatus(ci);t.isContextLost()||o===yi||nt.raise("framebuffer configuration not supported, status = "+Ri[o]),t.bindFramebuffer(ci,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function k(t,i){var o=new _;function h(t,e){var i;nt(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,_="rgba",S="uint8",k=1,E=null,A=null,T=null,I=!1;if("number"==typeof t)a=0|t,d=0|e||a;else if(t){nt.type(t,"object","invalid arguments for framebuffer");var C=t;if("shape"in C){var D=C.shape;nt(Array.isArray(D)&&D.length>=2,"invalid shape for framebuffer"),a=D[0],d=D[1]}else"radius"in C&&(a=d=C.radius),"width"in C&&(a=C.width),"height"in C&&(d=C.height);("color"in C||"colors"in C)&&(b=C.color||C.colors,Array.isArray(b)&&nt(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in C&&(k=0|C.colorCount,nt(k>0,"invalid color buffer count")),"colorTexture"in C&&(x=!!C.colorTexture,_="rgba4"),"colorType"in C&&(S=C.colorType,x?(nt(n.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),nt(n.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(nt(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),_="rgba16f"):"float"!==S&&"float32"!==S||(nt(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),_="rgba32f"),nt.oneOf(S,c,"invalid color type")),"colorFormat"in C&&(_=C.colorFormat,l.indexOf(_)>=0?x=!0:u.indexOf(_)>=0?x=!1:x?nt.oneOf(C.colorFormat,l,"invalid color format for texture"):nt.oneOf(C.colorFormat,u,"invalid color format for renderbuffer"))),("depthTexture"in C||"depthStencilTexture"in C)&&(I=!(!C.depthTexture&&!C.depthStencilTexture),nt(!I||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in C&&("boolean"==typeof C.depth?p=C.depth:(E=C.depth,y=!1)),"stencil"in C&&("boolean"==typeof C.stencil?y=C.stencil:(A=C.stencil,p=!1)),"depthStencil"in C&&("boolean"==typeof C.depthStencil?p=y=C.depthStencil:(T=C.depthStencil,p=!1,y=!1))}else a=d=1;var N=null,O=null,L=null,P=null;if(Array.isArray(b))N=b.map(g);else if(b)N=[g(b)];else for(N=new Array(k),i=0;i<k;++i)N[i]=m(a,d,x,_,S);nt(n.webgl_draw_buffers||N.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),nt(N.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||N[0].width,d=d||N[0].height,E?O=g(E):p&&!y&&(O=m(a,d,I,"depth","uint32")),A?L=g(A):y&&!p&&(L=m(a,d,!1,"stencil","uint8")),T?P=g(T):!E&&!A&&y&&p&&(P=m(a,d,I,"depth stencil","depth stencil")),nt(!!E+!!A+!!T<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(i=0;i<N.length;++i)if(f(N[i],a,d),nt(!N[i]||N[i].texture&&Ii.indexOf(N[i].texture._texture.format)>=0||N[i].renderbuffer&&Pi.indexOf(N[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),N[i]&&N[i].texture){var j=Ci[N[i].texture._texture.format]*Di[N[i].texture._texture.type];null===R?R=j:nt(R===j,"all color attachments much have the same number of bits per pixel.")}return f(O,a,d),nt(!O||O.texture&&O.texture._texture.format===Ti||O.renderbuffer&&O.renderbuffer._renderbuffer.format===Ni,"invalid depth attachment for framebuffer object"),f(L,a,d),nt(!L||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Oi,"invalid stencil attachment for framebuffer object"),f(P,a,d),nt(!P||P.texture&&P.texture._texture.format===Li||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Li,"invalid depth-stencil attachment for framebuffer object"),w(o),o.width=a,o.height=d,o.colorAttachments=N,o.depthAttachment=O,o.stencilAttachment=L,o.depthStencilAttachment=P,h.color=N.map(v),h.depth=v(O),h.stencil=v(L),h.depthStencil=v(P),h.width=o.width,h.height=o.height,M(o),h}function d(t,e){nt(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===o.width&&r===o.height)return h;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=h.width=n,o.height=h.height=r,M(o),h}return a.framebufferCount++,h(t,i),e(h,{resize:d,_reglType:"framebuffer",_framebuffer:o,destroy:function(){S(o),w(o)},use:function(t){s.setFBO({framebuffer:h},t)}})}function E(t){var o=Array(6);function a(t){var r;nt(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var u,h={color:null},d=0,f=null,p="rgba",g="uint8",m=1;if("number"==typeof t)d=0|t;else if(t){nt.type(t,"object","invalid arguments for framebuffer");var v=t;if("shape"in v){var y=v.shape;nt(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),nt(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in v&&(d=0|v.radius),"width"in v?(d=0|v.width,"height"in v&&nt(v.height===d,"must be square")):"height"in v&&(d=0|v.height);("color"in v||"colors"in v)&&(f=v.color||v.colors,Array.isArray(f)&&nt(1===f.length||n.webgl_draw_buffers,"multiple render targets not supported")),f||("colorCount"in v&&(m=0|v.colorCount,nt(m>0,"invalid color buffer count")),"colorType"in v&&(nt.oneOf(v.colorType,c,"invalid color type"),g=v.colorType),"colorFormat"in v&&(p=v.colorFormat,nt.oneOf(v.colorFormat,l,"invalid color format for texture"))),"depth"in v&&(h.depth=v.depth),"stencil"in v&&(h.stencil=v.stencil),"depthStencil"in v&&(h.depthStencil=v.depthStencil)}else d=1;if(f)if(Array.isArray(f))for(u=[],r=0;r<f.length;++r)u[r]=f[r];else u=[f];else{u=Array(m);var b={radius:d,format:p,type:g};for(r=0;r<m;++r)u[r]=i.createCube(b)}for(h.color=Array(u.length),r=0;r<u.length;++r){var x=u[r];nt("function"==typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,nt(x.width===d&&x.height===d,"invalid cube map shape"),h.color[r]={target:fi,data:u[r]}}for(r=0;r<6;++r){for(var _=0;_<u.length;++_)h.color[_].target=fi+r;r>0&&(h.depth=o[0].depth,h.stencil=o[0].stencil,h.depthStencil=o[0].depthStencil),o[r]?o[r](h):o[r]=k(h)}return e(a,{width:d,height:d,color:u})}function u(t){var e,n=0|t;if(nt(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(e=0;e<i.length;++e)i[e].resize(n);for(e=0;e<6;++e)o[e].resize(n);return a.width=a.height=n,a}return a(t),e(a,{faces:o,resize:u,_reglType:"framebufferCube",destroy:function(){o.forEach((function(t){t.destroy()}))}})}function A(){s.cur=null,s.next=null,s.dirty=!0,Me(x).forEach((function(e){e.framebuffer=t.createFramebuffer(),M(e)}))}return e(s,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof _)return e}return null},create:k,createCube:E,clear:function(){Me(x).forEach(S)},restore:A})}Ri[yi]="complete",Ri[bi]="incomplete attachment",Ri[_i]="incomplete dimensions",Ri[xi]="incomplete, missing attachment",Ri[wi]="unsupported";var zi=5126,Bi=34962;function Fi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=zi,this.offset=0,this.stride=0,this.divisor=0}function Gi(e,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),l=0;l<a;++l)s[l]=new Fi;var u=0,c={},h={Record:Fi,scope:{},state:s,currentVAO:null,targetVAO:null,restore:f()?x:function(){},createVAO:_,getVAO:g,destroyBuffer:d,setVAO:f()?m:v,clear:f()?y:function(){}};function d(t){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}}function f(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function g(t){return"function"==typeof t&&t._vao?t._vao:null}function m(t){if(t!==h.currentVAO){var e=f();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),h.currentVAO=t}}function v(t){if(t!==h.currentVAO){if(t)t.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var i=s[r];i.buffer?(e.enableVertexAttribArray(r),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}h.currentVAO=t}}function y(){Me(c).forEach((function(t){t.destroy()}))}function b(){this.id=++u,this.attributes=[];var t=f();this.vao=t?t.createVertexArrayOES():null,c[this.id]=this,this.buffers=[]}function x(){f()&&Me(c).forEach((function(t){t.refresh()}))}function _(e){var r=new b;function s(e){nt(Array.isArray(e),"arguments to vertex array constructor must be an array"),nt(e.length<a,"too many attributes"),nt(e.length>0,"must specify at least one attribute");var i={},l=r.attributes;l.length=e.length;for(var u=0;u<e.length;++u){var c,h=e[u],d=l[u]=new Fi,f=h.data||h;Array.isArray(f)||t(f)||Se(f)?(r.buffers[u]&&(c=r.buffers[u],t(f)&&c._buffer.byteLength>=f.byteLength?c.subdata(f):(c.destroy(),r.buffers[u]=null)),r.buffers[u]||(c=r.buffers[u]=o.create(h,Bi,!1,!0)),d.buffer=o.getBuffer(c),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,i[u]=1):o.getBuffer(h)?(d.buffer=o.getBuffer(h),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(h.buffer)?(d.buffer=o.getBuffer(h.buffer),d.size=0|(+h.size||d.buffer.dimension),d.normalized=!!h.normalized||!1,"type"in h?(nt.parameter(h.type,Oe,"invalid buffer type"),d.type=Oe[h.type]):d.type=d.buffer.dtype,d.offset=0|(h.offset||0),d.stride=0|(h.stride||0),d.divisor=0|(h.divisor||0),d.state=1,nt(d.size>=1&&d.size<=4,"size must be between 1 and 4"),nt(d.offset>=0,"invalid offset"),nt(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),nt(d.divisor>=0,"divisor must be positive"),nt(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in h?(nt(u>0,"first attribute must not be a constant"),d.x=+h.x||0,d.y=+h.y||0,d.z=+h.z||0,d.w=+h.w||0,d.state=2):nt(!1,"invalid attribute spec for location "+u)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(e)}return b.prototype.bindAttrs=function(){for(var t=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(Bi,i.buffer.buffer),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)e.disableVertexAttribArray(o)},b.prototype.refresh=function(){var t=f();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var t=f();this===h.currentVAO&&(h.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}c[this.id]&&(delete c[this.id],i.vaoCount-=1)},h}var Vi=35632,Zi=35633,Ui=35718,Hi=35721;function Wi(t,n,r,i){var o={},a={};function s(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function l(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function u(e,r,i){var s=e===Vi?o:a,l=s[r];if(!l){var u=n.str(r);l=t.createShader(e),t.shaderSource(l,u),t.compileShader(l),nt.shaderError(t,l,u,e,i),s[r]=l}return l}var c={},h=[],d=0;function f(t,e){this.id=d++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(e,r,o){var a,c,h=u(Vi,e.fragId),d=u(Zi,e.vertId),f=e.program=t.createProgram();if(t.attachShader(f,h),t.attachShader(f,d),o)for(a=0;a<o.length;++a){var p=o[a];t.bindAttribLocation(f,p[0],p[1])}t.linkProgram(f),nt.linkError(t,f,n.str(e.fragId),n.str(e.vertId),r);var g=t.getProgramParameter(f,Ui);i.profile&&(e.stats.uniformsCount=g);var m=e.uniforms;for(a=0;a<g;++a)if(c=t.getActiveUniform(f,a))if(c.size>1)for(var v=0;v<c.size;++v){var y=c.name.replace("[0]","["+v+"]");l(m,new s(y,n.id(y),t.getUniformLocation(f,y),c))}else l(m,new s(c.name,n.id(c.name),t.getUniformLocation(f,c.name),c));var b=t.getProgramParameter(f,Hi);i.profile&&(e.stats.attributesCount=b);var x=e.attributes;for(a=0;a<b;++a)(c=t.getActiveAttrib(f,a))&&l(x,new s(c.name,n.id(c.name),t.getAttribLocation(f,c.name),c))}function g(){o={},a={};for(var t=0;t<h.length;++t)p(h[t],null,h[t].attributes.map((function(t){return[t.location,t.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var t=0;return h.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return h.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);Me(o).forEach(e),o={},Me(a).forEach(e),a={},h.forEach((function(e){t.deleteProgram(e.program)})),h.length=0,c={},r.shaderCount=0},program:function(n,i,s,l){nt.command(n>=0,"missing vertex shader",s),nt.command(i>=0,"missing fragment shader",s);var u=c[i];u||(u=c[i]={});var d=u[n];if(d&&(d.refCount++,!l))return d;var g=new f(i,n);return r.shaderCount++,p(g,s,l),d||(u[n]=g),h.push(g),e(g,{destroy:function(){if(g.refCount--,g.refCount<=0){t.deleteProgram(g.program);var e=h.indexOf(g);h.splice(e,1),r.shaderCount--}u[g.vertId].refCount<=0&&(t.deleteShader(a[g.vertId]),delete a[g.vertId],delete c[g.fragId][g.vertId]),Object.keys(c[g.fragId]).length||(t.deleteShader(o[g.fragId]),delete o[g.fragId],delete c[g.fragId])}})},restore:g,shader:u,frag:-1,vert:-1}}var Yi=6408,Xi=5121,qi=3333,Ki=5126;function $i(e,n,r,i,o,a,s){function l(l){var u;null===n.next?(nt(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),u=Xi):(nt(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),u=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(nt(u===Xi||u===Ki,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),u===Ki&&nt(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):nt(u===Xi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,h=0,d=i.framebufferWidth,f=i.framebufferHeight,p=null;t(l)?p=l:l&&(nt.type(l,"object","invalid arguments to regl.read()"),c=0|l.x,h=0|l.y,nt(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),nt(h>=0&&h<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(l.width||i.framebufferWidth-c),f=0|(l.height||i.framebufferHeight-h),p=l.data||null),p&&(u===Xi?nt(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):u===Ki&&nt(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),nt(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),nt(f>0&&f+h<=i.framebufferHeight,"invalid height for read pixels"),r();var g=d*f*4;return p||(u===Xi?p=new Uint8Array(g):u===Ki&&(p=p||new Float32Array(g))),nt.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),nt(p.byteLength>=g,"data buffer for regl.read() too small"),e.pixelStorei(qi,4),e.readPixels(c,h,d,f,Yi,u,p),p}function u(t){var e;return n.setFBO({framebuffer:t.framebuffer},(function(){e=l(t)})),e}function c(t){return t&&"framebuffer"in t?u(t):l(t)}return c}function Ji(t){return Array.prototype.slice.call(t)}function Qi(t){return Ji(t).join("")}function to(){var t=0,n=[],r=[];function i(e){for(var i=0;i<r.length;++i)if(r[i]===e)return n[i];var o="g"+t++;return n.push(o),r.push(e),o}function o(){var n=[];function r(){n.push.apply(n,Ji(arguments))}var i=[];function o(){var e="v"+t++;return i.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,Ji(arguments)),n.push(";")),e}return e(r,{def:o,toString:function(){return Qi([i.length>0?"var "+i.join(",")+";":"",Qi(n)])}})}function a(){var t=o(),n=o(),r=t.toString,i=n.toString;function a(e,r){n(e,r,"=",t.def(e,r),";")}return e((function(){t.apply(t,Ji(arguments))}),{def:t.def,entry:t,exit:n,save:a,set:function(e,n,r){a(e,n),t(e,n,"=",r,";")},toString:function(){return r()+i()}})}function s(){var t=Qi(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return e(n,{then:function(){return n.apply(n,Ji(arguments)),this},else:function(){return r.apply(r,Ji(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),Qi(["if(",t,"){",i(),"}",e])}})}var l=o(),u={};function c(t,n){var r=[];function i(){var t="a"+r.length;return r.push(t),t}n=n||0;for(var o=0;o<n;++o)i();var s=a(),l=s.toString;return u[t]=e(s,{arg:i,toString:function(){return Qi(["function(",r.join(),"){",l(),"}"])}})}function h(){var t=['"use strict";',l,"return {"];Object.keys(u).forEach((function(e){t.push('"',e,'":',u[e].toString(),",")})),t.push("}");var e=Qi(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,r)}return{global:l,link:i,block:o,proc:c,scope:a,cond:s,compile:h}}var eo="xyzw".split(""),no=5121,ro=1,io=2,oo=0,ao=1,so=2,lo=3,uo=4,co=5,ho=6,fo="dither",po="blend.enable",go="blend.color",mo="blend.equation",vo="blend.func",yo="depth.enable",bo="depth.func",xo="depth.range",_o="depth.mask",wo="colorMask",So="cull.enable",Mo="cull.face",ko="frontFace",Eo="lineWidth",Ao="polygonOffset.enable",To="polygonOffset.offset",Io="sample.alpha",Co="sample.enable",Do="sample.coverage",No="stencil.enable",Oo="stencil.mask",Lo="stencil.func",Po="stencil.opFront",Ro="stencil.opBack",jo="scissor.enable",zo="scissor.box",Bo="viewport",Fo="profile",Go="framebuffer",Vo="vert",Zo="frag",Uo="elements",Ho="primitive",Wo="count",Yo="offset",Xo="instances",qo="vao",Ko="Width",$o="Height",Jo=Go+Ko,Qo=Go+$o,ta=Bo+Ko,ea=Bo+$o,na="drawingBuffer",ra=na+Ko,ia=na+$o,oa=[vo,mo,Lo,Po,Ro,Do,Bo,zo,To],aa=34962,sa=34963,la=3553,ua=34067,ca=2884,ha=3042,da=3024,fa=2960,pa=2929,ga=3089,ma=32823,va=32926,ya=32928,ba=5126,xa=35664,_a=35665,wa=35666,Sa=5124,Ma=35667,ka=35668,Ea=35669,Aa=35670,Ta=35671,Ia=35672,Ca=35673,Da=35674,Na=35675,Oa=35676,La=35678,Pa=35680,Ra=4,ja=1028,za=1029,Ba=2304,Fa=2305,Ga=32775,Va=32776,Za=519,Ua=7680,Ha=0,Wa=1,Ya=32774,Xa=513,qa=36160,Ka=36064,$a={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ja=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Qa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ts={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},es={frag:35632,vert:35633},ns={cw:Ba,ccw:Fa};function rs(e){return Array.isArray(e)||t(e)||Se(e)}function is(t){return t.sort((function(t,e){return t===Bo?-1:e===Bo?1:t<e?-1:1}))}function os(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function as(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ss(t){return new os(!1,!1,!1,t)}function ls(t,e){var n=t.type;if(n===oo){var r=t.data.length;return new os(!0,r>=1,r>=2,e)}if(n===uo){var i=t.data;return new os(i.thisDep,i.contextDep,i.propDep,e)}if(n===co)return new os(!1,!1,!1,e);if(n===ho){for(var o=!1,a=!1,s=!1,l=0;l<t.data.length;++l){var u=t.data[l];if(u.type===ao)s=!0;else if(u.type===so)a=!0;else if(u.type===lo)o=!0;else if(u.type===oo){o=!0;var c=u.data;c>=1&&(a=!0),c>=2&&(s=!0)}else u.type===uo&&(o=o||u.data.thisDep,a=a||u.data.contextDep,s=s||u.data.propDep)}return new os(o,a,s,e)}return new os(n===lo,n===so,n===ao,e)}var us=new os(!1,!1,!1,(function(){}));function cs(t,n,r,i,o,a,s,l,u,c,h,d,f,p,g){var m=c.Record,v={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(v.min=Ga,v.max=Va);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},_={},w=[],S={},M={};function k(t){return t.replace(".","_")}function E(t,e,n){var r=k(t);w.push(t),_[r]=x[r]=!!n,S[r]=e}function A(t,e,n){var r=k(t);w.push(t),Array.isArray(n)?(x[r]=n.slice(),_[r]=n.slice()):x[r]=_[r]=n,M[r]=e}E(fo,da),E(po,ha),A(go,"blendColor",[0,0,0,0]),A(mo,"blendEquationSeparate",[Ya,Ya]),A(vo,"blendFuncSeparate",[Wa,Ha,Wa,Ha]),E(yo,pa,!0),A(bo,"depthFunc",Xa),A(xo,"depthRange",[0,1]),A(_o,"depthMask",!0),A(wo,wo,[!0,!0,!0,!0]),E(So,ca),A(Mo,"cullFace",za),A(ko,ko,Fa),A(Eo,Eo,1),E(Ao,ma),A(To,"polygonOffset",[0,0]),E(Io,va),E(Co,ya),A(Do,"sampleCoverage",[1,!1]),E(No,fa),A(Oo,"stencilMask",-1),A(Lo,"stencilFunc",[Za,0,-1]),A(Po,"stencilOpSeparate",[ja,Ua,Ua,Ua]),A(Ro,"stencilOpSeparate",[za,Ua,Ua,Ua]),E(jo,ga),A(zo,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),A(Bo,Bo,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var T={gl:t,context:f,strings:n,next:_,current:x,draw:d,elements:a,buffer:o,shader:h,attributes:c.state,vao:c,uniforms:u,framebuffer:l,extensions:r,timer:p,isBufferArgs:rs},I={primTypes:We,compareFuncs:Qa,blendFuncs:$a,blendEquations:v,stencilOps:ts,glTypes:Oe,orientationType:ns};nt.optional((function(){T.isArrayLike=hn})),b&&(I.backBuffer=[za],I.drawBuffer=Et(i.maxDrawbuffers,(function(t){return 0===t?[0]:Et(t,(function(t){return Ka+t}))})));var C=0;function D(){var t=to(),e=t.link,r=t.global;t.id=C++,t.batchId="0";var i=e(T),o=t.shared={props:"a0"};Object.keys(T).forEach((function(t){o[t]=r.def(i,".",t)})),nt.optional((function(){t.CHECK=e(nt),t.commandStr=nt.guessCommand(),t.command=e(t.commandStr),t.assert=function(t,n,r){t("if(!(",n,"))",this.CHECK,".commandRaise(",e(r),",",this.command,");")},I.invalidBlendCombinations=Ja}));var a=t.next={},s=t.current={};Object.keys(M).forEach((function(t){Array.isArray(x[t])&&(a[t]=r.def(o.next,".",t),s[t]=r.def(o.current,".",t))}));var l=t.constants={};Object.keys(I).forEach((function(t){l[t]=r.def(JSON.stringify(I[t]))})),t.invoke=function(n,r){switch(r.type){case oo:var i=["this",o.context,o.props,t.batchId];return n.def(e(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ao:return n.def(o.props,r.data);case so:return n.def(o.context,r.data);case lo:return n.def("this",r.data);case uo:return r.data.append(t,n),r.data.ref;case co:return r.data.toString();case ho:return r.data.map((function(e){return t.invoke(n,e)}))}},t.attribCache={};var u={};return t.scopeAttrib=function(t){var r=n.id(t);if(r in u)return u[r];var i=c.scope[r];return i||(i=c.scope[r]=new m),u[r]=e(i)},t}function N(t){var e,n=t.static,r=t.dynamic;if(Fo in n){var i=!!n[Fo];(e=ss((function(t,e){return i}))).enable=i}else if(Fo in r){var o=r[Fo];e=ls(o,(function(t,e){return t.invoke(e,o)}))}return e}function O(t,e){var n=t.static,r=t.dynamic;if(Go in n){var i=n[Go];return i?(i=l.getFramebuffer(i),nt.command(i,"invalid framebuffer object"),ss((function(t,e){var n=t.link(i),r=t.shared;e.set(r.framebuffer,".next",n);var o=r.context;return e.set(o,"."+Jo,n+".width"),e.set(o,"."+Qo,n+".height"),n}))):ss((function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+Jo,r+"."+ra),e.set(r,"."+Qo,r+"."+ia),"null"}))}if(Go in r){var o=r[Go];return ls(o,(function(t,e){var n=t.invoke(e,o),r=t.shared,i=r.framebuffer,a=e.def(i,".getFramebuffer(",n,")");nt.optional((function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")})),e.set(i,".next",a);var s=r.context;return e.set(s,"."+Jo,a+"?"+a+".width:"+s+"."+ra),e.set(s,"."+Qo,a+"?"+a+".height:"+s+"."+ia),a}))}return null}function L(t,e,n){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];nt.commandType(o,"object","invalid "+t,n.commandStr);var a,s,l=!0,u=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,nt.command(a>=0,"invalid "+t,n.commandStr)):l=!1,"height"in o?(s=0|o.height,nt.command(s>=0,"invalid "+t,n.commandStr)):l=!1,new os(!l&&e&&e.thisDep,!l&&e&&e.contextDep,!l&&e&&e.propDep,(function(t,e){var n=t.shared.context,r=a;"width"in o||(r=e.def(n,".",Jo,"-",u));var i=s;return"height"in o||(i=e.def(n,".",Qo,"-",c)),[u,c,r,i]}))}if(t in i){var h=i[t],d=ls(h,(function(e,n){var r=e.invoke(n,h);nt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=e.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Jo,"-",o,")"),l=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Qo,"-",a,")");return nt.optional((function(){e.assert(n,s+">=0&&"+l+">=0","invalid "+t)})),[o,a,s,l]}));return e&&(d.thisDep=d.thisDep||e.thisDep,d.contextDep=d.contextDep||e.contextDep,d.propDep=d.propDep||e.propDep),d}return e?new os(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Jo),e.def(n,".",Qo)]})):null}var a=o(Bo);if(a){var s=a;a=new os(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=s.append(t,e),r=t.shared.context;return e.set(r,"."+ta,n[2]),e.set(r,"."+ea,n[3]),n}))}return{viewport:a,scissor_box:o(zo)}}function P(t,e){var n=t.static;if("string"==typeof n[Zo]&&"string"==typeof n[Vo]){if(Object.keys(e.dynamic).length>0)return null;var r=e.static,i=Object.keys(r);if(i.length>0&&"number"==typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)nt("number"==typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function R(t,e,r){var i=t.static,o=t.dynamic;function a(t){if(t in i){var e=n.id(i[t]);nt.optional((function(){h.shader(es[t],e,nt.guessCommand())}));var r=ss((function(){return e}));return r.id=e,r}if(t in o){var a=o[t];return ls(a,(function(e,n){var r=e.invoke(n,a),i=n.def(e.shared.strings,".id(",r,")");return nt.optional((function(){n(e.shared.shader,".shader(",es[t],",",i,",",e.command,");")})),i}))}return null}var s,l=a(Zo),u=a(Vo),c=null;return as(l)&&as(u)?(c=h.program(u.id,l.id,null,r),s=ss((function(t,e){return t.link(c)}))):s=new os(l&&l.thisDep||u&&u.thisDep,l&&l.contextDep||u&&u.contextDep,l&&l.propDep||u&&u.propDep,(function(t,e){var n,r=t.shared.shader;n=l?l.append(t,e):e.def(r,".",Zo);var i=r+".program("+(u?u.append(t,e):e.def(r,".",Vo))+","+n;return nt.optional((function(){i+=","+t.command})),e.def(i+")")})),{frag:l,vert:u,progVar:s,program:c}}function j(t,e){var n=t.static,r=t.dynamic;function i(){if(Uo in n){var t=n[Uo];rs(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),nt.command(t,"invalid elements",e.commandStr));var i=ss((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null}));return i.value=t,i}if(Uo in r){var o=r[Uo];return ls(o,(function(t,e){var n=t.shared,r=n.isBufferArgs,i=n.elements,a=t.invoke(e,o),s=e.def("null"),l=e.def(r,"(",a,")"),u=t.cond(l).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return nt.optional((function(){t.assert(u.else,"!"+a+"||"+s,"invalid elements")})),e.entry(u),e.exit(t.cond(l).then(i,".destroyStream(",s,");")),t.ELEMENTS=s,s}))}return null}var o=i();function s(){if(Ho in n){var t=n[Ho];return nt.commandParameter(t,We,"invalid primitve",e.commandStr),ss((function(e,n){return We[t]}))}if(Ho in r){var i=r[Ho];return ls(i,(function(t,e){var n=t.constants.primTypes,r=t.invoke(e,i);return nt.optional((function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(We))})),e.def(n,"[",r,"]")}))}return o?as(o)?o.value?ss((function(t,e){return e.def(t.ELEMENTS,".primType")})):ss((function(){return Ra})):new os(o.thisDep,o.contextDep,o.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Ra)})):null}function l(t,i){if(t in n){var a=0|n[t];return nt.command(!i||a>=0,"invalid "+t,e.commandStr),ss((function(t,e){return i&&(t.OFFSET=a),a}))}if(t in r){var s=r[t];return ls(s,(function(e,n){var r=e.invoke(n,s);return i&&(e.OFFSET=r,nt.optional((function(){e.assert(n,r+">=0","invalid "+t)}))),r}))}return i&&o?ss((function(t,e){return t.OFFSET="0",0})):null}var u=l(Yo,!0);function c(){if(Wo in n){var t=0|n[Wo];return nt.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),ss((function(){return t}))}if(Wo in r){var i=r[Wo];return ls(i,(function(t,e){var n=t.invoke(e,i);return nt.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(as(o)){if(o)return u?new os(u.thisDep,u.contextDep,u.propDep,(function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return nt.optional((function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(t,e){return e.def(t.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return nt.optional((function(){a.MISSING=!0})),a}var s=new os(o.thisDep||u.thisDep,o.contextDep||u.contextDep,o.propDep||u.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")}));return nt.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:o,primitive:s(),count:c(),instances:l(Xo,!1),offset:u}}function z(t,e){var n=t.static,r=t.dynamic,o={};return w.forEach((function(t){var a=k(t);function s(e,i){if(t in n){var s=e(n[t]);o[a]=ss((function(){return s}))}else if(t in r){var l=r[t];o[a]=ls(l,(function(t,e){return i(t,e,t.invoke(e,l))}))}}switch(t){case So:case po:case fo:case No:case yo:case jo:case Ao:case Io:case Co:case _o:return s((function(n){return nt.commandType(n,"boolean",t,e.commandStr),n}),(function(e,n,r){return nt.optional((function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)})),r}));case bo:return s((function(n){return nt.commandParameter(n,Qa,"invalid "+t,e.commandStr),Qa[n]}),(function(e,n,r){var i=e.constants.compareFuncs;return nt.optional((function(){e.assert(n,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(Qa))})),n.def(i,"[",r,"]")}));case xo:return s((function(t){return nt.command(hn(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t}),(function(t,e,n){return nt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]}));case vo:return s((function(t){nt.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return nt.commandParameter(n,$a,a+".srcRGB",e.commandStr),nt.commandParameter(r,$a,a+".srcAlpha",e.commandStr),nt.commandParameter(i,$a,a+".dstRGB",e.commandStr),nt.commandParameter(o,$a,a+".dstAlpha",e.commandStr),nt.command(-1===Ja.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",e.commandStr),[$a[n],$a[i],$a[r],$a[o]]}),(function(e,n,r){var i=e.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return nt.optional((function(){e.assert(n,s+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys($a))})),s}nt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");nt.optional((function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var l=n.def(i,"[",a,"]"),u=n.def(i,"[",o("src","Alpha"),"]");return[l,n.def(i,"[",s,"]"),u,n.def(i,"[",o("dst","Alpha"),"]")]}));case mo:return s((function(n){return"string"==typeof n?(nt.commandParameter(n,v,"invalid "+t,e.commandStr),[v[n],v[n]]):"object"==typeof n?(nt.commandParameter(n.rgb,v,t+".rgb",e.commandStr),nt.commandParameter(n.alpha,v,t+".alpha",e.commandStr),[v[n.rgb],v[n.alpha]]):void nt.commandRaise("invalid blend.equation",e.commandStr)}),(function(e,n,r){var i=e.constants.blendEquations,o=n.def(),a=n.def(),s=e.cond("typeof ",r,'==="string"');return nt.optional((function(){function n(t,n,r){e.assert(t,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(v))}n(s.then,t,r),e.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(s.else,t+".rgb",r+".rgb"),n(s.else,t+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case go:return s((function(t){return nt.command(hn(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),Et(4,(function(e){return+t[e]}))}),(function(t,e,n){return nt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Et(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case Oo:return s((function(t){return nt.commandType(t,"number",a,e.commandStr),0|t}),(function(t,e,n){return nt.optional((function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")})),e.def(n,"|0")}));case Lo:return s((function(n){nt.commandType(n,"object",a,e.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return nt.commandParameter(r,Qa,t+".cmp",e.commandStr),nt.commandType(i,"number",t+".ref",e.commandStr),nt.commandType(o,"number",t+".mask",e.commandStr),[Qa[r],i,o]}),(function(t,e,n){var r=t.constants.compareFuncs;return nt.optional((function(){function i(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Ua),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Po:case Ro:return s((function(n){nt.commandType(n,"object",a,e.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return nt.commandParameter(r,ts,t+".fail",e.commandStr),nt.commandParameter(i,ts,t+".zfail",e.commandStr),nt.commandParameter(o,ts,t+".zpass",e.commandStr),[t===Ro?za:ja,ts[r],ts[i],ts[o]]}),(function(e,n,r){var i=e.constants.stencilOps;function o(o){return nt.optional((function(){e.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(ts))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Ua)}return nt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[t===Ro?za:ja,o("fail"),o("zfail"),o("zpass")]}));case To:return s((function(t){nt.commandType(t,"object",a,e.commandStr);var n=0|t.factor,r=0|t.units;return nt.commandType(n,"number",a+".factor",e.commandStr),nt.commandType(r,"number",a+".units",e.commandStr),[n,r]}),(function(e,n,r){return nt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Mo:return s((function(t){var n=0;return"front"===t?n=ja:"back"===t&&(n=za),nt.command(!!n,a,e.commandStr),n}),(function(t,e,n){return nt.optional((function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),e.def(n,'==="front"?',ja,":",za)}));case Eo:return s((function(t){return nt.command("number"==typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],e.commandStr),t}),(function(t,e,n){return nt.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case ko:return s((function(t){return nt.commandParameter(t,ns,a,e.commandStr),ns[t]}),(function(t,e,n){return nt.optional((function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),e.def(n+'==="cw"?'+Ba+":"+Fa)}));case wo:return s((function(t){return nt.command(hn(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map((function(t){return!!t}))}),(function(t,e,n){return nt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Et(4,(function(t){return"!!"+n+"["+t+"]"}))}));case Do:return s((function(t){nt.command("object"==typeof t&&t,a,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return nt.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]}),(function(t,e,n){return nt.optional((function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]}))}})),o}function B(t,e){var n=t.static,r=t.dynamic,i={};return Object.keys(n).forEach((function(t){var r,o=n[t];if("number"==typeof o||"boolean"==typeof o)r=ss((function(){return o}));else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(t){return t.link(o)})):"framebuffer"===a||"framebufferCube"===a?(nt.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=ss((function(t){return t.link(o.color[0])}))):nt.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else hn(o)?r=ss((function(e){return e.global.def("[",Et(o.length,(function(n){return nt.command("number"==typeof o[n]||"boolean"==typeof o[n],"invalid uniform "+t,e.commandStr),o[n]})),"]")})):nt.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=o,i[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];i[t]=ls(e,(function(t,n){return t.invoke(n,e)}))})),i}function F(t,e){var r=t.static,i=t.dynamic,a={};return Object.keys(r).forEach((function(t){var i=r[t],s=n.id(t),l=new m;if(rs(i))l.state=ro,l.buffer=o.getBuffer(o.create(i,aa,!1,!0)),l.type=0;else{var u=o.getBuffer(i);if(u)l.state=ro,l.buffer=u,l.type=0;else if(nt.command("object"==typeof i&&i,"invalid data for attribute "+t,e.commandStr),"constant"in i){var c=i.constant;l.buffer="null",l.state=io,"number"==typeof c?l.x=c:(nt.command(hn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+t,e.commandStr),eo.forEach((function(t,e){e<c.length&&(l[t]=c[e])})))}else{u=rs(i.buffer)?o.getBuffer(o.create(i.buffer,aa,!1,!0)):o.getBuffer(i.buffer),nt.command(!!u,'missing buffer for attribute "'+t+'"',e.commandStr);var h=0|i.offset;nt.command(h>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var d=0|i.stride;nt.command(d>=0&&d<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var f=0|i.size;nt.command(!("size"in i)||f>0&&f<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var p=!!i.normalized,g=0;"type"in i&&(nt.commandParameter(i.type,Oe,"invalid type for attribute "+t,e.commandStr),g=Oe[i.type]);var v=0|i.divisor;"divisor"in i&&(nt.command(0===v||y,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),nt.command(v>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),nt.optional((function(){var n=e.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(e){nt.command(r.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",n)}))})),l.buffer=u,l.state=ro,l.size=f,l.normalized=p,l.type=g||u.dtype,l.offset=h,l.stride=d,l.divisor=v}}a[t]=ss((function(t,e){var n=t.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(l).forEach((function(t){r[t]=l[t]})),l.buffer&&(r.buffer=t.link(l.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(t){var e=i[t];function n(n,r){var i=n.invoke(r,e),o=n.shared,a=n.constants,s=o.isBufferArgs,l=o.buffer;nt.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+l+".getBuffer("+i+")||"+l+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')}));var u={isStream:r.def(!1)},c=new m;c.state=ro,Object.keys(c).forEach((function(t){u[t]=r.def(""+c[t])}));var h=u.buffer,d=u.type;function f(t){r(u[t],"=",i,".",t,"|0;")}return r("if(",s,"(",i,")){",u.isStream,"=true;",h,"=",l,".createStream(",aa,",",i,");",d,"=",h,".dtype;","}else{",h,"=",l,".getBuffer(",i,");","if(",h,"){",d,"=",h,".dtype;",'}else if("constant" in ',i,"){",u.state,"=",io,";","if(typeof "+i+'.constant === "number"){',u[eo[0]],"=",i,".constant;",eo.slice(1).map((function(t){return u[t]})).join("="),"=0;","}else{",eo.map((function(t,e){return u[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",h,"=",l,".createStream(",aa,",",i,".buffer);","}else{",h,"=",l,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",h,".dtype;",u.normalized,"=!!",i,".normalized;"),f("size"),f("offset"),f("stride"),f("divisor"),r("}}"),r.exit("if(",u.isStream,"){",l,".destroyStream(",h,");","}"),u}a[t]=ls(e,n)})),a}function G(t,e){var n=t.static,r=t.dynamic;if(qo in n){var i=n[qo];return null!==i&&null===c.getVAO(i)&&(i=c.createVAO(i)),ss((function(t){return t.link(c.getVAO(i))}))}if(qo in r){var o=r[qo];return ls(o,(function(t,e){var n=t.invoke(e,o);return e.def(t.shared.vao+".getVAO("+n+")")}))}return null}function V(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=ss((function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=ls(e,(function(t,n){return t.invoke(n,e)}))})),r}function Z(t,e,n,i,o){var a=t.static,s=t.dynamic;nt.optional((function(){var t=[Go,Vo,Zo,Uo,Ho,Yo,Wo,Xo,Fo,qo].concat(w);function e(e){Object.keys(e).forEach((function(e){nt.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',o.commandStr)}))}e(a),e(s)}));var l=P(t,e),u=O(t,o),h=L(t,u,o),d=j(t,o),f=z(t,o),p=R(t,o,l);function g(t){var e=h[t];e&&(f[t]=e)}g(Bo),g(k(zo));var m=Object.keys(f).length>0,v={framebuffer:u,draw:d,shader:p,state:f,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(v.profile=N(t,o),v.uniforms=B(n,o),v.drawVAO=v.scopeVAO=G(t,o),!v.drawVAO&&p.program&&!l&&r.angle_instanced_arrays){var y=!0,b=p.program.attributes.map((function(t){var n=e.static[t];return y=y&&!!n,n}));if(y&&b.length>0){var x=c.getVAO(c.createVAO(b));v.drawVAO=new os(null,null,null,(function(t,e){return t.link(x)})),v.useVAO=!0}}return l?v.useVAO=!0:v.attributes=F(e,o),v.context=V(i,o),v}function U(t,e,n){var r=t.shared.context,i=t.scope();Object.keys(n).forEach((function(o){e.save(r,"."+o);var a=n[o].append(t,e);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),e(i)}function H(t,e,n,r){var i,o=t.shared,a=o.gl,s=o.framebuffer;b&&(i=e.def(o.extensions,".webgl_draw_buffers"));var l,u=t.constants,c=u.drawBuffer,h=u.backBuffer;l=n?n.append(t,e):e.def(s,".next"),r||e("if(",l,"!==",s,".cur){"),e("if(",l,"){",a,".bindFramebuffer(",qa,",",l,".framebuffer);"),b&&e(i,".drawBuffersWEBGL(",c,"[",l,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",qa,",null);"),b&&e(i,".drawBuffersWEBGL(",h,");"),e("}",s,".cur=",l,";"),r||e("}")}function W(t,e,n){var r=t.shared,i=r.gl,o=t.current,a=t.next,s=r.current,l=r.next,u=t.cond(s,".dirty");w.forEach((function(e){var r,c,h=k(e);if(!(h in n.state))if(h in a){r=a[h],c=o[h];var d=Et(x[h].length,(function(t){return u.def(r,"[",t,"]")}));u(t.cond(d.map((function(t,e){return t+"!=="+c+"["+e+"]"})).join("||")).then(i,".",M[h],"(",d,");",d.map((function(t,e){return c+"["+e+"]="+t})).join(";"),";"))}else{r=u.def(l,".",h);var f=t.cond(r,"!==",s,".",h);u(f),h in S?f(t.cond(r).then(i,".enable(",S[h],");").else(i,".disable(",S[h],");"),s,".",h,"=",r,";"):f(i,".",M[h],"(",r,");",s,".",h,"=",r,";")}})),0===Object.keys(n.state).length&&u(s,".dirty=false;"),e(u)}function Y(t,e,n,r){var i=t.shared,o=t.current,a=i.current,s=i.gl;is(Object.keys(n)).forEach((function(i){var l=n[i];if(!r||r(l)){var u=l.append(t,e);if(S[i]){var c=S[i];as(l)?e(s,u?".enable(":".disable(",c,");"):e(t.cond(u).then(s,".enable(",c,");").else(s,".disable(",c,");")),e(a,".",i,"=",u,";")}else if(hn(u)){var h=o[i];e(s,".",M[i],"(",u,");",u.map((function(t,e){return h+"["+e+"]="+t})).join(";"),";")}else e(s,".",M[i],"(",u,");",a,".",i,"=",u,";")}}))}function X(t,e){y&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function q(t,e,n,r,i){var o,a,s,l=t.shared,u=t.stats,c=l.current,h=l.timer,d=n.profile;function f(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function g(t){t(o=e.def(),"=",f(),";"),"string"==typeof i?t(u,".count+=",i,";"):t(u,".count++;"),p&&(r?t(a=e.def(),"=",h,".getNumPendingQueries();"):t(h,".beginQuery(",u,");"))}function m(t){t(u,".cpuTime+=",f(),"-",o,";"),p&&(r?t(h,".pushScopeStats(",a,",",h,".getNumPendingQueries(),",u,");"):t(h,".endQuery();"))}function v(t){var n=e.def(c,".profile");e(c,".profile=",t,";"),e.exit(c,".profile=",n,";")}if(d){if(as(d))return void(d.enable?(g(e),m(e.exit),v("true")):v("false"));v(s=d.append(t,e))}else s=e.def(c,".profile");var y=t.block();g(y),e("if(",s,"){",y,"}");var b=t.block();m(b),e.exit("if(",s,"){",b,"}")}function K(t,e,n,r,i){var o=t.shared;function a(t){switch(t){case xa:case Ma:case Ta:return 2;case _a:case ka:case Ia:return 3;case wa:case Ea:case Ca:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=e.def(n,".location"),l=e.def(o.attributes,"[",s,"]"),u=i.state,c=i.buffer,h=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function f(){e("if(!",l,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?e.def(i.size,"||",r):r,e("if(",l,".type!==",o,"||",l,".size!==",n,"||",d.map((function(t){return l+"."+t+"!=="+i[t]})).join("||"),"){",a,".bindBuffer(",aa,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",l,".type=",o,";",l,".size=",n,";",d.map((function(t){return l+"."+t+"="+i[t]+";"})).join(""),"}"),y){var u=i.divisor;e("if(",l,".divisor!==",u,"){",t.instancing,".vertexAttribDivisorANGLE(",[s,u],");",l,".divisor=",u,";}")}}function p(){e("if(",l,".buffer){",a,".disableVertexAttribArray(",s,");",l,".buffer=null;","}if(",eo.map((function(t,e){return l+"."+t+"!=="+h[e]})).join("||"),"){",a,".vertexAttrib4f(",s,",",h,");",eo.map((function(t,e){return l+"."+t+"="+h[e]+";"})).join(""),"}")}u===ro?f():u===io?p():(e("if(",u,"===",ro,"){"),f(),e("}else{"),p(),e("}"))}r.forEach((function(r){var o,l=r.name,u=n.attributes[l];if(u){if(!i(u))return;o=u.append(t,e)}else{if(!i(us))return;var c=t.scopeAttrib(l);nt.optional((function(){t.assert(e,c+".state","missing attribute "+l)})),o={},Object.keys(new m).forEach((function(t){o[t]=e.def(c,".",t)}))}s(t.link(r),a(r.info.type),o)}))}function $(t,e,r,i,o){for(var a,s=t.shared,l=s.gl,u=0;u<i.length;++u){var c,h=i[u],d=h.name,f=h.info.type,p=r.uniforms[d],g=t.link(h)+".location";if(p){if(!o(p))continue;if(as(p)){var m=p.value;if(nt.command(null!=m,'missing uniform "'+d+'"',t.commandStr),f===La||f===Pa){nt.command("function"==typeof m&&(f===La&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||f===Pa&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+d,t.commandStr);var v=t.link(m._texture||m.color[0]._texture);e(l,".uniform1i(",g,",",v+".bind());"),e.exit(v,".unbind();")}else if(f===Da||f===Na||f===Oa){nt.optional((function(){nt.command(hn(m),"invalid matrix for uniform "+d,t.commandStr),nt.command(f===Da&&4===m.length||f===Na&&9===m.length||f===Oa&&16===m.length,"invalid length for matrix uniform "+d,t.commandStr)}));var y=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),b=2;f===Na?b=3:f===Oa&&(b=4),e(l,".uniformMatrix",b,"fv(",g,",false,",y,");")}else{switch(f){case ba:nt.commandType(m,"number","uniform "+d,t.commandStr),a="1f";break;case xa:nt.command(hn(m)&&2===m.length,"uniform "+d,t.commandStr),a="2f";break;case _a:nt.command(hn(m)&&3===m.length,"uniform "+d,t.commandStr),a="3f";break;case wa:nt.command(hn(m)&&4===m.length,"uniform "+d,t.commandStr),a="4f";break;case Aa:nt.commandType(m,"boolean","uniform "+d,t.commandStr),a="1i";break;case Sa:nt.commandType(m,"number","uniform "+d,t.commandStr),a="1i";break;case Ta:case Ma:nt.command(hn(m)&&2===m.length,"uniform "+d,t.commandStr),a="2i";break;case Ia:case ka:nt.command(hn(m)&&3===m.length,"uniform "+d,t.commandStr),a="3i";break;case Ca:case Ea:nt.command(hn(m)&&4===m.length,"uniform "+d,t.commandStr),a="4i"}e(l,".uniform",a,"(",g,",",hn(m)?Array.prototype.slice.call(m):m,");")}continue}c=p.append(t,e)}else{if(!o(us))continue;c=e.def(s.uniforms,"[",n.id(d),"]")}f===La?(nt(!Array.isArray(c),"must specify a scalar prop for textures"),e("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):f===Pa&&(nt(!Array.isArray(c),"must specify a scalar prop for cube maps"),e("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),nt.optional((function(){function n(n,r){t.assert(e,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(t){nt(!Array.isArray(c),"must not specify an array type for uniform"),n("typeof "+c+'==="'+t+'"',"invalid type, expected "+t)}function i(e,r){Array.isArray(c)?nt(c.length===e,"must have length "+e):n(s.isArrayLike+"("+c+")&&"+c+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function o(e){nt(!Array.isArray(c),"must not specify a value type"),n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(e===la?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(f){case Sa:r("number");break;case Ma:i(2,"number");break;case ka:i(3,"number");break;case Ea:i(4,"number");break;case ba:r("number");break;case xa:i(2,"number");break;case _a:i(3,"number");break;case wa:i(4,"number");break;case Aa:r("boolean");break;case Ta:i(2,"boolean");break;case Ia:i(3,"boolean");break;case Ca:i(4,"boolean");break;case Da:i(4,"number");break;case Na:i(9,"number");break;case Oa:i(16,"number");break;case La:o(la);break;case Pa:o(ua)}}));var x=1;switch(f){case La:case Pa:var _=e.def(c,"._texture");e(l,".uniform1i(",g,",",_,".bind());"),e.exit(_,".unbind();");continue;case Sa:case Aa:a="1i";break;case Ma:case Ta:a="2i",x=2;break;case ka:case Ia:a="3i",x=3;break;case Ea:case Ca:a="4i",x=4;break;case ba:a="1f";break;case xa:a="2f",x=2;break;case _a:a="3f",x=3;break;case wa:a="4f",x=4;break;case Da:a="Matrix2fv";break;case Na:a="Matrix3fv";break;case Oa:a="Matrix4fv"}if(e(l,".uniform",a,"(",g,","),"M"===a.charAt(0)){var w=Math.pow(f-Da+2,2),S=t.global.def("new Float32Array(",w,")");Array.isArray(c)?e("false,(",Et(w,(function(t){return S+"["+t+"]="+c[t]})),",",S,")"):e("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",Et(w,(function(t){return S+"["+t+"]="+c+"["+t+"]"})),",",S,")")}else x>1?e(Et(x,(function(t){return Array.isArray(c)?c[t]:c+"["+t+"]"}))):(nt(!Array.isArray(c),"uniform value must not be an array"),e(c));e(");")}}function J(t,e,n,r){var i=t.shared,o=i.gl,a=i.draw,s=r.draw;function l(){var i,l=s.elements,u=e;return l?((l.contextDep&&r.contextDynamic||l.propDep)&&(u=n),i=l.append(t,u)):i=u.def(a,".",Uo),i&&u("if("+i+")"+o+".bindBuffer("+sa+","+i+".buffer.buffer);"),i}function u(){var i,o=s.count,l=e;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(l=n),i=o.append(t,l),nt.optional((function(){o.MISSING&&t.assert(e,"false","missing vertex count"),o.DYNAMIC&&t.assert(l,i+">=0","missing vertex count")}))):(i=l.def(a,".",Wo),nt.optional((function(){t.assert(l,i+">=0","missing vertex count")}))),i}var c=l();function h(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(a,".",i)}var d,f,p=h(Ho),g=h(Yo),m=u();if("number"==typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");y&&(d=h(Xo),f=t.instancing);var v=c+".type",b=s.elements&&as(s.elements);function x(){function t(){n(f,".drawElementsInstancedANGLE(",[p,m,v,g+"<<(("+v+"-"+no+")>>1)",d],");")}function e(){n(f,".drawArraysInstancedANGLE(",[p,g,m,d],");")}c?b?t():(n("if(",c,"){"),t(),n("}else{"),e(),n("}")):e()}function _(){function t(){n(o+".drawElements("+[p,m,v,g+"<<(("+v+"-"+no+")>>1)"]+");")}function e(){n(o+".drawArrays("+[p,g,m]+");")}c?b?t():(n("if(",c,"){"),t(),n("}else{"),e(),n("}")):e()}y&&("number"!=typeof d||d>=0)?"string"==typeof d?(n("if(",d,">0){"),x(),n("}else if(",d,"<0){"),_(),n("}")):x():_()}function Q(t,e,n,r,i){var o=D(),a=o.proc("body",i);return nt.optional((function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,n,r),o.compile().body}function tt(t,e,n,r){X(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),K(t,e,n,r.attributes,(function(){return!0}))),$(t,e,n,r.uniforms,(function(){return!0})),J(t,e,e,n)}function et(t,e){var n=t.proc("draw",1);X(t,n),U(t,n,e.context),H(t,n,e.framebuffer),W(t,n,e),Y(t,n,e.state),q(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)tt(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(n){return Q(tt,t,e,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}function rt(t,e,n,r){function i(){return!0}t.batchId="a1",X(t,e),K(t,e,n,r.attributes,i),$(t,e,n,r.uniforms,i),J(t,e,e,n)}function it(t,e,n,r){X(t,e);var i=n.contextDep,o=e.def(),a="a0",s="a1",l=e.def();t.shared.props=l,t.batchId=o;var u=t.scope(),c=t.scope();function h(t){return t.contextDep&&i||t.propDep}function d(t){return!h(t)}if(e(u.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",l,"=",a,"[",o,"];",c,"}",u.exit),n.needsContext&&U(t,c,n.context),n.needsFramebuffer&&H(t,c,n.framebuffer),Y(t,c,n.state,h),n.profile&&h(n.profile)&&q(t,c,n,!1,!0),r)n.useVAO?n.drawVAO?h(n.drawVAO)?c(t.shared.vao,".setVAO(",n.drawVAO.append(t,c),");"):u(t.shared.vao,".setVAO(",n.drawVAO.append(t,u),");"):u(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(u(t.shared.vao,".setVAO(null);"),K(t,u,n,r.attributes,d),K(t,c,n,r.attributes,h)),$(t,u,n,r.uniforms,d),$(t,c,n,r.uniforms,h),J(t,u,c,n);else{var f=t.global.def("{}"),p=n.shader.progVar.append(t,c),g=c.def(p,".id"),m=c.def(f,"[",g,"]");c(t.shared.gl,".useProgram(",p,".program);","if(!",m,"){",m,"=",f,"[",g,"]=",t.link((function(e){return Q(rt,t,n,e,2)})),"(",p,");}",m,".call(this,a0[",o,"],",o,");")}}function ot(t,e){var n=t.proc("batch",2);t.batchId="0",X(t,n);var r=!1,i=!0;Object.keys(e.context).forEach((function(t){r=r||e.context[t].propDep})),r||(U(t,n,e.context),i=!1);var o=e.framebuffer,a=!1;function s(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||H(t,n,o)):H(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),W(t,n,e),Y(t,n,e.state,(function(t){return!s(t)})),e.profile&&s(e.profile)||q(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=i,e.needsFramebuffer=a;var l=e.shader.progVar;if(l.contextDep&&r||l.propDep)it(t,n,e,null);else{var u=l.append(t,n);if(n(t.shared.gl,".useProgram(",u,".program);"),e.shader.program)it(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var c=t.global.def("{}"),h=n.def(u,".id"),d=n.def(c,"[",h,"]");n(t.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",h,"]=",t.link((function(n){return Q(it,t,e,n,2)})),"(",u,");",d,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}function at(t,e){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function a(n){var o=e.shader[n];o&&r.set(i.shader,"."+n,o.append(t,r))}U(t,r,e.context),e.framebuffer&&e.framebuffer.append(t,r),is(Object.keys(e.state)).forEach((function(n){var o=e.state[n].append(t,r);hn(o)?o.forEach((function(e,i){r.set(t.next[n],"["+i+"]",e)})):r.set(i.next,"."+n,o)})),q(t,r,e,!0,!0),[Uo,Yo,Wo,Xo,Ho].forEach((function(n){var o=e.draw[n];o&&r.set(i.draw,"."+n,""+o.append(t,r))})),Object.keys(e.uniforms).forEach((function(o){var a=e.uniforms[o].append(t,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)})),Object.keys(e.attributes).forEach((function(n){var i=e.attributes[n].append(t,r),o=t.scopeAttrib(n);Object.keys(new m).forEach((function(t){r.set(o,"."+t,i[t])}))})),e.scopeVAO&&r.set(i.vao,".targetVAO",e.scopeVAO.append(t,r)),a(Vo),a(Zo),Object.keys(e.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}function st(t){if("object"==typeof t&&!hn(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(pt.isDynamic(t[e[n]]))return!0;return!1}}function lt(t,e,n){var r=e.static[n];if(r&&st(r)){var i=t.global,o=Object.keys(r),a=!1,s=!1,l=!1,u=t.global.def("{}");o.forEach((function(e){var n=r[e];if(pt.isDynamic(n)){"function"==typeof n&&(n=r[e]=pt.unbox(n));var o=ls(n,null);a=a||o.thisDep,l=l||o.propDep,s=s||o.contextDep}else{switch(i(u,".",e,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(t.link(n))}i(";")}})),e.dynamic[n]=new pt.DynamicVariable(uo,{thisDep:a,contextDep:s,propDep:l,ref:u,append:c}),delete e.static[n]}function c(t,e){o.forEach((function(n){var i=r[n];if(pt.isDynamic(i)){var o=t.invoke(e,i);e(u,".",n,"=",o,";")}}))}}function ut(t,n,r,i,o){var a=D();a.stats=a.link(o),Object.keys(n.static).forEach((function(t){lt(a,n,t)})),oa.forEach((function(e){lt(a,t,e)}));var s=Z(t,n,r,i,a);return et(a,s),at(a,s),ot(a,s),e(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:_,current:x,procs:function(){var t=D(),e=t.proc("poll"),n=t.proc("refresh"),o=t.block();e(o),n(o);var a,s=t.shared,l=s.gl,u=s.next,c=s.current;o(c,".dirty=false;"),H(t,e),H(t,n,null,!0),y&&(a=t.link(y)),r.oes_vertex_array_object&&n(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var h=0;h<i.maxAttributes;++h){var d=n.def(s.attributes,"[",h,"]"),f=t.cond(d,".buffer");f.then(l,".enableVertexAttribArray(",h,");",l,".bindBuffer(",aa,",",d,".buffer.buffer);",l,".vertexAttribPointer(",h,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(l,".disableVertexAttribArray(",h,");",l,".vertexAttrib4f(",h,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(f),y&&n(a,".vertexAttribDivisorANGLE(",h,",",d,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],a=o.def(u,".",r),s=t.block();s("if(",a,"){",l,".enable(",i,")}else{",l,".disable(",i,")}",c,".",r,"=",a,";"),n(s),e("if(",a,"!==",c,".",r,"){",s,"}")})),Object.keys(M).forEach((function(r){var i,a,s=M[r],h=x[r],d=t.block();if(d(l,".",s,"("),hn(h)){var f=h.length;i=t.global.def(u,".",r),a=t.global.def(c,".",r),d(Et(f,(function(t){return i+"["+t+"]"})),");",Et(f,(function(t){return a+"["+t+"]="+i+"["+t+"];"})).join("")),e("if(",Et(f,(function(t){return i+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",d,"}")}else i=o.def(u,".",r),a=o.def(c,".",r),d(i,");",c,".",r,"=",i,";"),e("if(",i,"!==",a,"){",d,"}");n(d)})),t.compile()}(),compile:ut}}function hs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ds=34918,fs=34919,ps=35007,gs=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||e.ext_disjoint_timer_query.createQueryEXT()}function i(t){n.push(t)}var o=[];function a(t){var n=r();e.ext_disjoint_timer_query.beginQueryEXT(ps,n),o.push(n),f(o.length-1,o.length,t)}function s(){e.ext_disjoint_timer_query.endQueryEXT(ps)}function l(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var u=[];function c(){return u.pop()||new l}function h(t){u.push(t)}var d=[];function f(t,e,n){var r=c();r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,d.push(r)}var p=[],g=[];function m(){var t,n,r=o.length;if(0!==r){g.length=Math.max(g.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,g[0]=0;var a=0;for(t=0,n=0;n<o.length;++n){var s=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(s,fs)?(a+=e.ext_disjoint_timer_query.getQueryObjectEXT(s,ds),i(s)):o[t++]=s,p[n+1]=a,g[n+1]=t}for(o.length=t,t=0,n=0;n<d.length;++n){var l=d[n],u=l.startQueryIndex,c=l.endQueryIndex;l.sum+=p[c]-p[u];var f=g[u],m=g[c];m===f?(l.stats.gpuTime+=l.sum/1e6,h(l)):(l.startQueryIndex=f,l.endQueryIndex=m,d[t++]=l)}d.length=t}}return{beginQuery:a,endQuery:s,pushScopeStats:f,update:m,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},ms=16384,vs=256,ys=1024,bs=34962,xs="webglcontextlost",_s="webglcontextrestored",ws=1,Ss=2,Ms=3;function ks(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function Es(t){var n=Mt(t);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=kt(r,n);if(!a)return null;var s=vt(),l=hs(),u=a.extensions,c=gs(r,u),h=mt(),d=r.drawingBufferWidth,f=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:f,framebufferWidth:d,framebufferHeight:f,drawingBufferWidth:d,drawingBufferHeight:f,pixelRatio:n.pixelRatio},g={},m={elements:null,primitive:4,count:-1,offset:0,instances:-1},v=we(r,u),y=He(r,l,n,x),b=Gi(r,u,v,l,y);function x(t){return b.destroyBuffer(t)}var _=an(r,u,y,l),w=Wi(r,s,l,n),S=qr(r,u,v,(function(){E.procs.poll()}),p,l,n),M=ui(r,u,v,l,n),k=ji(r,u,v,S,M,l),E=cs(r,s,u,v,y,_,S,k,g,b,w,m,p,c,n),A=$i(r,k,E.procs.poll,p,i,u,v),T=E.next,I=r.canvas,C=[],D=[],N=[],O=[n.onDestroy],L=null;function P(){if(0===C.length)return c&&c.update(),void(L=null);L=gt.next(P),Y();for(var t=C.length-1;t>=0;--t){var e=C[t];e&&e(p,null,0)}r.flush(),c&&c.update()}function R(){!L&&C.length>0&&(L=gt.next(P))}function j(){L&&(gt.cancel(P),L=null)}function z(t){t.preventDefault(),o=!0,j(),D.forEach((function(t){t()}))}function B(t){r.getError(),o=!1,a.restore(),w.restore(),y.restore(),S.restore(),M.restore(),k.restore(),b.restore(),c&&c.restore(),E.procs.refresh(),R(),N.forEach((function(t){t()}))}function F(){C.length=0,j(),I&&(I.removeEventListener(xs,z),I.removeEventListener(_s,B)),w.clear(),k.clear(),M.clear(),S.clear(),_.clear(),y.clear(),b.clear(),c&&c.clear(),O.forEach((function(t){t()}))}function G(t){function n(t){var n=e({},t);function r(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach((function(r){n[t+"."+r]=e[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in t&&(n.vao=t.vao),n}function r(t,e){var n={},r={};return Object.keys(t).forEach((function(i){var o=t[i];if(pt.isDynamic(o))r[i]=pt.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if(pt.isDynamic(o[a]))return void(r[i]=pt.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}nt(!!t,"invalid args to regl({...})"),nt.type(t,"object","invalid args to regl({...})");var i=r(t.context||{},!0),a=r(t.uniforms||{},!0),s=r(t.attributes||{},!1),l=r(n(t),!1),u={gpuTime:0,cpuTime:0,count:0},c=E.compile(l,s,a,i,u),h=c.draw,d=c.batch,f=c.scope,p=[];function g(t){for(;p.length<t;)p.push(null);return p}function m(t,e){var n;if(o&&nt.raise("context lost"),"function"==typeof t)return f.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(n=0;n<t;++n)f.call(this,null,e,n);else{if(!Array.isArray(t))return f.call(this,t,e,0);for(n=0;n<t.length;++n)f.call(this,t[n],e,n)}else if("number"==typeof t){if(t>0)return d.call(this,g(0|t),0|t)}else{if(!Array.isArray(t))return h.call(this,t);if(t.length)return d.call(this,t,t.length)}}return e(m,{stats:u,destroy:function(){c.destroy()}})}I&&(I.addEventListener(xs,z,!1),I.addEventListener(_s,B,!1));var V=k.setFBO=G({framebuffer:pt.define.call(null,ws,"framebuffer")});function Z(t,e){var n=0;E.procs.poll();var i=e.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=ms),"depth"in e&&(r.clearDepth(+e.depth),n|=vs),"stencil"in e&&(r.clearStencil(0|e.stencil),n|=ys),nt(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function U(t){if(nt("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)V(e({framebuffer:t.framebuffer.faces[n]},t),Z);else V(t,Z);else Z(null,t)}function H(t){function e(){var e=ks(C,t);function n(){var t=ks(C,n);C[t]=C[C.length-1],C.length-=1,C.length<=0&&j()}nt(e>=0,"cannot cancel a frame twice"),C[e]=n}return nt.type(t,"function","regl.frame() callback must be a function"),C.push(t),R(),{cancel:e}}function W(){var t=T.viewport,e=T.scissor_box;t[0]=t[1]=e[0]=e[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=t[2]=e[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=t[3]=e[3]=r.drawingBufferHeight}function Y(){p.tick+=1,p.time=q(),W(),E.procs.poll()}function X(){S.refresh(),W(),E.procs.refresh(),c&&c.update()}function q(){return(mt()-h)/1e3}function K(t,e){var n;switch(nt.type(e,"function","listener callback must be a function"),t){case"frame":return H(e);case"lost":n=D;break;case"restore":n=N;break;case"destroy":n=O;break;default:nt.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}}X();var $=e(G,{clear:U,prop:pt.define.bind(null,ws),context:pt.define.bind(null,Ss),this:pt.define.bind(null,Ms),draw:G({}),buffer:function(t){return y.create(t,bs,!1,!1)},elements:function(t){return _.create(t,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:M.create,framebuffer:k.create,framebufferCube:k.createCube,vao:b.createVAO,attributes:i,frame:H,on:K,limits:v,hasExtension:function(t){return v.extensions.indexOf(t.toLowerCase())>=0},read:A,destroy:F,_gl:r,_refresh:X,poll:function(){Y(),c&&c.update()},now:q,stats:l});return n.onDone(null,$),$}return Es}()},"./node_modules/simple-swizzle/index.js":function(t,e,n){"use strict";var r=n("./node_modules/simple-swizzle/node_modules/is-arrayish/index.js"),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},"./node_modules/simple-swizzle/node_modules/is-arrayish/index.js":function(t){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},"./node_modules/zrender/lib/Element.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/Transformable.js"),i=n("./node_modules/zrender/lib/animation/Animator.js"),o=n("./node_modules/zrender/lib/core/BoundingRect.js"),a=n("./node_modules/zrender/lib/core/Eventful.js"),s=n("./node_modules/zrender/lib/contain/text.js"),l=n("./node_modules/zrender/lib/core/util.js"),u=n("./node_modules/zrender/lib/config.js"),c=n("./node_modules/zrender/lib/tool/color.js"),h=n("./node_modules/zrender/lib/graphic/constants.js"),d="__zr_normal__",f=r.dN.concat(["ignore"]),p=(0,l.u4)(r.dN,(function(t,e){return t[e]=!0,t}),{ignore:!1}),g={},m=new o.Z(0,0,0,0),v=function(){function t(t){this.id=(0,l.M8)(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=e.innerTransformable,o=void 0,a=void 0,l=!1;i.parent=r?this:null;var u=!1;if(i.copyTransform(e),null!=n.position){var c=m;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),r||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(g,n,c):(0,s.wI)(g,n,c),i.x=g.x,i.y=g.y,o=g.align,a=g.verticalAlign;var d=n.origin;if(d&&null!=n.rotation){var f=void 0,p=void 0;"center"===d?(f=.5*c.width,p=.5*c.height):(f=(0,s.GM)(d[0],c.width),p=(0,s.GM)(d[1],c.height)),u=!0,i.originX=-i.x+f+(r?0:c.x),i.originY=-i.y+p+(r?0:c.y)}}null!=n.rotation&&(i.rotation=n.rotation);var v=n.offset;v&&(i.x+=v[0],i.y+=v[1],u||(i.originX=-v[0],i.originY=-v[1]));var y=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,_=void 0,w=void 0;y&&this.canBeInsideText()?(x=n.insideFill,_=n.insideStroke,null!=x&&"auto"!==x||(x=this.getInsideTextFill()),null!=_&&"auto"!==_||(_=this.getInsideTextStroke(x),w=!0)):(x=n.outsideFill,_=n.outsideStroke,null!=x&&"auto"!==x||(x=this.getOutsideFill()),null!=_&&"auto"!==_||(_=this.getOutsideStroke(x),w=!0)),(x=x||"#000")===b.fill&&_===b.stroke&&w===b.autoStroke&&o===b.align&&a===b.verticalAlign||(l=!0,b.fill=x,b.stroke=_,b.autoStroke=w,b.align=o,b.verticalAlign=a,e.setDefaultTextStyle(b)),e.__dirty|=h.YV,l&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?u.GD:u.vU},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&(0,c.Qc)(e);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(i?0:255)*(1-r);return n[3]=1,(0,c.Pz)(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},(0,l.l7)(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if((0,l.Kn)(t))for(var n=t,r=(0,l.XP)(n),i=0;i<r.length;i++){var o=r[i];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!(r.getLoop()||i&&i!==d)){var o=r.targetName,a=o?e[o]:e;r.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,f)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null==t[i]||i in e||(e[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(d,!1,t)},t.prototype.useState=function(t,e,n,r){var i=t===d;if(this.hasState()||!i){var o=this.currentStates,a=this.stateTransition;if(!((0,l.cq)(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!i&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||i){i||this.saveCurrentToNormalState(s);var u=!!(s&&s.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var c=this._textContent,f=this._textGuide;return c&&c.useState(t,e,n,u),f&&f.useState(t,e,n,u),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~h.YV),s}(0,l.H)("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var r=[],i=this.currentStates,o=t.length,a=o===i.length;if(a)for(var s=0;s<o;s++)if(t[s]!==i[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&r.push(u)}var c=r[o-1],d=!!(c&&c.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,m=this._textGuide;g&&g.useStates(t,e,d),m&&m.useStates(t,e,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~h.YV)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=(0,l.cq)(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),i=(0,l.cq)(r,t),o=(0,l.cq)(r,e)>=0;i>=0?o?r.splice(i,1):r[i]=e:n&&!o&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var i=t[r];(0,l.l7)(n,i),i.textConfig&&(e=e||{},(0,l.l7)(e,i.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,r,i,o){var a=!(e&&r);e&&e.textConfig?(this.textConfig=(0,l.l7)({},r?this.textConfig:n.textConfig),(0,l.l7)(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},u=!1,c=0;c<f.length;c++){var h=f[c],d=i&&p[h];e&&null!=e[h]?d?(u=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(d?(u=!0,s[h]=n[h]):this[h]=n[h])}if(!i)for(c=0;c<this.animators.length;c++){var g=this.animators[c],m=g.targetName;g.getLoop()||g.__changeFinalValue(m?(e||n)[m]:e||n)}u&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new r.ZP,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),(0,l.l7)(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=h.YV;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var r=t?this[t]:this;var o=new i.Z(r,e,n);return t&&(o.targetName=t),this.addAnimator(o,t),o},t.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during((function(){r.updateDuringAnimation(e)})).done((function(){var e=r.animators,n=(0,l.cq)(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,i=[],o=0;o<r;o++){var a=n[o];t&&t!==a.scope?i.push(a):a.stop(e)}return this.animators=i,this},t.prototype.animateTo=function(t,e,n){y(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){y(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,r){for(var i=y(this,e,n,r),o=0;o<i.length;o++)i[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=h.YV;function n(t,n,r,i){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[i]},set:function(e){t[i]=e}})}Object.defineProperty(e,t,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(t){this[r]=t[0],this[i]=t[1],this[n]=t,o(this,t)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();function y(t,e,n,r,i){var o=[];_(t,"",t,e,n=n||{},r,o,i);var a=o.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},h=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during((function(t,e){n.during(e)}));for(var d=0;d<o.length;d++){var f=o[d];c&&f.done(c),h&&f.aborted(h),n.force&&f.duration(n.duration),f.start(n.easing)}return o}function b(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function x(t,e,n){if((0,l.zG)(e[n]))if((0,l.zG)(t[n])||(t[n]=[]),(0,l.fU)(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),b(t[n],e[n],r))}else{var i=e[n],o=t[n],a=i.length;if(c=i,(0,l.zG)(c[0]))for(var s=i[0].length,u=0;u<a;u++)o[u]?b(o[u],i[u],s):o[u]=Array.prototype.slice.call(i[u]);else b(o,i,a);o.length=i.length}else t[n]=e[n];var c}function _(t,e,n,r,o,a,s,u){for(var c=(0,l.XP)(r),h=o.duration,d=o.delay,f=o.additive,p=o.setToFinal,g=!(0,l.Kn)(a),m=t.animators,v=[],y=0;y<c.length;y++){var b=c[y],w=r[b];if(null!=w&&null!=n[b]&&(g||a[b]))if(!(0,l.Kn)(w)||(0,l.zG)(w)||(0,l.Qq)(w))v.push(b);else{if(e){u||(n[b]=w,t.updateDuringAnimation(e));continue}_(t,b,n[b],w,o,a&&a[b],s,u)}else u||(n[b]=w,t.updateDuringAnimation(e),v.push(b))}var S=v.length;if(!f&&S)for(var M=0;M<m.length;M++){if((E=m[M]).targetName===e)if(E.stopTracks(v)){var k=(0,l.cq)(m,E);m.splice(k,1)}}if(o.force||(v=(0,l.hX)(v,(function(t){return e=r[t],i=n[t],!(e===i||(0,l.zG)(e)&&(0,l.zG)(i)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(e,i));var e,i})),S=v.length),S>0||o.force&&!s.length){var E,A=void 0,T=void 0,I=void 0;if(u){T={},p&&(A={});for(M=0;M<S;M++){T[b=v[M]]=n[b],p?A[b]=r[b]:n[b]=r[b]}}else if(p){I={};for(M=0;M<S;M++){I[b=v[M]]=(0,i.V)(n[b]),x(n,r,b)}}(E=new i.Z(n,!1,!1,f?(0,l.hX)(m,(function(t){return t.targetName===e})):null)).targetName=e,o.scope&&(E.scope=o.scope),p&&A&&E.whenWithKeys(0,A,v),I&&E.whenWithKeys(0,I,v),E.whenWithKeys(null==h?500:h,u?T:r,v).delay(d||0),t.addAnimator(E,e),s.push(E)}}(0,l.jB)(v,a.Z),(0,l.jB)(v,r.ZP),e.Z=v},"./node_modules/zrender/lib/animation/Animator.js":function(t,e,n){"use strict";n.d(e,{V:function(){return v},Z:function(){return S}});var r={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-r.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*r.bounceIn(2*t):.5*r.bounceOut(2*t-1)+.5}},i=r,o=n("./node_modules/zrender/lib/core/util.js"),a=n("./node_modules/zrender/lib/animation/cubicEasing.js"),s=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||o.ZT,this.ondestroy=t.ondestroy||o.ZT,this.onrestart=t.onrestart||o.ZT,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,r=t-this._startTime-this._pausedTime,i=r/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,a=o?o(i):i;if(this.onframe(a),1===i){if(!this.loop)return!0;var s=r%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=(0,o.mf)(t)?t:i[t]||(0,a.H)(t)},t}(),l=n("./node_modules/zrender/lib/tool/color.js"),u=n("./node_modules/zrender/lib/svg/helper.js"),c=Array.prototype.slice;function h(t,e,n){return(e-t)*n+t}function d(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=h(e[o],n[o],r);return t}function f(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+n[o]*r;return t}function p(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*r}return t}function g(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,o=Math.min(n,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function m(t,e,n){var r=t,i=e;if(r.push&&i.push){var o=r.length,a=i.length;if(o!==a)if(o>a)r.length=a;else for(var s=o;s<a;s++)r.push(1===n?i[s]:c.call(i[s]));var l=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=i[s]);else for(var u=0;u<l;u++)isNaN(r[s][u])&&(r[s][u]=i[s][u])}}function v(t){if((0,o.zG)(t)){var e=t.length;if((0,o.zG)(t[0])){for(var n=[],r=0;r<e;r++)n.push(c.call(t[r]));return n}return c.call(t)}return t}function y(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}function b(t){return 4===t||5===t}function x(t){return 1===t||2===t}var _=[0,0,0,0],w=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var r=this.keyframes,s=r.length,c=!1,h=6,d=e;if((0,o.zG)(e)){var f=function(t){return(0,o.zG)(t&&t[0])?2:1}(e);h=f,(1===f&&!(0,o.hj)(e[0])||2===f&&!(0,o.hj)(e[0][0]))&&(c=!0)}else if((0,o.hj)(e)&&!(0,o.Bu)(e))h=0;else if((0,o.HD)(e))if(isNaN(+e)){var p=l.Qc(e);p&&(d=p,h=3)}else h=0;else if((0,o.Qq)(e)){var g=(0,o.l7)({},d);g.colorStops=(0,o.UI)(e.colorStops,(function(t){return{offset:t.offset,color:l.Qc(t.color)}})),(0,u.I1)(e)?h=4:(0,u.gO)(e)&&(h=5),d=g}0===s?this.valType=h:h===this.valType&&6!==h||(c=!0),this.discrete=this.discrete||c;var m={time:t,value:d,rawValue:e,percent:0};return n&&(m.easing=n,m.easingFunc=(0,o.mf)(n)?n:i[n]||(0,a.H)(n)),r.push(m),m},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort((function(t,e){return t.time-e.time}));for(var r=this.valType,i=n.length,o=n[i-1],a=this.discrete,s=x(r),l=b(r),u=0;u<i;u++){var c=n[u],h=c.value,d=o.value;c.percent=c.time/t,a||(s&&u!==i-1?m(h,d,r):l&&g(h.colorStops,d.colorStops))}if(!a&&5!==r&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var v=n[0].value;for(u=0;u<i;u++)0===r?n[u].additiveValue=n[u].value-v:3===r?n[u].additiveValue=f([],n[u].value,v,-1):x(r)&&(n[u].additiveValue=1===r?f([],n[u].value,v,-1):p([],n[u].value,v,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,i,a=null!=this._additiveTrack,s=a?"additiveValue":"value",l=this.valType,u=this.keyframes,c=u.length,f=this.propName,p=3===l,g=this._lastFr,m=Math.min;if(1===c)r=i=u[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=m(g+1,c-1);n>=0&&!(u[n].percent<=e);n--);n=m(n,c-2)}else{for(n=g;n<c&&!(u[n].percent>e);n++);n=m(n-1,c-2)}i=u[n+1],r=u[n]}if(r&&i){this._lastFr=n,this._lastFrP=e;var v=i.percent-r.percent,w=0===v?1:m((e-r.percent)/v,1);i.easingFunc&&(w=i.easingFunc(w));var S=a?this._additiveValue:p?_:t[f];if(!x(l)&&!p||S||(S=this._additiveValue=[]),this.discrete)t[f]=w<1?r.rawValue:i.rawValue;else if(x(l))1===l?d(S,r[s],i[s],w):function(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=h(e[a][s],n[a][s],r)}}(S,r[s],i[s],w);else if(b(l)){var M=r[s],k=i[s],E=4===l;t[f]={type:E?"linear":"radial",x:h(M.x,k.x,w),y:h(M.y,k.y,w),colorStops:(0,o.UI)(M.colorStops,(function(t,e){var n=k.colorStops[e];return{offset:h(t.offset,n.offset,w),color:y(d([],t.color,n.color,w))}})),global:k.global},E?(t[f].x2=h(M.x2,k.x2,w),t[f].y2=h(M.y2,k.y2,w)):t[f].r=h(M.r,k.r,w)}else if(p)d(S,r[s],i[s],w),a||(t[f]=y(S));else{var A=h(r[s],i[s],w);a?this._additiveValue=A:t[f]=A}a&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;0===e?t[n]=t[n]+r:3===e?(l.Qc(t[n],_),f(_,_,r,1),t[n]=y(_)):1===e?f(t[n],t[n],r,1):2===e&&p(t[n],t[n],r,1)},t}(),S=function(){function t(t,e,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?(0,o.H)("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,(0,o.XP)(e),n)},t.prototype.whenWithKeys=function(t,e,n,r){for(var i=this._tracks,o=0;o<n.length;o++){var a=n[o],s=i[a];if(!s){s=i[a]=new w(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var c=u.keyframes,h=c[c.length-1];l=h&&h.value,3===u.valType&&l&&(l=y(l))}else l=this._target[a];if(null==l)continue;t>0&&s.addKeyframe(0,v(l),r),this._trackKeys.push(a)}s.addKeyframe(t,v(e[a]),r)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(t);i&&(e=i)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],a=this._tracks[o],l=this._getAdditiveTrack(o),u=a.keyframes,c=u.length;if(a.prepare(r,l),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var h=u[c-1];h&&(e._target[a.propName]=h.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var d=new s({life:r,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var r=e._additiveAnimators;if(r){for(var i=!1,o=0;o<r.length;o++)if(r[o]._clip){i=!0;break}i||(e._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return(0,o.UI)(this._trackKeys,(function(e){return t._tracks[e]}))},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<t.length;i++){var o=n[t[i]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var i=e[r],o=this._tracks[i];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[i]=v(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||(0,o.XP)(t);for(var n=0;n<e.length;n++){var r=e[n],i=this._tracks[r];if(i){var a=i.keyframes;if(a.length>1){var s=a.pop();i.addKeyframe(s.time,t[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},t}()},"./node_modules/zrender/lib/animation/cubicEasing.js":function(t,e,n){"use strict";n.d(e,{H:function(){return a}});var r=n("./node_modules/zrender/lib/core/curve.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=/cubic-bezier\(([0-9,\.e ]+)\)/;function a(t){var e=t&&o.exec(t);if(e){var n=e[1].split(","),a=+(0,i.fy)(n[0]),s=+(0,i.fy)(n[1]),l=+(0,i.fy)(n[2]),u=+(0,i.fy)(n[3]);if(isNaN(a+s+l+u))return;var c=[];return function(t){return t<=0?0:t>=1?1:(0,r.kD)(0,a,l,1,t,c)&&(0,r.af)(0,s,u,1,c[0])}}}},"./node_modules/zrender/lib/animation/requestAnimationFrame.js":function(t,e,n){"use strict";var r;r=n("./node_modules/zrender/lib/core/env.js").Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},e.Z=r},"./node_modules/zrender/lib/canvas/dashStyle.js":function(t,e,n){"use strict";n.d(e,{a:function(){return i}});var r=n("./node_modules/zrender/lib/core/util.js");function i(t){var e,n,i=t.style,o=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,n=i.lineWidth,e&&"solid"!==e&&n>0?"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:(0,r.hj)(e)?[e]:(0,r.kJ)(e)?e:null:null),a=i.lineDashOffset;if(o){var s=i.strokeNoScale&&t.getLineScale?t.getLineScale():1;s&&1!==s&&(o=(0,r.UI)(o,(function(t){return t/s})),a/=s)}return[o,a]}},"./node_modules/zrender/lib/canvas/graphic.js":function(t,e,n){"use strict";n.d(e,{Dm:function(){return O},RV:function(){return N},RZ:function(){return x}});var r=n("./node_modules/zrender/lib/graphic/Displayable.js"),i=n("./node_modules/zrender/lib/core/PathProxy.js"),o=n("./node_modules/zrender/lib/graphic/helper/image.js"),a=n("./node_modules/zrender/lib/canvas/helper.js"),s=n("./node_modules/zrender/lib/graphic/Path.js"),l=n("./node_modules/zrender/lib/graphic/Image.js"),u=n("./node_modules/zrender/lib/graphic/TSpan.js"),c=n("./node_modules/zrender/lib/core/util.js"),h=n("./node_modules/zrender/lib/canvas/dashStyle.js"),d=n("./node_modules/zrender/lib/graphic/constants.js"),f=n("./node_modules/zrender/lib/core/platform.js"),p=new i.Z(!0);function g(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function m(t){return"string"==typeof t&&"none"!==t}function v(t){var e=t.fill;return null!=e&&"none"!==e}function y(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function b(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function x(t,e,n){var r=(0,o.Gq)(e.image,e.__image,n);if((0,o.v5)(r)){var i=t.createPattern(r,e.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*c.I3),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}var _=["shadowBlur","shadowOffsetX","shadowOffsetY"],w=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function S(t,e,n,i,o){var a=!1;if(!i&&e===(n=n||{}))return!1;if(i||e.opacity!==n.opacity){C(t,o),a=!0;var s=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(s)?r.tj.opacity:s}(i||e.blend!==n.blend)&&(a||(C(t,o),a=!0),t.globalCompositeOperation=e.blend||r.tj.blend);for(var l=0;l<_.length;l++){var u=_[l];(i||e[u]!==n[u])&&(a||(C(t,o),a=!0),t[u]=t.dpr*(e[u]||0))}return(i||e.shadowColor!==n.shadowColor)&&(a||(C(t,o),a=!0),t.shadowColor=e.shadowColor||r.tj.shadowColor),a}function M(t,e,n,r,i){var o=D(e,i.inHover),a=r?null:n&&D(n,i.inHover)||{};if(o===a)return!1;var s=S(t,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(C(t,i),s=!0),m(o.fill)&&(t.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(C(t,i),s=!0),m(o.stroke)&&(t.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(C(t,i),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(C(t,i),s=!0),t.lineWidth=l)}for(var u=0;u<w.length;u++){var c=w[u],h=c[0];(r||o[h]!==a[h])&&(s||(C(t,i),s=!0),t[h]=o[h]||c[1])}return s}function k(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}var E=1,A=2,T=3,I=4;function C(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function D(t,e){return e&&t.__hoverStyle||t.style}function N(t,e){O(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function O(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~d.YV,void(e.__isRendered=!1);var c=e.__clipPaths,m=n.prevElClipPaths,_=!1,w=!1;if(m&&!(0,a.cF)(c,m)||(m&&m.length&&(C(t,n),t.restore(),w=_=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),c&&c.length&&(C(t,n),t.save(),function(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=r||o.isZeroArea(),k(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=r}(c,t,n),_=!0),n.prevElClipPaths=c),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var N=n.prevEl;N||(w=_=!0);var L,P,R=e instanceof s.ZP&&e.autoBatch&&function(t){var e=v(t),n=g(t);return!(t.lineDash||!(+e^+n)||e&&"string"!=typeof t.fill||n&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);_||(L=i,P=N.transform,L&&P?L[0]!==P[0]||L[1]!==P[1]||L[2]!==P[2]||L[3]!==P[3]||L[4]!==P[4]||L[5]!==P[5]:L||P)?(C(t,n),k(t,e)):R||C(t,n);var j=D(e,n.inHover);e instanceof s.ZP?(n.lastDrawType!==E&&(w=!0,n.lastDrawType=E),M(t,e,N,w,n),R&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,r){var i,o=g(n),s=v(n),l=n.strokePercent,u=l<1,c=!e.path;e.silent&&!u||!c||e.createPathProxy();var f=e.path||p,m=e.__dirty;if(!r){var _=n.fill,w=n.stroke,S=s&&!!_.colorStops,M=o&&!!w.colorStops,k=s&&!!_.image,E=o&&!!w.image,A=void 0,T=void 0,I=void 0,C=void 0,D=void 0;(S||M)&&(D=e.getBoundingRect()),S&&(A=m?(0,a.ZF)(t,_,D):e.__canvasFillGradient,e.__canvasFillGradient=A),M&&(T=m?(0,a.ZF)(t,w,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=T),k&&(I=m||!e.__canvasFillPattern?x(t,_,e):e.__canvasFillPattern,e.__canvasFillPattern=I),E&&(C=m||!e.__canvasStrokePattern?x(t,w,e):e.__canvasStrokePattern,e.__canvasStrokePattern=I),S?t.fillStyle=A:k&&(I?t.fillStyle=I:s=!1),M?t.strokeStyle=T:E&&(C?t.strokeStyle=C:o=!1)}var N,O,L=e.getGlobalScale();f.setScale(L[0],L[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(N=(i=(0,h.a)(e))[0],O=i[1]);var P=!0;(c||m&d.RH)&&(f.setDPR(t.dpr),u?f.setContext(null):(f.setContext(t),P=!1),f.reset(),e.buildPath(f,e.shape,r),f.toStatic(),e.pathUpdated()),P&&f.rebuildPath(t,u?l:1),N&&(t.setLineDash(N),t.lineDashOffset=O),r||(n.strokeFirst?(o&&b(t,n),s&&y(t,n)):(s&&y(t,n),o&&b(t,n))),N&&t.setLineDash([])}(t,e,j,R),R&&(n.batchFill=j.fill||"",n.batchStroke=j.stroke||"")):e instanceof u.Z?(n.lastDrawType!==T&&(w=!0,n.lastDrawType=T),M(t,e,N,w,n),function(t,e,n){var r,i=n.text;if(null!=i&&(i+=""),i){t.font=n.font||f.Uo,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(o=(r=(0,h.a)(e))[0],a=r[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(g(n)&&t.strokeText(i,n.x,n.y),v(n)&&t.fillText(i,n.x,n.y)):(v(n)&&t.fillText(i,n.x,n.y),g(n)&&t.strokeText(i,n.x,n.y)),o&&t.setLineDash([])}}(t,e,j)):e instanceof l.ZP?(n.lastDrawType!==A&&(w=!0,n.lastDrawType=A),function(t,e,n,r,i){S(t,D(e,i.inHover),n&&D(n,i.inHover),r,i)}(t,e,N,w,n),function(t,e,n){var r=e.__image=(0,o.Gq)(n.image,e.__image,e,e.onload);if(r&&(0,o.v5)(r)){var i=n.x||0,a=n.y||0,s=e.getWidth(),l=e.getHeight(),u=r.width/r.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=r.width,l=r.height),n.sWidth&&n.sHeight){var c=n.sx||0,h=n.sy||0;t.drawImage(r,c,h,n.sWidth,n.sHeight,i,a,s,l)}else if(n.sx&&n.sy){var d=s-(c=n.sx),f=l-(h=n.sy);t.drawImage(r,c,h,d,f,i,a,s,l)}else t.drawImage(r,i,a,s,l)}}(t,e,j)):e.getTemporalDisplayables&&(n.lastDrawType!==I&&(w=!0,n.lastDrawType=I),function(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=r.length;o<a;o++){(c=r[o]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),O(t,c,s,o===a-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}for(var l=0,u=i.length;l<u;l++){var c;(c=i[l]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),O(t,c,s,l===u-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),R&&r&&C(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}},"./node_modules/zrender/lib/canvas/helper.js":function(t,e,n){"use strict";function r(t){return isFinite(t)}function i(t,e,n){for(var i="radial"===e.type?function(t,e,n){var i=n.width,o=n.height,a=Math.min(i,o),s=null==e.x?.5:e.x,l=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(s=s*i+n.x,l=l*o+n.y,u*=a),s=r(s)?s:.5,l=r(l)?l:.5,u=u>=0&&r(u)?u:.5,t.createRadialGradient(s,l,0,s,l,u)}(t,e,n):function(t,e,n){var i=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,s=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,s=s*n.height+n.y),i=r(i)?i:0,o=r(o)?o:1,a=r(a)?a:0,s=r(s)?s:0,t.createLinearGradient(i,a,o,s)}(t,e,n),o=e.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}function o(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function a(t){return parseInt(t,10)}function s(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=n[r]&&"auto"!==n[r])return parseFloat(n[r]);var l=document.defaultView.getComputedStyle(t);return(t[i]||a(l[r])||a(t.style[r]))-(a(l[o])||0)-(a(l[s])||0)|0}n.d(e,{ZF:function(){return i},ap:function(){return s},cF:function(){return o}})},"./node_modules/zrender/lib/config.js":function(t,e,n){"use strict";n.d(e,{Ak:function(){return o},GD:function(){return s},KL:function(){return i},iv:function(){return l},vU:function(){return a}});var r=1;n("./node_modules/zrender/lib/core/env.js").Z.hasGlobalWindow&&(r=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var i=r,o=.4,a="#333",s="#ccc",l="#eee"},"./node_modules/zrender/lib/contain/line.js":function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,l=0;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}n.d(e,{m:function(){return r}})},"./node_modules/zrender/lib/contain/quadratic.js":function(t,e,n){"use strict";n.d(e,{m:function(){return i}});var r=n("./node_modules/zrender/lib/core/curve.js");function i(t,e,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;return!(u>e+c&&u>i+c&&u>a+c||u<e-c&&u<i-c&&u<a-c||l>t+c&&l>n+c&&l>o+c||l<t-c&&l<n-c&&l<o-c)&&(0,r.Wr)(t,e,n,i,o,a,l,u,null)<=c/2}},"./node_modules/zrender/lib/contain/text.js":function(t,e,n){"use strict";n.d(e,{Dp:function(){return d},GM:function(){return f},M3:function(){return c},dz:function(){return s},lP:function(){return u},mU:function(){return h},wI:function(){return p}});var r=n("./node_modules/zrender/lib/core/BoundingRect.js"),i=n("./node_modules/zrender/lib/core/LRU.js"),o=n("./node_modules/zrender/lib/core/platform.js"),a={};function s(t,e){e=e||o.Uo;var n=a[e];n||(n=a[e]=new i.ZP(500));var r=n.get(t);return null==r&&(r=o.qW.measureText(t,e).width,n.put(t,r)),r}function l(t,e,n,i){var o=s(t,e),a=d(e),l=c(0,o,n),u=h(0,a,i);return new r.Z(l,u,o,a)}function u(t,e,n,i){var o=((t||"")+"").split("\n");if(1===o.length)return l(o[0],e,n,i);for(var a=new r.Z(0,0,0,0),s=0;s<o.length;s++){var u=l(o[s],e,n,i);0===s?a.copy(u):a.union(u)}return a}function c(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function h(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function d(t){return s("国",t)}function f(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function p(t,e,n){var r=e.position||"inside",i=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,c="left",h="top";if(r instanceof Array)l+=f(r[0],n.width),u+=f(r[1],n.height),c=null,h=null;else switch(r){case"left":l-=i,u+=s,c="right",h="middle";break;case"right":l+=i+a,u+=s,h="middle";break;case"top":l+=a/2,u-=i,c="center",h="bottom";break;case"bottom":l+=a/2,u+=o+i,c="center";break;case"inside":l+=a/2,u+=s,c="center",h="middle";break;case"insideLeft":l+=i,u+=s,h="middle";break;case"insideRight":l+=a-i,u+=s,c="right",h="middle";break;case"insideTop":l+=a/2,u+=i,c="center";break;case"insideBottom":l+=a/2,u+=o-i,c="center",h="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=a-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=o-i,h="bottom";break;case"insideBottomRight":l+=a-i,u+=o-i,c="right",h="bottom"}return(t=t||{}).x=l,t.y=u,t.align=c,t.verticalAlign=h,t}},"./node_modules/zrender/lib/contain/util.js":function(t,e,n){"use strict";n.d(e,{m:function(){return i}});var r=2*Math.PI;function i(t){return(t%=r)<0&&(t+=r),t}},"./node_modules/zrender/lib/contain/windingLine.js":function(t,e,n){"use strict";function r(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;1!==a&&0!==a||(s=r<e?.5:-.5);var l=a*(n-t)+t;return l===i?1/0:l>i?s:0}n.d(e,{Z:function(){return r}})},"./node_modules/zrender/lib/core/BoundingRect.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/matrix.js"),i=n("./node_modules/zrender/lib/core/Point.js"),o=Math.min,a=Math.max,s=new i.Z,l=new i.Z,u=new i.Z,c=new i.Z,h=new i.Z,d=new i.Z,f=function(){function t(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.union=function(t){var e=o(t.x,this.x),n=o(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=a(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=a(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,o=r.Ue();return r.Iu(o,o,[-e.x,-e.y]),r.bA(o,o,[n,i]),r.Iu(o,o,[t.x,t.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,o=r.x,a=r.x+r.width,s=r.y,l=r.y+r.height,u=e.x,c=e.x+e.width,f=e.y,p=e.y+e.height,g=!(a<u||c<o||l<f||p<s);if(n){var m=1/0,v=0,y=Math.abs(a-u),b=Math.abs(c-o),x=Math.abs(l-f),_=Math.abs(p-s),w=Math.min(y,b),S=Math.min(x,_);a<u||c<o?w>v&&(v=w,y<b?i.Z.set(d,-y,0):i.Z.set(d,b,0)):w<m&&(m=w,y<b?i.Z.set(h,y,0):i.Z.set(h,-b,0)),l<f||p<s?S>v&&(v=S,x<_?i.Z.set(d,0,-x):i.Z.set(d,0,_)):w<m&&(m=w,x<_?i.Z.set(h,0,x):i.Z.set(h,0,-_))}return n&&i.Z.copy(n,g?h:d),g},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],h=r[3],d=r[4],f=r[5];return e.x=n.x*i+d,e.y=n.y*h+f,e.width=n.width*i,e.height=n.height*h,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}s.x=u.x=n.x,s.y=c.y=n.y,l.x=c.x=n.x+n.width,l.y=u.y=n.y+n.height,s.transform(r),c.transform(r),l.transform(r),u.transform(r),e.x=o(s.x,l.x,u.x,c.x),e.y=o(s.y,l.y,u.y,c.y);var p=a(s.x,l.x,u.x,c.x),g=a(s.y,l.y,u.y,c.y);e.width=p-e.x,e.height=g-e.y}else e!==n&&t.copy(e,n)},t}();e.Z=f},"./node_modules/zrender/lib/core/Eventful.js":function(t,e){"use strict";var n=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"==typeof e&&(r=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),i[t]||(i[t]=[]);for(var a=0;a<i[t].length;a++)if(i[t][a].h===n)return this;var s={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},l=i[t].length-1,u=i[t][l];return u&&u.callAtLast?i[t].splice(l,0,s):i[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=r.length,s=0;s<a;s++){var l=r[s];if(!i||!i.filter||null==l.query||i.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=e[o-1],s=r.length,l=0;l<s;l++){var u=r[l];if(!i||!i.filter||null==u.query||i.filter(t,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,e[0]);break;case 2:u.h.call(a,e[0],e[1]);break;default:u.h.apply(a,e.slice(1,o-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}();e.Z=n},"./node_modules/zrender/lib/core/LRU.js":function(t,e,n){"use strict";var r=function(t){this.value=t},i=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new r(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),o=function(){function t(t){this._list=new i,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,i=this._map,o=null;if(null==i[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new r(e),s.key=t,n.insertEntry(s),i[t]=s}return o},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();e.ZP=o},"./node_modules/zrender/lib/core/OrientedBoundingRect.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/lib/core/Point.js"),i=[0,0],o=[0,0],a=new r.Z,s=new r.Z,l=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new r.Z;for(n=0;n<2;n++)this._axes[n]=new r.Z;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(n[0].set(o,a),n[1].set(s,a),n[2].set(s,l),n[3].set(o,l),e)for(var u=0;u<4;u++)n[u].transform(e);r.Z.sub(i[0],n[1],n[0]),r.Z.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,i=!e;return a.set(1/0,1/0),s.set(0,0),!this._intersectCheckOneSide(this,t,a,s,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,a,s,i,-1)&&(n=!1,i)||i||r.Z.copy(e,n?a:s),n},t.prototype._intersectCheckOneSide=function(t,e,n,a,s,l){for(var u=!0,c=0;c<2;c++){var h=this._axes[c];if(this._getProjMinMaxOnAxis(c,t._corners,i),this._getProjMinMaxOnAxis(c,e._corners,o),i[1]<o[0]||i[0]>o[1]){if(u=!1,s)return u;var d=Math.abs(o[0]-i[1]),f=Math.abs(i[0]-o[1]);Math.min(d,f)>a.len()&&(d<f?r.Z.scale(a,h,-d*l):r.Z.scale(a,h,f*l))}else if(n){d=Math.abs(o[0]-i[1]),f=Math.abs(i[0]-o[1]);Math.min(d,f)<n.len()&&(d<f?r.Z.scale(n,h,d*l):r.Z.scale(n,h,-f*l))}}return u},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],i=this._origin,o=e[0].dot(r)+i[t],a=o,s=o,l=1;l<e.length;l++){var u=e[l].dot(r)+i[t];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},t}();e.Z=l},"./node_modules/zrender/lib/core/PathProxy.js":function(t,e,n){"use strict";n.d(e,{L:function(){return k}});var r=n("./node_modules/zrender/lib/core/vector.js"),i=n("./node_modules/zrender/lib/core/BoundingRect.js"),o=n("./node_modules/zrender/lib/config.js"),a=n("./node_modules/zrender/lib/core/bbox.js"),s=n("./node_modules/zrender/lib/core/curve.js"),l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],c=[],h=[],d=[],f=[],p=[],g=Math.min,m=Math.max,v=Math.cos,y=Math.sin,b=Math.abs,x=Math.PI,_=2*x,w="undefined"!=typeof Float32Array,S=[];function M(t){return Math.round(t/x*1e8)/1e8%2*x}function k(t,e){var n=M(t[0]);n<0&&(n+=_);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=_?i=n+_:e&&n-i>=_?i=n-_:!e&&n>i?i=n+(_-M(n-i)):e&&n<i&&(i=n-(_-M(i-n))),t[0]=n,t[1]=i}var E=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=b(n/o.KL/t)||0,this._uy=b(n/o.KL/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=b(t-this._xi),r=b(e-this._yi),i=n>this._ux||r>this._uy;if(this.addData(l.L,t,e),this._ctx&&i&&this._ctx.lineTo(t,e),i)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._drawPendingPt(),this.addData(l.C,t,e,n,r,i,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,i,o),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(l.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},t.prototype.arc=function(t,e,n,r,i,o){this._drawPendingPt(),S[0]=r,S[1]=i,k(S,o),r=S[0];var a=(i=S[1])-r;return this.addData(l.A,t,e,n,n,r,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=v(i)*n+t,this._yi=y(i)*n+e,this},t.prototype.arcTo=function(t,e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},t.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(l.R,t,e,n,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(l.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!w||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();w&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},t.prototype.addData=function(t,e,n,r,i,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,w&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){h[0]=h[1]=f[0]=f[1]=Number.MAX_VALUE,d[0]=d[1]=p[0]=p[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,o=0,s=0,u=0;for(t=0;t<this._len;){var c=e[t++],g=1===t;switch(g&&(s=n=e[t],u=o=e[t+1]),c){case l.M:n=s=e[t++],o=u=e[t++],f[0]=s,f[1]=u,p[0]=s,p[1]=u;break;case l.L:(0,a.u4)(n,o,e[t],e[t+1],f,p),n=e[t++],o=e[t++];break;case l.C:(0,a.H9)(n,o,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],f,p),n=e[t++],o=e[t++];break;case l.Q:(0,a.mJ)(n,o,e[t++],e[t++],e[t],e[t+1],f,p),n=e[t++],o=e[t++];break;case l.A:var m=e[t++],b=e[t++],x=e[t++],_=e[t++],w=e[t++],S=e[t++]+w;t+=1;var M=!e[t++];g&&(s=v(w)*x+m,u=y(w)*_+b),(0,a.qL)(m,b,x,_,w,S,M,f,p),n=v(S)*x+m,o=y(S)*_+b;break;case l.R:s=n=e[t++],u=o=e[t++];var k=e[t++],E=e[t++];(0,a.u4)(s,u,s+k,u+E,f,p);break;case l.Z:n=s,o=u}r.VV(h,h,f),r.Fp(d,d,p)}return 0===t&&(h[0]=h[1]=d[0]=d[1]=0),new i.Z(h[0],h[1],d[0]-h[0],d[1]-h[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,i=0,o=0,a=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,h=0,d=0,f=0;f<e;){var p=t[f++],x=1===f;x&&(a=i=t[f],u=o=t[f+1]);var w=-1;switch(p){case l.M:i=a=t[f++],o=u=t[f++];break;case l.L:var S=t[f++],M=(A=t[f++])-o;(b(j=S-i)>n||b(M)>r||f===e-1)&&(w=Math.sqrt(j*j+M*M),i=S,o=A);break;case l.C:var k=t[f++],E=t[f++],A=(S=t[f++],t[f++]),T=t[f++],I=t[f++];w=(0,s.Ci)(i,o,k,E,S,A,T,I,10),i=T,o=I;break;case l.Q:k=t[f++],E=t[f++],S=t[f++],A=t[f++];w=(0,s.wQ)(i,o,k,E,S,A,10),i=S,o=A;break;case l.A:var C=t[f++],D=t[f++],N=t[f++],O=t[f++],L=t[f++],P=t[f++],R=P+L;f+=1;t[f++];x&&(a=v(L)*N+C,u=y(L)*O+D),w=m(N,O)*g(_,Math.abs(P)),i=v(R)*N+C,o=y(R)*O+D;break;case l.R:a=i=t[f++],u=o=t[f++],w=2*t[f++]+2*t[f++];break;case l.Z:var j=a-i;M=u-o;w=Math.sqrt(j*j+M*M),i=a,o=u}w>=0&&(c[d++]=w,h+=w)}return this._pathLen=h,h},t.prototype.rebuildPath=function(t,e){var n,r,i,o,a,h,d,f,p,x,_=this.data,w=this._ux,S=this._uy,M=this._len,k=e<1,E=0,A=0,T=0;if(!k||(this._pathSegLen||this._calculateLength(),d=this._pathSegLen,f=e*this._pathLen))t:for(var I=0;I<M;){var C=_[I++],D=1===I;switch(D&&(n=i=_[I],r=o=_[I+1]),C!==l.L&&T>0&&(t.lineTo(p,x),T=0),C){case l.M:n=i=_[I++],r=o=_[I++],t.moveTo(i,o);break;case l.L:a=_[I++],h=_[I++];var N=b(a-i),O=b(h-o);if(N>w||O>S){if(k){if(E+(rt=d[A++])>f){var L=(f-E)/rt;t.lineTo(i*(1-L)+a*L,o*(1-L)+h*L);break t}E+=rt}t.lineTo(a,h),i=a,o=h,T=0}else{var P=N*N+O*O;P>T&&(p=a,x=h,T=P)}break;case l.C:var R=_[I++],j=_[I++],z=_[I++],B=_[I++],F=_[I++],G=_[I++];if(k){if(E+(rt=d[A++])>f){L=(f-E)/rt;(0,s.Vz)(i,R,z,F,L,u),(0,s.Vz)(o,j,B,G,L,c),t.bezierCurveTo(u[1],c[1],u[2],c[2],u[3],c[3]);break t}E+=rt}t.bezierCurveTo(R,j,z,B,F,G),i=F,o=G;break;case l.Q:R=_[I++],j=_[I++],z=_[I++],B=_[I++];if(k){if(E+(rt=d[A++])>f){L=(f-E)/rt;(0,s.Lx)(i,R,z,L,u),(0,s.Lx)(o,j,B,L,c),t.quadraticCurveTo(u[1],c[1],u[2],c[2]);break t}E+=rt}t.quadraticCurveTo(R,j,z,B),i=z,o=B;break;case l.A:var V=_[I++],Z=_[I++],U=_[I++],H=_[I++],W=_[I++],Y=_[I++],X=_[I++],q=!_[I++],K=U>H?U:H,$=b(U-H)>.001,J=W+Y,Q=!1;if(k)E+(rt=d[A++])>f&&(J=W+Y*(f-E)/rt,Q=!0),E+=rt;if($&&t.ellipse?t.ellipse(V,Z,U,H,X,W,J,q):t.arc(V,Z,K,W,J,q),Q)break t;D&&(n=v(W)*U+V,r=y(W)*H+Z),i=v(J)*U+V,o=y(J)*H+Z;break;case l.R:n=i=_[I],r=o=_[I+1],a=_[I++],h=_[I++];var tt=_[I++],et=_[I++];if(k){if(E+(rt=d[A++])>f){var nt=f-E;t.moveTo(a,h),t.lineTo(a+g(nt,tt),h),(nt-=tt)>0&&t.lineTo(a+tt,h+g(nt,et)),(nt-=et)>0&&t.lineTo(a+m(tt-nt,0),h+et),(nt-=tt)>0&&t.lineTo(a,h+m(et-nt,0));break t}E+=rt}t.rect(a,h,tt,et);break;case l.Z:if(k){var rt;if(E+(rt=d[A++])>f){L=(f-E)/rt;t.lineTo(i*(1-L)+n*L,o*(1-L)+r*L);break t}E+=rt}t.closePath(),i=n,o=r}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=l,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}();e.Z=E},"./node_modules/zrender/lib/core/Point.js":function(t,e){"use strict";var n=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},t.lerp=function(t,e,n,r){var i=1-r;t.x=i*e.x+r*n.x,t.y=i*e.y+r*n.y},t}();e.Z=n},"./node_modules/zrender/lib/core/Transformable.js":function(t,e,n){"use strict";n.d(e,{dN:function(){return f},kY:function(){return p}});var r=n("./node_modules/zrender/lib/core/matrix.js"),i=n("./node_modules/zrender/lib/core/vector.js"),o=r.yR,a=5e-5;function s(t){return t>a||t<-5e-5}var l=[],u=[],c=r.Ue(),h=Math.abs,d=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return s(this.rotation)||s(this.x)||s(this.y)||s(this.scaleX-1)||s(this.scaleY-1)||s(this.skewX)||s(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||r.Ue(),e?this.getLocalTransform(n):o(n),t&&(e?r.dC(n,t,n):r.JG(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(o(n),this.invTransform=null)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(l);var n=l[0]<0?-1:1,i=l[1]<0?-1:1,o=((l[0]-n)*e+n)/l[0]||0,a=((l[1]-i)*e+i)/l[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||r.Ue(),r.U_(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),i=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(i),e=Math.sqrt(e),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.dC(u,t.invTransform,e),e=u);var n=this.originX,i=this.originY;(n||i)&&(c[4]=n,c[5]=i,r.dC(u,e,c),u[4]-=n,u[5]-=i,e=u),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&i.Ne(n,n,r),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&i.Ne(n,n,r),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&h(t[0]-1)>1e-10&&h(t[3]-1)>1e-10?Math.sqrt(h(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){p(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,h=t.y,d=t.skewX?Math.tan(t.skewX):0,f=t.skewY?Math.tan(-t.skewY):0;if(n||i||s||l){var p=n+s,g=i+l;e[4]=-p*o-d*g*a,e[5]=-g*a-f*p*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=f*o,e[2]=d*a,u&&r.U1(e,e,u),e[4]+=n+c,e[5]+=i+h,e},t.initDefaultProps=((e=t.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),t}(),f=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function p(t,e){for(var n=0;n<f.length;n++){var r=f[n];t[r]=e[r]}}e.ZP=d},"./node_modules/zrender/lib/core/bbox.js":function(t,e,n){"use strict";n.d(e,{H9:function(){return v},mJ:function(){return y},qL:function(){return b},u4:function(){return p},zk:function(){return f}});var r=n("./node_modules/zrender/lib/core/vector.js"),i=n("./node_modules/zrender/lib/core/curve.js"),o=Math.min,a=Math.max,s=Math.sin,l=Math.cos,u=2*Math.PI,c=r.Ue(),h=r.Ue(),d=r.Ue();function f(t,e,n){if(0!==t.length){for(var r=t[0],i=r[0],s=r[0],l=r[1],u=r[1],c=1;c<t.length;c++)r=t[c],i=o(i,r[0]),s=a(s,r[0]),l=o(l,r[1]),u=a(u,r[1]);e[0]=i,e[1]=l,n[0]=s,n[1]=u}}function p(t,e,n,r,i,s){i[0]=o(t,n),i[1]=o(e,r),s[0]=a(t,n),s[1]=a(e,r)}var g=[],m=[];function v(t,e,n,r,s,l,u,c,h,d){var f=i.pP,p=i.af,v=f(t,n,s,u,g);h[0]=1/0,h[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var y=0;y<v;y++){var b=p(t,n,s,u,g[y]);h[0]=o(b,h[0]),d[0]=a(b,d[0])}v=f(e,r,l,c,m);for(y=0;y<v;y++){var x=p(e,r,l,c,m[y]);h[1]=o(x,h[1]),d[1]=a(x,d[1])}h[0]=o(t,h[0]),d[0]=a(t,d[0]),h[0]=o(u,h[0]),d[0]=a(u,d[0]),h[1]=o(e,h[1]),d[1]=a(e,d[1]),h[1]=o(c,h[1]),d[1]=a(c,d[1])}function y(t,e,n,r,s,l,u,c){var h=i.QC,d=i.Zm,f=a(o(h(t,n,s),1),0),p=a(o(h(e,r,l),1),0),g=d(t,n,s,f),m=d(e,r,l,p);u[0]=o(t,s,g),u[1]=o(e,l,m),c[0]=a(t,s,g),c[1]=a(e,l,m)}function b(t,e,n,i,o,a,f,p,g){var m=r.VV,v=r.Fp,y=Math.abs(o-a);if(y%u<1e-4&&y>1e-4)return p[0]=t-n,p[1]=e-i,g[0]=t+n,void(g[1]=e+i);if(c[0]=l(o)*n+t,c[1]=s(o)*i+e,h[0]=l(a)*n+t,h[1]=s(a)*i+e,m(p,c,h),v(g,c,h),(o%=u)<0&&(o+=u),(a%=u)<0&&(a+=u),o>a&&!f?a+=u:o<a&&f&&(o+=u),f){var b=a;a=o,o=b}for(var x=0;x<a;x+=Math.PI/2)x>o&&(d[0]=l(x)*n+t,d[1]=s(x)*i+e,m(p,d,p),v(g,d,g))}},"./node_modules/zrender/lib/core/curve.js":function(t,e,n){"use strict";n.d(e,{AZ:function(){return S},Ci:function(){return _},Jz:function(){return M},Lx:function(){return E},QC:function(){return k},Vz:function(){return b},Wr:function(){return A},X_:function(){return m},Zm:function(){return w},af:function(){return g},kD:function(){return v},pP:function(){return y},t1:function(){return x},wQ:function(){return T}});var r=n("./node_modules/zrender/lib/core/vector.js"),i=Math.pow,o=Math.sqrt,a=1e-8,s=1e-4,l=o(3),u=1/3,c=(0,r.Ue)(),h=(0,r.Ue)(),d=(0,r.Ue)();function f(t){return t>-a&&t<a}function p(t){return t>a||t<-a}function g(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function m(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function v(t,e,n,r,a,s){var c=r+3*(e-n)-t,h=3*(n-2*e+t),d=3*(e-t),p=t-a,g=h*h-3*c*d,m=h*d-9*c*p,v=d*d-3*h*p,y=0;if(f(g)&&f(m)){if(f(h))s[0]=0;else(I=-d/h)>=0&&I<=1&&(s[y++]=I)}else{var b=m*m-4*g*v;if(f(b)){var x=m/g,_=-x/2;(I=-h/c+x)>=0&&I<=1&&(s[y++]=I),_>=0&&_<=1&&(s[y++]=_)}else if(b>0){var w=o(b),S=g*h+1.5*c*(-m+w),M=g*h+1.5*c*(-m-w);(I=(-h-((S=S<0?-i(-S,u):i(S,u))+(M=M<0?-i(-M,u):i(M,u))))/(3*c))>=0&&I<=1&&(s[y++]=I)}else{var k=(2*g*h-3*c*m)/(2*o(g*g*g)),E=Math.acos(k)/3,A=o(g),T=Math.cos(E),I=(-h-2*A*T)/(3*c),C=(_=(-h+A*(T+l*Math.sin(E)))/(3*c),(-h+A*(T-l*Math.sin(E)))/(3*c));I>=0&&I<=1&&(s[y++]=I),_>=0&&_<=1&&(s[y++]=_),C>=0&&C<=1&&(s[y++]=C)}}return y}function y(t,e,n,r,i){var a=6*n-12*e+6*t,s=9*e+3*r-3*t-9*n,l=3*e-3*t,u=0;if(f(s)){if(p(a))(h=-l/a)>=0&&h<=1&&(i[u++]=h)}else{var c=a*a-4*s*l;if(f(c))i[0]=-a/(2*s);else if(c>0){var h,d=o(c),g=(-a-d)/(2*s);(h=(-a+d)/(2*s))>=0&&h<=1&&(i[u++]=h),g>=0&&g<=1&&(i[u++]=g)}}return u}function b(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,u=(s-a)*i+a,c=(l-s)*i+s,h=(c-u)*i+u;o[0]=t,o[1]=a,o[2]=u,o[3]=h,o[4]=h,o[5]=c,o[6]=l,o[7]=r}function x(t,e,n,i,a,l,u,f,p,m,v){var y,b,x,_,w,S=.005,M=1/0;c[0]=p,c[1]=m;for(var k=0;k<1;k+=.05)h[0]=g(t,n,a,u,k),h[1]=g(e,i,l,f,k),(_=(0,r.WU)(c,h))<M&&(y=k,M=_);M=1/0;for(var E=0;E<32&&!(S<s);E++)b=y-S,x=y+S,h[0]=g(t,n,a,u,b),h[1]=g(e,i,l,f,b),_=(0,r.WU)(h,c),b>=0&&_<M?(y=b,M=_):(d[0]=g(t,n,a,u,x),d[1]=g(e,i,l,f,x),w=(0,r.WU)(d,c),x<=1&&w<M?(y=x,M=w):S*=.5);return v&&(v[0]=g(t,n,a,u,y),v[1]=g(e,i,l,f,y)),o(M)}function _(t,e,n,r,i,o,a,s,l){for(var u=t,c=e,h=0,d=1/l,f=1;f<=l;f++){var p=f*d,m=g(t,n,i,a,p),v=g(e,r,o,s,p),y=m-u,b=v-c;h+=Math.sqrt(y*y+b*b),u=m,c=v}return h}function w(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function S(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function M(t,e,n,r,i){var a=t-2*e+n,s=2*(e-t),l=t-r,u=0;if(f(a)){if(p(s))(h=-l/s)>=0&&h<=1&&(i[u++]=h)}else{var c=s*s-4*a*l;if(f(c))(h=-s/(2*a))>=0&&h<=1&&(i[u++]=h);else if(c>0){var h,d=o(c),g=(-s-d)/(2*a);(h=(-s+d)/(2*a))>=0&&h<=1&&(i[u++]=h),g>=0&&g<=1&&(i[u++]=g)}}return u}function k(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function E(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function A(t,e,n,i,a,l,u,f,p){var g,m=.005,v=1/0;c[0]=u,c[1]=f;for(var y=0;y<1;y+=.05){h[0]=w(t,n,a,y),h[1]=w(e,i,l,y),(S=(0,r.WU)(c,h))<v&&(g=y,v=S)}v=1/0;for(var b=0;b<32&&!(m<s);b++){var x=g-m,_=g+m;h[0]=w(t,n,a,x),h[1]=w(e,i,l,x);var S=(0,r.WU)(h,c);if(x>=0&&S<v)g=x,v=S;else{d[0]=w(t,n,a,_),d[1]=w(e,i,l,_);var M=(0,r.WU)(d,c);_<=1&&M<v?(g=_,v=M):m*=.5}}return p&&(p[0]=w(t,n,a,g),p[1]=w(e,i,l,g)),o(v)}function T(t,e,n,r,i,o,a){for(var s=t,l=e,u=0,c=1/a,h=1;h<=a;h++){var d=h*c,f=w(t,n,i,d),p=w(e,r,o,d),g=f-s,m=p-l;u+=Math.sqrt(g*g+m*m),s=f,l=p}return u}},"./node_modules/zrender/lib/core/dom.js":function(t,e,n){"use strict";n.d(e,{F1:function(){return p},UK:function(){return h},A4:function(){return c},YB:function(){return u}});var r=n("./node_modules/zrender/lib/core/env.js"),i=Math.log(2);function o(t,e,n,r,a,s){var l=r+"-"+a,u=t.length;if(s.hasOwnProperty(l))return s[l];if(1===e){var c=Math.round(Math.log((1<<u)-1&~a)/i);return t[n][c]}for(var h=r|1<<n,d=n+1;r&1<<d;)d++;for(var f=0,p=0,g=0;p<u;p++){var m=1<<p;m&a||(f+=(g%2?-1:1)*t[n][p]*o(t,e-1,d,h,a|m,s),g++)}return s[l]=f,f}function a(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=o(n,8,0,0,0,r);if(0!==i){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*o(n,7,0===s?1:0,1<<s,1<<l,r)/i*e[s];return function(t,e,n){var r=e*a[6]+n*a[7]+1;t[0]=(e*a[0]+n*a[1]+a[2])/r,t[1]=(e*a[3]+n*a[4]+a[5])/r}}}var s="___zrEVENTSAVED",l=[];function u(t,e,n,r,i){return c(l,e,r,i,!0)&&c(t,n,l[0],l[1])}function c(t,e,n,i,o){if(e.getBoundingClientRect&&r.Z.domSupported&&!h(e)){var l=e[s]||(e[s]={}),u=function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[s]+":0",i[l]+":0",r[1-s]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,l),c=function(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],o=e.srcCoords,s=[],l=[],u=!0,c=0;c<4;c++){var h=t[c].getBoundingClientRect(),d=2*c,f=h.left,p=h.top;s.push(f,p),u=u&&o&&f===o[d]&&p===o[d+1],l.push(t[c].offsetLeft,t[c].offsetTop)}return u&&i?i:(e.srcCoords=s,e[r]=n?a(l,s):a(s,l))}(u,l,o);if(c)return c(t,n,i),!0}return!1}function h(t){return"CANVAS"===t.nodeName.toUpperCase()}var d=/([&<>"'])/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function p(t){return null==t?"":(t+"").replace(d,(function(t,e){return f[e]}))}},"./node_modules/zrender/lib/core/env.js":function(t,e){"use strict";var n=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},r=new function(){this.browser=new n,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(r.wxa=!0,r.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?r.worker=!0:"undefined"==typeof navigator?(r.node=!0,r.svgSupported=!0):function(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]);i&&(n.ie=!0,n.version=i[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,r),e.Z=r},"./node_modules/zrender/lib/core/event.js":function(t,e,n){"use strict";n.d(e,{OD:function(){return h},Oo:function(){return d},eV:function(){return l},iP:function(){return c},sT:function(){return p},x1:function(){return g},xg:function(){return f}});var r=n("./node_modules/zrender/lib/core/env.js"),i=n("./node_modules/zrender/lib/core/dom.js"),o=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,a=[],s=r.Z.browser.firefox&&+r.Z.browser.version.split(".")[0]<39;function l(t,e,n,r){return n=n||{},r?u(t,e,n):s&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):u(t,e,n),n}function u(t,e,n){if(r.Z.domSupported&&t.getBoundingClientRect){var o=e.clientX,s=e.clientY;if((0,i.UK)(t)){var l=t.getBoundingClientRect();return n.zrX=o-l.left,void(n.zrY=s-l.top)}if((0,i.A4)(a,t,o,s))return n.zrX=a[0],void(n.zrY=a[1])}n.zrX=n.zrY=0}function c(t){return t||window.event}function h(t,e,n){if(null!=(e=c(e)).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];i&&l(t,i,e,n)}else{l(t,e,e,n);var a=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(null==n||null==r)return e;return 3*(0!==r?Math.abs(r):Math.abs(n))*(r>0?-1:r<0?1:n>0?-1:1)}(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&o.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function d(t,e,n,r){t.addEventListener(e,n,r)}function f(t,e,n,r){t.removeEventListener(e,n,r)}var p=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function g(t){return 2===t.which||3===t.which}},"./node_modules/zrender/lib/core/matrix.js":function(t,e,n){"use strict";function r(){return[1,0,0,1,0,0]}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function l(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*u,t[1]=-r*u+a*c,t[2]=i*c+s*u,t[3]=-i*u+c*s,t[4]=c*o+u*l,t[5]=c*l-u*o,t}function u(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function c(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*r;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-a*i)*l,t[5]=(o*i-n*s)*l,t):null}function h(t){var e=[1,0,0,1,0,0];return o(e,t),e}n.d(e,{Iu:function(){return s},JG:function(){return o},U1:function(){return l},U_:function(){return c},Ue:function(){return r},bA:function(){return u},d9:function(){return h},dC:function(){return a},yR:function(){return i}})},"./node_modules/zrender/lib/core/platform.js":function(t,e,n){"use strict";n.d(e,{Uo:function(){return o},n5:function(){return r},qW:function(){return u},rk:function(){return i}});var r=12,i="sans-serif",o=r+"px "+i;var a,s,l=function(t){var e={};if("undefined"==typeof JSON)return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-20)/100;e[r]=i}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),u={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,e){if(!a){var n=u.createCanvas();a=n&&n.getContext("2d")}if(a)return s!==e&&(s=a.font=e||o),a.measureText(t);t=t||"";var i=/(\d+)px/.exec(e=e||o),c=i&&+i[1]||r,h=0;if(e.indexOf("mono")>=0)h=c*t.length;else for(var d=0;d<t.length;d++){var f=l[t[d]];h+=null==f?c:f*c}return{width:h}},loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}}},"./node_modules/zrender/lib/core/timsort.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=32,i=7;function o(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){n--;for(;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function a(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,l=r;s<l;)i(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=r-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function s(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])>0){for(s=r-i;l<s&&o(t,e[n+i+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(t,e[n+i-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])>0?a=c+1:l=c}return l}function l(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])<0){for(s=i+1;l<s&&o(t,e[n+i-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=r-i;l<s&&o(t,e[n+i+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])<0?l=c:a=c+1}return l}function u(t,e){var n,r,o,a=i,u=0;n=t.length;var c=[];function h(n){var h=r[n],d=o[n],f=r[n+1],p=o[n+1];o[n]=d+p,n===u-3&&(r[n+1]=r[n+2],o[n+1]=o[n+2]),u--;var g=l(t[f],t,h,d,0,e);h+=g,0!==(d-=g)&&0!==(p=s(t[h+d-1],t,f,p,p-1,e))&&(d<=p?function(n,r,o,u){var h=0;for(h=0;h<r;h++)c[h]=t[n+h];var d=0,f=o,p=n;if(t[p++]=t[f++],0==--u){for(h=0;h<r;h++)t[p+h]=c[d+h];return}if(1===r){for(h=0;h<u;h++)t[p+h]=t[f+h];return void(t[p+u]=c[d])}var g,m,v,y=a;for(;;){g=0,m=0,v=!1;do{if(e(t[f],c[d])<0){if(t[p++]=t[f++],m++,g=0,0==--u){v=!0;break}}else if(t[p++]=c[d++],g++,m=0,1==--r){v=!0;break}}while((g|m)<y);if(v)break;do{if(0!==(g=l(t[f],c,d,r,0,e))){for(h=0;h<g;h++)t[p+h]=c[d+h];if(p+=g,d+=g,(r-=g)<=1){v=!0;break}}if(t[p++]=t[f++],0==--u){v=!0;break}if(0!==(m=s(c[d],t,f,u,0,e))){for(h=0;h<m;h++)t[p+h]=t[f+h];if(p+=m,f+=m,0===(u-=m)){v=!0;break}}if(t[p++]=c[d++],1==--r){v=!0;break}y--}while(g>=i||m>=i);if(v)break;y<0&&(y=0),y+=2}if((a=y)<1&&(a=1),1===r){for(h=0;h<u;h++)t[p+h]=t[f+h];t[p+u]=c[d]}else{if(0===r)throw new Error;for(h=0;h<r;h++)t[p+h]=c[d+h]}}(h,d,f,p):function(n,r,o,u){var h=0;for(h=0;h<u;h++)c[h]=t[o+h];var d=n+r-1,f=u-1,p=o+u-1,g=0,m=0;if(t[p--]=t[d--],0==--r){for(g=p-(u-1),h=0;h<u;h++)t[g+h]=c[h];return}if(1===u){for(m=(p-=r)+1,g=(d-=r)+1,h=r-1;h>=0;h--)t[m+h]=t[g+h];return void(t[p]=c[f])}var v=a;for(;;){var y=0,b=0,x=!1;do{if(e(c[f],t[d])<0){if(t[p--]=t[d--],y++,b=0,0==--r){x=!0;break}}else if(t[p--]=c[f--],b++,y=0,1==--u){x=!0;break}}while((y|b)<v);if(x)break;do{if(0!==(y=r-l(c[f],t,n,r,r-1,e))){for(r-=y,m=(p-=y)+1,g=(d-=y)+1,h=y-1;h>=0;h--)t[m+h]=t[g+h];if(0===r){x=!0;break}}if(t[p--]=c[f--],1==--u){x=!0;break}if(0!==(b=u-s(t[d],c,0,u,u-1,e))){for(u-=b,m=(p-=b)+1,g=(f-=b)+1,h=0;h<b;h++)t[m+h]=c[g+h];if(u<=1){x=!0;break}}if(t[p--]=t[d--],0==--r){x=!0;break}v--}while(y>=i||b>=i);if(x)break;v<0&&(v=0),v+=2}(a=v)<1&&(a=1);if(1===u){for(m=(p-=r)+1,g=(d-=r)+1,h=r-1;h>=0;h--)t[m+h]=t[g+h];t[p]=c[f]}else{if(0===u)throw new Error;for(g=p-(u-1),h=0;h<u;h++)t[g+h]=c[h]}}(h,d,f,p))}return n<120?5:n<1542?10:n<119151?19:40,r=[],o=[],{mergeRuns:function(){for(;u>1;){var t=u-2;if(t>=1&&o[t-1]<=o[t]+o[t+1]||t>=2&&o[t-2]<=o[t]+o[t-1])o[t-1]<o[t+1]&&t--;else if(o[t]>o[t+1])break;h(t)}},forceMergeRuns:function(){for(;u>1;){var t=u-2;t>0&&o[t-1]<o[t+1]&&t--,h(t)}},pushRun:function(t,e){r[u]=t,o[u]=e,u+=1}}}function c(t,e,n,i){n||(n=0),i||(i=t.length);var s=i-n;if(!(s<2)){var l=0;if(s<r)a(t,n,i,n+(l=o(t,n,i,e)),e);else{var c=u(t,e),h=function(t){for(var e=0;t>=r;)e|=1&t,t>>=1;return t+e}(s);do{if((l=o(t,n,i,e))<h){var d=s;d>h&&(d=h),a(t,n,n+d,n+l,e),l=d}c.pushRun(n,l),c.mergeRuns(),s-=l,n+=l}while(0!==s);c.forceMergeRuns()}}}},"./node_modules/zrender/lib/core/util.js":function(t,e,n){"use strict";n.d(e,{$j:function(){return ct},Bu:function(){return Y},H:function(){return v},HD:function(){return j},I3:function(){return ft},Jn:function(){return x},Jv:function(){return X},Kj:function(){return W},Kn:function(){return F},M8:function(){return m},MY:function(){return J},Mh:function(){return Z},Qq:function(){return U},R1:function(){return K},RI:function(){return ht},S6:function(){return A},TS:function(){return b},UI:function(){return T},WA:function(){return L},WW:function(){return lt},XP:function(){return N},XW:function(){return M},ZT:function(){return dt},ak:function(){return O},cd:function(){return z},ce:function(){return w},cq:function(){return S},d9:function(){return y},dL:function(){return H},fU:function(){return V},fy:function(){return tt},hX:function(){return C},hj:function(){return B},hu:function(){return Q},jB:function(){return k},kJ:function(){return P},kW:function(){return st},l7:function(){return _},mf:function(){return R},nW:function(){return ut},pD:function(){return q},s7:function(){return nt},sE:function(){return D},tP:function(){return $},u4:function(){return I},zG:function(){return E}});var r=n("./node_modules/zrender/lib/core/platform.js"),i=I(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(t,e){return t["[object "+e+"]"]=!0,t}),{}),o=I(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(t,e){return t["[object "+e+"Array]"]=!0,t}),{}),a=Object.prototype.toString,s=Array.prototype,l=s.forEach,u=s.filter,c=s.slice,h=s.map,d=function(){}.constructor,f=d?d.prototype:null,p="__proto__",g=2311;function m(){return g++}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}function y(t){if(null==t||"object"!=typeof t)return t;var e=t,n=a.call(t);if("[object Array]"===n){if(!rt(t)){e=[];for(var r=0,s=t.length;r<s;r++)e[r]=y(t[r])}}else if(o[n]){if(!rt(t)){var l=t.constructor;if(l.from)e=l.from(t);else{e=new l(t.length);for(r=0,s=t.length;r<s;r++)e[r]=t[r]}}}else if(!i[n]&&!rt(t)&&!Z(t))for(var u in e={},t)t.hasOwnProperty(u)&&u!==p&&(e[u]=y(t[u]));return e}function b(t,e,n){if(!F(e)||!F(t))return n?y(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==p){var i=t[r],o=e[r];!F(o)||!F(i)||P(o)||P(i)||Z(o)||Z(i)||G(o)||G(i)||rt(o)||rt(i)?!n&&r in t||(t[r]=y(e[r])):b(i,o,n)}return t}function x(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=b(n,t[r],e);return n}function _(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==p&&(t[n]=e[n]);return t}function w(t,e,n){for(var r=N(e),i=0;i<r.length;i++){var o=r[i];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}r.qW.createCanvas;function S(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function M(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function k(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else w(t,e,n)}function E(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function A(t,e,n){if(t&&e)if(t.forEach&&t.forEach===l)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function T(t,e,n){if(!t)return[];if(!e)return $(t);if(t.map&&t.map===h)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}function I(t,e,n,r){if(t&&e){for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function C(t,e,n){if(!t)return[];if(!e)return $(t);if(t.filter&&t.filter===u)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function D(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function N(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}var O=f&&R(f.bind)?f.call.bind(f.bind):function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(c.call(arguments)))}};function L(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(c.call(arguments)))}}function P(t){return Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function R(t){return"function"==typeof t}function j(t){return"string"==typeof t}function z(t){return"[object String]"===a.call(t)}function B(t){return"number"==typeof t}function F(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function G(t){return!!i[a.call(t)]}function V(t){return!!o[a.call(t)]}function Z(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function U(t){return null!=t.colorStops}function H(t){return null!=t.image}function W(t){return"[object RegExp]"===a.call(t)}function Y(t){return t!=t}function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(null!=t[n])return t[n]}function q(t,e){return null!=t?t:e}function K(t,e,n){return null!=t?t:null!=e?e:n}function $(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return c.apply(t,e)}function J(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function Q(t,e){if(!t)throw new Error(e)}function tt(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var et="__ec_primitive__";function nt(t){t[et]=!0}function rt(t){return t[et]}var it=function(){function t(){this.data={}}return t.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){return this.data[t]=e,this},t.prototype.keys=function(){return N(this.data)},t.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},t}(),ot="function"==typeof Map;var at=function(){function t(e){var n=P(e);this.data=ot?new Map:new it;var r=this;function i(t,e){n?r.set(t,e):r.set(e,t)}e instanceof t?e.each(i):e&&A(e,i)}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,e){return this.data.set(t,e),e},t.prototype.each=function(t,e){this.data.forEach((function(n,r){t.call(e,n,r)}))},t.prototype.keys=function(){var t=this.data.keys();return ot?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();function st(t){return new at(t)}function lt(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function ut(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&_(n,e),n}function ct(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ht(t,e){return t.hasOwnProperty(e)}function dt(){}var ft=180/Math.PI},"./node_modules/zrender/lib/core/vector.js":function(t,e,n){"use strict";function r(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function o(t){return[t[0],t[1]]}function a(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function c(t){return Math.sqrt(h(t))}n.d(e,{Fp:function(){return x},Fv:function(){return f},IH:function(){return s},JG:function(){return i},Ne:function(){return y},TE:function(){return p},TK:function(){return g},Ue:function(){return r},VV:function(){return b},WU:function(){return m},Zh:function(){return c},bA:function(){return d},d9:function(){return o},lu:function(){return u},od:function(){return l},t7:function(){return v},t8:function(){return a}});function h(t){return t[0]*t[0]+t[1]*t[1]}function d(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function f(t,e){var n=c(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function p(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var g=p;var m=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function v(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function y(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function b(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function x(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},"./node_modules/zrender/lib/graphic/CompoundPath.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return(0,r.ZT)(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),i.ZP.prototype.getBoundingRect.call(this)},e}(i.ZP);e.Z=o},"./node_modules/zrender/lib/graphic/Displayable.js":function(t,e,n){"use strict";n.d(e,{ik:function(){return c},tj:function(){return u}});var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/Element.js"),o=n("./node_modules/zrender/lib/core/BoundingRect.js"),a=n("./node_modules/zrender/lib/core/util.js"),s=n("./node_modules/zrender/lib/graphic/constants.js"),l="__zr_style_"+Math.round(10*Math.random()),u={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},c={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};u[l]=!0;var h=["z","z2","invisible"],d=["invisible"],f=function(t){function e(e){return t.call(this,e)||this}var n;return(0,r.ZT)(e,t),e.prototype._init=function(e){for(var n=(0,a.XP)(e),r=0;r<n.length;r++){var i=n[r];"style"===i?this.useStyle(e[i]):t.prototype.attrKV.call(this,i,e[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){p.copy(t.getBoundingRect()),t.transform&&p.applyTransform(t.transform);return g.width=e,g.height=n,!p.intersect(g)}(this,t,e)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(r&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,a=r.shadowOffsetX||0,s=r.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new o.Z(0,0,0,0)),e?o.Z.applyTransform(t,n,e):t.copy(n),(i||a||s)&&(t.width+=2*i+Math.abs(a),t.height+=2*i+Math.abs(s),t.x=Math.min(t.x,t.x+a-i),t.y=Math.min(t.y,t.y+s-i));var l=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-l),t.y=Math.floor(t.y-l),t.width=Math.ceil(t.width+1+2*l),t.height=Math.ceil(t.height+1+2*l))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new o.Z(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:(0,a.l7)(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=s.SE,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&s.SE)},e.prototype.styleUpdated=function(){this.__dirty&=~s.SE},e.prototype.createStyle=function(t){return(0,a.nW)(u,t)},e.prototype.useStyle=function(t){t[l]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[l]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,h)},e.prototype._applyStateObj=function(e,n,r,i,o,s){t.prototype._applyStateObj.call(this,e,n,r,i,o,s);var l,u=!(n&&i);if(n&&n.style?o?i?l=n.style:(l=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(l,n.style)):u&&(l=r.style),l)if(o){var c=this.style;if(this.style=this.createStyle(u?{}:c),u)for(var f=(0,a.XP)(c),p=0;p<f.length;p++){(m=f[p])in l&&(l[m]=l[m],this.style[m]=c[m])}var g=(0,a.XP)(l);for(p=0;p<g.length;p++){var m=g[p];this.style[m]=this.style[m]}this._transitionState(e,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);var v=this.__inHover?d:h;for(p=0;p<v.length;p++){m=v[p];n&&null!=n[m]?this[m]=n[m]:u&&null!=r[m]&&(this[m]=r[m])}},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(r.style=n),r},e.prototype._mergeStyle=function(t,e){return(0,a.l7)(t,e),t},e.prototype.getAnimationStyleProps=function(){return c},e.initDefaultProps=((n=e.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=s.YV|s.SE)),e}(i.Z),p=new o.Z(0,0,0,0),g=new o.Z(0,0,0,0);e.ZP=f},"./node_modules/zrender/lib/graphic/Gradient.js":function(t,e){"use strict";var n=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}();e.Z=n},"./node_modules/zrender/lib/graphic/Group.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/zrender/lib/Element.js"),a=n("./node_modules/zrender/lib/core/BoundingRect.js"),s=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return(0,r.ZT)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=i.cq(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,r=n[e];if(t&&t!==this&&t.parent!==this&&t!==r){n[e]=t,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,r=i.cq(n,t);return r<0||(n.splice(r,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var r=t[n];e&&r.removeSelfFromZr(e),r.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=t.call(e,r);r.isGroup&&!i&&r.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new a.Z(0,0,0,0),n=t||this._children,r=[],i=null,o=0;o<n.length;o++){var s=n[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(a.Z.applyTransform(e,l,u),(i=i||e.clone()).union(e)):(i=i||l.clone()).union(l)}}return i||e},e}(o.Z);s.prototype.type="group",e.Z=s},"./node_modules/zrender/lib/graphic/Image.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Displayable.js"),o=n("./node_modules/zrender/lib/core/BoundingRect.js"),a=n("./node_modules/zrender/lib/core/util.js"),s=(0,a.ce)({x:0,y:0},i.tj),l={style:(0,a.ce)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},i.ik.style)};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.createStyle=function(t){return(0,a.nW)(s,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var r,i=(r=e.image)&&"string"!=typeof r&&r.width&&r.height?e.image:this.__image;if(!i)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?i[t]:i[t]/i[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return l},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new o.Z(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(i.ZP);u.prototype.type="image",e.ZP=u},"./node_modules/zrender/lib/graphic/LinearGradient.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=function(t){function e(e,n,r,i,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type="linear",s.global=a||!1,s}return(0,r.ZT)(e,t),e}(n("./node_modules/zrender/lib/graphic/Gradient.js").Z);e.Z=i},"./node_modules/zrender/lib/graphic/Path.js":function(t,e,n){"use strict";n.d(e,{$t:function(){return T},ZP:function(){return D}});var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Displayable.js"),o=n("./node_modules/zrender/lib/core/PathProxy.js"),a=n("./node_modules/zrender/lib/contain/line.js"),s=n("./node_modules/zrender/lib/core/curve.js");function l(t,e,n,r,i,o,a,l,u,c,h){if(0===u)return!1;var d=u;return!(h>e+d&&h>r+d&&h>o+d&&h>l+d||h<e-d&&h<r-d&&h<o-d&&h<l-d||c>t+d&&c>n+d&&c>i+d&&c>a+d||c<t-d&&c<n-d&&c<i-d&&c<a-d)&&s.t1(t,e,n,r,i,o,a,l,c,h,null)<=d/2}var u=n("./node_modules/zrender/lib/contain/quadratic.js"),c=n("./node_modules/zrender/lib/contain/util.js"),h=2*Math.PI;function d(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var d=Math.sqrt(s*s+l*l);if(d-u>n||d+u<n)return!1;if(Math.abs(r-i)%h<1e-4)return!0;if(o){var f=r;r=(0,c.m)(i),i=(0,c.m)(f)}else r=(0,c.m)(r),i=(0,c.m)(i);r>i&&(i+=h);var p=Math.atan2(l,s);return p<0&&(p+=h),p>=r&&p<=i||p+h>=r&&p+h<=i}var f=n("./node_modules/zrender/lib/contain/windingLine.js"),p=o.Z.CMD,g=2*Math.PI,m=1e-4;var v=[-1,-1,-1],y=[-1,-1];function b(t,e,n,r,i,o,a,l,u,c){if(c>e&&c>r&&c>o&&c>l||c<e&&c<r&&c<o&&c<l)return 0;var h,d=s.kD(e,r,o,l,c,v);if(0===d)return 0;for(var f=0,p=-1,g=void 0,m=void 0,b=0;b<d;b++){var x=v[b],_=0===x||1===x?.5:1;s.af(t,n,i,a,x)<u||(p<0&&(p=s.pP(e,r,o,l,y),y[1]<y[0]&&p>1&&(h=void 0,h=y[0],y[0]=y[1],y[1]=h),g=s.af(e,r,o,l,y[0]),p>1&&(m=s.af(e,r,o,l,y[1]))),2===p?x<y[0]?f+=g<e?_:-_:x<y[1]?f+=m<g?_:-_:f+=l<m?_:-_:x<y[0]?f+=g<e?_:-_:f+=l<g?_:-_)}return f}function x(t,e,n,r,i,o,a,l){if(l>e&&l>r&&l>o||l<e&&l<r&&l<o)return 0;var u=s.Jz(e,r,o,l,v);if(0===u)return 0;var c=s.QC(e,r,o);if(c>=0&&c<=1){for(var h=0,d=s.Zm(e,r,o,c),f=0;f<u;f++){var p=0===v[f]||1===v[f]?.5:1;s.Zm(t,n,i,v[f])<a||(v[f]<c?h+=d<e?p:-p:h+=o<d?p:-p)}return h}p=0===v[0]||1===v[0]?.5:1;return s.Zm(t,n,i,v[0])<a?0:o<e?p:-p}function _(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);v[0]=-l,v[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=g-1e-4){r=0,i=g;var c=o?1:-1;return a>=v[0]+t&&a<=v[1]+t?c:0}if(r>i){var h=r;r=i,i=h}r<0&&(r+=g,i+=g);for(var d=0,f=0;f<2;f++){var p=v[f];if(p+t>a){var m=Math.atan2(s,p);c=o?1:-1;m<0&&(m=g+m),(m>=r&&m<=i||m+g>=r&&m+g<=i)&&(m>Math.PI/2&&m<1.5*Math.PI&&(c=-c),d+=c)}}return d}function w(t,e,n,r,i){for(var o,s,c,h,g=t.data,v=t.len(),y=0,w=0,S=0,M=0,k=0,E=0;E<v;){var A=g[E++],T=1===E;switch(A===p.M&&E>1&&(n||(y+=(0,f.Z)(w,S,M,k,r,i))),T&&(M=w=g[E],k=S=g[E+1]),A){case p.M:w=M=g[E++],S=k=g[E++];break;case p.L:if(n){if(a.m(w,S,g[E],g[E+1],e,r,i))return!0}else y+=(0,f.Z)(w,S,g[E],g[E+1],r,i)||0;w=g[E++],S=g[E++];break;case p.C:if(n){if(l(w,S,g[E++],g[E++],g[E++],g[E++],g[E],g[E+1],e,r,i))return!0}else y+=b(w,S,g[E++],g[E++],g[E++],g[E++],g[E],g[E+1],r,i)||0;w=g[E++],S=g[E++];break;case p.Q:if(n){if(u.m(w,S,g[E++],g[E++],g[E],g[E+1],e,r,i))return!0}else y+=x(w,S,g[E++],g[E++],g[E],g[E+1],r,i)||0;w=g[E++],S=g[E++];break;case p.A:var I=g[E++],C=g[E++],D=g[E++],N=g[E++],O=g[E++],L=g[E++];E+=1;var P=!!(1-g[E++]);o=Math.cos(O)*D+I,s=Math.sin(O)*N+C,T?(M=o,k=s):y+=(0,f.Z)(w,S,o,s,r,i);var R=(r-I)*N/D+I;if(n){if(d(I,C,N,O,O+L,P,e,R,i))return!0}else y+=_(I,C,N,O,O+L,P,R,i);w=Math.cos(O+L)*D+I,S=Math.sin(O+L)*N+C;break;case p.R:if(M=w=g[E++],k=S=g[E++],o=M+g[E++],s=k+g[E++],n){if(a.m(M,k,o,k,e,r,i)||a.m(o,k,o,s,e,r,i)||a.m(o,s,M,s,e,r,i)||a.m(M,s,M,k,e,r,i))return!0}else y+=(0,f.Z)(o,k,o,s,r,i),y+=(0,f.Z)(M,s,M,k,r,i);break;case p.Z:if(n){if(a.m(w,S,M,k,e,r,i))return!0}else y+=(0,f.Z)(w,S,M,k,r,i);w=M,S=k}}return n||(c=S,h=k,Math.abs(c-h)<m)||(y+=(0,f.Z)(w,S,M,k,r,i)||0),0!==y}var S=n("./node_modules/zrender/lib/core/util.js"),M=n("./node_modules/zrender/lib/tool/color.js"),k=n("./node_modules/zrender/lib/config.js"),E=n("./node_modules/zrender/lib/graphic/constants.js"),A=n("./node_modules/zrender/lib/core/Transformable.js"),T=(0,S.ce)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},i.tj),I={style:(0,S.ce)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},i.ik.style)},C=A.dN.concat(["invisible","culling","z","z2","zlevel","parent"]),D=function(t){function e(e){return t.call(this,e)||this}var n;return(0,r.ZT)(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(t){n.buildPath(t,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<C.length;++s)i[C[s]]=this[C[s]];i.__dirty|=E.YV}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=(0,S.XP)(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var o=n[i],a=e[o];"style"===o?this.style?(0,S.l7)(this.style,a):this.useStyle(a):"shape"===o?(0,S.l7)(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if((0,S.HD)(t)){var e=(0,M.L0)(t,0);return e>.5?k.vU:e>.2?k.iv:k.GD}if(t)return k.GD}return k.vU},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if((0,S.HD)(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===(0,M.L0)(t,0)<k.Ak)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~E.RH},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new o.Z(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var i=this.path;(r||this.__dirty&E.RH)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,r){return w(t,e,!0,n,r)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return w(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=E.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"==typeof t?n[t]=e:(0,S.l7)(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&E.RH)},e.prototype.createStyle=function(t){return(0,S.nW)(T,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=(0,S.l7)({},this.shape))},e.prototype._applyStateObj=function(e,n,r,i,o,a){t.prototype._applyStateObj.call(this,e,n,r,i,o,a);var s,l=!(n&&i);if(n&&n.shape?o?i?s=n.shape:(s=(0,S.l7)({},r.shape),(0,S.l7)(s,n.shape)):(s=(0,S.l7)({},i?this.shape:r.shape),(0,S.l7)(s,n.shape)):l&&(s=r.shape),s)if(o){this.shape=(0,S.l7)({},this.shape);for(var u={},c=(0,S.XP)(s),h=0;h<c.length;h++){var d=c[h];"object"==typeof s[d]?this.shape[d]=s[d]:u[d]=s[d]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(r.shape=n),r},e.prototype.getAnimationStyleProps=function(){return I},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var r=e.call(this,n)||this;return t.init&&t.init.call(r,n),r}return(0,r.ZT)(n,e),n.prototype.getDefaultStyle=function(){return(0,S.d9)(t.style)},n.prototype.getDefaultShape=function(){return(0,S.d9)(t.shape)},n}(e);for(var i in t)"function"==typeof t[i]&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=((n=e.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=E.YV|E.SE|E.RH)),e}(i.ZP)},"./node_modules/zrender/lib/graphic/RadialGradient.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=function(t){function e(e,n,r,i,o){var a=t.call(this,i)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=o||!1,a}return(0,r.ZT)(e,t),e}(n("./node_modules/zrender/lib/graphic/Gradient.js").Z);e.Z=i},"./node_modules/zrender/lib/graphic/TSpan.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Displayable.js"),o=n("./node_modules/zrender/lib/contain/text.js"),a=n("./node_modules/zrender/lib/graphic/Path.js"),s=n("./node_modules/zrender/lib/core/util.js"),l=n("./node_modules/zrender/lib/core/platform.js"),u=(0,s.ce)({strokeFirst:!0,font:l.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},a.$t),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return(0,s.nW)(u,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=(0,o.lP)(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(i.ZP);c.prototype.type="tspan",e.Z=c},"./node_modules/zrender/lib/graphic/Text.js":function(t,e,n){"use strict";n.d(e,{VG:function(){return b},Y1:function(){return _}});var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/helper/parseText.js"),o=n("./node_modules/zrender/lib/graphic/TSpan.js"),a=n("./node_modules/zrender/lib/core/util.js"),s=n("./node_modules/zrender/lib/contain/text.js"),l=n("./node_modules/zrender/lib/graphic/Image.js"),u=n("./node_modules/zrender/lib/graphic/shape/Rect.js"),c=n("./node_modules/zrender/lib/core/BoundingRect.js"),h=n("./node_modules/zrender/lib/graphic/Displayable.js"),d=n("./node_modules/zrender/lib/core/platform.js"),f={fill:"#000"},p={style:(0,a.ce)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},h.ik.style)},g=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=f,n.attr(e),n}return(0,r.ZT)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,w(t=this.style),(0,a.S6)(t.rich,w),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new c.Z(0,0,0,0),e=this._children,n=[],r=null,i=0;i<e.length;i++){var o=e[i],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(r=r||t.clone()).union(t)):(r=r||a.clone()).union(a)}this._rect=r||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||f},e.prototype.setTextContent=function(t){0},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,r=t.rich||n&&{};return(0,a.l7)(t,e),n&&r?(this._mergeRich(r,n),t.rich=r):r&&(t.rich=r),t},e.prototype._mergeRich=function(t,e){for(var n=(0,a.XP)(e),r=0;r<n.length;r++){var i=n[r];t[i]=t[i]||{},(0,a.l7)(t[i],e[i])}},e.prototype.getAnimationStyleProps=function(){return p},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||d.Uo,n=t.padding,r=E(t),a=(0,i.NY)(r,t),l=A(t),u=!!t.backgroundColor,h=a.outerHeight,f=a.outerWidth,p=a.contentWidth,g=a.lines,m=a.lineHeight,v=this._defaultStyle,y=t.x||0,b=t.y||0,_=t.align||v.align||"left",w=t.verticalAlign||v.verticalAlign||"top",T=y,I=(0,s.mU)(b,a.contentHeight,w);if(l||n){var C=(0,s.M3)(y,f,_),D=(0,s.mU)(b,h,w);l&&this._renderBackground(t,t,C,D,f,h)}I+=m/2,n&&(T=k(y,_,n),"top"===w?I+=n[0]:"bottom"===w&&(I-=n[2]));for(var N=0,O=!1,L=(M("fill"in t?t.fill:(O=!0,v.fill))),P=(S("stroke"in t?t.stroke:u||v.autoStroke&&!O?null:(N=2,v.stroke))),R=t.textShadowBlur>0,j=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),z=a.calculatedLineHeight,B=0;B<g.length;B++){var F=this._getOrCreateChild(o.Z),G=F.createStyle();F.useStyle(G),G.text=g[B],G.x=T,G.y=I,_&&(G.textAlign=_),G.textBaseline="middle",G.opacity=t.opacity,G.strokeFirst=!0,R&&(G.shadowBlur=t.textShadowBlur||0,G.shadowColor=t.textShadowColor||"transparent",G.shadowOffsetX=t.textShadowOffsetX||0,G.shadowOffsetY=t.textShadowOffsetY||0),G.stroke=P,G.fill=L,P&&(G.lineWidth=t.lineWidth||N,G.lineDash=t.lineDash,G.lineDashOffset=t.lineDashOffset||0),G.font=e,x(G,t),I+=m,j&&F.setBoundingRect(new c.Z((0,s.M3)(G.x,t.width,G.textAlign),(0,s.mU)(G.y,z,G.textBaseline),p,z))}},e.prototype._updateRichTexts=function(){var t=this.style,e=E(t),n=(0,i.$F)(e,t),r=n.width,o=n.outerWidth,a=n.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,h=this._defaultStyle,d=t.align||h.align,f=t.verticalAlign||h.verticalAlign,p=(0,s.M3)(u,o,d),g=(0,s.mU)(c,a,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+r;A(t)&&this._renderBackground(t,t,p,g,o,a);for(var b=!!t.backgroundColor,x=0;x<n.lines.length;x++){for(var _=n.lines[x],w=_.tokens,S=w.length,M=_.lineHeight,k=_.width,T=0,I=m,C=y,D=S-1,N=void 0;T<S&&(!(N=w[T]).align||"left"===N.align);)this._placeToken(N,t,M,v,I,"left",b),k-=N.width,I+=N.width,T++;for(;D>=0&&"right"===(N=w[D]).align;)this._placeToken(N,t,M,v,C,"right",b),k-=N.width,C-=N.width,D--;for(I+=(r-(I-m)-(y-C)-k)/2;T<=D;)N=w[T],this._placeToken(N,t,M,v,I+N.width/2,"center",b),I+=N.width,T++;v+=M}},e.prototype._placeToken=function(t,e,n,r,i,l,u){var h=e.rich[t.styleName]||{};h.text=t.text;var f=t.verticalAlign,p=r+n/2;"top"===f?p=r+t.height/2:"bottom"===f&&(p=r+n-t.height/2),!t.isLineHolder&&A(h)&&this._renderBackground(h,e,"right"===l?i-t.width:"center"===l?i-t.width/2:i,p-t.height/2,t.width,t.height);var g=!!h.backgroundColor,m=t.textPadding;m&&(i=k(i,l,m),p-=t.height/2-m[0]-t.innerHeight/2);var v=this._getOrCreateChild(o.Z),y=v.createStyle();v.useStyle(y);var b=this._defaultStyle,_=!1,w=0,E=M("fill"in h?h.fill:"fill"in e?e.fill:(_=!0,b.fill)),T=S("stroke"in h?h.stroke:"stroke"in e?e.stroke:g||u||b.autoStroke&&!_?null:(w=2,b.stroke)),I=h.textShadowBlur>0||e.textShadowBlur>0;y.text=t.text,y.x=i,y.y=p,I&&(y.shadowBlur=h.textShadowBlur||e.textShadowBlur||0,y.shadowColor=h.textShadowColor||e.textShadowColor||"transparent",y.shadowOffsetX=h.textShadowOffsetX||e.textShadowOffsetX||0,y.shadowOffsetY=h.textShadowOffsetY||e.textShadowOffsetY||0),y.textAlign=l,y.textBaseline="middle",y.font=t.font||d.Uo,y.opacity=(0,a.R1)(h.opacity,e.opacity,1),x(y,h),T&&(y.lineWidth=(0,a.R1)(h.lineWidth,e.lineWidth,w),y.lineDash=(0,a.pD)(h.lineDash,e.lineDash),y.lineDashOffset=e.lineDashOffset||0,y.stroke=T),E&&(y.fill=E);var C=t.contentWidth,D=t.contentHeight;v.setBoundingRect(new c.Z((0,s.M3)(y.x,C,y.textAlign),(0,s.mU)(y.y,D,y.textBaseline),C,D))},e.prototype._renderBackground=function(t,e,n,r,i,o){var s,c,h,d=t.backgroundColor,f=t.borderWidth,p=t.borderColor,g=d&&d.image,m=d&&!g,v=t.borderRadius,y=this;if(m||t.lineHeight||f&&p){(s=this._getOrCreateChild(u.Z)).useStyle(s.createStyle()),s.style.fill=null;var b=s.shape;b.x=n,b.y=r,b.width=i,b.height=o,b.r=v,s.dirtyShape()}if(m)(h=s.style).fill=d||null,h.fillOpacity=(0,a.pD)(t.fillOpacity,1);else if(g){(c=this._getOrCreateChild(l.ZP)).onload=function(){y.dirtyStyle()};var x=c.style;x.image=d.image,x.x=n,x.y=r,x.width=i,x.height=o}f&&p&&((h=s.style).lineWidth=f,h.stroke=p,h.strokeOpacity=(0,a.pD)(t.strokeOpacity,1),h.lineDash=t.borderDash,h.lineDashOffset=t.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var _=(s||c).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=(0,a.R1)(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";return _(t)&&(e=[t.fontStyle,t.fontWeight,b(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),e&&(0,a.fy)(e)||t.textFont||t.font},e}(h.ZP),m={left:!0,right:1,center:1},v={top:1,bottom:1,middle:1},y=["fontStyle","fontWeight","fontSize","fontFamily"];function b(t){return"string"!=typeof t||-1===t.indexOf("px")&&-1===t.indexOf("rem")&&-1===t.indexOf("em")?isNaN(+t)?d.n5+"px":t+"px":t}function x(t,e){for(var n=0;n<y.length;n++){var r=y[n],i=e[r];null!=i&&(t[r]=i)}}function _(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function w(t){if(t){t.font=g.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||m[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||v[n]?n:"top",t.padding&&(t.padding=(0,a.MY)(t.padding))}}function S(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function M(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function E(t){var e=t.text;return null!=e&&(e+=""),e}function A(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}e.ZP=g},"./node_modules/zrender/lib/graphic/constants.js":function(t,e,n){"use strict";n.d(e,{RH:function(){return o},SE:function(){return i},YV:function(){return r}});var r=1,i=2,o=4},"./node_modules/zrender/lib/graphic/helper/image.js":function(t,e,n){"use strict";n.d(e,{Gq:function(){return s},ko:function(){return a},v5:function(){return u}});var r=n("./node_modules/zrender/lib/core/LRU.js"),i=n("./node_modules/zrender/lib/core/platform.js"),o=new r.ZP(50);function a(t){if("string"==typeof t){var e=o.get(t);return e&&e.image}return t}function s(t,e,n,r,a){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var s=o.get(t),c={hostEl:n,cb:r,cbPayload:a};return s?!u(e=s.image)&&s.pending.push(c):((e=i.qW.loadImage(t,l,l)).__zrImageSrc=t,o.put(t,e.__cachedImgObj={image:e,pending:[c]})),e}return t}return e}function l(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function u(t){return t&&t.width&&t.height}},"./node_modules/zrender/lib/graphic/helper/parseText.js":function(t,e,n){"use strict";n.d(e,{$F:function(){return g},NY:function(){return h},aF:function(){return s}});var r=n("./node_modules/zrender/lib/graphic/helper/image.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/zrender/lib/contain/text.js"),a=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function s(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=l(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=u(o[a],i);return o.join("\n")}function l(t,e,n,r){r=r||{};var a=(0,i.l7)({},r);a.font=e,n=(0,i.pD)(n,"..."),a.maxIterations=(0,i.pD)(r.maxIterations,2);var s=a.minChar=(0,i.pD)(r.minChar,0);a.cnCharWidth=(0,o.dz)("国",e);var l=a.ascCharWidth=(0,o.dz)("a",e);a.placeholder=(0,i.pD)(r.placeholder,"");for(var u=t=Math.max(0,t-1),c=0;c<s&&u>=l;c++)u-=l;var h=(0,o.dz)(n,e);return h>u&&(n="",h=0),u=t-h,a.ellipsis=n,a.ellipsisWidth=h,a.contentWidth=u,a.containerWidth=t,a}function u(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=(0,o.dz)(t,r);if(a<=n)return t;for(var s=0;;s++){if(a<=i||s>=e.maxIterations){t+=e.ellipsis;break}var l=0===s?c(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,l),a=(0,o.dz)(t,r)}return""===t&&(t=e.placeholder),t}function c(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function h(t,e){null!=t&&(t+="");var n,r=e.overflow,a=e.padding,s=e.font,c="truncate"===r,h=(0,o.Dp)(s),d=(0,i.pD)(e.lineHeight,h),f=!!e.backgroundColor,p="truncate"===e.lineOverflow,g=e.width,m=(n=null==g||"break"!==r&&"breakAll"!==r?t?t.split("\n"):[]:t?b(t,e.font,g,"breakAll"===r,0).lines:[]).length*d,v=(0,i.pD)(e.height,m);if(m>v&&p){var y=Math.floor(v/d);n=n.slice(0,y)}if(t&&c&&null!=g)for(var x=l(g,s,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),_=0;_<n.length;_++)n[_]=u(n[_],x);var w=v,S=0;for(_=0;_<n.length;_++)S=Math.max((0,o.dz)(n[_],s),S);null==g&&(g=S);var M=S;return a&&(w+=a[0]+a[2],M+=a[1]+a[3],g+=a[1]+a[3]),f&&(M=g),{lines:n,height:v,outerWidth:M,outerHeight:w,lineHeight:d,calculatedLineHeight:h,contentWidth:S,contentHeight:m,width:g}}var d=function(){},f=function(t){this.tokens=[],t&&(this.tokens=t)},p=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function g(t,e){var n=new p;if(null!=t&&(t+=""),!t)return n;for(var l,u=e.width,c=e.height,h=e.overflow,d="break"!==h&&"breakAll"!==h||null==u?null:{width:u,accumWidth:0,breakAll:"breakAll"===h},f=a.lastIndex=0;null!=(l=a.exec(t));){var g=l.index;g>f&&m(n,t.substring(f,g),e,d),m(n,l[2],e,d,l[1]),f=a.lastIndex}f<t.length&&m(n,t.substring(f,t.length),e,d);var v=[],y=0,b=0,x=e.padding,_="truncate"===h,w="truncate"===e.lineOverflow;function S(t,e,n){t.width=e,t.lineHeight=n,y+=n,b=Math.max(b,e)}t:for(var M=0;M<n.lines.length;M++){for(var k=n.lines[M],E=0,A=0,T=0;T<k.tokens.length;T++){var I=(B=k.tokens[T]).styleName&&e.rich[B.styleName]||{},C=B.textPadding=I.padding,D=C?C[1]+C[3]:0,N=B.font=I.font||e.font;B.contentHeight=(0,o.Dp)(N);var O=(0,i.pD)(I.height,B.contentHeight);if(B.innerHeight=O,C&&(O+=C[0]+C[2]),B.height=O,B.lineHeight=(0,i.R1)(I.lineHeight,e.lineHeight,O),B.align=I&&I.align||e.align,B.verticalAlign=I&&I.verticalAlign||"middle",w&&null!=c&&y+B.lineHeight>c){T>0?(k.tokens=k.tokens.slice(0,T),S(k,A,E),n.lines=n.lines.slice(0,M+1)):n.lines=n.lines.slice(0,M);break t}var L=I.width,P=null==L||"auto"===L;if("string"==typeof L&&"%"===L.charAt(L.length-1))B.percentWidth=L,v.push(B),B.contentWidth=(0,o.dz)(B.text,N);else{if(P){var R=I.backgroundColor,j=R&&R.image;j&&(j=r.ko(j),r.v5(j)&&(B.width=Math.max(B.width,j.width*O/j.height)))}var z=_&&null!=u?u-A:null;null!=z&&z<B.width?!P||z<D?(B.text="",B.width=B.contentWidth=0):(B.text=s(B.text,z-D,N,e.ellipsis,{minChar:e.truncateMinChar}),B.width=B.contentWidth=(0,o.dz)(B.text,N)):B.contentWidth=(0,o.dz)(B.text,N)}B.width+=D,A+=B.width,I&&(E=Math.max(E,B.lineHeight))}S(k,A,E)}n.outerWidth=n.width=(0,i.pD)(u,b),n.outerHeight=n.height=(0,i.pD)(c,y),n.contentHeight=y,n.contentWidth=b,x&&(n.outerWidth+=x[1]+x[3],n.outerHeight+=x[0]+x[2]);for(M=0;M<v.length;M++){var B,F=(B=v[M]).percentWidth;B.width=parseInt(F,10)/100*n.width}return n}function m(t,e,n,r,i){var a,s,l=""===e,u=i&&n.rich[i]||{},c=t.lines,h=u.font||n.font,p=!1;if(r){var g=u.padding,m=g?g[1]+g[3]:0;if(null!=u.width&&"auto"!==u.width){var v=(0,o.GM)(u.width,r.width)+m;c.length>0&&v+r.accumWidth>r.width&&(a=e.split("\n"),p=!0),r.accumWidth=v}else{var y=b(e,h,r.width,r.breakAll,r.accumWidth);r.accumWidth=y.accumWidth+m,s=y.linesWidths,a=y.lines}}else a=e.split("\n");for(var x=0;x<a.length;x++){var _=a[x],w=new d;if(w.styleName=i,w.text=_,w.isLineHolder=!_&&!l,"number"==typeof u.width?w.width=u.width:w.width=s?s[x]:(0,o.dz)(_,h),x||p)c.push(new f([w]));else{var S=(c[c.length-1]||(c[0]=new f)).tokens,M=S.length;1===M&&S[0].isLineHolder?S[0]=w:(_||!M||l)&&S.push(w)}}}var v=(0,i.u4)(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function y(t){return!function(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(t)||!!v[t]}function b(t,e,n,r,i){for(var a=[],s=[],l="",u="",c=0,h=0,d=0;d<t.length;d++){var f=t.charAt(d);if("\n"!==f){var p=(0,o.dz)(f,e),g=!r&&!y(f);(a.length?h+p>n:i+h+p>n)?h?(l||u)&&(g?(l||(l=u,u="",h=c=0),a.push(l),s.push(h-c),u+=f,l="",h=c+=p):(u&&(l+=u,u="",c=0),a.push(l),s.push(h),l=f,h=p)):g?(a.push(u),s.push(c),u=f,c=p):(a.push(f),s.push(p)):(h+=p,g?(u+=f,c+=p):(u&&(l+=u,u="",c=0),l+=f))}else u&&(l+=u,h+=c),a.push(l),s.push(h),l="",u="",c=0,h=0}return a.length||l||(l=t,u="",c=0),u&&(l+=u),l&&(a.push(l),s.push(h)),1===a.length&&(h+=i),{accumWidth:h,lines:a,linesWidths:s}}},"./node_modules/zrender/lib/graphic/helper/poly.js":function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var r=n("./node_modules/zrender/lib/core/vector.js");function i(t,e,n){var i=e.smooth,o=e.points;if(o&&o.length>=2){if(i){var a=function(t,e,n,i){var o,a,s,l,u=[],c=[],h=[],d=[];if(i){s=[1/0,1/0],l=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++)(0,r.VV)(s,s,t[f]),(0,r.Fp)(l,l,t[f]);(0,r.VV)(s,s,i[0]),(0,r.Fp)(l,l,i[1])}for(f=0,p=t.length;f<p;f++){var g=t[f];if(n)o=t[f?f-1:p-1],a=t[(f+1)%p];else{if(0===f||f===p-1){u.push((0,r.d9)(t[f]));continue}o=t[f-1],a=t[f+1]}(0,r.lu)(c,a,o),(0,r.bA)(c,c,e);var m=(0,r.TE)(g,o),v=(0,r.TE)(g,a),y=m+v;0!==y&&(m/=y,v/=y),(0,r.bA)(h,c,-m),(0,r.bA)(d,c,v);var b=(0,r.IH)([],g,h),x=(0,r.IH)([],g,d);i&&((0,r.Fp)(b,b,s),(0,r.VV)(b,b,l),(0,r.Fp)(x,x,s),(0,r.VV)(x,x,l)),u.push(b),u.push(x)}return n&&u.push(u.shift()),u}(o,i,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var s=o.length,l=0;l<(n?s:s-1);l++){var u=a[2*l],c=a[2*l+1],h=o[(l+1)%s];t.bezierCurveTo(u[0],u[1],c[0],c[1],h[0],h[1])}}else{t.moveTo(o[0][0],o[0][1]);l=1;for(var d=o.length;l<d;l++)t.lineTo(o[l][0],o[l][1])}n&&t.closePath()}}},"./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js":function(t,e,n){"use strict";n.d(e,{Pw:function(){return o},_3:function(){return i},vu:function(){return a}});var r=Math.round;function i(t,e,n){if(e){var i=e.x1,o=e.x2,s=e.y1,l=e.y2;t.x1=i,t.x2=o,t.y1=s,t.y2=l;var u=n&&n.lineWidth;return u?(r(2*i)===r(2*o)&&(t.x1=t.x2=a(i,u,!0)),r(2*s)===r(2*l)&&(t.y1=t.y2=a(s,u,!0)),t):t}}function o(t,e,n){if(e){var r=e.x,i=e.y,o=e.width,s=e.height;t.x=r,t.y=i,t.width=o,t.height=s;var l=n&&n.lineWidth;return l?(t.x=a(r,l,!0),t.y=a(i,l,!0),t.width=Math.max(a(r+o,l,!1)-t.x,0===o?0:1),t.height=Math.max(a(i+s,l,!1)-t.y,0===s?0:1),t):t}}function a(t,e,n){if(!e)return t;var i=r(2*t);return(i+r(e))%2==0?i/2:(i+(n?1:-1))/2}},"./node_modules/zrender/lib/graphic/shape/Arc.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},a=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*i+n,u*i+r),t.arc(n,r,i,o,a,!s)},e}(i.ZP);a.prototype.type="arc",e.Z=a},"./node_modules/zrender/lib/graphic/shape/BezierCurve.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/core/vector.js"),a=n("./node_modules/zrender/lib/core/curve.js"),s=[],l=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function u(t,e,n){var r=t.cpx2,i=t.cpy2;return null!=r||null!=i?[(n?a.X_:a.af)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?a.X_:a.af)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?a.AZ:a.Zm)(t.x1,t.cpx1,t.x2,e),(n?a.AZ:a.Zm)(t.y1,t.cpy1,t.y2,e)]}var c=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new l},e.prototype.buildPath=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,l=e.cpx1,u=e.cpy1,c=e.cpx2,h=e.cpy2,d=e.percent;0!==d&&(t.moveTo(n,r),null==c||null==h?(d<1&&((0,a.Lx)(n,l,i,d,s),l=s[1],i=s[2],(0,a.Lx)(r,u,o,d,s),u=s[1],o=s[2]),t.quadraticCurveTo(l,u,i,o)):(d<1&&((0,a.Vz)(n,l,c,i,d,s),l=s[1],c=s[2],i=s[3],(0,a.Vz)(r,u,h,o,d,s),u=s[1],h=s[2],o=s[3]),t.bezierCurveTo(l,u,c,h,i,o)))},e.prototype.pointAt=function(t){return u(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=u(this.shape,t,!0);return o.Fv(e,e)},e}(i.ZP);c.prototype.type="bezier-curve",e.Z=c},"./node_modules/zrender/lib/graphic/shape/Circle.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=function(){this.cx=0,this.cy=0,this.r=0},a=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(i.ZP);a.prototype.type="circle",e.Z=a},"./node_modules/zrender/lib/graphic/shape/Ellipse.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},a=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=.5522848,r=e.cx,i=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(r-o,i),t.bezierCurveTo(r-o,i-l,r-s,i-a,r,i-a),t.bezierCurveTo(r+s,i-a,r+o,i-l,r+o,i),t.bezierCurveTo(r+o,i+l,r+s,i+a,r,i+a),t.bezierCurveTo(r-s,i+a,r-o,i+l,r-o,i),t.closePath()},e}(i.ZP);a.prototype.type="ellipse",e.Z=a},"./node_modules/zrender/lib/graphic/shape/Line.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js"),a={},s=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},l=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){var n,r,i,s;if(this.subPixelOptimize){var l=(0,o._3)(a,e,this.style);n=l.x1,r=l.y1,i=l.x2,s=l.y2}else n=e.x1,r=e.y1,i=e.x2,s=e.y2;var u=e.percent;0!==u&&(t.moveTo(n,r),u<1&&(i=n*(1-u)+i*u,s=r*(1-u)+s*u),t.lineTo(i,s))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(i.ZP);l.prototype.type="line",e.Z=l},"./node_modules/zrender/lib/graphic/shape/Polygon.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/graphic/helper/poly.js"),a=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},s=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){o.L(t,e,!0)},e}(i.ZP);s.prototype.type="polygon",e.Z=s},"./node_modules/zrender/lib/graphic/shape/Polyline.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/graphic/helper/poly.js"),a=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},s=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){o.L(t,e,!1)},e}(i.ZP);s.prototype.type="polyline",e.Z=s},"./node_modules/zrender/lib/graphic/shape/Rect.js":function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js");var o=n("./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js"),a=function(){this.x=0,this.y=0,this.width=0,this.height=0},s={},l=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){var n,r,i,a;if(this.subPixelOptimize){var l=(0,o.Pw)(s,e,this.style);n=l.x,r=l.y,i=l.width,a=l.height,l.r=e.r,e=l}else n=e.x,r=e.y,i=e.width,a=e.height;e.r?function(t,e){var n,r,i,o,a,s=e.x,l=e.y,u=e.width,c=e.height,h=e.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"==typeof h?n=r=i=o=h:h instanceof Array?1===h.length?n=r=i=o=h[0]:2===h.length?(n=i=h[0],r=o=h[1]):3===h.length?(n=h[0],r=o=h[1],i=h[2]):(n=h[0],r=h[1],i=h[2],o=h[3]):n=r=i=o=0,n+r>u&&(n*=u/(a=n+r),r*=u/a),i+o>u&&(i*=u/(a=i+o),o*=u/a),r+i>c&&(r*=c/(a=r+i),i*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),t.moveTo(s+n,l),t.lineTo(s+u-r,l),0!==r&&t.arc(s+u-r,l+r,r,-Math.PI/2,0),t.lineTo(s+u,l+c-i),0!==i&&t.arc(s+u-i,l+c-i,i,0,Math.PI/2),t.lineTo(s+o,l+c),0!==o&&t.arc(s+o,l+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,r,i,a)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(i.ZP);l.prototype.type="rect";var u=l},"./node_modules/zrender/lib/graphic/shape/Ring.js":function(t,e,n){"use strict";var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},a=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)},e}(i.ZP);a.prototype.type="ring",e.Z=a},"./node_modules/zrender/lib/graphic/shape/Sector.js":function(t,e,n){"use strict";n.d(e,{C:function(){return _}});var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/core/util.js"),a=Math.PI,s=2*a,l=Math.sin,u=Math.cos,c=Math.acos,h=Math.atan2,d=Math.abs,f=Math.sqrt,p=Math.max,g=Math.min,m=1e-4;function v(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/f(s*s+l*l),c=u*l,h=-u*s,d=t+c,g=e+h,m=n+c,v=r+h,y=(d+m)/2,b=(g+v)/2,x=m-d,_=v-g,w=x*x+_*_,S=i-o,M=d*v-m*g,k=(_<0?-1:1)*f(p(0,S*S*w-M*M)),E=(M*_-x*k)/w,A=(-M*x-_*k)/w,T=(M*_+x*k)/w,I=(-M*x+_*k)/w,C=E-y,D=A-b,N=T-y,O=I-b;return C*C+D*D>N*N+O*O&&(E=T,A=I),{cx:E,cy:A,x0:-c,y0:-h,x1:E*(i/S-1),y1:A*(i/S-1)}}function y(t,e){var n,r=p(e.r,0),i=p(e.r0||0,0),y=r>0;if(y||i>0){if(y||(r=i,i=0),i>r){var b=r;r=i,i=b}var x=e.startAngle,_=e.endAngle;if(!isNaN(x)&&!isNaN(_)){var w=e.cx,S=e.cy,M=!!e.clockwise,k=d(_-x),E=k>s&&k%s;if(E>m&&(k=E),r>m)if(k>s-m)t.moveTo(w+r*u(x),S+r*l(x)),t.arc(w,S,r,x,_,!M),i>m&&(t.moveTo(w+i*u(_),S+i*l(_)),t.arc(w,S,i,_,x,M));else{var A=void 0,T=void 0,I=void 0,C=void 0,D=void 0,N=void 0,O=void 0,L=void 0,P=void 0,R=void 0,j=void 0,z=void 0,B=void 0,F=void 0,G=void 0,V=void 0,Z=r*u(x),U=r*l(x),H=i*u(_),W=i*l(_),Y=k>m;if(Y){var X=e.cornerRadius;X&&(A=(n=function(t){var e;if((0,o.kJ)(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(X))[0],T=n[1],I=n[2],C=n[3]);var q=d(r-i)/2;if(D=g(q,I),N=g(q,C),O=g(q,A),L=g(q,T),j=P=p(D,N),z=R=p(O,L),(P>m||R>m)&&(B=r*u(_),F=r*l(_),G=i*u(x),V=i*l(x),k<a)){var K=function(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,h=s-o,d=h*l-c*u;if(!(d*d<m))return[t+(d=(c*(e-o)-h*(t-i))/d)*l,e+d*u]}(Z,U,G,V,B,F,H,W);if(K){var $=Z-K[0],J=U-K[1],Q=B-K[0],tt=F-K[1],et=1/l(c(($*Q+J*tt)/(f($*$+J*J)*f(Q*Q+tt*tt)))/2),nt=f(K[0]*K[0]+K[1]*K[1]);j=g(P,(r-nt)/(et+1)),z=g(R,(i-nt)/(et-1))}}}if(Y)if(j>m){var rt=g(I,j),it=g(C,j),ot=v(G,V,Z,U,r,rt,M),at=v(B,F,H,W,r,it,M);t.moveTo(w+ot.cx+ot.x0,S+ot.cy+ot.y0),j<P&&rt===it?t.arc(w+ot.cx,S+ot.cy,j,h(ot.y0,ot.x0),h(at.y0,at.x0),!M):(rt>0&&t.arc(w+ot.cx,S+ot.cy,rt,h(ot.y0,ot.x0),h(ot.y1,ot.x1),!M),t.arc(w,S,r,h(ot.cy+ot.y1,ot.cx+ot.x1),h(at.cy+at.y1,at.cx+at.x1),!M),it>0&&t.arc(w+at.cx,S+at.cy,it,h(at.y1,at.x1),h(at.y0,at.x0),!M))}else t.moveTo(w+Z,S+U),t.arc(w,S,r,x,_,!M);else t.moveTo(w+Z,S+U);if(i>m&&Y)if(z>m){rt=g(A,z),ot=v(H,W,B,F,i,-(it=g(T,z)),M),at=v(Z,U,G,V,i,-rt,M);t.lineTo(w+ot.cx+ot.x0,S+ot.cy+ot.y0),z<R&&rt===it?t.arc(w+ot.cx,S+ot.cy,z,h(ot.y0,ot.x0),h(at.y0,at.x0),!M):(it>0&&t.arc(w+ot.cx,S+ot.cy,it,h(ot.y0,ot.x0),h(ot.y1,ot.x1),!M),t.arc(w,S,i,h(ot.cy+ot.y1,ot.cx+ot.x1),h(at.cy+at.y1,at.cx+at.x1),M),rt>0&&t.arc(w+at.cx,S+at.cy,rt,h(at.y1,at.x1),h(at.y0,at.x0),!M))}else t.lineTo(w+H,S+W),t.arc(w,S,i,_,x,M);else t.lineTo(w+H,S+W)}else t.moveTo(w,S);t.closePath()}}}var b=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},x=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype.getDefaultShape=function(){return new b},e.prototype.buildPath=function(t,e){y(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(i.ZP);x.prototype.type="sector";var _=x},"./node_modules/zrender/lib/svg/helper.js":function(t,e,n){"use strict";n.d(e,{Cv:function(){return v},Gk:function(){return S},H3:function(){return _},I1:function(){return b},Pn:function(){return h},R:function(){return y},gA:function(){return M},gO:function(){return x},i2:function(){return g},jY:function(){return f},m1:function(){return w},mU:function(){return p},n1:function(){return m},oF:function(){return k},qV:function(){return d},ut:function(){return s},zT:function(){return u}});var r=n("./node_modules/zrender/lib/core/util.js"),i=n("./node_modules/zrender/lib/tool/color.js"),o=n("./node_modules/zrender/lib/core/env.js"),a=Math.round;function s(t){var e;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var n=(0,i.Qc)(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}}else t="none";return{color:t,opacity:null==e?1:e}}var l=1e-4;function u(t){return t<l&&t>-l}function c(t){return a(1e3*t)/1e3}function h(t){return a(1e4*t)/1e4}function d(t){return"matrix("+c(t[0])+","+c(t[1])+","+c(t[2])+","+c(t[3])+","+h(t[4])+","+h(t[5])+")"}var f={left:"start",right:"end",center:"middle",middle:"middle"};function p(t,e,n){return"top"===n?t+=e/2:"bottom"===n&&(t-=e/2),t}function g(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function m(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function v(t){return t&&!!t.image}function y(t){return v(t)||function(t){return t&&!!t.svgElement}(t)}function b(t){return"linear"===t.type}function x(t){return"radial"===t.type}function _(t){return t&&("linear"===t.type||"radial"===t.type)}function w(t){return"url(#"+t+")"}function S(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function M(t){var e=t.x||0,n=t.y||0,i=(t.rotation||0)*r.I3,o=(0,r.pD)(t.scaleX,1),s=(0,r.pD)(t.scaleY,1),l=t.skewX||0,u=t.skewY||0,c=[];return(e||n)&&c.push("translate("+e+"px,"+n+"px)"),i&&c.push("rotate("+i+")"),1===o&&1===s||c.push("scale("+o+","+s+")"),(l||u)&&c.push("skew("+a(l*r.I3)+"deg, "+a(u*r.I3)+"deg)"),c.join(" ")}var k=o.Z.hasGlobalWindow&&(0,r.mf)(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:"undefined"!=typeof Buffer?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}},"./node_modules/zrender/lib/tool/color.js":function(t,e,n){"use strict";n.d(e,{L0:function(){return M},Pz:function(){return S},Qc:function(){return m},Uu:function(){return b},m8:function(){return w},ox:function(){return _},t7:function(){return x},xb:function(){return y}});var r=n("./node_modules/zrender/lib/core/LRU.js"),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return(t=Math.round(t))<0?0:t>255?255:t}function a(t){return t<0?0:t>1?1:t}function s(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?o(parseFloat(e)/100*255):o(parseInt(e,10))}function l(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?a(parseFloat(e)/100):a(parseFloat(e))}function u(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function c(t,e,n){return t+(e-t)*n}function h(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var f=new r.ZP(20),p=null;function g(t,e){p&&d(p,e),p=f.put(t,p||e.slice())}function m(t,e){if(t){e=e||[];var n=f.get(t);if(n)return d(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in i)return d(e,i[r]),g(t,e),e;var o,a=r.length;if("#"===r.charAt(0))return 4===a||5===a?(o=parseInt(r.slice(1,4),16))>=0&&o<=4095?(h(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===a?parseInt(r.slice(4),16)/15:1),g(t,e),e):void h(e,0,0,0,1):7===a||9===a?(o=parseInt(r.slice(1,7),16))>=0&&o<=16777215?(h(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===a?parseInt(r.slice(7),16)/255:1),g(t,e),e):void h(e,0,0,0,1):void 0;var u=r.indexOf("("),c=r.indexOf(")");if(-1!==u&&c+1===a){var p=r.substr(0,u),m=r.substr(u+1,c-(u+1)).split(","),y=1;switch(p){case"rgba":if(4!==m.length)return 3===m.length?h(e,+m[0],+m[1],+m[2],1):h(e,0,0,0,1);y=l(m.pop());case"rgb":return m.length>=3?(h(e,s(m[0]),s(m[1]),s(m[2]),3===m.length?y:l(m[3])),g(t,e),e):void h(e,0,0,0,1);case"hsla":return 4!==m.length?void h(e,0,0,0,1):(m[3]=l(m[3]),v(m,e),g(t,e),e);case"hsl":return 3!==m.length?void h(e,0,0,0,1):(v(m,e),g(t,e),e);default:return}}h(e,0,0,0,1)}}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=l(t[1]),i=l(t[2]),a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return h(e=e||[],o(255*u(s,a,n+1/3)),o(255*u(s,a,n)),o(255*u(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t,e){var n=m(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return S(n,4===n.length?"rgba":"rgb")}}function b(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),s=Math.ceil(r),l=e[i],u=e[s],h=r-i;return n[0]=o(c(l[0],u[0],h)),n[1]=o(c(l[1],u[1],h)),n[2]=o(c(l[2],u[2],h)),n[3]=a(c(l[3],u[3],h)),n}}function x(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),s=Math.ceil(r),l=m(e[i]),u=m(e[s]),h=r-i,d=S([o(c(l[0],u[0],h)),o(c(l[1],u[1],h)),o(c(l[2],u[2],h)),a(c(l[3],u[3],h))],"rgba");return n?{color:d,leftIndex:i,rightIndex:s,value:r}:d}}function _(t,e,n,r){var i,o=m(t);if(t)return o=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-r)/6+l/2)/l,h=((s-i)/6+l/2)/l,d=((s-o)/6+l/2)/l;r===s?e=d-h:i===s?e=1/3+c-d:o===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,u];return null!=t[3]&&f.push(t[3]),f}}(o),null!=e&&(o[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(o[1]=l(n)),null!=r&&(o[2]=l(r)),S(v(o),"rgba")}function w(t,e){var n=m(t);if(n&&null!=e)return n[3]=a(e),S(n,"rgba")}function S(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function M(t,e){var n=m(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}},"./node_modules/zrender/lib/tool/path.js":function(t,e,n){"use strict";n.d(e,{U5:function(){return I},iR:function(){return E},Pc:function(){return A},AA:function(){return T}});var r=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/zrender/lib/graphic/Path.js"),o=n("./node_modules/zrender/lib/core/PathProxy.js"),a=n("./node_modules/zrender/lib/core/vector.js"),s=o.Z.CMD,l=[[],[],[]],u=Math.sqrt,c=Math.atan2;function h(t,e){if(e){var n,r,i,o,h,d,f=t.data,p=t.len(),g=s.M,m=s.C,v=s.L,y=s.R,b=s.A,x=s.Q;for(i=0,o=0;i<p;){switch(n=f[i++],o=i,r=0,n){case g:case v:r=1;break;case m:r=3;break;case x:r=2;break;case b:var _=e[4],w=e[5],S=u(e[0]*e[0]+e[1]*e[1]),M=u(e[2]*e[2]+e[3]*e[3]),k=c(-e[1]/M,e[0]/S);f[i]*=S,f[i++]+=_,f[i]*=M,f[i++]+=w,f[i++]*=S,f[i++]*=M,f[i++]+=k,f[i++]+=k,o=i+=2;break;case y:d[0]=f[i++],d[1]=f[i++],(0,a.Ne)(d,d,e),f[o++]=d[0],f[o++]=d[1],d[0]+=f[i++],d[1]+=f[i++],(0,a.Ne)(d,d,e),f[o++]=d[0],f[o++]=d[1]}for(h=0;h<r;h++){var E=l[h];E[0]=f[i++],E[1]=f[i++],(0,a.Ne)(E,E,e),f[o++]=E[0],f[o++]=E[1]}}t.increaseVersion()}}var d=n("./node_modules/zrender/lib/core/util.js"),f=Math.sqrt,p=Math.sin,g=Math.cos,m=Math.PI;function v(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))}function b(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))}function x(t,e,n,r,i,o,a,s,l,u,c){var h=l*(m/180),d=g(h)*(t-n)/2+p(h)*(e-r)/2,v=-1*p(h)*(t-n)/2+g(h)*(e-r)/2,x=d*d/(a*a)+v*v/(s*s);x>1&&(a*=f(x),s*=f(x));var _=(i===o?-1:1)*f((a*a*(s*s)-a*a*(v*v)-s*s*(d*d))/(a*a*(v*v)+s*s*(d*d)))||0,w=_*a*v/s,S=_*-s*d/a,M=(t+n)/2+g(h)*w-p(h)*S,k=(e+r)/2+p(h)*w+g(h)*S,E=b([1,0],[(d-w)/a,(v-S)/s]),A=[(d-w)/a,(v-S)/s],T=[(-1*d-w)/a,(-1*v-S)/s],I=b(A,T);if(y(A,T)<=-1&&(I=m),y(A,T)>=1&&(I=0),I<0){var C=Math.round(I/m*1e6)/1e6;I=2*m+C%2*m}c.addData(u,M,k,a,s,E,I,h,o)}var _=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,w=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.applyTransform=function(t){},e}(i.ZP);function M(t){return null!=t.setData}function k(t,e){var n=function(t){var e=new o.Z;if(!t)return e;var n,r=0,i=0,a=r,s=i,l=o.Z.CMD,u=t.match(_);if(!u)return e;for(var c=0;c<u.length;c++){for(var h=u[c],d=h.charAt(0),f=void 0,p=h.match(w)||[],g=p.length,m=0;m<g;m++)p[m]=parseFloat(p[m]);for(var v=0;v<g;){var y=void 0,b=void 0,S=void 0,M=void 0,k=void 0,E=void 0,A=void 0,T=r,I=i,C=void 0,D=void 0;switch(d){case"l":r+=p[v++],i+=p[v++],f=l.L,e.addData(f,r,i);break;case"L":r=p[v++],i=p[v++],f=l.L,e.addData(f,r,i);break;case"m":r+=p[v++],i+=p[v++],f=l.M,e.addData(f,r,i),a=r,s=i,d="l";break;case"M":r=p[v++],i=p[v++],f=l.M,e.addData(f,r,i),a=r,s=i,d="L";break;case"h":r+=p[v++],f=l.L,e.addData(f,r,i);break;case"H":r=p[v++],f=l.L,e.addData(f,r,i);break;case"v":i+=p[v++],f=l.L,e.addData(f,r,i);break;case"V":i=p[v++],f=l.L,e.addData(f,r,i);break;case"C":f=l.C,e.addData(f,p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]),r=p[v-2],i=p[v-1];break;case"c":f=l.C,e.addData(f,p[v++]+r,p[v++]+i,p[v++]+r,p[v++]+i,p[v++]+r,p[v++]+i),r+=p[v-2],i+=p[v-1];break;case"S":y=r,b=i,C=e.len(),D=e.data,n===l.C&&(y+=r-D[C-4],b+=i-D[C-3]),f=l.C,T=p[v++],I=p[v++],r=p[v++],i=p[v++],e.addData(f,y,b,T,I,r,i);break;case"s":y=r,b=i,C=e.len(),D=e.data,n===l.C&&(y+=r-D[C-4],b+=i-D[C-3]),f=l.C,T=r+p[v++],I=i+p[v++],r+=p[v++],i+=p[v++],e.addData(f,y,b,T,I,r,i);break;case"Q":T=p[v++],I=p[v++],r=p[v++],i=p[v++],f=l.Q,e.addData(f,T,I,r,i);break;case"q":T=p[v++]+r,I=p[v++]+i,r+=p[v++],i+=p[v++],f=l.Q,e.addData(f,T,I,r,i);break;case"T":y=r,b=i,C=e.len(),D=e.data,n===l.Q&&(y+=r-D[C-4],b+=i-D[C-3]),r=p[v++],i=p[v++],f=l.Q,e.addData(f,y,b,r,i);break;case"t":y=r,b=i,C=e.len(),D=e.data,n===l.Q&&(y+=r-D[C-4],b+=i-D[C-3]),r+=p[v++],i+=p[v++],f=l.Q,e.addData(f,y,b,r,i);break;case"A":S=p[v++],M=p[v++],k=p[v++],E=p[v++],A=p[v++],x(T=r,I=i,r=p[v++],i=p[v++],E,A,S,M,k,f=l.A,e);break;case"a":S=p[v++],M=p[v++],k=p[v++],E=p[v++],A=p[v++],x(T=r,I=i,r+=p[v++],i+=p[v++],E,A,S,M,k,f=l.A,e)}}"z"!==d&&"Z"!==d||(f=l.Z,e.addData(f),r=a,i=s),n=f}return e.toStatic(),e}(t),r=(0,d.l7)({},e);return r.buildPath=function(t){if(M(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},r.applyTransform=function(t){h(n,t),this.dirtyShape()},r}function E(t,e){return new S(k(t,e))}function A(t,e){var n=k(t,e);return function(t){function e(e){var r=t.call(this,e)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return(0,r.ZT)(e,t),e}(S)}function T(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var a=t[o];n.push(a.getUpdatedPathProxy(!0))}var s=new i.ZP(e);return s.createPathProxy(),s.buildPath=function(t){if(M(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},s}function I(t,e){e=e||{};var n=new i.ZP;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?h(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}},"./node_modules/zrender/lib/zrender.js":function(t,e,n){"use strict";n.d(e,{S1:function(){return st},wm:function(){return lt}});var r=n("./node_modules/zrender/lib/core/env.js"),i=n("./node_modules/zrender/lib/core/util.js"),o=n("./node_modules/zrender/node_modules/tslib/tslib.es6.js"),a=n("./node_modules/zrender/lib/core/vector.js"),s=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},l=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new s(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.handler.dispatchToElement(new s(e,t),"drag",t.event);var a=this.handler.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=a,e!==a&&(l&&a!==l&&this.handler.dispatchToElement(new s(l,t),"dragleave",t.event),a&&a!==l&&this.handler.dispatchToElement(new s(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new s(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new s(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),u=n("./node_modules/zrender/lib/core/Eventful.js"),c=n("./node_modules/zrender/lib/core/event.js"),h=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],l=c.eV(n,s,{});i.points.push([l.zrX,l.zrY]),i.touches.push(s)}this._track.push(i)}},t.prototype._recognize=function(t){for(var e in f)if(f.hasOwnProperty(e)){var n=f[e](this._track,t);if(n)return n}},t}();function d(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var f={pinch:function(t,e){var n=t.length;if(n){var r,i=(t[n-1]||{}).points,o=(t[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=d(i)/d(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},p=n("./node_modules/zrender/lib/core/BoundingRect.js"),g="silent";function m(){c.sT(this.event)}var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return(0,o.ZT)(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(u.Z),y=function(t,e){this.x=t,this.y=e},b=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],x=new p.Z(0,0,0,0),_=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a._hovered=new y(0,0),a.storage=e,a.painter=n,a.painterRoot=i,a._pointerSize=o,r=r||new v,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new l(a),a}return(0,o.ZT)(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(i.S6(b,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,r=M(this,e,n),i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=r?new y(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new y(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:m}}(e,t,n);r&&(r[i]&&(o.cancelBubble=!!r[i].call(r,o)),r.trigger(e,o),r=r.__hostTarget?r.__hostTarget:r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,n){var r=this.storage.getDisplayList(),i=new y(t,e);if(S(r,i,t,e,n),this._pointerSize&&!i.target){for(var o=[],a=this._pointerSize,s=a/2,l=new p.Z(t-s,e-s,a,a),u=r.length-1;u>=0;u--){var c=r[u];c===n||c.ignore||c.ignoreCoarsePointer||c.parent&&c.parent.ignoreCoarsePointer||(x.copy(c.getBoundingRect()),c.transform&&x.applyTransform(c.transform),x.intersect(l)&&o.push(c))}if(o.length)for(var h=Math.PI/12,d=2*Math.PI,f=0;f<s;f+=4)for(var g=0;g<d;g+=h){if(S(o,i,t+f*Math.cos(g),e+f*Math.sin(g),n),i.target)return i}}return i},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new h);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i;var o=new y;o.target=r.target,this.dispatchToElement(o,i,r.event)}},e}(u.Z);function w(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||g}return!1}function S(t,e,n,r,i){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==i&&!a.ignore&&(s=w(a,n,r))&&(!e.topTarget&&(e.topTarget=a),s!==g)){e.target=a;break}}}function M(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}i.S6(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){_.prototype[t]=function(e){var n,r,i=e.zrX,o=e.zrY,s=M(this,i,o);if("mouseup"===t&&s||(r=(n=this.findHover(i,o)).target),"mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||a.TK(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));var k=_,E=n("./node_modules/zrender/lib/core/timsort.js"),A=n("./node_modules/zrender/lib/graphic/constants.js"),T=!1;function I(){T||(T=!0)}function C(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var D=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=C}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,(0,E.Z)(n,C)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=A.YV),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(I(),u.z=0),isNaN(u.z2)&&(I(),u.z2=0),isNaN(u.zlevel)&&(I(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,n);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=i.cq(this._roots,t);r>=0&&this._roots.splice(r,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),N=n("./node_modules/zrender/lib/animation/requestAnimationFrame.js"),O=n("./node_modules/zrender/lib/animation/Animator.js");function L(){return(new Date).getTime()}var P,R,j=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return(0,o.ZT)(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=L()-this._pausedTime,n=e-this._time,r=this._head;r;){var i=r.next;r.step(e,n)?(r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=e,t||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,(0,N.Z)((function e(){t._running&&((0,N.Z)(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=L(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=L(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=L()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new O.Z(t,e.loop);return this.addAnimator(n),n},e}(u.Z),z=r.Z.domSupported,B=(R={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:P=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:i.UI(P,(function(t){var e=t.replace("mouse","pointer");return R.hasOwnProperty(e)?e:t}))}),F=["mousemove","mouseup"],G=["pointermove","pointerup"],V=!1;function Z(t){var e=t.pointerType;return"pen"===e||"touch"===e}function U(t){t&&(t.zrByTouch=!0)}function H(t,e){for(var n=e,r=!1;n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var W=function(t,e){this.stopPropagation=i.ZT,this.stopImmediatePropagation=i.ZT,this.preventDefault=i.ZT,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Y={mousedown:function(t){t=(0,c.OD)(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=(0,c.OD)(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=(0,c.OD)(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){H(this,(t=(0,c.OD)(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){V=!0,t=(0,c.OD)(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){V||(t=(0,c.OD)(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){U(t=(0,c.OD)(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Y.mousemove.call(this,t),Y.mousedown.call(this,t)},touchmove:function(t){U(t=(0,c.OD)(this.dom,t)),this.handler.processGesture(t,"change"),Y.mousemove.call(this,t)},touchend:function(t){U(t=(0,c.OD)(this.dom,t)),this.handler.processGesture(t,"end"),Y.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&Y.click.call(this,t)},pointerdown:function(t){Y.mousedown.call(this,t)},pointermove:function(t){Z(t)||Y.mousemove.call(this,t)},pointerup:function(t){Y.mouseup.call(this,t)},pointerout:function(t){Z(t)||Y.mouseout.call(this,t)}};i.S6(["click","dblclick","contextmenu"],(function(t){Y[t]=function(e){e=(0,c.OD)(this.dom,e),this.trigger(t,e)}}));var X={pointermove:function(t){Z(t)||X.mousemove.call(this,t)},pointerup:function(t){X.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function q(t,e){var n=e.domHandlers;r.Z.pointerEventsSupported?i.S6(B.pointer,(function(r){$(e,r,(function(e){n[r].call(t,e)}))})):(r.Z.touchEventsSupported&&i.S6(B.touch,(function(r){$(e,r,(function(i){n[r].call(t,i),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),i.S6(B.mouse,(function(r){$(e,r,(function(i){i=(0,c.iP)(i),e.touching||n[r].call(t,i)}))})))}function K(t,e){function n(n){$(e,n,(function(r){r=(0,c.iP)(r),H(t,r.target)||(r=function(t,e){return(0,c.OD)(t.dom,new W(t,e),!0)}(t,r),e.domHandlers[n].call(t,r))}),{capture:!0})}r.Z.pointerEventsSupported?i.S6(G,n):r.Z.touchEventsSupported||i.S6(F,n)}function $(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,(0,c.Oo)(t.domTarget,e,n,r)}function J(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&(0,c.xg)(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var Q=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},tt=function(t){function e(e,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new Q(e,Y),z&&(r._globalHandlerScope=new Q(document,X)),q(r,r._localHandlerScope),r}return(0,o.ZT)(e,t),e.prototype.dispose=function(){J(this._localHandlerScope),z&&J(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,z&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?K(this,e):J(e)}},e}(u.Z),et=n("./node_modules/zrender/lib/tool/color.js"),nt=n("./node_modules/zrender/lib/config.js"),rt=n("./node_modules/zrender/lib/graphic/Group.js"),it={},ot={};var at=function(){function t(t,e,n){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new D,s=n.renderer||"canvas";it[s]||(s=i.XP(it)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var l=new it[s](e,a,n,t),u=n.ssr||l.ssrOnly;this.storage=a,this.painter=l;var c,h=r.Z.node||r.Z.worker||u?null:new tt(l.getViewportRoot(),l.root),d=n.useCoarsePointer;(null==d||"auto"===d?r.Z.touchEventsSupported:!!d)&&(c=i.pD(n.pointerSize,44)),this.handler=new k(a,l,h,l.root,c),this.animation=new j({stage:{update:u?null:function(){return o._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return(0,et.L0)(t,1)<nt.Ak;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=(0,et.L0)(e[i].color,1);return(n/=r)<nt.Ak}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=L();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=L();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof rt.Z&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete ot[t]},t}();function st(t,e){var n=new at(i.M8(),t,e);return ot[n.id]=n,n}function lt(t,e){it[t]=e}},"./node_modules/zrender/node_modules/tslib/tslib.es6.js":function(t,e,n){"use strict";n.d(e,{ZT:function(){return i}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create},"./src/data lazy recursive ^\\.\\/.*\\.json$":function(t,e,n){var r={"./course.json":["./src/data/course.json","src_data_course_json"],"./firstCourse.json":["./src/data/firstCourse.json","src_data_firstCourse_json"],"./firstLog.json":["./src/data/firstLog.json","src_data_firstLog_json"],"./logs.json":["./src/data/logs.json","src_data_logs_json"],"./taskTip.json":["./src/data/taskTip.json","src_data_taskTip_json"],"./universe.json":["./src/data/universe.json","src_data_universe_json"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id="./src/data lazy recursive ^\\.\\/.*\\.json$",t.exports=i},"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":function(t,e,n){var r=n("./node_modules/@babel/runtime/helpers/typeof.js").default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new T(r||[]);return a(o,"_invoke",{value:M(t,n,s)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p={};function g(){}function m(){}function v(){}var y={};h(y,l,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==n&&o.call(x,l)&&(y=x);var _=v.prototype=g.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,a,s,l){var u=f(t[i],t,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,l)}))}l(u.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function M(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=v,a(_,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:m,configurable:!0}),m.displayName=h(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,h(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},w(S.prototype),h(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(_),h(_,c,"Generator"),h(_,l,(function(){return this})),h(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/regenerator/index.js":function(t,e,n){var r=n("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},"./node_modules/highlight.js/lib/core.js":function(t){function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||e(r)})),t}class n{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(t,...e){const n=Object.create(null);for(const e in t)n[e]=t[e];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const o=t=>!!t.scope;class a{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=r(t)}openNode(t){if(!o(t))return;const e=((t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map(((t,e)=>`${t}${"_".repeat(e+1)}`))].join(" ")}return`${e}${t}`})(t.scope,{prefix:this.classPrefix});this.span(e)}closeNode(t){o(t)&&(this.buffer+="</span>")}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const s=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class l{constructor(){this.rootNode=s(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e=s({scope:t});this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach((e=>this._walk(t,e))),t.closeNode(e)),t}static _collapse(t){"string"!=typeof t&&t.children&&(t.children.every((t=>"string"==typeof t))?t.children=[t.children.join("")]:t.children.forEach((t=>{l._collapse(t)})))}}class u extends l{constructor(t){super(),this.options=t}addText(t){""!==t&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,e){const n=t.root;e&&(n.scope=`language:${e}`),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function c(t){return t?"string"==typeof t?t:t.source:null}function h(t){return p("(?=",t,")")}function d(t){return p("(?:",t,")*")}function f(t){return p("(?:",t,")?")}function p(...t){return t.map((t=>c(t))).join("")}function g(...t){const e=function(t){const e=t[t.length-1];return"object"==typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}(t);return"("+(e.capture?"":"?:")+t.map((t=>c(t))).join("|")+")"}function m(t){return new RegExp(t.toString()+"|").exec("").length-1}const v=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y(t,{joinWith:e}){let n=0;return t.map((t=>{n+=1;const e=n;let r=c(t),i="";for(;r.length>0;){const t=v.exec(r);if(!t){i+=r;break}i+=r.substring(0,t.index),r=r.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?i+="\\"+String(Number(t[1])+e):(i+=t[0],"("===t[0]&&n++)}return i})).map((t=>`(${t})`)).join(e)}const b="[a-zA-Z]\\w*",x="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",S="\\b(0b[01]+)",M={begin:"\\\\[\\s\\S]",relevance:0},k={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[M]},E={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[M]},A=function(t,e,n={}){const r=i({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:p(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},T=A("//","$"),I=A("/\\*","\\*/"),C=A("#","$"),D={scope:"number",begin:_,relevance:0},N={scope:"number",begin:w,relevance:0},O={scope:"number",begin:S,relevance:0},L={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[M,{begin:/\[/,end:/\]/,relevance:0,contains:[M]}]},P={scope:"title",begin:b,relevance:0},R={scope:"title",begin:x,relevance:0},j={begin:"\\.\\s*"+x,relevance:0};var z=Object.freeze({__proto__:null,APOS_STRING_MODE:k,BACKSLASH_ESCAPE:M,BINARY_NUMBER_MODE:O,BINARY_NUMBER_RE:S,COMMENT:A,C_BLOCK_COMMENT_MODE:I,C_LINE_COMMENT_MODE:T,C_NUMBER_MODE:N,C_NUMBER_RE:w,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})},HASH_COMMENT_MODE:C,IDENT_RE:b,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:j,NUMBER_MODE:D,NUMBER_RE:_,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:E,REGEXP_MODE:L,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=p(e,/.*\b/,t.binary,/\b.*/)),i({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},TITLE_MODE:P,UNDERSCORE_IDENT_RE:x,UNDERSCORE_TITLE_MODE:R});function B(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function F(t,e){void 0!==t.className&&(t.scope=t.className,delete t.className)}function G(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=B,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function V(t,e){Array.isArray(t.illegal)&&(t.illegal=g(...t.illegal))}function Z(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function U(t,e){void 0===t.relevance&&(t.relevance=1)}const H=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach((e=>{delete t[e]})),t.keywords=n.keywords,t.begin=p(n.beforeMatch,h(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},W=["of","and","for","in","not","or","if","then","parent","list","value"],Y="keyword";function X(t,e,n=Y){const r=Object.create(null);return"string"==typeof t?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach((function(n){Object.assign(r,X(t[n],e,n))})),r;function i(t,n){e&&(n=n.map((t=>t.toLowerCase()))),n.forEach((function(e){const n=e.split("|");r[n[0]]=[t,q(n[0],n[1])]}))}}function q(t,e){return e?Number(e):function(t){return W.includes(t.toLowerCase())}(t)?0:1}const K={},$=t=>{},J=(t,e)=>{K[`${t}/${e}`]||(K[`${t}/${e}`]=!0)},Q=new Error;function tt(t,e,{key:n}){let r=0;const i=t[n],o={},a={};for(let t=1;t<=e.length;t++)a[t+r]=i[t],o[t+r]=!0,r+=m(e[t-1]);t[n]=a,t[n]._emit=o,t[n]._multi=!0}function et(t){!function(t){t.scope&&"object"==typeof t.scope&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope)}(t),"string"==typeof t.beginScope&&(t.beginScope={_wrap:t.beginScope}),"string"==typeof t.endScope&&(t.endScope={_wrap:t.endScope}),function(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw $("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Q;if("object"!=typeof t.beginScope||null===t.beginScope)throw $("beginScope must be object"),Q;tt(t,t.begin,{key:"beginScope"}),t.begin=y(t.begin,{joinWith:""})}}(t),function(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw $("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Q;if("object"!=typeof t.endScope||null===t.endScope)throw $("endScope must be object"),Q;tt(t,t.end,{key:"endScope"}),t.end=y(t.end,{joinWith:""})}}(t)}function nt(t){function e(e,n){return new RegExp(c(e),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=m(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map((t=>t[1]));this.matcherRe=e(y(t,{joinWith:"|"}),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex(((t,e)=>e>0&&void 0!==t)),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach((([t,n])=>e.addRule(t,n))),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=i(t.classNameAliases||{}),function n(o,a){const s=o;if(o.isCompiled)return s;[F,Z,et,H].forEach((t=>t(o,a))),t.compilerExtensions.forEach((t=>t(o,a))),o.__beforeBegin=null,[G,V,U].forEach((t=>t(o,a))),o.isCompiled=!0;let l=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=X(o.keywords,t.case_insensitive)),s.keywordPatternRe=e(l,!0),a&&(o.begin||(o.begin=/\B|\b/),s.beginRe=e(s.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(s.endRe=e(s.end)),s.terminatorEnd=c(s.end)||"",o.endsWithParent&&a.terminatorEnd&&(s.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(s.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(t){return function(t){t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return i(t,{variants:null},e)})));if(t.cachedVariants)return t.cachedVariants;if(rt(t))return i(t,{starts:t.starts?i(t.starts):null});if(Object.isFrozen(t))return i(t);return t}("self"===t?o:t)}))),o.contains.forEach((function(t){n(t,s)})),o.starts&&n(o.starts,a),s.matcher=function(t){const e=new r;return t.contains.forEach((t=>e.addRule(t.begin,{rule:t,type:"begin"}))),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(s),s}(t)}function rt(t){return!!t&&(t.endsWithParent||rt(t.starts))}class it extends Error{constructor(t,e){super(t),this.name="HTMLInjectionError",this.html=e}}const ot=r,at=i,st=Symbol("nomatch"),lt=function(t){const r=Object.create(null),i=Object.create(null),o=[];let a=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function m(t){return c.noHighlightRe.test(t)}function v(t,e,n){let r="",i="";"object"==typeof e?(r=t,n=e.ignoreIllegals,i=e.language):(J("10.7.0","highlight(lang, code, ...args) has been deprecated."),J("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=t,r=e),void 0===n&&(n=!0);const o={code:r,language:i};E("before:highlight",o);const a=o.result?o.result:y(o.language,o.code,n);return a.code=o.code,E("after:highlight",a),a}function y(t,e,i,o){const l=Object.create(null);function u(){if(!E.keywords)return void T.addText(I);let t=0;E.keywordPatternRe.lastIndex=0;let e=E.keywordPatternRe.exec(I),n="";for(;e;){n+=I.substring(t,e.index);const i=w.case_insensitive?e[0].toLowerCase():e[0],o=(r=i,E.keywords[r]);if(o){const[t,r]=o;if(T.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=7&&(C+=r),t.startsWith("_"))n+=e[0];else{const n=w.classNameAliases[t]||t;d(e[0],n)}}else n+=e[0];t=E.keywordPatternRe.lastIndex,e=E.keywordPatternRe.exec(I)}var r;n+=I.substring(t),T.addText(n)}function h(){null!=E.subLanguage?function(){if(""===I)return;let t=null;if("string"==typeof E.subLanguage){if(!r[E.subLanguage])return void T.addText(I);t=y(E.subLanguage,I,!0,A[E.subLanguage]),A[E.subLanguage]=t._top}else t=b(I,E.subLanguage.length?E.subLanguage:null);E.relevance>0&&(C+=t.relevance),T.__addSublanguage(t._emitter,t.language)}():u(),I=""}function d(t,e){""!==t&&(T.startScope(e),T.addText(t),T.endScope())}function f(t,e){let n=1;const r=e.length-1;for(;n<=r;){if(!t._emit[n]){n++;continue}const r=w.classNameAliases[t[n]]||t[n],i=e[n];r?d(i,r):(I=i,u(),I=""),n++}}function p(t,e){return t.scope&&"string"==typeof t.scope&&T.openNode(w.classNameAliases[t.scope]||t.scope),t.beginScope&&(t.beginScope._wrap?(d(I,w.classNameAliases[t.beginScope._wrap]||t.beginScope._wrap),I=""):t.beginScope._multi&&(f(t.beginScope,e),I="")),E=Object.create(t,{parent:{value:E}}),E}function g(t,e,r){let i=function(t,e){const n=t&&t.exec(e);return n&&0===n.index}(t.endRe,r);if(i){if(t["on:end"]){const r=new n(t);t["on:end"](e,r),r.isMatchIgnored&&(i=!1)}if(i){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return g(t.parent,e,r)}function m(t){return 0===E.matcher.regexIndex?(I+=t[0],1):(O=!0,0)}function v(t){const n=t[0],r=e.substring(t.index),i=g(E,t,r);if(!i)return st;const o=E;E.endScope&&E.endScope._wrap?(h(),d(n,E.endScope._wrap)):E.endScope&&E.endScope._multi?(h(),f(E.endScope,t)):o.skip?I+=n:(o.returnEnd||o.excludeEnd||(I+=n),h(),o.excludeEnd&&(I=n));do{E.scope&&T.closeNode(),E.skip||E.subLanguage||(C+=E.relevance),E=E.parent}while(E!==i.parent);return i.starts&&p(i.starts,t),o.returnEnd?0:n.length}let x={};function _(r,o){const s=o&&o[0];if(I+=r,null==s)return h(),0;if("begin"===x.type&&"end"===o.type&&x.index===o.index&&""===s){if(I+=e.slice(o.index,o.index+1),!a){const e=new Error(`0 width match regex (${t})`);throw e.languageName=t,e.badRule=x.rule,e}return 1}if(x=o,"begin"===o.type)return function(t){const e=t[0],r=t.rule,i=new n(r),o=[r.__beforeBegin,r["on:begin"]];for(const n of o)if(n&&(n(t,i),i.isMatchIgnored))return m(e);return r.skip?I+=e:(r.excludeBegin&&(I+=e),h(),r.returnBegin||r.excludeBegin||(I=e)),p(r,t),r.returnBegin?0:e.length}(o);if("illegal"===o.type&&!i){const t=new Error('Illegal lexeme "'+s+'" for mode "'+(E.scope||"<unnamed>")+'"');throw t.mode=E,t}if("end"===o.type){const t=v(o);if(t!==st)return t}if("illegal"===o.type&&""===s)return 1;if(N>1e5&&N>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return I+=s,s.length}const w=S(t);if(!w)throw $(s.replace("{}",t)),new Error('Unknown language: "'+t+'"');const M=nt(w);let k="",E=o||M;const A={},T=new c.__emitter(c);!function(){const t=[];for(let e=E;e!==w;e=e.parent)e.scope&&t.unshift(e.scope);t.forEach((t=>T.openNode(t)))}();let I="",C=0,D=0,N=0,O=!1;try{if(w.__emitTokens)w.__emitTokens(e,T);else{for(E.matcher.considerAll();;){N++,O?O=!1:E.matcher.considerAll(),E.matcher.lastIndex=D;const t=E.matcher.exec(e);if(!t)break;const n=_(e.substring(D,t.index),t);D=t.index+n}_(e.substring(D))}return T.finalize(),k=T.toHTML(),{language:t,value:k,relevance:C,illegal:!1,_emitter:T,_top:E}}catch(n){if(n.message&&n.message.includes("Illegal"))return{language:t,value:ot(e),illegal:!0,relevance:0,_illegalBy:{message:n.message,index:D,context:e.slice(D-100,D+100),mode:n.mode,resultSoFar:k},_emitter:T};if(a)return{language:t,value:ot(e),illegal:!1,relevance:0,errorRaised:n,_emitter:T,_top:E};throw n}}function b(t,e){e=e||c.languages||Object.keys(r);const n=function(t){const e={value:ot(t),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return e._emitter.addText(t),e}(t),i=e.filter(S).filter(k).map((e=>y(e,t,!1)));i.unshift(n);const o=i.sort(((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(S(t.language).supersetOf===e.language)return 1;if(S(e.language).supersetOf===t.language)return-1}return 0})),[a,s]=o,u=a;return u.secondBest=s,u}function x(t){let e=null;const n=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=c.languageDetectRe.exec(e);if(n){const t=S(n[1]);return t||s.replace("{}",n[1]),t?n[1]:"no-highlight"}return e.split(/\s+/).find((t=>m(t)||S(t)))}(t);if(m(n))return;if(E("before:highlightElement",{el:t,language:n}),t.dataset.highlighted)return;if(t.children.length>0&&(c.ignoreUnescapedHTML,c.throwUnescapedHTML)){throw new it("One of your code blocks includes unescaped HTML.",t.innerHTML)}e=t;const r=e.textContent,o=n?v(r,{language:n,ignoreIllegals:!0}):b(r);t.innerHTML=o.value,t.dataset.highlighted="yes",function(t,e,n){const r=e&&i[e]||n;t.classList.add("hljs"),t.classList.add(`language-${r}`)}(t,n,o.language),t.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(t.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),E("after:highlightElement",{el:t,result:o,text:r})}let _=!1;function w(){if("loading"===document.readyState)return void(_=!0);document.querySelectorAll(c.cssSelector).forEach(x)}function S(t){return t=(t||"").toLowerCase(),r[t]||r[i[t]]}function M(t,{languageName:e}){"string"==typeof t&&(t=[t]),t.forEach((t=>{i[t.toLowerCase()]=e}))}function k(t){const e=S(t);return e&&!e.disableAutodetect}function E(t,e){const n=t;o.forEach((function(t){t[n]&&t[n](e)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){_&&w()}),!1),Object.assign(t,{highlight:v,highlightAuto:b,highlightAll:w,highlightElement:x,highlightBlock:function(t){return J("10.7.0","highlightBlock will be removed entirely in v12.0"),J("10.7.0","Please use highlightElement now."),x(t)},configure:function(t){c=at(c,t)},initHighlighting:()=>{w(),J("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){w(),J("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(e,n){let i=null;try{i=n(t)}catch(t){if($("Language definition for '{}' could not be registered.".replace("{}",e)),!a)throw t;$(t),i=l}i.name||(i.name=e),r[e]=i,i.rawDefinition=n.bind(null,t),i.aliases&&M(i.aliases,{languageName:e})},unregisterLanguage:function(t){delete r[t];for(const e of Object.keys(i))i[e]===t&&delete i[e]},listLanguages:function(){return Object.keys(r)},getLanguage:S,registerAliases:M,autoDetection:k,inherit:at,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}(t),o.push(t)},removePlugin:function(t){const e=o.indexOf(t);-1!==e&&o.splice(e,1)}}),t.debugMode=function(){a=!1},t.safeMode=function(){a=!0},t.versionString="11.9.0",t.regex={concat:p,lookahead:h,either:g,optional:f,anyNumberOfTimes:d};for(const t in z)"object"==typeof z[t]&&e(z[t]);return Object.assign(t,z),t},ut=lt({});ut.newInstance=()=>lt({}),t.exports=ut,ut.HighlightJS=ut,ut.default=ut},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,{Z:function(){return r}})},"./node_modules/tslib/tslib.es6.mjs":function(t,e,n){"use strict";n.r(e),n.d(e,{__addDisposableResource:function(){return L},__assign:function(){return o},__asyncDelegator:function(){return k},__asyncGenerator:function(){return M},__asyncValues:function(){return E},__await:function(){return S},__awaiter:function(){return p},__classPrivateFieldGet:function(){return D},__classPrivateFieldIn:function(){return O},__classPrivateFieldSet:function(){return N},__createBinding:function(){return m},__decorate:function(){return s},__disposeResources:function(){return R},__esDecorate:function(){return u},__exportStar:function(){return v},__extends:function(){return i},__generator:function(){return g},__importDefault:function(){return C},__importStar:function(){return I},__makeTemplateObject:function(){return A},__metadata:function(){return f},__param:function(){return l},__propKey:function(){return h},__read:function(){return b},__rest:function(){return a},__runInitializers:function(){return c},__setFunctionName:function(){return d},__spread:function(){return x},__spreadArray:function(){return w},__spreadArrays:function(){return _},__values:function(){return y}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e,n,r,i,o){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var s,l=r.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!e&&t?r.static?t:t.prototype:null,h=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(t||null))};var m=(0,n[f])("accessor"===l?{get:h.get,set:h.set}:h[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(h.get=s),(s=a(m.set))&&(h.set=s),(s=a(m.init))&&i.unshift(s)}else(s=a(m))&&("field"===l?i.unshift(s):h[u]=s)}c&&Object.defineProperty(c,r.name,h),d=!0}function c(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function h(t){return"symbol"==typeof t?t:"".concat(t)}function d(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function g(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var m=Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function v(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||m(e,t,n)}function y(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function x(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function _(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function w(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function M(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof S?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(t){c(o[0][3],t)}var n}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function k(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:S(t[r](e)),done:!1}:i?i(e):e}:i}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&m(e,t,n);return T(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function D(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function N(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}function O(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function L(t,e,n){if(null!=e){if("object"!=typeof e)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var P="function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function R(t){function e(e){t.error=t.hasError?new P(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}return function n(){for(;t.stack.length;){var r=t.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(t){return e(t),n()}))}catch(t){e(t)}}if(t.hasError)throw t.error}()}e.default={__extends:i,__assign:o,__rest:a,__decorate:s,__param:l,__metadata:f,__awaiter:p,__generator:g,__createBinding:m,__exportStar:v,__values:y,__read:b,__spread:x,__spreadArrays:_,__spreadArray:w,__await:S,__asyncGenerator:M,__asyncDelegator:k,__asyncValues:E,__makeTemplateObject:A,__importStar:I,__importDefault:C,__classPrivateFieldGet:D,__classPrivateFieldSet:N,__classPrivateFieldIn:O,__addDisposableResource:L,__disposeResources:R}}}]);